exports.id=872,exports.ids=[872],exports.modules={72339:(e,t,i)=>{"use strict";i.d(t,{Q:()=>eD});var r=i(24046),a=i(58158),o=i(84119),l=i(588),d=i(27337),p=i(29148),c=i(5898),u=i(78511),h=i(64339),m=i(36313),g=i(51812),y=i(19066),v=i(10397),b=i(39701);let w=async(e,t,i)=>({operation:(0,b.J)(t).operation,region:await (0,b.$)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()});function _(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}function x(e){return{schemeId:"smithy.api#noAuth"}}let S=e=>{let t=[];switch(e.operation){case"GetCredentialsForIdentity":case"GetId":case"GetOpenIdToken":case"UnlinkIdentity":t.push(x(e));break;default:t.push(_(e))}return t},E=e=>Object.assign((0,v.K)(e),{authSchemePreference:(0,b.$)(e.authSchemePreference??[])});var k=i(25132);let T={i8:"3.830.0"};var C=i(77742),N=i(14515),O=i(94032),P=i(97110),I=i(39435);let L="AWS_EC2_METADATA_DISABLED",D=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:a,fromInstanceMetadata:o}=await i.e(9021).then(i.bind(i,89021));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:t}=await i.e(7356).then(i.bind(i,57356));return(0,P.tS)(t(e),a(e))}return process.env[L]&&"false"!==process.env[L]?async()=>{throw new P.mV("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),o(e))},R=!1,$=(e={})=>(0,P.HP)((0,P.tS)(async()=>{if(e.profile??process.env[I.TH])throw process.env[O.VG]&&process.env[O.W5]&&!R&&((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),R=!0),new P.mV("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,O.fromEnv)(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:a,ssoRoleName:o,ssoSession:l}=e;if(!t&&!r&&!a&&!o&&!l)throw new P.mV("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:d}=await i.e(2506).then(i.bind(i,52506));return d(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await i.e(3919).then(i.bind(i,53919));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await i.e(9002).then(i.bind(i,9002));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await i.e(6820).then(i.bind(i,36805));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await D(e))()),async()=>{throw new P.mV("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),M,j),j=e=>e?.expiration!==void 0,M=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;var U=i(5566),F=i(40804),B=i(47302),z=i(84878),q=i(72282),V=i(7263),H=i(74376),W=i(81558),G=i(96636),K=i(55898),J=i(13571),Q=i(95592),Y=i(93971);let Z="required",X="fn",ee="argv",et="ref",ei="isSet",er="booleanEquals",ea="error",en="endpoint",es="tree",eo="PartitionResult",el="getAttr",ed="stringEquals",ep={[Z]:!1,type:"String"},ec={[Z]:!0,default:!1,type:"Boolean"},eu={[et]:"Endpoint"},eh={[X]:er,[ee]:[{[et]:"UseFIPS"},!0]},ef={[X]:er,[ee]:[{[et]:"UseDualStack"},!0]},em={},eg={[et]:"Region"},ey={[X]:el,[ee]:[{[et]:eo},"supportsFIPS"]},ev={[et]:eo},eb={[X]:er,[ee]:[!0,{[X]:el,[ee]:[ev,"supportsDualStack"]}]},ew=[eh],e_=[ef],ex=[eg],eS={version:"1.0",parameters:{Region:ep,UseDualStack:ec,UseFIPS:ec,Endpoint:ep},rules:[{conditions:[{[X]:ei,[ee]:[eu]}],rules:[{conditions:ew,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ea},{conditions:e_,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ea},{endpoint:{url:eu,properties:em,headers:em},type:en}],type:es},{conditions:[{[X]:ei,[ee]:ex}],rules:[{conditions:[{[X]:"aws.partition",[ee]:ex,assign:eo}],rules:[{conditions:[eh,ef],rules:[{conditions:[{[X]:er,[ee]:[!0,ey]},eb],rules:[{conditions:[{[X]:ed,[ee]:[eg,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:em,headers:em},type:en},{conditions:[{[X]:ed,[ee]:[eg,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:em,headers:em},type:en},{conditions:[{[X]:ed,[ee]:[eg,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:em,headers:em},type:en},{conditions:[{[X]:ed,[ee]:[eg,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:em,headers:em},type:en},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:em,headers:em},type:en}],type:es},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ea}],type:es},{conditions:ew,rules:[{conditions:[{[X]:er,[ee]:[ey,!0]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:em,headers:em},type:en}],type:es},{error:"FIPS is enabled but this partition does not support FIPS",type:ea}],type:es},{conditions:e_,rules:[{conditions:[eb],rules:[{conditions:[{[X]:ed,[ee]:["aws",{[X]:el,[ee]:[ev,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:em,headers:em},type:en},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:em,headers:em},type:en}],type:es},{error:"DualStack is enabled but this partition does not support DualStack",type:ea}],type:es},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:em,headers:em},type:en}],type:es}],type:es},{error:"Invalid Configuration: Missing Region",type:ea}]},eE=new Y.$X({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),ek=(e,t={})=>eE.get(e,()=>(0,Y.B1)(eS,{endpointParams:e,logger:t.logger}));Y.DY.aws=Q.Iu;let eT=e=>({apiVersion:"2014-06-30",base64Decoder:e?.base64Decoder??K.G,base64Encoder:e?.base64Encoder??K.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??ek,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??S,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new H.VR},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new W.o}],logger:e?.logger??new y.vk,serviceId:e?.serviceId??"Cognito Identity",urlParser:e?.urlParser??G.e,utf8Decoder:e?.utf8Decoder??J.$x,utf8Encoder:e?.utf8Encoder??J.GZ});var eA=i(46608);let eC=e=>{(0,y.H_)(process.version);let t=(0,eA.j)(e),i=()=>t().then(y.jv),r=eT(e);(0,C.H)(process.version);let a={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,B.M)(N.I,a),bodyLengthChecker:e?.bodyLengthChecker??q.W,credentialDefaultProvider:e?.credentialDefaultProvider??$,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,U.kk)({serviceId:r.serviceId,clientVersion:T.i8}),maxAttempts:e?.maxAttempts??(0,B.M)(g.Hs,e),region:e?.region??(0,B.M)(d._c,{...d.zb,...a}),requestHandler:z.NA.create(e?.requestHandler??i),retryMode:e?.retryMode??(0,B.M)({...g.aK,default:async()=>(await i()).retryMode||V.CA},e),sha256:e?.sha256??F.k.bind(null,"sha256"),streamCollector:e?.streamCollector??z.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,B.M)(d.G7,a),useFipsEndpoint:e?.useFipsEndpoint??(0,B.M)(d.NL,a),userAgentAppId:e?.userAgentAppId??(0,B.M)(U.eX,a)}};var eN=i(35903),eO=i(41966);let eP=e=>{let t=e.httpAuthSchemes,i=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){let i=t.findIndex(t=>t.schemeId===e.schemeId);-1===i?t.push(e):t.splice(i,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){i=e},httpAuthSchemeProvider:()=>i,setCredentials(e){r=e},credentials:()=>r}},eI=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),eL=(e,t)=>{let i=Object.assign((0,eN.GW)(e),(0,y.kE)(e),(0,eO.cA)(e),eP(e));return t.forEach(e=>e.configure(i)),Object.assign(e,(0,eN.A1)(i),(0,y.SQ)(i),(0,eO.AO)(i),eI(i))};class eD extends y.KU{config;constructor(...[e]){let t=eC(e||{});super(t),this.initConfig=t;let i=(0,k.z)(t),y=(0,l.er)(i),v=(0,g.BC)(y),b=(0,d.Xb)(v),_=(0,r.S8)(b),x=eL(E((0,m.uW)(_)),e?.extensions||[]);this.config=x,this.middlewareStack.use((0,l.XJ)(this.config)),this.middlewareStack.use((0,g.NQ)(this.config)),this.middlewareStack.use((0,h.VG)(this.config)),this.middlewareStack.use((0,r.G2)(this.config)),this.middlewareStack.use((0,a.cV)(this.config)),this.middlewareStack.use((0,o.eV)(this.config)),this.middlewareStack.use((0,p.t)(this.config,{httpAuthSchemeParametersProvider:w,identityProviderConfigProvider:async e=>new c.K({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,u.a)(this.config))}destroy(){super.destroy()}}},25132:(e,t,i)=>{"use strict";i.d(t,{q:()=>a,z:()=>r});let r=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),a={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},77742:(e,t,i)=>{"use strict";i.d(t,{H:()=>a});let r={warningEmitted:!1},a=e=>{e&&!r.warningEmitted&&18>parseInt(e.substring(1,e.indexOf(".")))&&(r.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}},20821:(e,t,i)=>{"use strict";function r(e,t,i){return e.$source||(e.$source={}),e.$source[t]=i,e}i.d(t,{P:()=>r})},74376:(e,t,i)=>{"use strict";i.d(t,{VR:()=>u});var r=i(41966);let a=e=>new Date(Date.now()+e),o=e=>r.Zn.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,l=(e,t)=>Math.abs(a(t).getTime()-e)>=3e5,d=(e,t)=>{let i=Date.parse(e);return l(i,t)?i-Date.now():t},p=(e,t)=>{if(!t)throw Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},c=async e=>{let t=p("context",e.context),i=p("config",e.config),r=t.endpointV2?.properties?.authSchemes?.[0],a=p("signer",i.signer),o=await a(r);return{config:i,signer:o,signingRegion:e?.signingRegion,signingRegionSet:e?.signingRegionSet,signingName:e?.signingName}};class u{async sign(e,t,i){if(!r.aW.isInstance(e))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let o=await c(i),{config:l,signer:d}=o,{signingRegion:p,signingName:u}=o,h=i.context;if(h?.authSchemes?.length){let[e,t]=h.authSchemes;e?.name==="sigv4a"&&t?.name==="sigv4"&&(p=t?.signingRegion??p,u=t?.signingName??u)}return await d.sign(e,{signingDate:a(l.systemClockOffset),signingRegion:p,signingService:u})}errorHandler(e){return t=>{let i=t.ServerTime??o(t.$response);if(i){let r=p("config",e.config),a=r.systemClockOffset;r.systemClockOffset=d(i,r.systemClockOffset),r.systemClockOffset!==a&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(e,t){let i=o(e);if(i){let e=p("config",t.config);e.systemClockOffset=d(i,e.systemClockOffset)}}}},14515:(e,t,i)=>{"use strict";i.d(t,{I:()=>d});let r=e=>"string"==typeof e&&e.length>0?e.split(",").map(e=>e.trim()):[],a=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`,o="AWS_AUTH_SCHEME_PREFERENCE",l="auth_scheme_preference",d={environmentVariableSelector:(e,t)=>t?.signingName&&a(t.signingName) in e?["httpBearerAuth"]:o in e?r(e[o]):void 0,configFileSelector:e=>{if(l in e)return r(e[l])},default:[]}},10397:(e,t,i)=>{"use strict";let r;i.d(t,{K:()=>u});var a=i(20821),o=i(48140);let l=(r=3e5,e=>d(e)&&e.expiration.getTime()-Date.now()<r),d=e=>void 0!==e.expiration,p=(e,t,i)=>{let r,a,o;if(void 0===e)return;let l="function"!=typeof e?async()=>Promise.resolve(e):e,d=!1,p=async e=>{a||(a=l(e));try{r=await a,o=!0,d=!1}finally{a=void 0}return r};return void 0===t?async e=>((!o||e?.forceRefresh)&&(r=await p(e)),r):async e=>((!o||e?.forceRefresh)&&(r=await p(e)),d||(i(r)?t(r)&&await p(e):d=!0),r)};var c=i(58997);let u=e=>{let t,i,r=e.credentials,l=!!e.credentials;Object.defineProperty(e,"credentials",{set(i){i&&i!==r&&i!==t&&(l=!0);let o=h(e,{credentials:r=i,credentialDefaultProvider:e.credentialDefaultProvider}),d=m(e,o);l&&!d.attributed?((t=async e=>d(e).then(e=>(0,a.P)(e,"CREDENTIALS_CODE","e"))).memoized=d.memoized,t.configBound=d.configBound,t.attributed=!0):t=d},get:()=>t,enumerable:!0,configurable:!0}),e.credentials=r;let{signingEscapePath:d=!0,systemClockOffset:p=e.systemClockOffset||0,sha256:u}=e;return i=e.signer?(0,o.$)(e.signer):e.regionInfoProvider?()=>(0,o.$)(e.region)().then(async t=>[await e.regionInfoProvider(t,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},t]).then(([t,i])=>{let{signingRegion:r,signingService:a}=t;e.signingRegion=e.signingRegion||r||i,e.signingName=e.signingName||a||e.serviceId;let o={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:d};return new(e.signerConstructor||c.L1)(o)}):async t=>{let i=(t=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await (0,o.$)(e.region)(),properties:{}},t)).signingRegion,r=t.signingName;e.signingRegion=e.signingRegion||i,e.signingName=e.signingName||r||e.serviceId;let a={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:d};return new(e.signerConstructor||c.L1)(a)},Object.assign(e,{systemClockOffset:p,signingEscapePath:d,signer:i})};function h(e,{credentials:t,credentialDefaultProvider:i}){let r;return(r=t?t?.memoized?t:p(t,l,d):i?(0,o.$)(i(Object.assign({},e,{parentClientConfig:e}))):async()=>{throw Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")}).memoized=!0,r}function m(e,t){if(t.configBound)return t;let i=async i=>t({...i,callerClientConfig:e});return i.memoized=t.memoized,i.configBound=!0,i}},94032:(e,t,i)=>{"use strict";i.d(t,{VG:()=>o,W5:()=>l,fromEnv:()=>h});var r=i(20821),a=i(97110);let o="AWS_ACCESS_KEY_ID",l="AWS_SECRET_ACCESS_KEY",d="AWS_SESSION_TOKEN",p="AWS_CREDENTIAL_EXPIRATION",c="AWS_CREDENTIAL_SCOPE",u="AWS_ACCOUNT_ID",h=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[o],i=process.env[l],h=process.env[d],m=process.env[p],g=process.env[c],y=process.env[u];if(t&&i){let e={accessKeyId:t,secretAccessKey:i,...h&&{sessionToken:h},...m&&{expiration:new Date(m)},...g&&{credentialScope:g},...y&&{accountId:y}};return(0,r.P)(e,"CREDENTIALS_ENV_VARS","g"),e}throw new a.mV("Unable to find environment variable credentials.",{logger:e?.logger})}},81128:(e,t,i)=>{"use strict";i.d(t,{g:()=>w});var r=i(21841);class AbortSignal{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}}class a{constructor(){this.signal=new AbortSignal}abort(){this.signal.abort()}}var o=i(36313),l=i(19066),d=i(82361),p=i(14300);let c={lstatSync:()=>{},runtime:"node",lstatSync:i(57147).lstatSync},u=e=>{if(null==e)return 0;if("string"==typeof e)return p.Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"==typeof e.path)try{return c.lstatSync(e.path).size}catch(e){}};var h=i(12781);async function*m(e,t,i){let r=1,a={chunks:[],length:0};for await(let o of i(e))for(a.chunks.push(o),a.length+=o.byteLength;a.length>t;){let e=a.chunks.length>1?p.Buffer.concat(a.chunks):a.chunks[0];yield{partNumber:r,data:e.subarray(0,t)},a.chunks=[e.subarray(t)],a.length=a.chunks[0].byteLength,r+=1}yield{partNumber:r,data:1!==a.chunks.length?p.Buffer.concat(a.chunks):a.chunks[0],lastPart:!0}}async function*g(e,t){let i=1,r=0,a=t;for(;a<e.byteLength;)yield{partNumber:i,data:e.subarray(r,a)},i+=1,a=(r=a)+t;yield{partNumber:i,data:e.subarray(r),lastPart:!0}}async function*y(e){for await(let t of e)p.Buffer.isBuffer(t)||t instanceof Uint8Array?yield t:yield p.Buffer.from(t)}async function*v(e){let t=e.getReader();try{for(;;){let{done:e,value:i}=await t.read();if(e)return;p.Buffer.isBuffer(i)||i instanceof Uint8Array?yield i:yield p.Buffer.from(i)}}catch(e){throw e}finally{t.releaseLock()}}let b=(e,t)=>{if(e instanceof Uint8Array)return g(e,t);if(e instanceof h.Readable)return m(e,t,y);if(e instanceof String||"string"==typeof e)return g(p.Buffer.from(e),t);if("function"==typeof e.stream)return m(e.stream(),t,v);if(e instanceof ReadableStream)return m(e,t,v);throw Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")};class w extends d.EventEmitter{static MIN_PART_SIZE=5242880;MAX_PARTS=1e4;queueSize=4;partSize=w.MIN_PART_SIZE;leavePartsOnError=!1;tags=[];client;params;totalBytes;bytesUploadedSoFar;abortController;concurrentUploaders=[];createMultiPartPromise;abortMultipartUploadCommand=null;uploadedParts=[];uploadEnqueuedPartsCount=0;uploadId;uploadEvent;isMultiPart=!0;singleUploadResult;sent=!1;constructor(e){super(),this.queueSize=e.queueSize||this.queueSize,this.partSize=e.partSize||this.partSize,this.leavePartsOnError=e.leavePartsOnError||this.leavePartsOnError,this.tags=e.tags||this.tags,this.client=e.client,this.params=e.params,this.__validateInput(),this.totalBytes=u(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=e.abortController??new a}async abort(){this.abortController.abort()}async done(){if(this.sent)throw Error("@aws-sdk/lib-storage: this instance of Upload has already executed .done(). Create a new instance.");return this.sent=!0,await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(e,t){return this.uploadEvent=e,super.on(e,t)}async __uploadUsingPut(e){this.isMultiPart=!1;let t={...this.params,Body:e.data},i=this.client.config,a=i.requestHandler,p=a instanceof d.EventEmitter?a:null,c=t=>{this.bytesUploadedSoFar=t.loaded,this.totalBytes=t.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:e.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};null!==p&&p.on("xhr.upload.progress",c);let h=await Promise.all([this.client.send(new r.PutObjectCommand(t)),i?.endpoint?.()]),m=h[0],g=h[1];if(g||(g=(0,o.sD)(await (0,o.UM)(t,r.PutObjectCommand,{...i}))),!g)throw Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');null!==p&&p.off("xhr.upload.progress",c);let y=this.params.Key.split("/").map(e=>(0,l.jc)(e)).join("/"),v=(0,l.jc)(this.params.Bucket),b=(()=>{let e=g.hostname.startsWith(`${v}.`),t=this.client.config.forcePathStyle,i=g.port?`:${g.port}`:"";return t?`${g.protocol}//${g.hostname}${i}/${v}/${y}`:e?`${g.protocol}//${g.hostname}${i}/${y}`:`${g.protocol}//${v}.${g.hostname}${i}/${y}`})();this.singleUploadResult={...m,Bucket:this.params.Bucket,Key:this.params.Key,Location:b};let w=u(e.data);this.__notifyProgress({loaded:w,total:w,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){let e=await this.client.config.requestChecksumCalculation();if(!this.createMultiPartPromise){let t={...this.params,Body:void 0};"WHEN_SUPPORTED"===e&&(t.ChecksumAlgorithm=this.params.ChecksumAlgorithm||r.ChecksumAlgorithm.CRC32),this.createMultiPartPromise=this.client.send(new r.CreateMultipartUploadCommand(t)).then(e=>(this.abortMultipartUploadCommand=new r.AbortMultipartUploadCommand({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e.UploadId}),e))}return this.createMultiPartPromise}async __doConcurrentUpload(e){for await(let t of e){if(this.uploadEnqueuedPartsCount>this.MAX_PARTS)throw Error(`Exceeded ${this.MAX_PARTS} parts in multipart upload to Bucket: ${this.params.Bucket} Key: ${this.params.Key}.`);if(this.abortController.signal.aborted)return;if(1===t.partNumber&&t.lastPart)return await this.__uploadUsingPut(t);if(!this.uploadId){let{UploadId:e}=await this.__createMultipartUpload();if(this.uploadId=e,this.abortController.signal.aborted)return}let e=u(t.data)||0,i=this.client.config.requestHandler,a=i instanceof d.EventEmitter?i:null,o=0,l=(i,r)=>{(Number(r.query.partNumber)||-1)===t.partNumber&&(i.total&&e&&(this.bytesUploadedSoFar+=i.loaded-o,o=i.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:t.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};null!==a&&a.on("xhr.upload.progress",l),this.uploadEnqueuedPartsCount+=1;let p=await this.client.send(new r.UploadPartCommand({...this.params,ContentLength:void 0,UploadId:this.uploadId,Body:t.data,PartNumber:t.partNumber}));if(null!==a&&a.off("xhr.upload.progress",l),this.abortController.signal.aborted)return;if(!p.ETag)throw Error(`Part ${t.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:t.partNumber,ETag:p.ETag,...p.ChecksumCRC32&&{ChecksumCRC32:p.ChecksumCRC32},...p.ChecksumCRC32C&&{ChecksumCRC32C:p.ChecksumCRC32C},...p.ChecksumSHA1&&{ChecksumSHA1:p.ChecksumSHA1},...p.ChecksumSHA256&&{ChecksumSHA256:p.ChecksumSHA256}}),null===a&&(this.bytesUploadedSoFar+=e),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:t.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}}async __doMultipartUpload(){let e;let t=b(this.params.Body,this.partSize),i=[];for(let e=0;e<this.queueSize;e++){let e=this.__doConcurrentUpload(t).catch(e=>{i.push(e)});this.concurrentUploaders.push(e)}if(await Promise.all(this.concurrentUploaders),i.length>=1)throw await this.markUploadAsAborted(),i[0];if(this.abortController.signal.aborted)throw await this.markUploadAsAborted(),Object.assign(Error("Upload aborted."),{name:"AbortError"});if(this.isMultiPart){this.uploadedParts.sort((e,t)=>e.PartNumber-t.PartNumber);let t={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};e=await this.client.send(new r.CompleteMultipartUploadCommand(t)),"string"==typeof e?.Location&&e.Location.includes("%2F")&&(e.Location=e.Location.replace(/%2F/g,"/"))}else e=this.singleUploadResult;return this.abortMultipartUploadCommand=null,this.tags.length&&await this.client.send(new r.PutObjectTaggingCommand({...this.params,Tagging:{TagSet:this.tags}})),e}async markUploadAsAborted(){this.uploadId&&!this.leavePartsOnError&&null!==this.abortMultipartUploadCommand&&(await this.client.send(this.abortMultipartUploadCommand),this.abortMultipartUploadCommand=null)}__notifyProgress(e){this.uploadEvent&&this.emit(this.uploadEvent,e)}async __abortTimeout(e){return new Promise((t,i)=>{e.onabort=()=>{let e=Error("Upload aborted.");e.name="AbortError",i(e)}})}__validateInput(){if(!this.params)throw Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<w.MIN_PART_SIZE)throw Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${w.MIN_PART_SIZE}] (5MB)`);if(this.queueSize<1)throw Error("Queue size: Must have at least one uploading queue.")}}},24046:(e,t,i)=>{"use strict";i.d(t,{G2:()=>d,S8:()=>a});var r=i(41966);function a(e){return e}let o=e=>t=>async i=>{if(!r.aW.isInstance(i.request))return t(i);let{request:a}=i,{handlerProtocol:o=""}=e.requestHandler.metadata||{};if(o.indexOf("h2")>=0&&!a.headers[":authority"])delete a.headers.host,a.headers[":authority"]=a.hostname+(a.port?":"+a.port:"");else if(!a.headers.host){let e=a.hostname;null!=a.port&&(e+=`:${a.port}`),a.headers.host=e}return t(i)},l={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},d=e=>({applyToStack:t=>{t.add(o(e),l)}})},58158:(e,t,i)=>{"use strict";i.d(t,{cV:()=>o});let r=()=>(e,t)=>async i=>{try{let r=await e(i),{clientName:a,commandName:o,logger:l,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:p,overrideOutputFilterSensitiveLog:c}=d,u=p??t.inputFilterSensitiveLog,h=c??t.outputFilterSensitiveLog,{$metadata:m,...g}=r.output;return l?.info?.({clientName:a,commandName:o,input:u(i.input),output:h(g),metadata:m}),r}catch(p){let{clientName:e,commandName:r,logger:a,dynamoDbDocumentClientOptions:o={}}=t,{overrideInputFilterSensitiveLog:l}=o,d=l??t.inputFilterSensitiveLog;throw a?.error?.({clientName:e,commandName:r,input:d(i.input),error:p,metadata:p.$metadata}),p}},a={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},o=e=>({applyToStack:e=>{e.add(r(),a)}})},84119:(e,t,i)=>{"use strict";i.d(t,{eV:()=>c});var r=i(41966);let a="X-Amzn-Trace-Id",o="AWS_LAMBDA_FUNCTION_NAME",l="_X_AMZN_TRACE_ID",d=e=>t=>async i=>{let{request:d}=i;if(!r.aW.isInstance(d)||"node"!==e.runtime)return t(i);let p=Object.keys(d.headers??{}).find(e=>e.toLowerCase()===a.toLowerCase())??a;if(d.headers.hasOwnProperty(p))return t(i);let c=process.env[o],u=process.env[l],h=e=>"string"==typeof e&&e.length>0;return h(c)&&h(u)&&(d.headers[a]=u),t({...i,request:d})},p={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},c=e=>({applyToStack:t=>{t.add(d(e),p)}})},588:(e,t,i)=>{"use strict";i.d(t,{D8:()=>a,XJ:()=>C,er:()=>l});var r=i(48140);let a=void 0;function o(e){return void 0===e||"string"==typeof e&&e.length<=50}function l(e){let t=(0,r.$)(e.userAgentAppId??a),{customUserAgent:i}=e;return Object.assign(e,{customUserAgent:"string"==typeof i?[[i]]:i,userAgentAppId:async()=>{let i=await t();if(!o(i)){let t=e.logger?.constructor?.name!=="NoOpLogger"&&e.logger?e.logger:console;"string"!=typeof i?t?.warn("userAgentAppId must be a string or undefined."):i.length>50&&t?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return i}})}var d=i(95592),p=i(41966);function c(e,t,i){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=i}let u=/\d{12}\.ddb/;async function h(e,t,i){let r=i.request;if(r?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&c(e,"PROTOCOL_RPC_V2_CBOR","M"),"function"==typeof t.retryStrategy){let i=await t.retryStrategy();"function"==typeof i.acquireInitialRetryToken?i.constructor?.name?.includes("Adaptive")?c(e,"RETRY_MODE_ADAPTIVE","F"):c(e,"RETRY_MODE_STANDARD","E"):c(e,"RETRY_MODE_LEGACY","D")}if("function"==typeof t.accountIdEndpointMode){let i=e.endpointV2;switch(String(i?.url?.hostname).match(u)&&c(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":c(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":c(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":c(e,"ACCOUNT_ID_MODE_REQUIRED","R")}}let a=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(a?.$source){let t=a;for(let[i,r]of(t.accountId&&c(e,"RESOLVED_ACCOUNT_ID","T"),Object.entries(t.$source??{})))c(e,i,r)}}let m="user-agent",g="x-amz-user-agent",y=" ",v="/",b=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,w=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,_="-",x=1024;function S(e){let t="";for(let i in e){let r=e[i];if(t.length+r.length+1<=x){t.length?t+=","+r:t+=r;continue}break}return t}let E=e=>(t,i)=>async r=>{let{request:a}=r;if(!p.aW.isInstance(a))return t(r);let{headers:o}=a,l=i?.userAgent?.map(k)||[],c=(await e.defaultUserAgentProvider()).map(k);await h(i,e,r);let u=i;c.push(`m/${S(Object.assign({},i.__smithy_context?.features,u.__aws_sdk_context?.features))}`);let v=e?.customUserAgent?.map(k)||[],b=await e.userAgentAppId();b&&c.push(k([`app/${b}`]));let w=(0,d.Qj)(),_=(w?[w]:[]).concat([...c,...l,...v]).join(y),x=[...c.filter(e=>e.startsWith("aws-sdk-")),...v].join(y);return"browser"!==e.runtime?(x&&(o[g]=o[g]?`${o[m]} ${x}`:x),o[m]=_):o[g]=_,t({...r,request:a})},k=e=>{let t=e[0].split(v).map(e=>e.replace(b,_)).join(v),i=e[1]?.replace(w,_),r=t.indexOf(v),a=t.substring(0,r),o=t.substring(r+1);return"api"===a&&(o=o.toLowerCase()),[a,o,i].filter(e=>e&&e.length>0).reduce((e,t,i)=>{switch(i){case 0:return t;case 1:return`${e}/${t}`;default:return`${e}#${t}`}},"")},T={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},C=e=>({applyToStack:t=>{t.add(E(e),T)}})},35903:(e,t,i)=>{"use strict";i.d(t,{GW:()=>r,A1:()=>a});let r=e=>({setRegion(t){e.region=t},region:()=>e.region}),a=e=>({region:e.region()})},95592:(e,t,i)=>{"use strict";i.d(t,{Iu:()=>h,Qj:()=>u});var r=i(93971);let a=(e,t=!1)=>{if(t){for(let t of e.split("."))if(!a(t))return!1;return!0}return!(!(0,r.IA)(e)||e.length<3||e.length>63||e!==e.toLowerCase()||(0,r.dY)(e))},o=":",l="/",d=e=>{let t=e.split(o);if(t.length<6)return null;let[i,r,a,d,p,...c]=t;return"arn"!==i||""===r||""===a||""===c.join(o)?null:{partition:r,service:a,region:d,accountId:p,resourceId:c.map(e=>e.split(l)).flat()}},p=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"AWS ISOF global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"amazonaws.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"EU (Germany)"}}}],"version":"1.1"}'),c="",u=()=>c,h={isVirtualHostableS3Bucket:a,parseArn:d,partition:e=>{let{partitions:t}=p;for(let i of t){let{regions:t,outputs:r}=i;for(let[i,a]of Object.entries(t))if(i===e)return{...r,...a}}for(let i of t){let{regionRegex:t,outputs:r}=i;if(new RegExp(t).test(e))return{...r}}let i=t.find(e=>"aws"===e.id);if(!i)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...i.outputs}}};r.DY.aws=h},5566:(e,t,i)=>{"use strict";i.d(t,{eX:()=>m,kk:()=>d});var r=i(22037),a=i(77282);let o={isCrtAvailable:!1},l=()=>o.isCrtAvailable?["md/crt-avail"]:null,d=({serviceId:e,clientVersion:t})=>async i=>{let o=[["aws-sdk-js",t],["ua","2.1"],[`os/${(0,r.platform)()}`,(0,r.release)()],["lang/js"],["md/nodejs",`${a.versions.node}`]],d=l();d&&o.push(d),e&&o.push([`api/${e}`,t]),a.env.AWS_EXECUTION_ENV&&o.push([`exec-env/${a.env.AWS_EXECUTION_ENV}`]);let p=await i?.userAgentAppId?.();return p?[...o,[`app/${p}`]]:[...o]};var p=i(588);let c="AWS_SDK_UA_APP_ID",u="sdk_ua_app_id",h="sdk-ua-app-id",m={environmentVariableSelector:e=>e[c],configFileSelector:e=>e[u]??e[h],default:p.D8}},61293:(e,t,i)=>{"use strict";i.r(t),i.d(t,{fromUtf8:()=>d,toUtf8:()=>p});let r=e=>{let t=[];for(let i=0,r=e.length;i<r;i++){let r=e.charCodeAt(i);if(r<128)t.push(r);else if(r<2048)t.push(r>>6|192,63&r|128);else if(i+1<e.length&&(64512&r)==55296&&(64512&e.charCodeAt(i+1))==56320){let a=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i));t.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}else t.push(r>>12|224,r>>6&63|128,63&r|128)}return Uint8Array.from(t)},a=e=>{let t="";for(let i=0,r=e.length;i<r;i++){let r=e[i];r<128?t+=String.fromCharCode(r):192<=r&&r<224?t+=String.fromCharCode((31&r)<<6|63&e[++i]):240<=r&&r<365?t+=decodeURIComponent("%"+[r,e[++i],e[++i],e[++i]].map(e=>e.toString(16)).join("%")):t+=String.fromCharCode((15&r)<<12|(63&e[++i])<<6|63&e[++i])}return t};function o(e){return new TextEncoder().encode(e)}function l(e){return new TextDecoder("utf-8").decode(e)}let d=e=>"function"==typeof TextEncoder?o(e):r(e),p=e=>"function"==typeof TextDecoder?l(e):a(e)},27337:(e,t,i)=>{"use strict";i.d(t,{zb:()=>g,_c:()=>m,G7:()=>l,NL:()=>c,Xb:()=>b});var r=i(33121);let a="AWS_USE_DUALSTACK_ENDPOINT",o="use_dualstack_endpoint",l={environmentVariableSelector:e=>(0,r.hu)(e,a,r.Bt.ENV),configFileSelector:e=>(0,r.hu)(e,o,r.Bt.CONFIG),default:!1},d="AWS_USE_FIPS_ENDPOINT",p="use_fips_endpoint",c={environmentVariableSelector:e=>(0,r.hu)(e,d,r.Bt.ENV),configFileSelector:e=>(0,r.hu)(e,p,r.Bt.CONFIG),default:!1};i(39701);let u="AWS_REGION",h="region",m={environmentVariableSelector:e=>e[u],configFileSelector:e=>e[h],default:()=>{throw Error("Region is missing")}},g={preferredFile:"credentials"},y=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),v=e=>y(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,b=e=>{let{region:t,useFipsEndpoint:i}=e;if(!t)throw Error("Region is missing");return Object.assign(e,{region:async()=>"string"==typeof t?v(t):v(await t()),useFipsEndpoint:async()=>!!y("string"==typeof t?t:await t())||("function"!=typeof i?Promise.resolve(!!i):i())})}},29148:(e,t,i)=>{"use strict";i.d(t,{t:()=>p}),i(28391);var r=i(39701);let a=(e,t)=>{if(!t||0===t.length)return e;let i=[];for(let r of t)for(let t of e)t.schemeId.split("#")[1]===r&&i.push(t);for(let t of e)i.find(({schemeId:e})=>e===t.schemeId)||i.push(t);return i};function o(e){let t=new Map;for(let i of e)t.set(i.schemeId,i);return t}let l=(e,t)=>(i,l)=>async d=>{let p=a(e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,l,d.input)),e.authSchemePreference?await e.authSchemePreference():[]),c=o(e.httpAuthSchemes),u=(0,r.J)(l),h=[];for(let i of p){let r=c.get(i.schemeId);if(!r){h.push(`HttpAuthScheme \`${i.schemeId}\` was not enabled for this service.`);continue}let a=r.identityProvider(await t.identityProviderConfigProvider(e));if(!a){h.push(`HttpAuthScheme \`${i.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:o={},signingProperties:d={}}=i.propertiesExtractor?.(e,l)||{};i.identityProperties=Object.assign(i.identityProperties||{},o),i.signingProperties=Object.assign(i.signingProperties||{},d),u.selectedHttpAuthScheme={httpAuthOption:i,identity:await a(i.identityProperties),signer:r.signer};break}if(!u.selectedHttpAuthScheme)throw Error(h.join("\n"));return i(d)},d={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},p=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:i})=>({applyToStack:r=>{r.addRelativeTo(l(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:i}),d)}})},78511:(e,t,i)=>{"use strict";i.d(t,{a:()=>c});var r=i(41966);i(28391);var a=i(39701);let o=e=>e=>{throw e},l=(e,t)=>{},d=e=>(e,t)=>async i=>{if(!r.aW.isInstance(i.request))return e(i);let d=(0,a.J)(t).selectedHttpAuthScheme;if(!d)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:p={}},identity:c,signer:u}=d,h=await e({...i,request:await u.sign(i.request,c,p)}).catch((u.errorHandler||o)(p));return(u.successHandler||l)(h.response,p),h},p={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},c=e=>({applyToStack:t=>{t.addRelativeTo(d(e),p)}})},48140:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});let r=e=>{if("function"==typeof e)return e;let t=Promise.resolve(e);return()=>t}},31073:(e,t,i)=>{"use strict";function r(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}i.d(t,{j:()=>r})},5898:(e,t,i)=>{"use strict";i.d(t,{K:()=>r});class r{constructor(e){for(let[t,i]of(this.authSchemes=new Map,Object.entries(e)))void 0!==i&&this.authSchemes.set(t,i)}getIdentityProvider(e){return this.authSchemes.get(e)}}},81558:(e,t,i)=>{"use strict";i.d(t,{o:()=>r});class r{async sign(e,t,i){return e}}},40804:(e,t,i)=>{"use strict";i.d(t,{k:()=>d});var r=i(63234),a=i(13571),o=i(14300),l=i(6113);class d{constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update((0,a._f)(p(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,l.createHmac)(this.algorithmIdentifier,p(this.secret)):(0,l.createHash)(this.algorithmIdentifier)}}function p(e,t){return o.Buffer.isBuffer(e)?e:"string"==typeof e?(0,r.m)(e,t):ArrayBuffer.isView(e)?(0,r.g)(e.buffer,e.byteOffset,e.byteLength):(0,r.g)(e)}},20739:(e,t,i)=>{"use strict";i.d(t,{e:()=>r});let r=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e)},64339:(e,t,i)=>{"use strict";i.d(t,{VG:()=>d});var r=i(41966);let a="content-length";function o(e){return t=>async i=>{let o=i.request;if(r.aW.isInstance(o)){let{body:t,headers:i}=o;if(t&&-1===Object.keys(i).map(e=>e.toLowerCase()).indexOf(a))try{let i=e(t);o.headers={...o.headers,[a]:String(i)}}catch(e){}}return t({...i,request:o})}}let l={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},d=e=>({applyToStack:t=>{t.add(o(e.bodyLengthChecker),l)}})},36313:(e,t,i)=>{"use strict";i.d(t,{UM:()=>_,a3:()=>C,uW:()=>N,sD:()=>w});let r=async e=>{let t=e?.Bucket||"";if("string"==typeof e.Bucket&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),p(t)){if(!0===e.ForcePathStyle)throw Error("Path-style addressing cannot be used with ARN buckets")}else d(t)&&(-1===t.indexOf(".")||String(e.Endpoint).startsWith("http:"))&&t.toLowerCase()===t&&!(t.length<3)||(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},a=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,o=/(\d+\.){3}\d+/,l=/\.\./,d=e=>a.test(e)&&!o.test(e)&&!l.test(e),p=e=>{let[t,i,r,,,a]=e.split(":"),o="arn"===t&&e.split(":").length>=6,l=!!(o&&i&&r&&a);if(o&&!l)throw Error(`Invalid ARN: ${e} was an invalid ARN.`);return l},c=(e,t,i)=>{let r=async()=>{let r=i[e]??i[t];return"function"==typeof r?r():r};return"credentialScope"===e||"CredentialScope"===t?async()=>{let e="function"==typeof i.credentials?await i.credentials():i.credentials;return e?.credentialScope??e?.CredentialScope}:"accountId"===e||"AccountId"===t?async()=>{let e="function"==typeof i.credentials?await i.credentials():i.credentials;return e?.accountId??e?.AccountId}:"endpoint"===e||"endpoint"===t?async()=>{if(!1===i.isCustomEndpoint)return;let e=await r();if(e&&"object"==typeof e){if("url"in e)return e.url.href;if("hostname"in e){let{protocol:t,hostname:i,port:r,path:a}=e;return`${t}//${i}${r?":"+r:""}${a}`}}return e}:r};var u=i(47302),h=i(39435);let m="AWS_ENDPOINT_URL",g="endpoint_url",y=e=>({environmentVariableSelector:t=>{let i=t[[m,...e.split(" ").map(e=>e.toUpperCase())].join("_")];if(i)return i;let r=t[m];if(r)return r},configFileSelector:(t,i)=>{if(i&&t.services){let r=i[["services",t.services].join(h.Ck)];if(r){let t=r[[e.split(" ").map(e=>e.toLowerCase()).join("_"),g].join(h.Ck)];if(t)return t}}let r=t[g];if(r)return r},default:void 0}),v=async e=>(0,u.M)(y(e??""))();var b=i(96636);let w=e=>"object"==typeof e?"url"in e?(0,b.e)(e.url):e:(0,b.e)(e),_=async(e,t,i,r)=>{if(!i.isCustomEndpoint){let e;(e=i.serviceConfiguredEndpoint?await i.serviceConfiguredEndpoint():await v(i.serviceId))&&(i.endpoint=()=>Promise.resolve(w(e)),i.isCustomEndpoint=!0)}let a=await x(e,t,i);if("function"!=typeof i.endpointProvider)throw Error("config.endpointProvider is not set.");return i.endpointProvider(a,r)},x=async(e,t,i)=>{let a={},o=t?.getEndpointParameterInstructions?.()||{};for(let[t,r]of Object.entries(o))switch(r.type){case"staticContextParams":a[t]=r.value;break;case"contextParams":a[t]=e[r.name];break;case"clientContextParams":case"builtInParams":a[t]=await c(r.name,t,i)();break;case"operationContextParams":a[t]=r.get(e);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(r))}return 0===Object.keys(o).length&&Object.assign(a,i),"s3"===String(i.serviceId).toLowerCase()&&await r(a),a};function S(e,t,i){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=i}var E=i(39701);let k=({config:e,instructions:t})=>(i,r)=>async a=>{e.isCustomEndpoint&&S(r,"ENDPOINT_OVERRIDE","N");let o=await _(a.input,{getEndpointParameterInstructions:()=>t},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;let l=r.authSchemes?.[0];if(l){r.signing_region=l.signingRegion,r.signing_service=l.signingName;let e=(0,E.J)(r),t=e?.selectedHttpAuthScheme?.httpAuthOption;t&&(t.signingProperties=Object.assign(t.signingProperties||{},{signing_region:l.signingRegion,signingRegion:l.signingRegion,signing_service:l.signingName,signingName:l.signingName,signingRegionSet:l.signingRegionSet},l.properties))}return i({...a})},T={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:i(48787).JK.name},C=(e,t)=>({applyToStack:i=>{i.addRelativeTo(k({config:e,instructions:t}),T)}}),N=e=>{let t;let i=e.tls??!0,{endpoint:r,useDualstackEndpoint:a,useFipsEndpoint:o}=e,l=Object.assign(e,{endpoint:null!=r?async()=>w(await (0,E.$)(r)()):void 0,tls:i,isCustomEndpoint:!!r,useDualstackEndpoint:(0,E.$)(a??!1),useFipsEndpoint:(0,E.$)(o??!1)});return l.serviceConfiguredEndpoint=async()=>(e.serviceId&&!t&&(t=v(e.serviceId)),t),l}},51812:(e,t,i)=>{"use strict";i.d(t,{Hs:()=>x,aK:()=>T,NQ:()=>$,BC:()=>S});var r=i(7263),a=i(41966),o=i(94248),l=i(6113),d=i.n(l);let p={randomUUID:d().randomUUID},c=new Uint8Array(256),u=c.length;function h(){return u>c.length-16&&(d().randomFillSync(c),u=0),c.slice(u,u+=16)}let m=[];for(let e=0;e<256;++e)m.push((e+256).toString(16).slice(1));function g(e,t=0){return m[e[t+0]]+m[e[t+1]]+m[e[t+2]]+m[e[t+3]]+"-"+m[e[t+4]]+m[e[t+5]]+"-"+m[e[t+6]]+m[e[t+7]]+"-"+m[e[t+8]]+m[e[t+9]]+"-"+m[e[t+10]]+m[e[t+11]]+m[e[t+12]]+m[e[t+13]]+m[e[t+14]]+m[e[t+15]]}let y=function(e,t,i){if(p.randomUUID&&!t&&!e)return p.randomUUID();let r=(e=e||{}).random||(e.rng||h)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=r[e];return t}return g(r)},v=e=>e instanceof Error?e:e instanceof Object?Object.assign(Error(),e):"string"==typeof e?Error(e):Error(`AWS SDK error wrapper for ${e}`);var b=i(39701);let w="AWS_MAX_ATTEMPTS",_="max_attempts",x={environmentVariableSelector:e=>{let t=e[w];if(!t)return;let i=parseInt(t);if(Number.isNaN(i))throw Error(`Environment variable ${w} mast be a number, got "${t}"`);return i},configFileSelector:e=>{let t=e[_];if(!t)return;let i=parseInt(t);if(Number.isNaN(i))throw Error(`Shared config file entry ${_} mast be a number, got "${t}"`);return i},default:r.J},S=e=>{let{retryStrategy:t,retryMode:i,maxAttempts:a}=e,o=(0,b.$)(a??r.J);return Object.assign(e,{maxAttempts:o,retryStrategy:async()=>t||(await (0,b.$)(i)()===r.Ul.ADAPTIVE?new r.AY(o):new r.Uz(o))})},E="AWS_RETRY_MODE",k="retry_mode",T={environmentVariableSelector:e=>e[E],configFileSelector:e=>e[k],default:r.CA};var C=i(19066),N=i(12781);let O=e=>e?.body instanceof N.Readable||"undefined"!=typeof ReadableStream&&e?.body instanceof ReadableStream,P=e=>(t,i)=>async o=>{let l=await e.retryStrategy(),d=await e.maxAttempts();if(!I(l))return l?.mode&&(i.userAgent=[...i.userAgent||[],["cfg/retry-mode",l.mode]]),l.retry(t,o);{let e=await l.acquireInitialRetryToken(i.partition_id),p=Error(),c=0,u=0,{request:h}=o,m=a.aW.isInstance(h);for(m&&(h.headers[r.lk]=y());;)try{m&&(h.headers[r.r5]=`attempt=${c+1}; max=${d}`);let{response:i,output:a}=await t(o);return l.recordSuccess(e),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=u,{response:i,output:a}}catch(a){let t=L(a);if(p=v(a),m&&O(h))throw(i.logger instanceof C.vk?console:i.logger)?.warn("An error was encountered in a non-retryable streaming request."),p;try{e=await l.refreshRetryTokenForRetry(e,t)}catch(e){throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=u,p}c=e.getRetryCount();let r=e.getRetryDelay();u+=r,await new Promise(e=>setTimeout(e,r))}}},I=e=>void 0!==e.acquireInitialRetryToken&&void 0!==e.refreshRetryTokenForRetry&&void 0!==e.recordSuccess,L=e=>{let t={error:e,errorType:D(e)},i=j(e.$response);return i&&(t.retryAfterHint=i),t},D=e=>(0,o.pK)(e)?"THROTTLING":(0,o.iH)(e)?"TRANSIENT":(0,o.o7)(e)?"SERVER_ERROR":"CLIENT_ERROR",R={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},$=e=>({applyToStack:t=>{t.add(P(e),R)}}),j=e=>{if(!a.Zn.isInstance(e))return;let t=Object.keys(e.headers).find(e=>"retry-after"===e.toLowerCase());if(!t)return;let i=e.headers[t],r=Number(i);return new Date(Number.isNaN(r)?i:1e3*r)}},48787:(e,t,i)=>{"use strict";i.d(t,{p2:()=>c,JK:()=>p});var r=i(41966);let a=(e,t)=>(i,a)=>async l=>{let{response:d}=await i(l);try{let i=await t(d,e);return{response:d,output:i}}catch(e){if(Object.defineProperty(e,"$response",{value:d}),!("$metadata"in e)){let t="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{e.message+="\n  "+t}catch(e){a.logger&&a.logger?.constructor?.name!=="NoOpLogger"?a.logger?.warn?.(t):console.warn(t)}void 0!==e.$responseBodyText&&e.$response&&(e.$response.body=e.$responseBodyText);try{if(r.Zn.isInstance(d)){let{headers:t={}}=d,i=Object.entries(t);e.$metadata={httpStatusCode:d.statusCode,requestId:o(/^x-[\w-]+-request-?id$/,i),extendedRequestId:o(/^x-[\w-]+-id-2$/,i),cfId:o(/^x-[\w-]+-cf-id$/,i)}}}catch(e){}}throw e}},o=(e,t)=>(t.find(([t])=>t.match(e))||[void 0,void 0])[1],l=(e,t)=>(i,r)=>async a=>{let o=e,l=r.endpointV2?.url&&o.urlParser?async()=>o.urlParser(r.endpointV2.url):o.endpoint;if(!l)throw Error("No valid endpoint provider available.");let d=await t(a.input,{...e,endpoint:l});return i({...a,request:d})},d={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},p={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function c(e,t,i){return{applyToStack:r=>{r.add(a(e,i),d),r.add(l(e,t),p)}}}},47302:(e,t,i)=>{"use strict";i.d(t,{M:()=>u});var r=i(97110);function a(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch(t){return e}}let o=(e,t)=>async()=>{try{let i=e(process.env,t);if(void 0===i)throw Error();return i}catch(i){throw new r.mV(i.message||`Not found in ENV: ${a(e.toString())}`,{logger:t?.logger})}};var l=i(39435);let d=(e,{preferredFile:t="config",...i}={})=>async()=>{let o=(0,l.Jl)(i),{configFile:d,credentialsFile:p}=await (0,l.Zl)(i),c=p[o]||{},u=d[o]||{},h="config"===t?{...c,...u}:{...u,...c};try{let i="config"===t?d:p,r=e(h,i);if(void 0===r)throw Error();return r}catch(t){throw new r.mV(t.message||`Not found in config files w/ profile [${o}]: ${a(e.toString())}`,{logger:i.logger})}},p=e=>"function"==typeof e,c=e=>p(e)?async()=>await e():(0,r.f$)(e),u=({environmentVariableSelector:e,configFileSelector:t,default:i},a={})=>{let{signingName:l,logger:p}=a,u={signingName:l,logger:p};return(0,r.HP)((0,r.tS)(o(e,u),d(t,a),c(i)))}},84878:(e,t,i)=>{"use strict";i.d(t,{NA:()=>E,CF:()=>T});var r=i(41966),a=i(61401),o=i(13685),l=i(95687);let d=["ECONNRESET","EPIPE","ETIMEDOUT"],p=e=>{let t={};for(let i of Object.keys(e)){let r=e[i];t[i]=Array.isArray(r)?r.join(","):r}return t},c={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},u=1e3,h=(e,t,i=0)=>{if(!i)return -1;let r=r=>{let a=c.setTimeout(()=>{e.destroy(),t(Object.assign(Error(`Socket timed out without establishing a connection within ${i} ms`),{name:"TimeoutError"}))},i-r),o=e=>{e?.connecting?e.on("connect",()=>{c.clearTimeout(a)}):c.clearTimeout(a)};e.socket?o(e.socket):e.on("socket",o)};return i<2e3?(r(0),0):c.setTimeout(r.bind(null,u),u)},m=3e3,g=(e,{keepAlive:t,keepAliveMsecs:i},r=m)=>{if(!0!==t)return -1;let a=()=>{e.socket?e.socket.setKeepAlive(t,i||0):e.on("socket",e=>{e.setKeepAlive(t,i||0)})};return 0===r?(a(),0):c.setTimeout(a,r)},y=3e3,v=(e,t,i=S)=>{let r=r=>{let a=i-r,o=()=>{e.destroy(),t(Object.assign(Error(`Connection timed out after ${i} ms`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(a,o),e.on("close",()=>e.socket?.removeListener("timeout",o))):e.setTimeout(a,o)};return 0<i&&i<6e3?(r(0),0):c.setTimeout(r.bind(null,0===i?0:y),y)};var b=i(12781);let w=6e3;async function _(e,t,i=w){let r=t.headers??{},a=r.Expect||r.expect,o=-1,l=!0;"100-continue"===a&&(l=await Promise.race([new Promise(e=>{o=Number(c.setTimeout(()=>e(!0),Math.max(w,i)))}),new Promise(t=>{e.on("continue",()=>{c.clearTimeout(o),t(!0)}),e.on("response",()=>{c.clearTimeout(o),t(!1)}),e.on("error",()=>{c.clearTimeout(o),t(!1)})})])),l&&x(e,t.body)}function x(e,t){if(t instanceof b.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||"string"==typeof t){e.end(t);return}let i=t;if("object"==typeof i&&i.buffer&&"number"==typeof i.byteOffset&&"number"==typeof i.byteLength){e.end(Buffer.from(i.buffer,i.byteOffset,i.byteLength));return}e.end(Buffer.from(t));return}e.end()}let S=0;class E{static create(e){return"function"==typeof e?.handle?e:new E(e)}static checkSocketUsage(e,t,i=console){let{sockets:r,requests:a,maxSockets:o}=e;if("number"!=typeof o||o===1/0)return t;let l=15e3;if(Date.now()-l<t)return t;if(r&&a)for(let e in r){let t=r[e]?.length??0,l=a[e]?.length??0;if(t>=o&&l>=2*o)return i?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${t} and ${l} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((t,i)=>{"function"==typeof e?e().then(e=>{t(this.resolveDefaultConfig(e))}).catch(i):t(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:t,connectionTimeout:i,socketTimeout:r,socketAcquisitionWarningTimeout:a,httpAgent:d,httpsAgent:p}=e||{},c=!0,u=50;return{connectionTimeout:i,requestTimeout:t??r,socketAcquisitionWarningTimeout:a,httpAgent:d instanceof o.Agent||"function"==typeof d?.destroy?d:new o.Agent({keepAlive:c,maxSockets:u,...d}),httpsAgent:p instanceof l.Agent||"function"==typeof p?.destroy?p:new l.Agent({keepAlive:c,maxSockets:u,...p}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:t,requestTimeout:i}={}){return this.config||(this.config=await this.configProvider),new Promise((u,m)=>{let y,b;let w=[],x=async e=>{await y,w.forEach(c.clearTimeout),u(e)},S=async e=>{await y,w.forEach(c.clearTimeout),m(e)};if(!this.config)throw Error("Node HTTP request handler config is not resolved");if(t?.aborted){let e=Error("Request aborted");e.name="AbortError",S(e);return}let k="https:"===e.protocol,T=k?this.config.httpsAgent:this.config.httpAgent;w.push(c.setTimeout(()=>{this.socketWarningTimestamp=E.checkSocketUsage(T,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let C=(0,a.I)(e.query||{});if(null!=e.username||null!=e.password){let t=e.username??"",i=e.password??"";b=`${t}:${i}`}let N=e.path;C&&(N+=`?${C}`),e.fragment&&(N+=`#${e.fragment}`);let O=e.hostname??"";O="["===O[0]&&O.endsWith("]")?e.hostname.slice(1,-1):e.hostname;let P={headers:e.headers,host:O,method:e.method,path:N,port:e.port,agent:T,auth:b},I=(k?l.request:o.request)(P,e=>{x({response:new r.Zn({statusCode:e.statusCode||-1,reason:e.statusMessage,headers:p(e.headers),body:e})})});if(I.on("error",e=>{d.includes(e.code)?S(Object.assign(e,{name:"TimeoutError"})):S(e)}),t){let e=()=>{I.destroy();let e=Error("Request aborted");e.name="AbortError",S(e)};if("function"==typeof t.addEventListener){let i=t;i.addEventListener("abort",e,{once:!0}),I.once("close",()=>i.removeEventListener("abort",e))}else t.onabort=e}let L=i??this.config.requestTimeout;w.push(h(I,S,this.config.connectionTimeout)),w.push(v(I,S,L));let D=P.agent;"object"==typeof D&&"keepAlive"in D&&w.push(g(I,{keepAlive:D.keepAlive,keepAliveMsecs:D.keepAliveMsecs})),y=_(I,e,L).catch(e=>(w.forEach(c.clearTimeout),m(e)))})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(i=>({...i,[e]:t}))}httpHandlerConfigs(){return this.config??{}}}i(85158),Symbol.iterator;class k extends b.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,t,i){this.bufferedBytes.push(e),i()}}let T=e=>C(e)?N(e):new Promise((t,i)=>{let r=new k;e.pipe(r),e.on("error",e=>{r.end(),i(e)}),r.on("error",i),r.on("finish",function(){t(new Uint8Array(Buffer.concat(this.bufferedBytes)))})}),C=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream;async function N(e){let t=[],i=e.getReader(),r=!1,a=0;for(;!r;){let{done:e,value:o}=await i.read();o&&(t.push(o),a+=o.length),r=e}let o=new Uint8Array(a),l=0;for(let e of t)o.set(e,l),l+=e.length;return o}},97110:(e,t,i)=>{"use strict";i.d(t,{mV:()=>a,kb:()=>r,rh:()=>o,tS:()=>l,f$:()=>d,HP:()=>p});class r extends Error{constructor(e,t=!0){let i;let a=!0;"boolean"==typeof t?(i=void 0,a=t):null!=t&&"object"==typeof t&&(i=t.logger,a=t.tryNextLink??!0),super(e),this.name="ProviderError",this.tryNextLink=a,Object.setPrototypeOf(this,r.prototype),i?.debug?.(`@smithy/property-provider ${a?"->":"(!)"} ${e}`)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}class a extends r{constructor(e,t=!0){super(e,t),this.name="CredentialsProviderError",Object.setPrototypeOf(this,a.prototype)}}class o extends r{constructor(e,t=!0){super(e,t),this.name="TokenProviderError",Object.setPrototypeOf(this,o.prototype)}}let l=(...e)=>async()=>{let t;if(0===e.length)throw new r("No providers in chain");for(let i of e)try{return await i()}catch(e){if(t=e,e?.tryNextLink)continue;throw e}throw t},d=e=>()=>Promise.resolve(e),p=(e,t,i)=>{let r,a,o;let l=!1,d=async()=>{a||(a=e());try{r=await a,o=!0,l=!1}finally{a=void 0}return r};return void 0===t?async e=>((!o||e?.forceRefresh)&&(r=await d()),r):async e=>((!o||e?.forceRefresh)&&(r=await d()),l||(i&&!i(r)?l=!0:t(r)&&await d()),r)}},41966:(e,t,i)=>{"use strict";i.d(t,{aW:()=>o,Zn:()=>d,cA:()=>r,AO:()=>a});let r=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler:()=>e.httpHandler,updateHttpClientConfig(t,i){e.httpHandler?.updateHttpClientConfig(t,i)},httpHandlerConfigs:()=>e.httpHandler.httpHandlerConfigs()}),a=e=>({httpHandler:e.httpHandler()});i(28391);class o{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let t=new o({...e,headers:{...e.headers}});return t.query&&(t.query=l(t.query)),t}static isInstance(e){if(!e)return!1;let t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return o.clone(this)}}function l(e){return Object.keys(e).reduce((t,i)=>{let r=e[i];return{...t,[i]:Array.isArray(r)?[...r]:r}},{})}class d{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},61401:(e,t,i)=>{"use strict";i.d(t,{I:()=>a});var r=i(59064);function a(e){let t=[];for(let i of Object.keys(e).sort()){let a=e[i];if(i=(0,r.i)(i),Array.isArray(a))for(let e=0,o=a.length;e<o;e++)t.push(`${i}=${(0,r.i)(a[e])}`);else{let e=i;(a||"string"==typeof a)&&(e+=`=${(0,r.i)(a)}`),t.push(e)}}return t.join("&")}},94248:(e,t,i)=>{"use strict";i.d(t,{Rk:()=>c,bV:()=>p,o7:()=>y,pK:()=>m,iH:()=>g});let r=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],a=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],o=["TimeoutError","RequestTimeout","RequestTimeoutException"],l=[500,502,503,504],d=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],p=e=>void 0!==e.$retryable,c=e=>r.includes(e.name),u=e=>e.$metadata?.clockSkewCorrected,h=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return!!(e&&e instanceof TypeError)&&t.has(e.message)},m=e=>e.$metadata?.httpStatusCode===429||a.includes(e.name)||e.$retryable?.throttling==!0,g=(e,t=0)=>u(e)||o.includes(e.name)||d.includes(e?.code||"")||l.includes(e.$metadata?.httpStatusCode||0)||h(e)||void 0!==e.cause&&t<=10&&g(e.cause,t+1),y=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;if(500<=t&&t<=599&&!g(e))return!0}return!1}},39435:(e,t,i)=>{"use strict";i.d(t,{Ck:()=>L,TH:()=>p,Jl:()=>u,Py:()=>m,gH:()=>v,Zl:()=>D,G:()=>j,MX:()=>U});var r=i(22037),a=i(71017);let o={},l=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",d=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:i,HOMEDRIVE:d=`C:${a.sep}`}=process.env;if(e)return e;if(t)return t;if(i)return`${d}${i}`;let p=l();return o[p]||(o[p]=(0,r.homedir)()),o[p]},p="AWS_PROFILE",c="default",u=e=>e.profile||process.env[p]||c;var h=i(6113);let m=e=>{let t=(0,h.createHash)("sha1").update(e).digest("hex");return(0,a.join)(d(),".aws","sso","cache",`${t}.json`)};var g=i(57147);let{readFile:y}=g.promises,v=async e=>{let t=m(e);return JSON.parse(await y(t,"utf8"))};var b=i(28391);let w=e=>Object.entries(e).filter(([e])=>{let t=e.indexOf(L);return -1!==t&&Object.values(b.I).includes(e.substring(0,t))}).reduce((e,[t,i])=>{let r=t.indexOf(L);return e[t.substring(0,r)===b.I.PROFILE?t.substring(r+1):t]=i,e},{...e.default&&{default:e.default}}),_="AWS_CONFIG_FILE",x=()=>process.env[_]||(0,a.join)(d(),".aws","config"),S="AWS_SHARED_CREDENTIALS_FILE",E=()=>process.env[S]||(0,a.join)(d(),".aws","credentials"),k=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,T=["__proto__","profile __proto__"],C=e=>{let t,i;let r={};for(let a of e.split(/\r?\n/)){let e=a.split(/(^|\s)[;#]/)[0].trim();if("["===e[0]&&"]"===e[e.length-1]){t=void 0,i=void 0;let r=e.substring(1,e.length-1),a=k.exec(r);if(a){let[,e,,i]=a;Object.values(b.I).includes(e)&&(t=[e,i].join(L))}else t=r;if(T.includes(r))throw Error(`Found invalid profile name "${r}"`)}else if(t){let o=e.indexOf("=");if(![0,-1].includes(o)){let[l,d]=[e.substring(0,o).trim(),e.substring(o+1).trim()];if(""===d)i=l;else{i&&a.trimStart()===a&&(i=void 0),r[t]=r[t]||{};let e=i?[i,l].join(L):l;r[t][e]=d}}}}return r},{readFile:N}=g.promises,O={},P=(e,t)=>((!O[e]||t?.ignoreCache)&&(O[e]=N(e,"utf8")),O[e]),I=()=>({}),L=".",D=async(e={})=>{let{filepath:t=E(),configFilepath:i=x()}=e,r=d(),o="~/",l=t;t.startsWith(o)&&(l=(0,a.join)(r,t.slice(2)));let p=i;i.startsWith(o)&&(p=(0,a.join)(r,i.slice(2)));let c=await Promise.all([P(p,{ignoreCache:e.ignoreCache}).then(C).then(w).catch(I),P(l,{ignoreCache:e.ignoreCache}).then(C).catch(I)]);return{configFile:c[0],credentialsFile:c[1]}},R=e=>Object.entries(e).filter(([e])=>e.startsWith(b.I.SSO_SESSION+L)).reduce((e,[t,i])=>({...e,[t.substring(t.indexOf(L)+1)]:i}),{}),$=()=>({}),j=async(e={})=>P(e.configFilepath??x()).then(C).then(R).catch($),M=(...e)=>{let t={};for(let i of e)for(let[e,r]of Object.entries(i))void 0!==t[e]?Object.assign(t[e],r):t[e]=r;return t},U=async e=>{let t=await D(e);return M(t.configFile,t.credentialsFile)}},58997:(e,t,i)=>{"use strict";i.d(t,{L1:()=>ee,q4:()=>et});var r,a=i(73382),o=i(13571);let l="X-Amz-Algorithm",d="X-Amz-Credential",p="X-Amz-Date",c="X-Amz-SignedHeaders",u="X-Amz-Expires",h="X-Amz-Signature",m="X-Amz-Security-Token",g="authorization",y=p.toLowerCase(),v=[g,y,"date"],b=h.toLowerCase(),w="x-amz-content-sha256",_=m.toLowerCase(),x={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},S=/^proxy-/,E=/^sec-/,k="AWS4-HMAC-SHA256",T="AWS4-HMAC-SHA256-PAYLOAD",C="UNSIGNED-PAYLOAD",N=50,O="aws4_request",P=604800,I={},L=[],D=(e,t,i)=>`${e}/${t}/${i}/${O}`,R=async(e,t,i,r,o)=>{let l=await $(e,t.secretAccessKey,t.accessKeyId),d=`${i}:${r}:${o}:${(0,a.N)(l)}:${t.sessionToken}`;if(d in I)return I[d];for(L.push(d);L.length>N;)delete I[L.shift()];let p=`AWS4${t.secretAccessKey}`;for(let t of[i,r,o,O])p=await $(e,p,t);return I[d]=p},$=(e,t,i)=>{let r=new e(t);return r.update((0,o._f)(i)),r.digest()},j=({headers:e},t,i)=>{let r={};for(let a of Object.keys(e).sort()){if(void 0==e[a])continue;let o=a.toLowerCase();(!(o in x||t?.has(o)||S.test(o)||E.test(o))||i&&(!i||i.has(o)))&&(r[o]=e[a].trim().replace(/\s+/g," "))}return r};var M=i(20739);let U=async({headers:e,body:t},i)=>{for(let t of Object.keys(e))if(t.toLowerCase()===w)return e[t];if(void 0==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||(0,M.e)(t)){let e=new i;return e.update((0,o._f)(t)),(0,a.N)(await e.digest())}return C};class F{format(e){let t=[];for(let i of Object.keys(e)){let r=(0,o.$x)(i);t.push(Uint8Array.from([r.byteLength]),r,this.formatHeaderValue(e[i]))}let i=new Uint8Array(t.reduce((e,t)=>e+t.byteLength,0)),r=0;for(let e of t)i.set(e,r),r+=e.byteLength;return i}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let i=new DataView(new ArrayBuffer(5));return i.setUint8(0,4),i.setInt32(1,e.value,!1),new Uint8Array(i.buffer);case"long":let r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":let l=new DataView(new ArrayBuffer(3+e.value.byteLength));l.setUint8(0,6),l.setUint16(1,e.value.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(e.value,3),d;case"string":let p=(0,o.$x)(e.value),c=new DataView(new ArrayBuffer(3+p.byteLength));c.setUint8(0,7),c.setUint16(1,p.byteLength,!1);let u=new Uint8Array(c.buffer);return u.set(p,3),u;case"timestamp":let h=new Uint8Array(9);return h[0]=8,h.set(z.fromNumber(e.value.valueOf()).bytes,1),h;case"uuid":if(!B.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let m=new Uint8Array(17);return m[0]=9,m.set((0,a.H)(e.value.replace(/\-/g,"")),1),m}}}!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(r||(r={}));let B=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class z{constructor(e){if(this.bytes=e,8!==e.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>0x7fffffffffffffff||e<-0x8000000000000000)throw Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let i=7,r=Math.abs(Math.round(e));i>-1&&r>0;i--,r/=256)t[i]=r;return e<0&&q(t),new z(t)}valueOf(){let e=this.bytes.slice(0),t=128&e[0];return t&&q(e),parseInt((0,a.N)(e),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function q(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,0===e[t]);t--);}let V=(e,t)=>{for(let i of(e=e.toLowerCase(),Object.keys(t)))if(e===i.toLowerCase())return!0;return!1};var H=i(41966);let W=(e,t={})=>{let{headers:i,query:r={}}=H.aW.clone(e);for(let e of Object.keys(i)){let a=e.toLowerCase();("x-amz-"===a.slice(0,6)&&!t.unhoistableHeaders?.has(a)||t.hoistableHeaders?.has(a))&&(r[e]=i[e],delete i[e])}return{...e,headers:i,query:r}},G=e=>{for(let t of Object.keys((e=H.aW.clone(e)).headers))v.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var K=i(39701),J=i(59064);let Q=({query:e={}})=>{let t=[],i={};for(let r of Object.keys(e)){if(r.toLowerCase()===b)continue;let a=(0,J.i)(r);t.push(a);let o=e[r];"string"==typeof o?i[a]=`${a}=${(0,J.i)(o)}`:Array.isArray(o)&&(i[a]=o.slice(0).reduce((e,t)=>e.concat([`${a}=${(0,J.i)(t)}`]),[]).sort().join("&"))}return t.sort().map(e=>i[e]).filter(e=>e).join("&")},Y=e=>Z(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Z=e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?new Date(Number(e)?1e3*Number(e):e):e;class X{constructor({applyChecksum:e,credentials:t,region:i,service:r,sha256:a,uriEscapePath:o=!0}){this.service=r,this.sha256=a,this.uriEscapePath=o,this.applyChecksum="boolean"!=typeof e||e,this.regionProvider=(0,K.$)(i),this.credentialProvider=(0,K.$)(t)}createCanonicalRequest(e,t,i){let r=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Q(e)}
${r.map(e=>`${e}:${t[e]}`).join("\n")}

${r.join(";")}
${i}`}async createStringToSign(e,t,i,r){let l=new this.sha256;l.update((0,o._f)(i));let d=await l.digest();return`${r}
${e}
${t}
${(0,a.N)(d)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let i of e.split("/"))i?.length!==0&&"."!==i&&(".."===i?t.pop():t.push(i));let i=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return(0,J.i)(i).replace(/%2F/g,"/")}return e}validateResolvedCredentials(e){if("object"!=typeof e||"string"!=typeof e.accessKeyId||"string"!=typeof e.secretAccessKey)throw Error("Resolved credential object is not valid")}formatDate(e){let t=Y(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(e){return Object.keys(e).sort().join(";")}}class ee extends X{constructor({applyChecksum:e,credentials:t,region:i,service:r,sha256:a,uriEscapePath:o=!0}){super({applyChecksum:e,credentials:t,region:i,service:r,sha256:a,uriEscapePath:o}),this.headerFormatter=new F}async presign(e,t={}){let{signingDate:i=new Date,expiresIn:r=3600,unsignableHeaders:a,unhoistableHeaders:o,signableHeaders:g,hoistableHeaders:y,signingRegion:v,signingService:b}=t,w=await this.credentialProvider();this.validateResolvedCredentials(w);let _=v??await this.regionProvider(),{longDate:x,shortDate:S}=this.formatDate(i);if(r>P)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let E=D(S,_,b??this.service),T=W(G(e),{unhoistableHeaders:o,hoistableHeaders:y});w.sessionToken&&(T.query[m]=w.sessionToken),T.query[l]=k,T.query[d]=`${w.accessKeyId}/${E}`,T.query[p]=x,T.query[u]=r.toString(10);let C=j(T,a,g);return T.query[c]=this.getCanonicalHeaderList(C),T.query[h]=await this.getSignature(x,E,this.getSigningKey(w,_,S,b),this.createCanonicalRequest(T,C,await U(e,this.sha256))),T}async sign(e,t){return"string"==typeof e?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:i=new Date,priorSignature:r,signingRegion:o,signingService:l}){let d=o??await this.regionProvider(),{shortDate:p,longDate:c}=this.formatDate(i),u=D(p,d,l??this.service),h=await U({headers:{},body:t},this.sha256),m=new this.sha256;m.update(e);let g=[T,c,u,r,(0,a.N)(await m.digest()),h].join("\n");return this.signString(g,{signingDate:i,signingRegion:d,signingService:l})}async signMessage(e,{signingDate:t=new Date,signingRegion:i,signingService:r}){return this.signEvent({headers:this.headerFormatter.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:i,signingService:r,priorSignature:e.priorSignature}).then(t=>({message:e.message,signature:t}))}async signString(e,{signingDate:t=new Date,signingRegion:i,signingService:r}={}){let l=await this.credentialProvider();this.validateResolvedCredentials(l);let d=i??await this.regionProvider(),{shortDate:p}=this.formatDate(t),c=new this.sha256(await this.getSigningKey(l,d,p,r));return c.update((0,o._f)(e)),(0,a.N)(await c.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:i,unsignableHeaders:r,signingRegion:a,signingService:o}={}){let l=await this.credentialProvider();this.validateResolvedCredentials(l);let d=a??await this.regionProvider(),p=G(e),{longDate:c,shortDate:u}=this.formatDate(t),h=D(u,d,o??this.service);p.headers[y]=c,l.sessionToken&&(p.headers[_]=l.sessionToken);let m=await U(p,this.sha256);!V(w,p.headers)&&this.applyChecksum&&(p.headers[w]=m);let v=j(p,r,i),b=await this.getSignature(c,h,this.getSigningKey(l,d,u,o),this.createCanonicalRequest(p,v,m));return p.headers[g]=`${k} Credential=${l.accessKeyId}/${h}, SignedHeaders=${this.getCanonicalHeaderList(v)}, Signature=${b}`,p}async getSignature(e,t,i,r){let l=await this.createStringToSign(e,t,r,k),d=new this.sha256(await i);return d.update((0,o._f)(l)),(0,a.N)(await d.digest())}getSigningKey(e,t,i,r){return R(this.sha256,e,i,t,r||this.service)}}let et={SignatureV4a:null}},19066:(e,t,i)=>{"use strict";i.d(t,{KU:()=>p,mY:()=>m,vk:()=>j,oc:()=>y,sI:()=>b,F3:()=>V,Wg:()=>u,TW:()=>v,to:()=>w,H_:()=>T,u$:()=>J,CE:()=>ee,Fx:()=>H,Wh:()=>et,pY:()=>ei,jc:()=>C.j,kE:()=>L,sT:()=>R,gj:()=>$,jv:()=>E,UI:()=>M,KX:()=>ey,uj:()=>ef,aH:()=>eg,SQ:()=>D,AF:()=>eo,qn:()=>U,PC:()=>x});let r=(e,t)=>{let i=[];if(e&&i.push(e),t)for(let e of t)i.push(e);return i},a=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,o=()=>{let e=[],t=[],i=!1,p=new Set,c=e=>e.sort((e,t)=>l[t.step]-l[e.step]||d[t.priority||"normal"]-d[e.priority||"normal"]),u=i=>{let a=!1,o=e=>{let t=r(e.name,e.aliases);if(t.includes(i)){for(let e of(a=!0,t))p.delete(e);return!1}return!0};return e=e.filter(o),t=t.filter(o),a},h=i=>{let a=!1,o=e=>{if(e.middleware===i){for(let t of(a=!0,r(e.name,e.aliases)))p.delete(t);return!1}return!0};return e=e.filter(o),t=t.filter(o),a},m=i=>(e.forEach(e=>{i.add(e.middleware,{...e})}),t.forEach(e=>{i.addRelativeTo(e.middleware,{...e})}),i.identifyOnResolve?.(v.identifyOnResolve()),i),g=e=>{let t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...g(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...g(e))}),t},y=(i=!1)=>{let o=[],l=[],d={};return e.forEach(e=>{let t={...e,before:[],after:[]};for(let e of r(t.name,t.aliases))d[e]=t;o.push(t)}),t.forEach(e=>{let t={...e,before:[],after:[]};for(let e of r(t.name,t.aliases))d[e]=t;l.push(t)}),l.forEach(e=>{if(e.toMiddleware){let t=d[e.toMiddleware];if(void 0===t){if(i)return;throw Error(`${e.toMiddleware} is not found when adding ${a(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}),c(o).map(g).reduce((e,t)=>(e.push(...t),e),[])},v={add:(t,i={})=>{let{name:o,override:l,aliases:d}=i,c={step:"initialize",priority:"normal",middleware:t,...i},u=r(o,d);if(u.length>0){if(u.some(e=>p.has(e))){if(!l)throw Error(`Duplicate middleware name '${a(o,d)}'`);for(let t of u){let i=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(-1===i)continue;let r=e[i];if(r.step!==c.step||c.priority!==r.priority)throw Error(`"${a(r.name,r.aliases)}" middleware with ${r.priority} priority in ${r.step} step cannot be overridden by "${a(o,d)}" middleware with ${c.priority} priority in ${c.step} step.`);e.splice(i,1)}}for(let e of u)p.add(e)}e.push(c)},addRelativeTo:(e,i)=>{let{name:o,override:l,aliases:d}=i,c={middleware:e,...i},u=r(o,d);if(u.length>0){if(u.some(e=>p.has(e))){if(!l)throw Error(`Duplicate middleware name '${a(o,d)}'`);for(let e of u){let i=t.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(-1===i)continue;let r=t[i];if(r.toMiddleware!==c.toMiddleware||r.relation!==c.relation)throw Error(`"${a(r.name,r.aliases)}" middleware ${r.relation} "${r.toMiddleware}" middleware cannot be overridden by "${a(o,d)}" middleware ${c.relation} "${c.toMiddleware}" middleware.`);t.splice(i,1)}}for(let e of u)p.add(e)}t.push(c)},clone:()=>m(o()),use:e=>{e.applyToStack(v)},remove:e=>"string"==typeof e?u(e):h(e),removeByTag:i=>{let a=!1,o=e=>{let{tags:t,name:o,aliases:l}=e;if(t&&t.includes(i)){for(let e of r(o,l))p.delete(e);return a=!0,!1}return!0};return e=e.filter(o),t=t.filter(o),a},concat:e=>{let t=m(o());return t.use(e),t.identifyOnResolve(i||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:m,identify:()=>y(!0).map(e=>{let t=e.step??e.relation+" "+e.toMiddleware;return a(e.name,e.aliases)+" - "+t}),identifyOnResolve:e=>("boolean"==typeof e&&(i=e),i),resolve:(e,t)=>{for(let i of y().map(e=>e.middleware).reverse())e=i(e,t);return i&&console.log(v.identify()),e}};return v},l={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},d={high:3,normal:2,low:1};class p{constructor(e){this.config=e,this.middlewareStack=o()}send(e,t,i){let r;let a="function"!=typeof t?t:void 0,o="function"==typeof t?t:i;if(void 0===a&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);let t=this.handlers;t.has(e.constructor)?r=t.get(e.constructor):(r=e.resolveMiddleware(this.middlewareStack,this.config,a),t.set(e.constructor,r))}else delete this.handlers,r=e.resolveMiddleware(this.middlewareStack,this.config,a);if(!o)return r(e).then(e=>e.output);r(e).then(e=>o(null,e.output),e=>o(e)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var c=i(80248);let u=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return c.HE.mutate(e);if(!e)return c.HE.mutate(new Uint8Array);let i=t.streamCollector(e);return c.HE.mutate(await i)};var h=i(28391);class m{constructor(){this.middlewareStack=o()}static classBuilder(){return new g}resolveMiddlewareWithContext(e,t,i,{middlewareFn:r,clientName:a,commandName:o,inputFilterSensitiveLog:l,outputFilterSensitiveLog:d,smithyContext:p,additionalContext:c,CommandCtor:u}){for(let a of r.bind(this)(u,e,t,i))this.middlewareStack.use(a);let m=e.concat(this.middlewareStack),{logger:g}=t,y={logger:g,clientName:a,commandName:o,inputFilterSensitiveLog:l,outputFilterSensitiveLog:d,[h.zK]:{commandInstance:this,...p},...c},{requestHandler:v}=t;return m.resolve(e=>v.handle(e.request,i||{}),y)}}class g{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,i={}){return this._smithyContext={service:e,operation:t,...i},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}sc(e){return this._operationSchema=e,this._smithyContext.operationSchema=e,this}build(){let e;let t=this;return e=class extends m{static getEndpointParameterInstructions(){return t._ep}constructor(...[e]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=e??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(i,r,a){return this.resolveMiddlewareWithContext(i,r,a,{CommandCtor:e,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}}let y="***SensitiveInformation***",v=(e,t)=>{for(let i of Object.keys(e)){let r=e[i],a=async function(e,t,i){let a=new r(e);if("function"==typeof t)this.send(a,t);else{if("function"!=typeof i)return this.send(a,t);if("object"!=typeof t)throw Error(`Expected http options but got ${typeof t}`);this.send(a,t||{},i)}},o=(i[0].toLowerCase()+i.slice(1)).replace(/Command$/,"");t.prototype[o]=a}};class b extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let t=e;return b.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&("client"===t.$fault||"server"===t.$fault)}static[Symbol.hasInstance](e){if(!e)return!1;let t=e;return this===b?b.isInstance(e):!!b.isInstance(e)&&(t.name&&this.name?this.prototype.isPrototypeOf(e)||t.name===this.name:this.prototype.isPrototypeOf(e))}}let w=(e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,i])=>{(void 0==e[t]||""===e[t])&&(e[t]=i)});let i=e.message||e.Message||"UnknownError";return e.message=i,delete e.Message,e},_=({output:e,parsedBody:t,exceptionCtor:i,errorCode:r})=>{let a=S(e),o=a.httpStatusCode?a.httpStatusCode+"":void 0;throw w(new i({name:t?.code||t?.Code||r||o||"UnknownError",$fault:"client",$metadata:a}),t)},x=e=>({output:t,parsedBody:i,errorCode:r})=>{_({output:t,parsedBody:i,exceptionCtor:e,errorCode:r})},S=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),E=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},k=!1,T=e=>{e&&!k&&16>parseInt(e.substring(1,e.indexOf(".")))&&(k=!0)};var C=i(31073);let N=e=>{let t=[];for(let i in h.f3){let r=h.f3[i];void 0!==e[r]&&t.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{addChecksumAlgorithm(e){t.push(e)},checksumAlgorithms:()=>t}},O=e=>{let t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t},P=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy:()=>e.retryStrategy}),I=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},L=e=>Object.assign(N(e),P(e)),D=e=>Object.assign(O(e),I(e)),R=e=>{let t="#text";for(let i in e)e.hasOwnProperty(i)&&void 0!==e[i][t]?e[i]=e[i][t]:"object"==typeof e[i]&&null!==e[i]&&(e[i]=R(e[i]));return e},$=e=>null!=e;class j{trace(){}debug(){}info(){}warn(){}error(){}}function M(e,t,i){let r,a;if(void 0===t&&void 0===i)r={},a=e;else{if(r=e,"function"==typeof t)return F(r,t,a=i);a=t}for(let e of Object.keys(a)){if(!Array.isArray(a[e])){r[e]=a[e];continue}B(r,null,a,e)}return r}let U=(e,t)=>{let i={};for(let r in t)B(i,e,t,r);return i},F=(e,t,i)=>M(e,Object.entries(i).reduce((e,[i,r])=>(Array.isArray(r)?e[i]=r:"function"==typeof r?e[i]=[t,r()]:e[i]=[t,r],e),{})),B=(e,t,i,r)=>{if(null!==t){let a=i[r];"function"==typeof a&&(a=[,a]);let[o=z,l=q,d=r]=a;("function"==typeof o&&o(t[d])||"function"!=typeof o&&o)&&(e[r]=l(t[d]));return}let[a,o]=i[r];if("function"==typeof o){let t;let i=void 0===a&&null!=(t=o()),l="function"==typeof a&&!!a(void 0)||"function"!=typeof a&&!!a;i?e[r]=t:l&&(e[r]=o())}else{let t=void 0===a&&null!=o,i="function"==typeof a&&!!a(o)||"function"!=typeof a&&!!a;(t||i)&&(e[r]=o)}},z=e=>null!=e,q=e=>e,V=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(V);if("object"==typeof e){let t={};for(let i of Object.keys(e))null!=e[i]&&(t[i]=V(e[i]));return t}return e},H=e=>{if(null!=e){if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&ec.warn(ep(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw TypeError(`Expected number, got ${typeof e}: ${e}`)}},W=Math.ceil(17014118346046923e22*(2-11920928955078125e-23)),G=e=>{let t=H(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>W)throw TypeError(`Expected 32-bit float, got ${e}`);return t},K=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw TypeError(`Expected integer, got ${typeof e}: ${e}`)}},J=e=>Z(e,32),Q=e=>Z(e,16),Y=e=>Z(e,8),Z=(e,t)=>{let i=K(e);if(void 0!==i&&X(i,t)!==i)throw TypeError(`Expected ${t}-bit integer, got ${e}`);return i},X=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ee=(e,t)=>{if(null==e){if(t)throw TypeError(`Expected a non-null value for ${t}`);throw TypeError("Expected a non-null value")}return e},et=e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw TypeError(`Expected object, got ${t}: ${e}`)},ei=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return ec.warn(ep(`Expected string, got ${typeof e}: ${e}`)),String(e);throw TypeError(`Expected string, got ${typeof e}: ${e}`)}},er=e=>"string"==typeof e?H(es(e)):H(e),ea=e=>"string"==typeof e?G(es(e)):G(e),en=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,es=e=>{let t=e.match(en);if(null===t||t[0].length!==e.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(e)},eo=e=>"string"==typeof e?J(es(e)):J(e),el=e=>"string"==typeof e?Q(es(e)):Q(e),ed=e=>"string"==typeof e?Y(es(e)):Y(e),ep=e=>String(TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),ec={warn:console.warn},eu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],eh=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),ef=e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC-3339 date-times must be expressed as strings");let t=eh.exec(e);if(!t)throw TypeError("Invalid RFC-3339 date-time value");let[i,r,a,o,l,d,p,c]=t;return ev(el(ek(r)),ex(a,"month",1,12),ex(o,"day",1,31),{hours:l,minutes:d,seconds:p,fractionalMilliseconds:c})},em=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),eg=e=>{if(null==e)return;if("string"!=typeof e)throw TypeError("RFC-3339 date-times must be expressed as strings");let t=em.exec(e);if(!t)throw TypeError("Invalid RFC-3339 date-time value");let[i,r,a,o,l,d,p,c,u]=t,h=ev(el(ek(r)),ex(a,"month",1,12),ex(o,"day",1,31),{hours:l,minutes:d,seconds:p,fractionalMilliseconds:c});return"Z"!=u.toUpperCase()&&h.setTime(h.getTime()-eE(u)),h},ey=e=>{let t;if(null!=e){if("number"==typeof e)t=e;else if("string"==typeof e)t=er(e);else if("object"==typeof e&&1===e.tag)t=e.value;else throw TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))}},ev=(e,t,i,r)=>{let a=t-1;return ew(e,a,i),new Date(Date.UTC(e,a,i,ex(r.hours,"hour",0,23),ex(r.minutes,"minute",0,59),ex(r.seconds,"seconds",0,60),eS(r.fractionalMilliseconds)))},eb=[31,28,31,30,31,30,31,31,30,31,30,31],ew=(e,t,i)=>{let r=eb[t];if(1===t&&e_(e)&&(r=29),i>r)throw TypeError(`Invalid day for ${eu[t]} in ${e}: ${i}`)},e_=e=>e%4==0&&(e%100!=0||e%400==0),ex=(e,t,i,r)=>{let a=ed(ek(e));if(a<i||a>r)throw TypeError(`${t} must be between ${i} and ${r}, inclusive`);return a},eS=e=>null==e?0:1e3*ea("0."+e),eE=e=>{let t=e[0],i=1;if("+"==t)i=1;else if("-"==t)i=-1;else throw TypeError(`Offset direction, ${t}, must be "+" or "-"`);return i*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*6e4},ek=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)}},28391:(e,t,i)=>{"use strict";var r,a,o,l,d,p,c;i.d(t,{f3:()=>l,cj:()=>o,I:()=>p,zK:()=>u}),function(e){e.HEADER="header",e.QUERY="query"}(r||(r={})),function(e){e.HEADER="header",e.QUERY="query"}(a||(a={})),function(e){e.HTTP="http",e.HTTPS="https"}(o||(o={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(l||(l={})),function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(d||(d={}));let u="__smithy_context";(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(p||(p={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(c||(c={}))},96636:(e,t,i)=>{"use strict";function r(e){let t={};if(e=e.replace(/^\?/,""))for(let i of e.split("&")){let[e,r=null]=i.split("=");e=decodeURIComponent(e),r&&(r=decodeURIComponent(r)),e in t?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r}return t}i.d(t,{e:()=>a});let a=e=>{let t;if("string"==typeof e)return a(new URL(e));let{hostname:i,pathname:o,port:l,protocol:d,search:p}=e;return p&&(t=r(p)),{hostname:i,port:l?parseInt(l):void 0,protocol:d,path:o,query:t}}},55898:(e,t,i)=>{"use strict";i.d(t,{G:()=>o,s:()=>d});var r=i(63234);let a=/^[A-Za-z0-9+/]*={0,2}$/,o=e=>{if(3*e.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!a.exec(e))throw TypeError("Invalid base64 string.");let t=(0,r.m)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var l=i(13571);let d=e=>{let t;if("object"!=typeof(t="string"==typeof e?(0,l.$x)(e):e)||"number"!=typeof t.byteOffset||"number"!=typeof t.byteLength)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,r.g)(t.buffer,t.byteOffset,t.byteLength).toString("base64")}},72282:(e,t,i)=>{"use strict";i.d(t,{W:()=>a});var r=i(57147);let a=e=>{if(!e)return 0;if("string"==typeof e)return Buffer.byteLength(e);if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;if("number"==typeof e.start&&"number"==typeof e.end)return e.end+1-e.start;if("string"==typeof e.path||Buffer.isBuffer(e.path))return(0,r.lstatSync)(e.path).size;if("number"==typeof e.fd)return(0,r.fstatSync)(e.fd).size;throw Error(`Body Length computation failed for ${e}`)}},63234:(e,t,i)=>{"use strict";i.d(t,{g:()=>o,m:()=>l});var r=i(20739),a=i(14300);let o=(e,t=0,i=e.byteLength-t)=>{if(!(0,r.e)(e))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return a.Buffer.from(e,t,i)},l=(e,t)=>{if("string"!=typeof e)throw TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?a.Buffer.from(e,t):a.Buffer.from(e)}},33121:(e,t,i)=>{"use strict";var r;i.d(t,{Bt:()=>r,hu:()=>a});let a=(e,t,i)=>{if(t in e){if("true"===e[t])return!0;if("false"===e[t])return!1;throw Error(`Cannot load ${i} "${t}". Expected "true" or "false", got ${e[t]}.`)}};!function(e){e.ENV="env",e.CONFIG="shared config entry"}(r||(r={}))},46608:(e,t,i)=>{"use strict";i.d(t,{j:()=>v});var r=i(27337),a=i(47302),o=i(97110);let l="AWS_EXECUTION_ENV",d="AWS_REGION",p="AWS_DEFAULT_REGION",c="AWS_EC2_METADATA_DISABLED",u=["in-region","cross-region","mobile","standard","legacy"],h="/latest/meta-data/placement/region",m="AWS_DEFAULTS_MODE",g="defaults_mode",y={environmentVariableSelector:e=>e[m],configFileSelector:e=>e[g],default:"legacy"},v=({region:e=(0,a.M)(r._c),defaultsMode:t=(0,a.M)(y)}={})=>(0,o.HP)(async()=>{let i="function"==typeof t?await t():t;switch(i?.toLowerCase()){case"auto":return b(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(i?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${u.join(", ")}, got ${i}`)}}),b=async e=>{if(e){let t="function"==typeof e?await e():e,i=await w();return i?t===i?"in-region":"cross-region":"standard"}return"standard"},w=async()=>{if(process.env[l]&&(process.env[d]||process.env[p]))return process.env[d]??process.env[p];if(!process.env[c])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await i.e(9021).then(i.bind(i,89021)),r=await e();return(await t({...r,path:h})).toString()}catch(e){}}},93971:(e,t,i)=>{"use strict";i.d(t,{$X:()=>r,DY:()=>p,dY:()=>o,IA:()=>d,B1:()=>M});class r{constructor({size:e,params:t}){this.data=new Map,this.parameters=[],this.capacity=e??50,t&&(this.parameters=t)}get(e,t){let i=this.hash(e);if(!1===i)return t();if(!this.data.has(i)){if(this.data.size>this.capacity+10){let e=this.data.keys(),t=0;for(;;){let{value:i,done:r}=e.next();if(this.data.delete(i),r||++t>10)break}}this.data.set(i,t())}return this.data.get(i)}size(){return this.data.size}hash(e){let t="",{parameters:i}=this;if(0===i.length)return!1;for(let r of i){let i=String(e[r]??"");if(i.includes("|;"))return!1;t+=i+"|;"}return t}}let a=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),o=e=>a.test(e)||e.startsWith("[")&&e.endsWith("]"),l=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),d=(e,t=!1)=>{if(!t)return l.test(e);for(let t of e.split("."))if(!d(t))return!1;return!0},p={},c="endpoints";function u(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${u(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(u).join(", ")})`:JSON.stringify(e,null,2)}class h extends Error{constructor(e){super(e),this.name="EndpointError"}}let m=(e,t)=>e===t,g=e=>{let t=e.split("."),i=[];for(let r of t){let t=r.indexOf("[");if(-1!==t){if(r.indexOf("]")!==r.length-1)throw new h(`Path: '${e}' does not end with ']'`);let a=r.slice(t+1,-1);if(Number.isNaN(parseInt(a)))throw new h(`Invalid array index: '${a}' in path: '${e}'`);0!==t&&i.push(r.slice(0,t)),i.push(a)}else i.push(r)}return i},y=(e,t)=>g(t).reduce((i,r)=>{if("object"!=typeof i)throw new h(`Index '${r}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(i)?i[parseInt(r)]:i[r]},e),v=e=>null!=e,b=e=>!e;var w=i(28391);let _={[w.cj.HTTP]:80,[w.cj.HTTPS]:443},x={booleanEquals:m,getAttr:y,isSet:v,isValidHostLabel:d,not:b,parseURL:e=>{let t=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){let{hostname:t,port:i,protocol:r="",path:a="",query:o={}}=e,l=new URL(`${r}//${t}${i?`:${i}`:""}${a}`);return l.search=Object.entries(o).map(([e,t])=>`${e}=${t}`).join("&"),l}return new URL(e)}catch(e){return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let i=t.href,{host:r,hostname:a,pathname:l,protocol:d,search:p}=t;if(p)return null;let c=d.slice(0,-1);if(!Object.values(w.cj).includes(c))return null;let u=o(a),h=i.includes(`${r}:${_[c]}`)||"string"==typeof e&&e.includes(`${r}:${_[c]}`),m=`${r}${h?`:${_[c]}`:""}`;return{scheme:c,authority:m,path:l,normalizedPath:l.endsWith("/")?l:`${l}/`,isIp:u}},stringEquals:(e,t)=>e===t,substring:(e,t,i,r)=>t>=i||e.length<i?null:r?e.substring(e.length-i,e.length-t):e.substring(t,i),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},S=(e,t)=>{let i=[],r={...t.endpointParams,...t.referenceRecord},a=0;for(;a<e.length;){let t=e.indexOf("{",a);if(-1===t){i.push(e.slice(a));break}i.push(e.slice(a,t));let o=e.indexOf("}",t);if(-1===o){i.push(e.slice(t));break}"{"===e[t+1]&&"}"===e[o+1]&&(i.push(e.slice(t+1,o)),a=o+2);let l=e.substring(t+1,o);if(l.includes("#")){let[e,t]=l.split("#");i.push(y(r[e],t))}else i.push(r[l]);a=o+1}return i.join("")},E=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],k=(e,t,i)=>{if("string"==typeof e)return S(e,i);if(e.fn)return T(e,i);if(e.ref)return E(e,i);throw new h(`'${t}': ${String(e)} is not a string, function or reference.`)},T=({fn:e,argv:t},i)=>{let r=t.map(e=>["boolean","number"].includes(typeof e)?e:k(e,"arg",i)),a=e.split(".");return a[0]in p&&null!=a[1]?p[a[0]][a[1]](...r):x[e](...r)},C=({assign:e,...t},i)=>{if(e&&e in i.referenceRecord)throw new h(`'${e}' is already defined in Reference Record.`);let r=T(t,i);return i.logger?.debug?.(`${c} evaluateCondition: ${u(t)} = ${u(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},N=(e=[],t)=>{let i={};for(let r of e){let{result:e,toAssign:a}=C(r,{...t,referenceRecord:{...t.referenceRecord,...i}});if(!e)return{result:e};a&&(i[a.name]=a.value,t.logger?.debug?.(`${c} assign: ${a.name} := ${u(a.value)}`))}return{result:!0,referenceRecord:i}},O=(e,t)=>Object.entries(e).reduce((e,[i,r])=>({...e,[i]:r.map(e=>{let r=k(e,"Header value entry",t);if("string"!=typeof r)throw new h(`Header '${i}' value '${r}' is not a string`);return r})}),{}),P=(e,t)=>{if(Array.isArray(e))return e.map(e=>P(e,t));switch(typeof e){case"string":return S(e,t);case"object":if(null===e)throw new h(`Unexpected endpoint property: ${e}`);return I(e,t);case"boolean":return e;default:throw new h(`Unexpected endpoint property type: ${typeof e}`)}},I=(e,t)=>Object.entries(e).reduce((e,[i,r])=>({...e,[i]:P(r,t)}),{}),L=(e,t)=>{let i=k(e,"Endpoint URL",t);if("string"==typeof i)try{return new URL(i)}catch(e){throw console.error(`Failed to construct URL with ${i}`,e),e}throw new h(`Endpoint URL must be a string, got ${typeof i}`)},D=(e,t)=>{let{conditions:i,endpoint:r}=e,{result:a,referenceRecord:o}=N(i,t);if(!a)return;let l={...t,referenceRecord:{...t.referenceRecord,...o}},{url:d,properties:p,headers:h}=r;return t.logger?.debug?.(`${c} Resolving endpoint from template: ${u(r)}`),{...void 0!=h&&{headers:O(h,l)},...void 0!=p&&{properties:I(p,l)},url:L(d,l)}},R=(e,t)=>{let{conditions:i,error:r}=e,{result:a,referenceRecord:o}=N(i,t);if(a)throw new h(k(r,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},$=(e,t)=>{let{conditions:i,rules:r}=e,{result:a,referenceRecord:o}=N(i,t);if(a)return j(r,{...t,referenceRecord:{...t.referenceRecord,...o}})},j=(e,t)=>{for(let i of e)if("endpoint"===i.type){let e=D(i,t);if(e)return e}else if("error"===i.type)R(i,t);else if("tree"===i.type){let e=$(i,t);if(e)return e}else throw new h(`Unknown endpoint rule: ${i}`);throw new h("Rules evaluation failed")},M=(e,t)=>{let{endpointParams:i,logger:r}=t,{parameters:a,rules:o}=e;t.logger?.debug?.(`${c} Initial EndpointParams: ${u(i)}`);let l=Object.entries(a).filter(([,e])=>null!=e.default).map(([e,t])=>[e,t.default]);if(l.length>0)for(let[e,t]of l)i[e]=i[e]??t;for(let e of Object.entries(a).filter(([,e])=>e.required).map(([e])=>e))if(null==i[e])throw new h(`Missing required parameter: '${e}'`);let d=j(o,{endpointParams:i,logger:r,referenceRecord:{}});return t.logger?.debug?.(`${c} Resolved endpoint: ${u(d)}`),d}},73382:(e,t,i)=>{"use strict";i.d(t,{H:()=>o,N:()=>l});let r={},a={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),r[e]=t,a[t]=e}function o(e){if(e.length%2!=0)throw Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2){let r=e.slice(i,i+2).toLowerCase();if(r in a)t[i/2]=a[r];else throw Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t}function l(e){let t="";for(let i=0;i<e.byteLength;i++)t+=r[e[i]];return t}},39701:(e,t,i)=>{"use strict";i.d(t,{J:()=>a,$:()=>o});var r=i(28391);let a=e=>e[r.zK]||(e[r.zK]={}),o=e=>{if("function"==typeof e)return e;let t=Promise.resolve(e);return()=>t}},7263:(e,t,i)=>{"use strict";i.d(t,{AY:()=>S,J:()=>r,Fe:()=>p,CA:()=>a,ok:()=>d,E5:()=>h,lk:()=>v,sn:()=>c,gZ:()=>y,r5:()=>b,RM:()=>m,Ul:()=>o,Uz:()=>x,sb:()=>u,Y2:()=>g}),function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(o||(o={}));let r=3,a=o.STANDARD;var o,l=i(94248);class d{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(e=>d.setTimeoutFn(e,t))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),(0,l.pK)(e)){let e=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=e,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(e),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let i=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(i)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=Math.floor(2*this.getCurrentTimeInSeconds())/2;if(this.requestCount++,e>this.lastTxRateBucket){let t=this.requestCount/(e-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(t*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=e}}getPrecise(e){return parseFloat(e.toFixed(8))}}d.setTimeoutFn=setTimeout;let p=100,c=2e4,u=500,h=500,m=5,g=10,y=1,v="amz-sdk-invocation-id",b="amz-sdk-request",w=()=>{let e=p;return{computeNextBackoffDelay:t=>Math.floor(Math.min(c,Math.random()*2**t*e)),setDelayBase:t=>{e=t}}},_=({retryDelay:e,retryCount:t,retryCost:i})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(c,e),getRetryCost:()=>i});class x{constructor(e){this.maxAttempts=e,this.mode=o.STANDARD,this.capacity=h,this.retryBackoffStrategy=w(),this.maxAttemptsProvider="function"==typeof e?e:async()=>e}async acquireInitialRetryToken(e){return _({retryDelay:p,retryCount:0})}async refreshRetryTokenForRetry(e,t){let i=await this.getMaxAttempts();if(this.shouldRetry(e,t,i)){let i=t.errorType;this.retryBackoffStrategy.setDelayBase("THROTTLING"===i?u:p);let r=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),a=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,r):r,o=this.getCapacityCost(i);return this.capacity-=o,_({retryDelay:a,retryCount:e.getRetryCount()+1,retryCost:o})}throw Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(h,this.capacity+(e.getRetryCost()??y))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch(e){return console.warn(`Max attempts provider could not resolve. Using default of ${r}`),r}}shouldRetry(e,t,i){return e.getRetryCount()+1<i&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return"TRANSIENT"===e?g:m}isRetryableError(e){return"THROTTLING"===e||"TRANSIENT"===e}}class S{constructor(e,t){this.maxAttemptsProvider=e,this.mode=o.ADAPTIVE;let{rateLimiter:i}=t??{};this.rateLimiter=i??new d,this.standardRetryStrategy=new x(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}},80248:(e,t,i)=>{"use strict";i.d(t,{HE:()=>d,Ou:()=>E});var r=i(55898),a=i(13571);function o(e,t="utf-8"){return"base64"===t?(0,r.s)(e):(0,a.GZ)(e)}function l(e,t){return"base64"===t?d.mutate((0,r.G)(e)):d.mutate((0,a.$x)(e))}class d extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return l(e,t);throw Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,d.prototype),e}transformToString(e="utf-8"){return o(this,e)}}var p=i(12781);"function"==typeof ReadableStream&&ReadableStream,i(84492);var c=i(84878),u=i(63234);i(41966);let h=async e=>"function"==typeof Blob&&e instanceof Blob||e.constructor?.name==="Blob"?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):m(e):g(e);async function m(e){let t=await y(e);return new Uint8Array((0,r.G)(t))}async function g(e){let t=[],i=e.getReader(),r=!1,a=0;for(;!r;){let{done:e,value:o}=await i.read();o&&(t.push(o),a+=o.length),r=e}let o=new Uint8Array(a),l=0;for(let e of t)o.set(e,l),l+=e.length;return o}function y(e){return new Promise((t,i)=>{let r=new FileReader;r.onloadend=()=>{if(2!==r.readyState)return i(Error("Reader aborted too early"));let e=r.result??"",a=e.indexOf(","),o=a>-1?a+1:e.length;t(e.substring(o))},r.onabort=()=>i(Error("Read aborted")),r.onerror=()=>i(r.error),r.readAsDataURL(e)})}var v=i(73382);let b=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),w="The stream has already been transformed.",_=e=>{if(!x(e)&&!b(e)){let t=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${t}`)}let t=!1,i=async()=>{if(t)throw Error(w);return t=!0,await h(e)},o=e=>{if("function"!=typeof e.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()};return Object.assign(e,{transformToByteArray:i,transformToString:async e=>{let t=await i();if("base64"===e)return(0,r.s)(t);if("hex"===e)return(0,v.N)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,a.GZ)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw Error(w);if(t=!0,x(e))return o(e);if(b(e))return e;throw Error(`Cannot transform payload to web stream, got ${e}`)}})},x=e=>"function"==typeof Blob&&e instanceof Blob,S="The stream has already been transformed.",E=e=>{if(!(e instanceof p.Readable))try{return _(e)}catch(i){let t=e?.__proto__?.constructor?.name||e;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${t}`)}let t=!1,i=async()=>{if(t)throw Error(S);return t=!0,await (0,c.CF)(e)};return Object.assign(e,{transformToByteArray:i,transformToString:async e=>{let t=await i();return void 0===e||Buffer.isEncoding(e)?(0,u.g)(t.buffer,t.byteOffset,t.byteLength).toString(e):new TextDecoder(e).decode(t)},transformToWebStream:()=>{if(t)throw Error(S);if(null!==e.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof p.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,p.Readable.toWeb(e)}})}},59064:(e,t,i)=>{"use strict";i.d(t,{i:()=>r});let r=e=>encodeURIComponent(e).replace(/[!'()*]/g,a),a=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},13571:(e,t,i)=>{"use strict";i.d(t,{$x:()=>a,_f:()=>o,GZ:()=>l});var r=i(63234);let a=e=>{let t=(0,r.m)(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},o=e=>"string"==typeof e?a(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),l=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,r.g)(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},72695:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=i(45161),a=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,i=e.byteLength;if(this.bytesHashed+=i,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=e[t++],i--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(t.setUint8(this.bufferLength++,128),i%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var a=this.bufferLength;a<r.BLOCK_SIZE;a++)t.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(var a=this.bufferLength;a<r.BLOCK_SIZE-8;a++)t.setUint8(a,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(r.DIGEST_LENGTH),a=0;a<8;a++)o[4*a]=this.state[a]>>>24&255,o[4*a+1]=this.state[a]>>>16&255,o[4*a+2]=this.state[a]>>>8&255,o[4*a+3]=this.state[a]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this,t=e.buffer,i=e.state,a=i[0],o=i[1],l=i[2],d=i[3],p=i[4],c=i[5],u=i[6],h=i[7],m=0;m<r.BLOCK_SIZE;m++){if(m<16)this.temp[m]=(255&t[4*m])<<24|(255&t[4*m+1])<<16|(255&t[4*m+2])<<8|255&t[4*m+3];else{var g=this.temp[m-2],y=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,v=((g=this.temp[m-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;this.temp[m]=(y+this.temp[m-7]|0)+(v+this.temp[m-16]|0)}var b=(((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&c^~p&u)|0)+(h+(r.KEY[m]+this.temp[m]|0)|0)|0,w=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&o^a&l^o&l)|0;h=u,u=c,c=p,p=d+b|0,d=l,l=o,o=a,a=b+w|0}i[0]+=a,i[1]+=o,i[2]+=l,i[3]+=d,i[4]+=p,i[5]+=c,i[6]+=u,i[7]+=h},e}();t.RawSha256=a},45161:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=9007199254740991},76526:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,i(42436).__exportStar)(i(12620),t)},12620:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=i(42436),a=i(45161),o=i(72695),l=i(92865),d=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=p(e),i=new Uint8Array(a.BLOCK_SIZE);i.set(t);for(var r=0;r<a.BLOCK_SIZE;r++)t[r]^=54,i[r]^=92;this.hash.update(t),this.outer.update(i);for(var r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,l.isEmptyData)(e)&&!this.error)try{this.hash.update((0,l.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){return(0,r.__generator)(this,function(e){return[2,this.digestSync()]})})},e}();function p(e){var t=(0,l.convertToBuffer)(e);if(t.byteLength>a.BLOCK_SIZE){var i=new o.RawSha256;i.update(t),t=i.digest()}var r=new Uint8Array(a.BLOCK_SIZE);return r.set(t),r}t.Sha256=d},31190:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=i(61293),a="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;function o(e){return e instanceof Uint8Array?e:"string"==typeof e?a(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.convertToBuffer=o},92865:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=i(31190);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var a=i(86268);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return a.isEmptyData}});var o=i(98449);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var l=i(44177);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return l.uint32ArrayFrom}})},86268:(e,t)=>{"use strict";function i(e){return"string"==typeof e?0===e.length:0===e.byteLength}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=i},98449:(e,t)=>{"use strict";function i(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=i},44177:(e,t)=>{"use strict";function i(e){if(!Array.from){for(var t=new Uint32Array(e.length),i=0;i<e.length;)t[i]=e[i];return t}return Uint32Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=i},42436:(e,t,i)=>{"use strict";i.r(t),i.d(t,{__assign:()=>o,__asyncDelegator:()=>S,__asyncGenerator:()=>x,__asyncValues:()=>E,__await:()=>_,__awaiter:()=>u,__classPrivateFieldGet:()=>N,__classPrivateFieldSet:()=>O,__createBinding:()=>m,__decorate:()=>d,__exportStar:()=>g,__extends:()=>a,__generator:()=>h,__importDefault:()=>C,__importStar:()=>T,__makeTemplateObject:()=>k,__metadata:()=>c,__param:()=>p,__read:()=>v,__rest:()=>l,__spread:()=>b,__spreadArrays:()=>w,__values:()=>y});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};function a(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var o=function(){return(o=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function l(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(i[r[a]]=e[r[a]]);return i}function d(e,t,i,r){var a,o=arguments.length,l=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,r);else for(var d=e.length-1;d>=0;d--)(a=e[d])&&(l=(o<3?a(l):o>3?a(t,i,l):a(t,i))||l);return o>3&&l&&Object.defineProperty(t,i,l),l}function p(e,t){return function(i,r){t(i,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,i,r){function a(e){return e instanceof i?e:new i(function(t){t(e)})}return new(i||(i=Promise))(function(i,o){function l(e){try{p(r.next(e))}catch(e){o(e)}}function d(e){try{p(r.throw(e))}catch(e){o(e)}}function p(e){e.done?i(e.value):a(e.value).then(l,d)}p((r=r.apply(e,t||[])).next())})}function h(e,t){var i,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function d(e){return function(t){return p([e,t])}}function p(o){if(i)throw TypeError("Generator is already executing.");for(;l;)try{if(i=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{i=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function m(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}function g(e,t){for(var i in e)"default"===i||t.hasOwnProperty(i)||(t[i]=e[i])}function y(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,a,o=i.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)l.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(a)throw a.error}}return l}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function w(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<i;t++)for(var o=arguments[t],l=0,d=o.length;l<d;l++,a++)r[a]=o[l];return r}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function x(e,t,i){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,a=i.apply(e,t||[]),o=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(e){a[e]&&(r[e]=function(t){return new Promise(function(i,r){o.push([e,t,i,r])>1||d(e,t)})})}function d(e,t){try{p(a[e](t))}catch(e){h(o[0][3],e)}}function p(e){e.value instanceof _?Promise.resolve(e.value.v).then(c,u):h(o[0][2],e)}function c(e){d("next",e)}function u(e){d("throw",e)}function h(e,t){e(t),o.shift(),o.length&&d(o[0][0],o[0][1])}}function S(e){var t,i;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(i=!i)?{value:_(e[r](t)),done:"return"===r}:a?a(t):t}:a}}function E(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,i=e[Symbol.asyncIterator];return i?i.call(e):(e=y(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(t){return new Promise(function(r,o){a(r,o,(t=e[i](t)).done,t.value)})}}function a(e,t,i,r){Promise.resolve(r).then(function(t){e({value:t,done:i})},t)}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,i){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,i),i}},57924:e=>{"use strict";if("undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){let i=new Int32Array(new SharedArrayBuffer(4));function t(e){if(!1==(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(i,0,0,Number(e))}e.exports=t}else{function i(e){if(!1==(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}let t=Date.now()+Number(e);for(;t>Date.now(););}e.exports=i}},40954:e=>{for(var t=Math.floor(16777215*Math.random()),i=u.index=parseInt(16777215*Math.random(),10),r=("undefined"==typeof process||"number"!=typeof process.pid?Math.floor(1e5*Math.random()):process.pid)%65535,a=(()=>{try{return _Buffer}catch(e){try{return Buffer}catch(e){return null}}})(),o=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},l=[],d=0;d<256;d++)l[d]=(d<=15?"0":"")+d.toString(16);var p=RegExp("^[0-9a-fA-F]{24}$"),c=[];for(d=0;d<10;)c[48+d]=d++;for(;d<16;)c[55+d]=c[87+d]=d++;function u(e){if(!(this instanceof u))return new u(e);if(e&&(e instanceof u||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var t=u.isValid(e);if(t||null==e){if(t&&"string"==typeof e&&24===e.length)return u.createFromHexString(e);if(null!=e&&12===e.length)this.id=e;else if(null!=e&&"function"==typeof e.toHexString)return e;else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}function h(){return i=(i+1)%16777215}function m(e,t){return(t=t.toString(16)).length===e?t:"00000000".substring(t.length,e)+t}e.exports=u,u.default=u,u.createFromTime=function(e){return new u(m(8,e=parseInt(e,10)%4294967295)+"0000000000000000")},u.createFromHexString=function(e){if(void 0===e||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",i=0;i<24;)t+=String.fromCharCode(c[e.charCodeAt(i++)]<<4|c[e.charCodeAt(i++)]);return new u(t)},u.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&p.test(e):e instanceof u||(o(e)?u.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!a&&(e.id instanceof a||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&p.test(e.id)))))},u.prototype={constructor:u,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(o(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=l[this.id.charCodeAt(t)];return e},equals:function(e){return e instanceof u?this.toString()===e.toString():"string"==typeof e&&u.isValid(e)&&12===e.length&&o(this.id)?e===this.id.toString("binary"):"string"==typeof e&&u.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&u.isValid(e)&&12===e.length?e===this.id:null!=e&&(e instanceof u||!!e.toHexString)&&e.toHexString()===this.toHexString()},getTimestamp:function(){var e,t=new Date;return e=o(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%4294967295;var i=h();return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,t>>16&255,t>>8&255,255&t,r>>8&255,255&r,i>>16&255,i>>8&255,255&i)}};var g=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";u.prototype[g]=function(){return"ObjectID("+this+")"},u.prototype.toJSON=u.prototype.toHexString,u.prototype.toString=u.prototype.toHexString},21650:e=>{"use strict";let t=(e,t,i,r,a)=>{for(var o=0;o<a;o++)i[r+o]=e[o]^t[3&o]},i=(e,t)=>{let i=e.length;for(var r=0;r<i;r++)e[r]^=t[3&r]};e.exports={mask:t,unmask:i}},92675:(e,t,i)=>{"use strict";try{e.exports=i(3614)(__dirname)}catch(t){e.exports=i(21650)}},53410:(e,t,i)=>{"use strict";let{parseContentType:r}=i(74288);function a(e){let t=e.headers,i=r(t["content-type"]);if(!i)throw Error("Malformed content type");for(let r of o){if(!r.detect(i))continue;let a={limits:e.limits,headers:t,conType:i,highWaterMark:void 0,fileHwm:void 0,defCharset:void 0,defParamCharset:void 0,preservePath:!1};return e.highWaterMark&&(a.highWaterMark=e.highWaterMark),e.fileHwm&&(a.fileHwm=e.fileHwm),a.defCharset=e.defCharset,a.defParamCharset=e.defParamCharset,a.preservePath=e.preservePath,new r(a)}throw Error(`Unsupported content type: ${t["content-type"]}`)}let o=[i(2540),i(8286)].filter(function(e){return"function"==typeof e.detect});e.exports=e=>{if(("object"!=typeof e||null===e)&&(e={}),"object"!=typeof e.headers||null===e.headers||"string"!=typeof e.headers["content-type"])throw Error("Missing Content-Type");return a(e)}},2540:(e,t,i)=>{"use strict";let{Readable:r,Writable:a}=i(12781),o=i(10481),{basename:l,convertToUTF8:d,getDecoder:p,parseContentType:c,parseDisposition:u}=i(74288),h=Buffer.from("\r\n"),m=Buffer.from("\r"),g=Buffer.from("-");function y(){}let v=2e3,b=16384,w=0,_=1,x=2;class S{constructor(e){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=w,this.name="",this.value="",this.crlf=0,this.cb=e}reset(){this.header=Object.create(null),this.pairCount=0,this.byteCount=0,this.state=w,this.name="",this.value="",this.crlf=0}push(e,t,i){let r=t;for(;t<i;)switch(this.state){case w:{let a=!1;for(;t<i;++t){if(this.byteCount===b)return -1;++this.byteCount;let i=e[t];if(1!==I[i]){if(58!==i||(this.name+=e.latin1Slice(r,t),0===this.name.length))return -1;++t,a=!0,this.state=_;break}}if(!a){this.name+=e.latin1Slice(r,t);break}}case _:{let a=!1;for(;t<i;++t){if(this.byteCount===b)return -1;++this.byteCount;let i=e[t];if(32!==i&&9!==i){r=t,a=!0,this.state=x;break}}if(!a)break}case x:switch(this.crlf){case 0:for(;t<i;++t){if(this.byteCount===b)return -1;++this.byteCount;let i=e[t];if(1!==L[i]){if(13!==i)return -1;++this.crlf;break}}this.value+=e.latin1Slice(r,t++);break;case 1:if(this.byteCount===b||(++this.byteCount,10!==e[t++]))return -1;++this.crlf;break;case 2:{if(this.byteCount===b)return -1;++this.byteCount;let i=e[t];32===i||9===i?(r=t,this.crlf=0):(++this.pairCount<v&&(this.name=this.name.toLowerCase(),void 0===this.header[this.name]?this.header[this.name]=[this.value]:this.header[this.name].push(this.value)),13===i?(++this.crlf,++t):(r=t,this.crlf=0,this.state=w,this.name="",this.value=""));break}case 3:{if(this.byteCount===b||(++this.byteCount,10!==e[t++]))return -1;let i=this.header;return this.reset(),this.cb(i),t}}}return t}}class E extends r{constructor(e,t){super(e),this.truncated=!1,this._readcb=null,this.once("end",()=>{if(this._read(),0==--t._fileEndsLeft&&t._finalcb){let e=t._finalcb;t._finalcb=null,process.nextTick(e)}})}_read(e){let t=this._readcb;t&&(this._readcb=null,t())}}let k={push:(e,t)=>{},destroy:()=>{}};function T(e,t){let i=e._writecb;e._writecb=null,t?e.destroy(t):i&&i()}function C(e,t){return e}class N extends a{constructor(e){let t,i,r,a,v;if(super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:void 0}),!e.conType.params||"string"!=typeof e.conType.params.boundary)throw Error("Multipart: Boundary not found");let b=e.conType.params.boundary,w="string"==typeof e.defParamCharset&&e.defParamCharset?p(e.defParamCharset):C,_=e.defCharset||"utf8",x=e.preservePath,T={autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof e.fileHwm?e.fileHwm:void 0},N=e.limits,O=N&&"number"==typeof N.fieldSize?N.fieldSize:1048576,P=N&&"number"==typeof N.fileSize?N.fileSize:1/0,I=N&&"number"==typeof N.files?N.files:1/0,L=N&&"number"==typeof N.fields?N.fields:1/0,D=N&&"number"==typeof N.parts?N.parts:1/0,R=-1,$=0,j=0,M=!1;this._fileEndsLeft=0,this._fileStream=void 0,this._complete=!1;let U=0,F=0,B=!1,z=!1,q=!1;this._hparser=null;let V=new S(e=>{let o;if(this._hparser=null,M=!1,a="text/plain",i=_,r="7bit",v=void 0,B=!1,!e["content-disposition"]){M=!0;return}let d=u(e["content-disposition"][0],w);if(!d||"form-data"!==d.type){M=!0;return}if(d.params&&(d.params.name&&(v=d.params.name),d.params["filename*"]?o=d.params["filename*"]:d.params.filename&&(o=d.params.filename),void 0===o||x||(o=l(o))),e["content-type"]){let t=c(e["content-type"][0]);t&&(a=`${t.type}/${t.subtype}`,t.params&&"string"==typeof t.params.charset&&(i=t.params.charset.toLowerCase()))}if(e["content-transfer-encoding"]&&(r=e["content-transfer-encoding"][0].toLowerCase()),"application/octet-stream"===a||void 0!==o){if(j===I){z||(z=!0,this.emit("filesLimit")),M=!0;return}if(++j,0===this.listenerCount("file")){M=!0;return}U=0,this._fileStream=new E(T,this),++this._fileEndsLeft,this.emit("file",v,this._fileStream,{filename:o,encoding:r,mimeType:a})}else{if($===L){q||(q=!0,this.emit("fieldsLimit")),M=!0;return}if(++$,0===this.listenerCount("field")){M=!0;return}t=[],F=0}}),H=0,W=(e,o,l,p,c)=>{for(;o;){if(null!==this._hparser){let e=this._hparser.push(o,l,p);if(-1===e){this._hparser=null,V.reset(),this.emit("error",Error("Malformed part header"));break}l=e}if(l===p)break;if(0!==H){if(1===H){switch(o[l]){case 45:H=2,++l;break;case 13:H=3,++l;break;default:H=0}if(l===p)return}if(2===H){if(H=0,45===o[l]){this._complete=!0,this._bparser=k;return}let e=this._writecb;this._writecb=y,W(!1,g,0,1,!1),this._writecb=e}else if(3===H){if(H=0,10===o[l]){if(++l,R>=D||(this._hparser=V,l===p))break;continue}{let e=this._writecb;this._writecb=y,W(!1,m,0,1,!1),this._writecb=e}}}if(!M){if(this._fileStream){let e;let t=Math.min(p-l,P-U);c?e=o.slice(l,l+t):(e=Buffer.allocUnsafe(t),o.copy(e,0,l,l+t)),(U+=e.length)===P?(e.length>0&&this._fileStream.push(e),this._fileStream.emit("limit"),this._fileStream.truncated=!0,M=!0):this._fileStream.push(e)||(this._writecb&&(this._fileStream._readcb=this._writecb),this._writecb=null)}else if(void 0!==t){let e;let i=Math.min(p-l,O-F);c?e=o.slice(l,l+i):(e=Buffer.allocUnsafe(i),o.copy(e,0,l,l+i)),F+=i,t.push(e),F===O&&(M=!0,B=!0)}}break}if(e){if(H=1,this._fileStream)this._fileStream.push(null),this._fileStream=null;else if(void 0!==t){let e;switch(t.length){case 0:e="";break;case 1:e=d(t[0],i,0);break;default:e=d(Buffer.concat(t,F),i,0)}t=void 0,F=0,this.emit("field",v,e,{nameTruncated:!1,valueTruncated:B,encoding:r,mimeType:a})}++R===D&&this.emit("partsLimit")}};this._bparser=new o(`\r
--${b}`,W),this._writecb=null,this._finalcb=null,this.write(h)}static detect(e){return"multipart"===e.type&&"form-data"===e.subtype}_write(e,t,i){this._writecb=i,this._bparser.push(e,0),this._writecb&&T(this)}_destroy(e,t){this._hparser=null,this._bparser=k,e||(e=P(this));let i=this._fileStream;i&&(this._fileStream=null,i.destroy(e)),t(e)}_final(e){if(this._bparser.destroy(),!this._complete)return e(Error("Unexpected end of form"));this._fileEndsLeft?this._finalcb=O.bind(null,this,e):O(this,e)}}function O(e,t,i){if(i)return t(i);t(i=P(e))}function P(e){if(e._hparser)return Error("Malformed part header");let t=e._fileStream;if(t&&(e._fileStream=null,t.destroy(Error("Unexpected end of file"))),!e._complete)return Error("Unexpected end of form")}let I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];e.exports=N},8286:(e,t,i)=>{"use strict";let{Writable:r}=i(12781),{getDecoder:a}=i(74288);class o extends r{constructor(e){super({autoDestroy:!0,emitClose:!0,highWaterMark:"number"==typeof e.highWaterMark?e.highWaterMark:void 0});let t=e.defCharset||"utf8";e.conType.params&&"string"==typeof e.conType.params.charset&&(t=e.conType.params.charset),this.charset=t;let i=e.limits;this.fieldSizeLimit=i&&"number"==typeof i.fieldSize?i.fieldSize:1048576,this.fieldsLimit=i&&"number"==typeof i.fields?i.fields:1/0,this.fieldNameSizeLimit=i&&"number"==typeof i.fieldNameSize?i.fieldNameSize:100,this._inKey=!0,this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,this._fields=0,this._key="",this._val="",this._byte=-2,this._lastPos=0,this._encode=0,this._decoder=a(t)}static detect(e){return"application"===e.type&&"x-www-form-urlencoded"===e.subtype}_write(e,t,i){if(this._fields>=this.fieldsLimit)return i();let r=0,a=e.length;if(this._lastPos=0,-2!==this._byte){if(-1===(r=l(this,e,r,a)))return i(Error("Malformed urlencoded form"));if(r>=a)return i();this._inKey?++this._bytesKey:++this._bytesVal}e:for(;r<a;)if(this._inKey){for(r=d(this,e,r,a);r<a;){switch(e[r]){case 61:this._lastPos<r&&(this._key+=e.latin1Slice(this._lastPos,r)),this._lastPos=++r,this._key=this._decoder(this._key,this._encode),this._encode=0,this._inKey=!1;continue e;case 38:if(this._lastPos<r&&(this._key+=e.latin1Slice(this._lastPos,r)),this._lastPos=++r,this._key=this._decoder(this._key,this._encode),this._encode=0,this._bytesKey>0&&this.emit("field",this._key,"",{nameTruncated:this._keyTrunc,valueTruncated:!1,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),i();continue;case 43:this._lastPos<r&&(this._key+=e.latin1Slice(this._lastPos,r)),this._key+=" ",this._lastPos=r+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<r&&(this._key+=e.latin1Slice(this._lastPos,r)),this._lastPos=r+1,this._byte=-1,-1===(r=l(this,e,r+1,a)))return i(Error("Malformed urlencoded form"));if(r>=a)return i();++this._bytesKey,r=d(this,e,r,a);continue}++r,++this._bytesKey,r=d(this,e,r,a)}this._lastPos<r&&(this._key+=e.latin1Slice(this._lastPos,r))}else{for(r=p(this,e,r,a);r<a;){switch(e[r]){case 38:if(this._lastPos<r&&(this._val+=e.latin1Slice(this._lastPos,r)),this._lastPos=++r,this._inKey=!0,this._val=this._decoder(this._val,this._encode),this._encode=0,(this._bytesKey>0||this._bytesVal>0)&&this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"}),this._key="",this._val="",this._keyTrunc=!1,this._valTrunc=!1,this._bytesKey=0,this._bytesVal=0,++this._fields>=this.fieldsLimit)return this.emit("fieldsLimit"),i();continue e;case 43:this._lastPos<r&&(this._val+=e.latin1Slice(this._lastPos,r)),this._val+=" ",this._lastPos=r+1;break;case 37:if(0===this._encode&&(this._encode=1),this._lastPos<r&&(this._val+=e.latin1Slice(this._lastPos,r)),this._lastPos=r+1,this._byte=-1,-1===(r=l(this,e,r+1,a)))return i(Error("Malformed urlencoded form"));if(r>=a)return i();++this._bytesVal,r=p(this,e,r,a);continue}++r,++this._bytesVal,r=p(this,e,r,a)}this._lastPos<r&&(this._val+=e.latin1Slice(this._lastPos,r))}i()}_final(e){if(-2!==this._byte)return e(Error("Malformed urlencoded form"));(!this._inKey||this._bytesKey>0||this._bytesVal>0)&&(this._inKey?this._key=this._decoder(this._key,this._encode):this._val=this._decoder(this._val,this._encode),this.emit("field",this._key,this._val,{nameTruncated:this._keyTrunc,valueTruncated:this._valTrunc,encoding:this.charset,mimeType:"text/plain"})),e()}}function l(e,t,i,r){if(i>=r)return r;if(-1===e._byte){let a=c[t[i++]];if(-1===a)return -1;if(a>=8&&(e._encode=2),i<r){let r=c[t[i++]];if(-1===r)return -1;e._inKey?e._key+=String.fromCharCode((a<<4)+r):e._val+=String.fromCharCode((a<<4)+r),e._byte=-2,e._lastPos=i}else e._byte=a}else{let r=c[t[i++]];if(-1===r)return -1;e._inKey?e._key+=String.fromCharCode((e._byte<<4)+r):e._val+=String.fromCharCode((e._byte<<4)+r),e._byte=-2,e._lastPos=i}return i}function d(e,t,i,r){if(e._bytesKey>e.fieldNameSizeLimit){for(!e._keyTrunc&&e._lastPos<i&&(e._key+=t.latin1Slice(e._lastPos,i-1)),e._keyTrunc=!0;i<r;++i){let r=t[i];if(61===r||38===r)break;++e._bytesKey}e._lastPos=i}return i}function p(e,t,i,r){if(e._bytesVal>e.fieldSizeLimit){for(!e._valTrunc&&e._lastPos<i&&(e._val+=t.latin1Slice(e._lastPos,i-1)),e._valTrunc=!0;i<r&&38!==t[i];++i)++e._bytesVal;e._lastPos=i}return i}let c=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];e.exports=o},74288:function(e){"use strict";function t(e){if(0===e.length)return;let t=Object.create(null),r=0;for(;r<e.length;++r){let t=e.charCodeAt(r);if(1!==c[t]){if(47!==t||0===r)return;break}}if(r===e.length)return;let a=e.slice(0,r).toLowerCase(),o=++r;for(;r<e.length;++r)if(1!==c[e.charCodeAt(r)]){if(r===o||void 0===i(e,r,t))return;break}if(r!==o)return{type:a,subtype:e.slice(o,r).toLowerCase(),params:t}}function i(e,t,i){for(;t<e.length;){let r,a;for(;t<e.length;++t){let i=e.charCodeAt(t);if(32!==i&&9!==i)break}if(t===e.length)break;if(59!==e.charCodeAt(t++))return;for(;t<e.length;++t){let i=e.charCodeAt(t);if(32!==i&&9!==i)break}if(t===e.length)return;let o=t;for(;t<e.length;++t){let i=e.charCodeAt(t);if(1!==c[i]){if(61!==i)return;break}}if(t===e.length||(r=e.slice(o,t),++t===e.length))return;let l="";if(34===e.charCodeAt(t)){a=++t;let i=!1;for(;t<e.length;++t){let r=e.charCodeAt(t);if(92===r){i?(a=t,i=!1):(l+=e.slice(a,t),i=!0);continue}if(34===r){if(i){a=t,i=!1;continue}l+=e.slice(a,t);break}if(i&&(a=t-1,i=!1),1!==u[r])return}if(t===e.length)return;++t}else{for(a=t;t<e.length;++t)if(1!==c[e.charCodeAt(t)]){if(t===a)return;break}l=e.slice(a,t)}void 0===i[r=r.toLowerCase()]&&(i[r]=l)}return i}function r(e,t){if(0===e.length)return;let i=Object.create(null),r=0;for(;r<e.length;++r)if(1!==c[e.charCodeAt(r)]){if(void 0===a(e,r,i,t))return;break}return{type:e.slice(0,r).toLowerCase(),params:i}}function a(e,t,i,r){for(;t<e.length;){let a,o,l;for(;t<e.length;++t){let i=e.charCodeAt(t);if(32!==i&&9!==i)break}if(t===e.length)break;if(59!==e.charCodeAt(t++))return;for(;t<e.length;++t){let i=e.charCodeAt(t);if(32!==i&&9!==i)break}if(t===e.length)return;let p=t;for(;t<e.length;++t){let i=e.charCodeAt(t);if(1!==c[i]){if(61===i)break;return}}if(t===e.length)return;let y="";if(42===(a=e.slice(p,t)).charCodeAt(a.length-1)){let i=++t;for(;t<e.length;++t){let i=e.charCodeAt(t);if(1!==h[i]){if(39!==i)return;break}}if(t===e.length)return;for(l=e.slice(i,t),++t;t<e.length&&39!==e.charCodeAt(t);++t);if(t===e.length||++t===e.length)return;o=t;let r=0;for(;t<e.length;++t){let i=e.charCodeAt(t);if(1!==m[i]){if(37===i){let i,a;if(t+2<e.length&&-1!==(i=g[e.charCodeAt(t+1)])&&-1!==(a=g[e.charCodeAt(t+2)])){let l=(i<<4)+a;y+=e.slice(o,t)+String.fromCharCode(l),t+=2,o=t+1,l>=128?r=2:0===r&&(r=1);continue}return}break}}if(y+=e.slice(o,t),void 0===(y=d(y,l,r)))return}else{if(++t===e.length)return;if(34===e.charCodeAt(t)){o=++t;let i=!1;for(;t<e.length;++t){let r=e.charCodeAt(t);if(92===r){i?(o=t,i=!1):(y+=e.slice(o,t),i=!0);continue}if(34===r){if(i){o=t,i=!1;continue}y+=e.slice(o,t);break}if(i&&(o=t-1,i=!1),1!==u[r])return}if(t===e.length)return;++t}else{for(o=t;t<e.length;++t)if(1!==c[e.charCodeAt(t)]){if(t===o)return;break}y=e.slice(o,t)}if(void 0===(y=r(y,2)))return}void 0===i[a=a.toLowerCase()]&&(i[a]=y)}return i}function o(e){let t;for(;;)switch(e){case"utf-8":case"utf8":return l.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return l.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return l.utf16le;case"base64":return l.base64;default:if(void 0===t){t=!0,e=e.toLowerCase();continue}return l.other.bind(e)}}let l={utf8:(e,t)=>{if(0===e.length)return"";if("string"==typeof e){if(t<2)return e;e=Buffer.from(e,"latin1")}return e.utf8Slice(0,e.length)},latin1:(e,t)=>0===e.length?"":"string"==typeof e?e:e.latin1Slice(0,e.length),utf16le:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,"latin1")),e.ucs2Slice(0,e.length)),base64:(e,t)=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,"latin1")),e.base64Slice(0,e.length)),other:(e,t)=>{if(0===e.length)return"";"string"==typeof e&&(e=Buffer.from(e,"latin1"));try{return new TextDecoder(this).decode(e)}catch{}}};function d(e,t,i){let r=o(t);if(r)return r(e,i)}function p(e){if("string"!=typeof e)return"";for(let t=e.length-1;t>=0;--t)switch(e.charCodeAt(t)){case 47:case 92:return".."===(e=e.slice(t+1))||"."===e?"":e}return".."===e||"."===e?"":e}let c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];e.exports={basename:p,convertToUTF8:d,getDecoder:o,parseContentType:t,parseDisposition:r}},94552:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.renderTable=t.printTable=t.Table=void 0;let a=r(i(33691));t.Table=a.default;let o=i(6839);Object.defineProperty(t,"printTable",{enumerable:!0,get:function(){return o.printSimpleTable}}),Object.defineProperty(t,"renderTable",{enumerable:!0,get:function(){return o.renderSimpleTable}})},33691:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let a=r(i(8754)),o=i(10908);class l{constructor(e){this.table=new a.default(e)}addColumn(e){return this.table.addColumn(e),this}addColumns(e){return this.table.addColumns(e),this}addRow(e,t){return this.table.addRow(e,(0,o.convertRawRowOptionsToStandard)(t)),this}addRows(e,t){return this.table.addRows(e,(0,o.convertRawRowOptionsToStandard)(t)),this}printTable(){console.log(this.table.renderTable())}render(){return this.table.renderTable()}}t.default=l},24162:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rawColumnToInternalColumn=t.objIfExists=void 0;let r=i(99109),a=(e,t)=>t?{[e]:t}:{};t.objIfExists=a;let o=e=>{var i;return Object.assign(Object.assign(Object.assign(Object.assign({name:e.name,title:null!==(i=e.title)&&void 0!==i?i:e.name},(0,t.objIfExists)("color",e.color)),(0,t.objIfExists)("maxLen",e.maxLen)),(0,t.objIfExists)("minLen",e.minLen)),{alignment:e.alignment||r.DEFAULT_ROW_ALIGNMENT})};t.rawColumnToInternalColumn=o},6839:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.printSimpleTable=t.renderSimpleTable=t.renderTable=void 0;let a=r(i(77003)),o=i(65982),l=i(99109),d=i(10908),p=r(i(8754)),c=i(82317),u=(e,t,i,r,p,c,u,h)=>{let m=new a.default(u);return m.addCharsWithColor("",e.vertical),t.forEach(t=>{let a=i<r[t.name].length?(0,d.cellText)(r[t.name][i]):"";m.addCharsWithColor(l.DEFAULT_ROW_FONT_COLOR," "),m.addCharsWithColor(p&&l.DEFAULT_HEADER_FONT_COLOR||t.color||c.color,(0,o.textWithPadding)(a,t.alignment||l.DEFAULT_ROW_ALIGNMENT,t.length||l.DEFAULT_COLUMN_LEN,h)),m.addCharsWithColor("",` ${e.vertical}`)}),m.renderConsole()},h=(e,t,i,r,a,o)=>{let l=(0,d.getWidthLimitedColumnsArray)(t,i,o),p=Object.values(l).reduce((e,t)=>Math.max(e,t.length),0),c=[];for(let d=0;d<p;d+=1){let p=u(e,t,d,l,a,i,r,o);c.push(p)}return c},m=(e,t)=>[].concat(h(e.tableStyle,e.columns,t,e.colorMap,void 0,e.charLength)),g=e=>{let t=[];if(void 0===e.title)return t;let i=()=>{let t=(e,t)=>e+t+2+1;return e.columns.map(e=>e.length||l.DEFAULT_COLUMN_LEN).reduce(t,1)},r=(0,o.textWithPadding)(e.title,l.DEFAULT_HEADER_ALIGNMENT,i()),d=new a.default(e.colorMap);return d.addCharsWithColor(l.DEFAULT_HEADER_FONT_COLOR,r),t.push(d.renderConsole()),t},y=e=>{let t=[];t.push((0,d.renderTableHorizontalBorders)(e.tableStyle.headerTop,e.columns.map(e=>e.length||l.DEFAULT_COLUMN_LEN)));let i=(0,d.createHeaderAsRow)(d.createRow,e.columns);return(t=t.concat(h(e.tableStyle,e.columns,i,e.colorMap,!0))).push((0,d.renderTableHorizontalBorders)(e.tableStyle.headerBottom,e.columns.map(e=>e.length||l.DEFAULT_COLUMN_LEN))),t},v=e=>{let t=[];return t.push((0,d.renderTableHorizontalBorders)(e.tableStyle.tableBottom,e.columns.map(e=>e.length||l.DEFAULT_COLUMN_LEN))),t},b=(e,t)=>{let i=[],r=e.rows.length-1;return e.rows.indexOf(t)!==r&&t.separator&&i.push((0,d.renderTableHorizontalBorders)(e.tableStyle.rowSeparator,e.columns.map(e=>e.length||l.DEFAULT_COLUMN_LEN))),i},w=e=>{(0,c.preProcessColumns)(e),(0,c.preProcessRows)(e);let t=[];return g(e).forEach(e=>t.push(e)),y(e).forEach(e=>t.push(e)),e.rows.forEach(i=>{m(e,i).forEach(e=>t.push(e)),b(e,i).forEach(e=>t.push(e))}),v(e).forEach(e=>t.push(e)),t.join("\n")};t.renderTable=w;let _=e=>{let i=new p.default;return i.addRows(e),(0,t.renderTable)(i)};t.renderSimpleTable=_;let x=e=>{console.log((0,t.renderSimpleTable)(e))};t.printSimpleTable=x},8754:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(77003),a=i(99109),o=i(10908),l=i(24162),d=i(6839),p=()=>0,c=()=>!0;class u{initSimple(e){this.columns=e.map(e=>({name:e,title:e,alignment:a.DEFAULT_ROW_ALIGNMENT}))}initDetailed(e){var t;this.title=(null==e?void 0:e.title)||this.title,this.tableStyle=(null==e?void 0:e.style)||this.tableStyle,this.sortFunction=(null==e?void 0:e.sort)||this.sortFunction,this.filterFunction=(null==e?void 0:e.filter)||this.filterFunction,this.enabledColumns=(null==e?void 0:e.enabledColumns)||this.enabledColumns,this.disabledColumns=(null==e?void 0:e.disabledColumns)||this.disabledColumns,this.computedColumns=(null==e?void 0:e.computedColumns)||this.computedColumns,this.columns=(null===(t=null==e?void 0:e.columns)||void 0===t?void 0:t.map(l.rawColumnToInternalColumn))||this.columns,this.rowSeparator=(null==e?void 0:e.rowSeparator)||this.rowSeparator,this.charLength=(null==e?void 0:e.charLength)||this.charLength,(null==e?void 0:e.shouldDisableColors)?this.colorMap={}:(null==e?void 0:e.colorMap)&&(this.colorMap=Object.assign(Object.assign({},this.colorMap),e.colorMap)),void 0!==e.rows&&this.addRows(e.rows)}constructor(e){this.rows=[],this.columns=[],this.title=void 0,this.tableStyle=a.DEFAULT_TABLE_STYLE,this.filterFunction=c,this.sortFunction=p,this.enabledColumns=[],this.disabledColumns=[],this.computedColumns=[],this.rowSeparator=a.DEFAULT_ROW_SEPARATOR,this.colorMap=r.DEFAULT_COLOR_MAP,this.charLength={},e instanceof Array?this.initSimple(e):"object"==typeof e&&this.initDetailed(e)}createColumnFromRow(e){let t=this.columns.map(e=>e.name);Object.keys(e).forEach(e=>{t.includes(e)||this.columns.push((0,o.createColumFromOnlyName)(e))})}addColumn(e){"string"==typeof e?this.columns.push((0,o.createColumFromOnlyName)(e)):this.columns.push((0,o.createColumFromComputedColumn)(e))}addColumns(e){e.forEach(e=>{this.addColumn(e)})}addRow(e,t){this.createColumnFromRow(e),this.rows.push((0,o.createRow)((null==t?void 0:t.color)||a.DEFAULT_ROW_FONT_COLOR,e,(null==t?void 0:t.separator)!==void 0?null==t?void 0:t.separator:this.rowSeparator))}addRows(e,t){e.forEach(e=>{this.addRow(e,t)})}renderTable(){return(0,d.renderTable)(this)}}t.default=u},82317:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preProcessRows=t.preProcessColumns=void 0;let r=i(10908),a=e=>{e.computedColumns.length&&e.computedColumns.forEach(t=>{e.addColumn(t),e.rows.forEach(e=>{e.text[t.name]=t.function(e.text)})})},o=e=>{e.enabledColumns.length&&(e.columns=e.columns.filter(t=>e.enabledColumns.includes(t.name)))},l=e=>{e.disabledColumns.length&&(e.columns=e.columns.filter(t=>!e.disabledColumns.includes(t.name)))},d=e=>{e.columns.forEach(t=>{t.length=(0,r.findLenOfColumn)(t,e.rows,e.charLength)})},p=e=>{a(e),l(e),o(e),d(e)};t.preProcessColumns=p;let c=e=>{let t=e.rows.filter(t=>e.filterFunction(t.text)).sort((t,i)=>e.sortFunction(t.text,i.text));e.rows=t};t.preProcessRows=c},77003:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLOR_MAP=void 0,t.DEFAULT_COLOR_MAP={red:"\x1b[31m",green:"\x1b[32m",yellow:"\x1b[33m",blue:"\x1b[34m",magenta:"\x1b[35m",cyan:"\x1b[36m",white:"\x1b[37m",white_bold:"\x1b[01m",reset:"\x1b[0m"};class i{constructor(e=t.DEFAULT_COLOR_MAP){this.text="",this.colorMap=e}addCharsWithColor(e,t){let i=this.colorMap[e];this.text+=void 0!==i?`${i}${t}${this.colorMap.reset}`:t}renderConsole(){return this.text}}t.default=i},82443:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findWidthInConsole=t.stripAnsi=void 0;let r=i(26263),a=/\x1b\[\d{1,3}(;\d{1,3})*m/g,o=e=>e.replace(a,"");t.stripAnsi=o;let l=(e,i)=>{let a=0;return e=(0,t.stripAnsi)(e),i&&Object.entries(i).forEach(([t,i])=>{let r=RegExp(t,"g");a+=(e.match(r)||[]).length*i,e=e.replace(t,"")}),a+=(0,r.wcswidth)(e)};t.findWidthInConsole=l},65982:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.biggestWordInSentence=t.textWithPadding=t.splitTextIntoTextsOfMinLen=void 0;let r=i(82443),a=(e,t,i)=>{let a=[];return e.split(/[\n\r]/).forEach(e=>{let o=e.split(" "),l=[],d=0;o.forEach(e=>{let o=(0,r.findWidthInConsole)(e,i);d+o<=t?(d+=o+1,l.push(e)):(l.length>0&&a.push(l.join(" ")),l=[e],d=o+1)}),a.push(l.join(" "))}),a};t.splitTextIntoTextsOfMinLen=a;let o=(e,i,a,o)=>{let l=(0,r.findWidthInConsole)(e,o),d=Math.floor((a-l)/2),p=a-d-l;if(a<l){let r=(0,t.splitTextIntoTextsOfMinLen)(e,a);return 1===r.length?e:r.map(e=>(0,t.textWithPadding)(e,i,a,o)).join("\n")}switch(i){case"left":return e.concat(" ".repeat(a-l));case"center":return" ".repeat(d).concat(e).concat(" ".repeat(p));default:return" ".repeat(a-l).concat(e)}};t.textWithPadding=o;let l=(e,t)=>e.split(" ").reduce((e,i)=>Math.max(e,(0,r.findWidthInConsole)(i,t)),0);t.biggestWordInSentence=l},99109:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADER_ALIGNMENT=t.DEFAULT_ROW_ALIGNMENT=t.DEFAULT_HEADER_FONT_COLOR=t.DEFAULT_ROW_FONT_COLOR=t.COLORS=t.ALIGNMENTS=t.DEFAULT_TABLE_STYLE=t.DEFAULT_ROW_SEPARATOR=t.DEFAULT_COLUMN_LEN=void 0,t.DEFAULT_COLUMN_LEN=20,t.DEFAULT_ROW_SEPARATOR=!1,t.DEFAULT_TABLE_STYLE={headerTop:{left:"",mid:"",right:"",other:""},headerBottom:{left:"",mid:"",right:"",other:""},tableBottom:{left:"",mid:"",right:"",other:""},vertical:"",rowSeparator:{left:"",mid:"",right:"",other:""}},t.ALIGNMENTS=["right","left","center"],t.COLORS=["red","green","yellow","white","blue","magenta","cyan","white_bold","reset"],t.DEFAULT_ROW_FONT_COLOR="white",t.DEFAULT_HEADER_FONT_COLOR="white_bold",t.DEFAULT_ROW_ALIGNMENT="right",t.DEFAULT_HEADER_ALIGNMENT="center"},10908:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWidthLimitedColumnsArray=t.createHeaderAsRow=t.renderTableHorizontalBorders=t.findLenOfColumn=t.createRow=t.createColumFromComputedColumn=t.createColumFromOnlyName=t.createTableHorizontalBorders=t.convertRawRowOptionsToStandard=t.cellText=void 0;let r=i(24162),a=i(82443),o=i(65982),l=i(99109),d=(e,t)=>Math.max(e,t),p=e=>null==e?"":`${e}`;t.cellText=p;let c=e=>{if(e)return{color:e.color,separator:e.separator||l.DEFAULT_ROW_SEPARATOR}};t.convertRawRowOptionsToStandard=c;let u=({left:e,mid:t,right:i,other:r},a)=>{let o=e;return a.forEach(e=>{o+=r.repeat(e+2)+t}),o=o.slice(0,-t.length)+i};t.createTableHorizontalBorders=u;let h=e=>({name:e,title:e});t.createColumFromOnlyName=h;let m=e=>{var t;return Object.assign(Object.assign(Object.assign(Object.assign({name:e.name,title:null!==(t=e.title)&&void 0!==t?t:e.name},(0,r.objIfExists)("color",e.color)),(0,r.objIfExists)("maxLen",e.maxLen)),(0,r.objIfExists)("minLen",e.minLen)),{alignment:e.alignment||l.DEFAULT_ROW_ALIGNMENT})};t.createColumFromComputedColumn=m;let g=(e,t,i)=>({color:e,separator:i,text:t});t.createRow=g;let y=(e,i,r)=>{let l=e.name,p=e.title,c=d(0,(null==e?void 0:e.minLen)||0);return e.maxLen?(c=d(c,d(e.maxLen,(0,o.biggestWordInSentence)(p,r))),c=i.reduce((e,i)=>d(e,(0,o.biggestWordInSentence)((0,t.cellText)(i.text[l]),r)),c)):(c=d(c,(0,a.findWidthInConsole)(p,r)),i.forEach(e=>{c=d(c,(0,a.findWidthInConsole)((0,t.cellText)(e.text[l]),r))}),c)};t.findLenOfColumn=y;let v=(e,i)=>(0,t.createTableHorizontalBorders)(e,i);t.renderTableHorizontalBorders=v;let b=(e,t)=>{let i=e(l.DEFAULT_HEADER_FONT_COLOR,{},!1);return t.forEach(e=>{i.text[e.name]=e.title}),i};t.createHeaderAsRow=b;let w=(e,i,r)=>{let a={};return e.forEach(e=>{a[e.name]=(0,o.splitTextIntoTextsOfMinLen)((0,t.cellText)(i.text[e.name]),e.length||l.DEFAULT_COLUMN_LEN,r)}),a};t.getWidthLimitedColumnsArray=w},81651:e=>{"use strict";var t,i=function(){function e(e,t){if("function"!=typeof e)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=p(t),this._batchScheduleFn=c(t),this._cacheKeyFn=u(t),this._cacheMap=h(t),this._batch=null,this.name=m(t)}var t=e.prototype;return t.load=function(e){if(null==e)throw TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t,i=a(this),r=this._cacheMap;if(r){t=this._cacheKeyFn(e);var o=r.get(t);if(o){var l=i.cacheHits||(i.cacheHits=[]);return new Promise(function(e){l.push(function(){e(o)})})}}i.keys.push(e);var d=new Promise(function(e,t){i.callbacks.push({resolve:e,reject:t})});return r&&r.set(t,d),d},t.loadMany=function(e){if(!g(e))throw TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],i=0;i<e.length;i++)t.push(this.load(e[i]).catch(function(e){return e}));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var i=this._cacheKeyFn(e);t.delete(i)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var i=this._cacheMap;if(i){var r,a=this._cacheKeyFn(e);void 0===i.get(a)&&(t instanceof Error?(r=Promise.reject(t)).catch(function(){}):r=Promise.resolve(t),i.set(a,r))}return this},e}(),r="object"==typeof process&&"function"==typeof process.nextTick?function(e){t||(t=Promise.resolve()),t.then(function(){process.nextTick(e)})}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function a(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var i={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=i,e._batchScheduleFn(function(){o(e,i)}),i}function o(e,t){var i;if(t.hasDispatched=!0,0===t.keys.length){d(t);return}try{i=e._batchLoadFn(t.keys)}catch(i){return l(e,t,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(i)+"."))}if(!i||"function"!=typeof i.then)return l(e,t,TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(i)+"."));i.then(function(e){if(!g(e))throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));d(t);for(var i=0;i<t.callbacks.length;i++){var r=e[i];r instanceof Error?t.callbacks[i].reject(r):t.callbacks[i].resolve(r)}}).catch(function(i){l(e,t,i)})}function l(e,t,i){d(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(i)}function d(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function p(e){if(!(!e||!1!==e.batch))return 1;var t=e&&e.maxBatchSize;if(void 0===t)return 1/0;if("number"!=typeof t||t<1)throw TypeError("maxBatchSize must be a positive number: "+t);return t}function c(e){var t=e&&e.batchScheduleFn;if(void 0===t)return r;if("function"!=typeof t)throw TypeError("batchScheduleFn must be a function: "+t);return t}function u(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!=typeof t)throw TypeError("cacheKeyFn must be a function: "+t);return t}function h(e){if(!(!e||!1!==e.cache))return null;var t=e&&e.cacheMap;if(void 0===t)return new Map;if(null!==t){var i=["get","set","delete","clear"].filter(function(e){return t&&"function"!=typeof t[e]});if(0!==i.length)throw TypeError("Custom cacheMap missing methods: "+i.join(", "))}return t}function m(e){return e&&e.name?e.name:null}function g(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=i},71593:(e,t,i)=>{"use strict";var r;function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(o){var l=arguments,d=function(){var e=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g;return function(r,a,o,g){if(1!==l.length||"string"!==m(r)||/\d/.test(r)||(a=r,r=void 0),(r=r||0===r?r:new Date)instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");var y=(a=String(d.masks[a]||a||d.masks.default)).slice(0,4);("UTC:"===y||"GMT:"===y)&&(a=a.slice(4),o=!0,"GMT:"===y&&(g=!0));var v=function(){return o?"getUTC":"get"},b=function(){return r[v()+"Date"]()},w=function(){return r[v()+"Day"]()},_=function(){return r[v()+"Month"]()},x=function(){return r[v()+"FullYear"]()},S=function(){return r[v()+"Hours"]()},E=function(){return r[v()+"Minutes"]()},k=function(){return r[v()+"Seconds"]()},T=function(){return r[v()+"Milliseconds"]()},C=function(){return o?0:r.getTimezoneOffset()},N=function(){return u(r)},O=function(){return h(r)},P={d:function(){return b()},dd:function(){return p(b())},ddd:function(){return d.i18n.dayNames[w()]},DDD:function(){return c({y:x(),m:_(),d:b(),_:v(),dayName:d.i18n.dayNames[w()],short:!0})},dddd:function(){return d.i18n.dayNames[w()+7]},DDDD:function(){return c({y:x(),m:_(),d:b(),_:v(),dayName:d.i18n.dayNames[w()+7]})},m:function(){return _()+1},mm:function(){return p(_()+1)},mmm:function(){return d.i18n.monthNames[_()]},mmmm:function(){return d.i18n.monthNames[_()+12]},yy:function(){return String(x()).slice(2)},yyyy:function(){return p(x(),4)},h:function(){return S()%12||12},hh:function(){return p(S()%12||12)},H:function(){return S()},HH:function(){return p(S())},M:function(){return E()},MM:function(){return p(E())},s:function(){return k()},ss:function(){return p(k())},l:function(){return p(T(),3)},L:function(){return p(Math.floor(T()/10))},t:function(){return 12>S()?d.i18n.timeNames[0]:d.i18n.timeNames[1]},tt:function(){return 12>S()?d.i18n.timeNames[2]:d.i18n.timeNames[3]},T:function(){return 12>S()?d.i18n.timeNames[4]:d.i18n.timeNames[5]},TT:function(){return 12>S()?d.i18n.timeNames[6]:d.i18n.timeNames[7]},Z:function(){return g?"GMT":o?"UTC":(String(r).match(t)||[""]).pop().replace(i,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(C()>0?"-":"+")+p(100*Math.floor(Math.abs(C())/60)+Math.abs(C())%60,4)},p:function(){return(C()>0?"-":"+")+p(Math.floor(Math.abs(C())/60),2)+":"+p(Math.floor(Math.abs(C())%60),2)},S:function(){return["th","st","nd","rd"][b()%10>3?0:(b()%100-b()%10!=10)*b()%10]},W:function(){return N()},WW:function(){return p(N())},N:function(){return O()}};return a.replace(e,function(e){return e in P?P[e]():e.slice(1,e.length-1)})}}();d.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},d.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var p=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},c=function(e){var t=e.y,i=e.m,r=e.d,a=e._,o=e.dayName,l=e.short,d=void 0!==l&&l,p=new Date,c=new Date;c.setDate(c[a+"Date"]()-1);var u=new Date;u.setDate(u[a+"Date"]()+1);var h=function(){return p[a+"Date"]()},m=function(){return p[a+"Month"]()},g=function(){return c[a+"Date"]()},y=function(){return c[a+"Month"]()},v=function(){return c[a+"FullYear"]()},b=function(){return u[a+"Date"]()},w=function(){return u[a+"Month"]()},_=function(){return u[a+"FullYear"]()};return function(){return p[a+"FullYear"]()}()===t&&m()===i&&h()===r?d?"Tdy":"Today":v()===t&&y()===i&&g()===r?d?"Ysd":"Yesterday":_()===t&&w()===i&&b()===r?d?"Tmw":"Tomorrow":o},u=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var i=new Date(t.getFullYear(),0,4);i.setDate(i.getDate()-(i.getDay()+6)%7+3);var r=t.getTimezoneOffset()-i.getTimezoneOffset();return t.setHours(t.getHours()-r),1+Math.floor((t-i)/(864e5*7))},h=function(e){var t=e.getDay();return 0===t&&(t=7),t},m=function(e){return null===e?"null":void 0===e?"undefined":"object"!==a(e)?a(e):Array.isArray(e)?"array":({}).toString.call(e).slice(8,-1).toLowerCase()};void 0!==(r=(function(){return d}).call(t,i,t,e))&&(e.exports=r)}(void 0)},74469:e=>{"use strict";var t=function(e){return i(e)&&!r(e)};function i(e){return!!e&&"object"==typeof e}function r(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||o(e)}var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e){return e.$$typeof===a}function l(e){return Array.isArray(e)?[]:{}}function d(e,t){return!1!==t.clone&&t.isMergeableObject(e)?v(l(e),e,t):e}function p(e,t,i){return e.concat(t).map(function(e){return d(e,i)})}function c(e,t){if(!t.customMerge)return v;var i=t.customMerge(e);return"function"==typeof i?i:v}function u(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function h(e){return Object.keys(e).concat(u(e))}function m(e,t){try{return t in e}catch(e){return!1}}function g(e,t){return m(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function y(e,t,i){var r={};return i.isMergeableObject(e)&&h(e).forEach(function(t){r[t]=d(e[t],i)}),h(t).forEach(function(a){g(e,a)||(m(e,a)&&i.isMergeableObject(t[a])?r[a]=c(a,i)(e[a],t[a],i):r[a]=d(t[a],i))}),r}function v(e,i,r){(r=r||{}).arrayMerge=r.arrayMerge||p,r.isMergeableObject=r.isMergeableObject||t,r.cloneUnlessOtherwiseSpecified=d;var a=Array.isArray(i);return a!==Array.isArray(e)?d(i,r):a?r.arrayMerge(e,i,r):y(e,i,r)}v.all=function(e,t){if(!Array.isArray(e))throw Error("first argument should be an array");return e.reduce(function(e,i){return v(e,i,t)},{})};var b=v;e.exports=b},14949:(e,t,i)=>{var r=i(17337),a=function(){},o=global.Bare?queueMicrotask:process.nextTick.bind(process),l=function(e){return e.setHeader&&"function"==typeof e.abort},d=function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length},p=function(e,t,i){if("function"==typeof t)return p(e,null,t);t||(t={}),i=r(i||a);var c=e._writableState,u=e._readableState,h=t.readable||!1!==t.readable&&e.readable,m=t.writable||!1!==t.writable&&e.writable,g=!1,y=function(){e.writable||v()},v=function(){m=!1,h||i.call(e)},b=function(){h=!1,m||i.call(e)},w=function(t){i.call(e,t?Error("exited with error code: "+t):null)},_=function(t){i.call(e,t)},x=function(){o(S)},S=function(){if(!g&&(h&&!(u&&u.ended&&!u.destroyed)||m&&!(c&&c.ended&&!c.destroyed)))return i.call(e,Error("premature close"))},E=function(){e.req.on("finish",v)};return l(e)?(e.on("complete",v),e.on("abort",x),e.req?E():e.on("request",E)):m&&!c&&(e.on("end",y),e.on("close",y)),d(e)&&e.on("exit",w),e.on("end",b),e.on("finish",v),!1!==t.error&&e.on("error",_),e.on("close",x),function(){g=!0,e.removeListener("complete",v),e.removeListener("abort",x),e.removeListener("request",E),e.req&&e.req.removeListener("finish",v),e.removeListener("end",y),e.removeListener("close",y),e.removeListener("finish",v),e.removeListener("exit",w),e.removeListener("end",b),e.removeListener("error",_),e.removeListener("close",x)}};e.exports=p},95859:e=>{"use strict";/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var t=/["'&<>]/;function i(e){var i,r=""+e,a=t.exec(r);if(!a)return r;var o="",l=0,d=0;for(l=a.index;l<r.length;l++){switch(r.charCodeAt(l)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}d!==l&&(o+=r.substring(d,l)),d=l+1,o+=i}return d!==l?o+r.substring(d,l):o}e.exports=i},9083:e=>{"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=i.length)return!1;for(a=r;0!=a--;)if(!e(t[a],i[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(i,o[a]))return!1;for(a=r;0!=a--;){var r,a,o,l=o[a];if(!e(t[l],i[l]))return!1}return!0}return t!=t&&i!=i}},44656:(e,t,i)=>{"use strict";let r=i(76731),a=i(328),o=i(65978),l=i(95012),{groupRedact:d,nestedRedact:p}=i(45506),c=i(41543),u=i(74365),h=r(),m=e=>e;m.restore=m;let g="[REDACTED]";function y(e={}){let t=Array.from(new Set(e.paths||[])),i="serialize"in e?!1===e.serialize?e.serialize:"function"==typeof e.serialize?e.serialize:JSON.stringify:JSON.stringify,r=e.remove;if(!0===r&&i!==JSON.stringify)throw Error("fast-redact  remove option may only be set when serializer is JSON.stringify");let u=!0===r?void 0:"censor"in e?e.censor:g,y="function"==typeof u,v=y&&u.length>1;if(0===t.length)return i||m;h({paths:t,serialize:i,censor:u});let{wildcards:b,wcLen:w,secret:_}=a({paths:t,censor:u}),x=l();return o({secret:_,wcLen:w,serialize:i,strict:!("strict"in e)||e.strict,isCensorFct:y,censorFctTakesPath:v},c({secret:_,censor:u,compileRestore:x,serialize:i,groupRedact:d,nestedRedact:p,wildcards:b,wcLen:w}))}y.rx=u,y.validator=r,e.exports=y},45506:e=>{"use strict";function t({keys:e,values:t,target:i}){if(null==i||"string"==typeof i)return;let r=e.length;for(var a=0;a<r;a++)i[e[a]]=t[a]}function i(e,t,i,r,a){let o=d(e,t);if(null==o||"string"==typeof o)return{keys:null,values:null,target:o,flat:!0};let l=Object.keys(o),p=l.length,c=t.length,u=a?[...t]:void 0,h=Array(p);for(var m=0;m<p;m++){let e=l[m];h[m]=o[e],a?(u[c]=e,o[e]=i(o[e],u)):r?o[e]=i(o[e]):o[e]=i}return{keys:l,values:h,target:o,flat:!0}}function r(e){for(let t=0;t<e.length;t++){let{target:i,path:r,value:a}=e[t],o=i;for(let e=r.length-1;e>0;e--)o=o[r[e]];o[r[0]]=a}}function a(e,t,i,r,a,o,p){let c=d(t,i);if(null==c)return;let u=Object.keys(c),h=u.length;for(var m=0;m<h;m++)l(e,c,u[m],i,r,a,o,p);return e}function o(e,t){return null!=e&&("hasOwn"in Object?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t))}function l(e,t,i,r,a,l,d,m){let g=a.length,y=g-1,v=i;var b,w,_,x,S,E=-1,k=null,T=null,C=!1,N=0,O=0,P=c();if(_=b=t[i],"object"==typeof b){for(;null!=b&&++E<g&&(O+=1,i=a[E],k=_,"*"===i||T||"object"==typeof b&&(i in b));)if("*"!==i||("*"===T&&(C=!0),T=i,E===y)){if(T){let c=Object.keys(b);for(var I=0;I<c.length;I++){let g=c[I];if(S=b[g],x="*"===i,C)P=u(P,g,O),_=p(S,(N=E)-1,i,r,a,l,d,m,v,b,w,_,x,g,E,y,P,e,t[v],O+1);else if(x||"object"==typeof S&&null!==S&&i in S){if(_=x?S:S[i],w=E!==y?_:d?m?l(_,[...r,v,...a]):l(_):l,x){let i=h(u(P,g,O),_,t[v]);e.push(i),b[g]=w}else if(S[i]===w);else if(void 0===w&&void 0!==l||o(S,i)&&w===_)P=u(P,g,O);else{P=u(P,g,O);let r=h(u(P,i,O+1),_,t[v]);e.push(r),S[i]=w}}}T=null}else{if(_=b[i],P=u(P,i,O),w=E!==y?_:d?m?l(_,[...r,v,...a]):l(_):l,o(b,i)&&w===_||void 0===w&&void 0!==l);else{let r=h(P,_,t[v]);e.push(r),b[i]=w}b=b[i]}if("object"!=typeof b)break}}}function d(e,t){for(var i=-1,r=t.length,a=e;null!=a&&++i<r;)a=a[t[i]];return a}function p(e,t,i,r,a,l,d,c,m,g,y,v,b,w,_,x,S,E,k,T){if(0===t&&(b||"object"==typeof e&&null!==e&&i in e)){if(v=b?e:e[i],y=_!==x?v:d?c?l(v,[...r,m,...a]):l(v):l,b){let e=h(S,v,k);E.push(e),g[w]=y}else if(e[i]===y);else if(void 0===y&&void 0!==l||o(e,i)&&y===v);else{let t=h(u(S,i,T+1),v,k);E.push(t),e[i]=y}}for(let o in e)"object"==typeof e[o]&&(S=u(S,o,T),p(e[o],t-1,i,r,a,l,d,c,m,g,y,v,b,w,_,x,S,E,k,T+1))}function c(){return{parent:null,key:null,children:[],depth:0}}function u(e,t,i){if(e.depth===i)return u(e.parent,t,i);var r={parent:e,key:t,depth:i,children:[]};return e.children.push(r),r}function h(e,t,i){let r=e,a=[];do a.push(r.key),r=r.parent;while(null!=r.parent);return{path:a,value:t,target:i}}e.exports={groupRedact:i,groupRestore:t,nestedRedact:a,nestedRestore:r}},328:(e,t,i)=>{"use strict";let r=i(74365);function a({paths:e}){let t=[];var i=0;let a=e.reduce(function(e,a,o){var l=a.match(r).map(e=>e.replace(/'|"|`/g,""));let d="["===a[0],p=(l=l.map(e=>"["===e[0]?e.substr(1,e.length-2):e)).indexOf("*");if(p>-1){let e=l.slice(0,p),r=e.join("."),a=l.slice(p+1,l.length),o=a.length>0;i++,t.push({before:e,beforeStr:r,after:a,nested:o})}else e[a]={path:l,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(a),leadingBracket:d};return e},{});return{wildcards:t,wcLen:i,secret:a}}e.exports=a},65978:(e,t,i)=>{"use strict";let r=i(74365);function a({secret:e,serialize:t,wcLen:i,strict:r,isCensorFct:a,censorFctTakesPath:c},u){let h=Function("o",`
    if (typeof o !== 'object' || o == null) {
      ${p(r,t)}
    }
    const { censor, secret } = this
    const originalSecret = {}
    const secretKeys = Object.keys(secret)
    for (var i = 0; i < secretKeys.length; i++) {
      originalSecret[secretKeys[i]] = secret[secretKeys[i]]
    }

    ${o(e,a,c)}
    this.compileRestore()
    ${l(i>0,a,c)}
    this.secret = originalSecret
    ${d(t)}
  `).bind(u);return h.state=u,!1===t&&(h.restore=e=>u.restore(e)),h}function o(e,t,i){return Object.keys(e).map(a=>{let{escPath:o,leadingBracket:l,path:d}=e[a],p=l?1:0,c=l?"":".",u=[];for(;null!==(h=r.exec(a));){let[,e]=h,{index:t,input:i}=h;t>p&&u.push(i.substring(0,t-(e?0:1)))}var h,m=u.map(e=>`o${c}${e}`).join(" && ");0===m.length?m+=`o${c}${a} != null`:m+=` && o${c}${a} != null`;let g=`
      switch (true) {
        ${u.reverse().map(e=>`
          case o${c}${e} === censor:
            secret[${o}].circle = ${JSON.stringify(e)}
            break
        `).join("\n")}
      }
    `,y=i?`val, ${JSON.stringify(d)}`:"val";return`
      if (${m}) {
        const val = o${c}${a}
        if (val === censor) {
          secret[${o}].precensored = true
        } else {
          secret[${o}].val = val
          o${c}${a} = ${t?`censor(${y})`:"censor"}
          ${g}
        }
      }
    `}).join("\n")}function l(e,t,i){return!0===e?`
    {
      const { wildcards, wcLen, groupRedact, nestedRedact } = this
      for (var i = 0; i < wcLen; i++) {
        const { before, beforeStr, after, nested } = wildcards[i]
        if (nested === true) {
          secret[beforeStr] = secret[beforeStr] || []
          nestedRedact(secret[beforeStr], o, before, after, censor, ${t}, ${i})
        } else secret[beforeStr] = groupRedact(o, before, censor, ${t}, ${i})
      }
    }
  `:""}function d(e){return!1===e?"return o":`
    var s = this.serialize(o)
    this.restore(o)
    return s
  `}function p(e,t){return!0===e?"throw Error('fast-redact: primitives cannot be redacted')":!1===t?"return o":"return this.serialize(o)"}e.exports=a},95012:(e,t,i)=>{"use strict";let{groupRestore:r,nestedRestore:a}=i(45506);function o(){return function(){if(this.restore){this.restore.state.secret=this.secret;return}let{secret:e,wcLen:t}=this,i=Object.keys(e),o=l(e,i),p=t>0,c=p?{secret:e,groupRestore:r,nestedRestore:a}:{secret:e};this.restore=Function("o",d(o,i,p)).bind(c),this.restore.state=c}}function l(e,t){return t.map(t=>{let{circle:i,escPath:r,leadingBracket:a}=e[t],o=a?"":".",l=i?`o.${i} = secret[${r}].val`:`o${o}${t} = secret[${r}].val`,d=`secret[${r}].val = undefined`;return`
      if (secret[${r}].val !== undefined) {
        try { ${l} } catch (e) {}
        ${d}
      }
    `}).join("")}function d(e,t,i){let r=!0===i?`
    const keys = Object.keys(secret)
    const len = keys.length
    for (var i = len - 1; i >= ${t.length}; i--) {
      const k = keys[i]
      const o = secret[k]
      if (o) {
        if (o.flat === true) this.groupRestore(o)
        else this.nestedRestore(o)
        secret[k] = null
      }
    }
  `:"";return`
    const secret = this.secret
    ${r}
    ${e}
    return o
  `}e.exports=o},74365:e=>{"use strict";e.exports=/[^.[\]]+|\[((?:.)*?)\]/g},41543:e=>{"use strict";function t(e){let{secret:t,censor:i,compileRestore:r,serialize:a,groupRedact:o,nestedRedact:l,wildcards:d,wcLen:p}=e,c=[{secret:t,censor:i,compileRestore:r}];return!1!==a&&c.push({serialize:a}),p>0&&c.push({groupRedact:o,nestedRedact:l,wildcards:d,wcLen:p}),Object.assign(...c)}e.exports=t},76731:e=>{"use strict";function t(e={}){let{ERR_PATHS_MUST_BE_STRINGS:t=()=>"fast-redact - Paths must be (non-empty) strings",ERR_INVALID_PATH:i=e=>`fast-redact  Invalid path (${e})`}=e;return function({paths:e}){e.forEach(e=>{if("string"!=typeof e)throw Error(t());try{if(//.test(e))throw Error();let t=("["===e[0]?"":".")+e.replace(/^\*/,"").replace(/\.\*/g,".").replace(/\[\*\]/g,"[]");if(/\n|\r|;/.test(t)||/\/\*/.test(t))throw Error();Function(`
            'use strict'
            const o = new Proxy({}, { get: () => o, set: () => { throw Error() } });
            const  = null;
            o${t}
            if ([o${t}].length !== 1) throw Error()`)()}catch(t){throw Error(i(e))}})}}e.exports=t},72606:e=>{e.exports=l,l.default=l,l.stable=u,l.stableStringify=u;var t="[...]",i="[Circular]",r=[],a=[];function o(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function l(e,t,i,l){void 0===l&&(l=o()),p(e,"",0,[],void 0,0,l);try{d=0===a.length?JSON.stringify(e,t,i):JSON.stringify(e,m(t),i)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var d,c=r.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return d}function d(e,t,i,o){var l=Object.getOwnPropertyDescriptor(o,i);void 0!==l.get?l.configurable?(Object.defineProperty(o,i,{value:e}),r.push([o,i,t,l])):a.push([t,i,e]):(o[i]=e,r.push([o,i,t]))}function p(e,r,a,o,l,c,u){if(c+=1,"object"==typeof e&&null!==e){for(h=0;h<o.length;h++)if(o[h]===e){d(i,e,r,l);return}if(void 0!==u.depthLimit&&c>u.depthLimit||void 0!==u.edgesLimit&&a+1>u.edgesLimit){d(t,e,r,l);return}if(o.push(e),Array.isArray(e))for(h=0;h<e.length;h++)p(e[h],h,h,o,e,c,u);else{var h,m=Object.keys(e);for(h=0;h<m.length;h++){var g=m[h];p(e[g],g,h,o,e,c,u)}}o.pop()}}function c(e,t){return e<t?-1:e>t?1:0}function u(e,t,i,l){void 0===l&&(l=o());var d,p=h(e,"",0,[],void 0,0,l)||e;try{d=0===a.length?JSON.stringify(p,t,i):JSON.stringify(p,m(t),i)}catch(e){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;0!==r.length;){var c=r.pop();4===c.length?Object.defineProperty(c[0],c[1],c[3]):c[0][c[1]]=c[2]}}return d}function h(e,a,o,l,p,u,m){if(u+=1,"object"==typeof e&&null!==e){for(g=0;g<l.length;g++)if(l[g]===e){d(i,e,a,p);return}try{if("function"==typeof e.toJSON)return}catch(e){return}if(void 0!==m.depthLimit&&u>m.depthLimit||void 0!==m.edgesLimit&&o+1>m.edgesLimit){d(t,e,a,p);return}if(l.push(e),Array.isArray(e))for(g=0;g<e.length;g++)h(e[g],g,g,l,e,u,m);else{var g,y={},v=Object.keys(e).sort(c);for(g=0;g<v.length;g++){var b=v[g];h(e[b],b,g,l,e,u,m),y[b]=e[b]}if(void 0===p)return y;r.push([p,a,e]),p[a]=y}l.pop()}}function m(e){return e=void 0!==e?e:function(e,t){return t},function(t,i){if(a.length>0)for(var r=0;r<a.length;r++){var o=a[r];if(o[1]===t&&o[0]===i){i=o[2],a.splice(r,1);break}}return e.call(this,t,i)}}},35207:(e,t)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.i=function(e,t,i,r,a){var o,l,d=8*a-r-1,p=(1<<d)-1,c=p>>1,u=-7,h=i?a-1:0,m=i?-1:1,g=e[t+h];for(h+=m,o=g&(1<<-u)-1,g>>=-u,u+=d;u>0;o=256*o+e[t+h],h+=m,u-=8);for(l=o&(1<<-u)-1,o>>=-u,u+=r;u>0;l=256*l+e[t+h],h+=m,u-=8);if(0===o)o=1-c;else{if(o===p)return l?NaN:1/0*(g?-1:1);l+=Math.pow(2,r),o-=c}return(g?-1:1)*l*Math.pow(2,o-r)},t.c=function(e,t,i,r,a,o){var l,d,p,c=8*o-a-1,u=(1<<c)-1,h=u>>1,m=23===a?5960464477539062e-23:0,g=r?0:o-1,y=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(d=isNaN(t)?1:0,l=u):(l=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+h>=1?t+=m/p:t+=m*Math.pow(2,1-h),t*p>=2&&(l++,p/=2),l+h>=u?(d=0,l=u):l+h>=1?(d=(t*p-1)*Math.pow(2,a),l+=h):(d=t*Math.pow(2,h-1)*Math.pow(2,a),l=0));a>=8;e[i+g]=255&d,g+=y,d/=256,a-=8);for(l=l<<a|d,c+=a;c>0;e[i+g]=255&l,g+=y,l/=256,c-=8);e[i+g-y]|=128*v}},57803:function(e){!function(t){"use strict";let i="(0?\\d+|0x[a-f0-9]+)",r={fourOctet:RegExp(`^${i}\\.${i}\\.${i}\\.${i}$`,"i"),threeOctet:RegExp(`^${i}\\.${i}\\.${i}$`,"i"),twoOctet:RegExp(`^${i}\\.${i}$`,"i"),longValue:RegExp(`^${i}$`,"i")},a=RegExp("^0[0-7]+$","i"),o=RegExp("^0x[a-f0-9]+$","i"),l="%[0-9a-z]{1,}",d="(?:[0-9a-f]+::?)+",p={zoneIndex:RegExp(l,"i"),native:RegExp(`^(::)?(${d})?([0-9a-f]+)?(::)?(${l})?$`,"i"),deprecatedTransitional:RegExp(`^(?:::)(${i}\\.${i}\\.${i}\\.${i}(${l})?)$`,"i"),transitional:RegExp(`^((?:${d})|(?:::)(?:${d})?)${i}\\.${i}\\.${i}\\.${i}(${l})?$`,"i")};function c(e,t){let i,r;if(e.indexOf("::")!==e.lastIndexOf("::"))return null;let a=0,o=-1,l=(e.match(p.zoneIndex)||[])[0];for(l&&(l=l.substring(1),e=e.replace(/%.+$/,""));(o=e.indexOf(":",o+1))>=0;)a++;if("::"===e.substr(0,2)&&a--,"::"===e.substr(-2,2)&&a--,a>t)return null;for(r=t-a,i=":";r--;)i+="0:";return":"===(e=e.replace("::",i))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),{parts:t=function(){let t=e.split(":"),i=[];for(let e=0;e<t.length;e++)i.push(parseInt(t[e],16));return i}(),zoneId:l}}function u(e,t,i,r){let a;if(e.length!==t.length)throw Error("ipaddr: cannot match CIDR for objects with different lengths");let o=0;for(;r>0;){if((a=i-r)<0&&(a=0),e[o]>>a!=t[o]>>a)return!1;r-=i,o+=1}return!0}function h(e){if(o.test(e))return parseInt(e,16);if("0"===e[0]&&!isNaN(parseInt(e[1],10))){if(a.test(e))return parseInt(e,8);throw Error(`ipaddr: cannot parse ${e} as octal`)}return parseInt(e,10)}function m(e,t){for(;e.length<t;)e=`0${e}`;return e}let g={};g.IPv4=function(){function e(e){let t,i;if(4!==e.length)throw Error("ipaddr: ipv4 octet count should be 4");for(t=0;t<e.length;t++)if(!(0<=(i=e[t])&&i<=255))throw Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e}return e.prototype.SpecialRanges={unspecified:[[new e([0,0,0,0]),8]],broadcast:[[new e([255,255,255,255]),32]],multicast:[[new e([224,0,0,0]),4]],linkLocal:[[new e([169,254,0,0]),16]],loopback:[[new e([127,0,0,0]),8]],carrierGradeNat:[[new e([100,64,0,0]),10]],private:[[new e([10,0,0,0]),8],[new e([172,16,0,0]),12],[new e([192,168,0,0]),16]],reserved:[[new e([192,0,0,0]),24],[new e([192,0,2,0]),24],[new e([192,88,99,0]),24],[new e([198,18,0,0]),15],[new e([198,51,100,0]),24],[new e([203,0,113,0]),24],[new e([240,0,0,0]),4]],as112:[[new e([192,175,48,0]),24],[new e([192,31,196,0]),24]],amt:[[new e([192,52,193,0]),24]]},e.prototype.kind=function(){return"ipv4"},e.prototype.match=function(e,t){let i;if(void 0===t&&(e=(i=e)[0],t=i[1]),"ipv4"!==e.kind())throw Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return u(this.octets,e.octets,8,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e,t,i,r=0,a=!1,o={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0};for(e=3;e>=0;e-=1){if(!((t=this.octets[e])in o)||(i=o[t],a&&0!==i))return null;8!==i&&(a=!0),r+=i}return 32-r},e.prototype.range=function(){return g.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){return this.octets.slice(0)},e.prototype.toIPv4MappedAddress=function(){return g.IPv6.parse(`::ffff:${this.toString()}`)},e.prototype.toNormalizedString=function(){return this.toString()},e.prototype.toString=function(){return this.octets.join(".")},e}(),g.IPv4.broadcastAddressFromCIDR=function(e){try{let t=this.parseCIDR(e),i=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),a=[],o=0;for(;o<4;)a.push(parseInt(i[o],10)|255^parseInt(r[o],10)),o++;return new this(a)}catch(e){throw Error("ipaddr: the address does not have IPv4 CIDR format")}},g.IPv4.isIPv4=function(e){return null!==this.parser(e)},g.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return!1}},g.IPv4.isValidCIDR=function(e){try{return this.parseCIDR(e),!0}catch(e){return!1}},g.IPv4.isValidFourPartDecimal=function(e){return!!(g.IPv4.isValid(e)&&e.match(/^(0|[1-9]\d*)(\.(0|[1-9]\d*)){3}$/))},g.IPv4.networkAddressFromCIDR=function(e){let t,i,r,a,o;try{for(r=(t=this.parseCIDR(e))[0].toByteArray(),o=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),a=[],i=0;i<4;)a.push(parseInt(r[i],10)&parseInt(o[i],10)),i++;return new this(a)}catch(e){throw Error("ipaddr: the address does not have IPv4 CIDR format")}},g.IPv4.parse=function(e){let t=this.parser(e);if(null===t)throw Error("ipaddr: string is not formatted like an IPv4 Address");return new this(t)},g.IPv4.parseCIDR=function(e){let t;if(t=e.match(/^(.+)\/(\d+)$/)){let e=parseInt(t[2]);if(e>=0&&e<=32){let i=[this.parse(t[1]),e];return Object.defineProperty(i,"toString",{value:function(){return this.join("/")}}),i}}throw Error("ipaddr: string is not formatted like an IPv4 CIDR range")},g.IPv4.parser=function(e){let t,i;if(t=e.match(r.fourOctet))return function(){let e=t.slice(1,6),i=[];for(let t=0;t<e.length;t++)i.push(h(e[t]));return i}();if(t=e.match(r.longValue)){if((i=h(t[1]))>4294967295||i<0)throw Error("ipaddr: address outside defined range");return(function(){let e;let t=[];for(e=0;e<=24;e+=8)t.push(i>>e&255);return t})().reverse()}return(t=e.match(r.twoOctet))?function(){let e=t.slice(1,4),r=[];if((i=h(e[1]))>16777215||i<0)throw Error("ipaddr: address outside defined range");return r.push(h(e[0])),r.push(i>>16&255),r.push(i>>8&255),r.push(255&i),r}():(t=e.match(r.threeOctet))?function(){let e=t.slice(1,5),r=[];if((i=h(e[2]))>65535||i<0)throw Error("ipaddr: address outside defined range");return r.push(h(e[0])),r.push(h(e[1])),r.push(i>>8&255),r.push(255&i),r}():null},g.IPv4.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>32)throw Error("ipaddr: invalid IPv4 prefix length");let t=[0,0,0,0],i=0,r=Math.floor(e/8);for(;i<r;)t[i]=255,i++;return r<4&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},g.IPv6=function(){function e(e,t){let i,r;if(16===e.length)for(i=0,this.parts=[];i<=14;i+=2)this.parts.push(e[i]<<8|e[i+1]);else if(8===e.length)this.parts=e;else throw Error("ipaddr: ipv6 part count should be 8 or 16");for(i=0;i<this.parts.length;i++)if(!(0<=(r=this.parts[i])&&r<=65535))throw Error("ipaddr: ipv6 part should fit in 16 bits");t&&(this.zoneId=t)}return e.prototype.SpecialRanges={unspecified:[new e([0,0,0,0,0,0,0,0]),128],linkLocal:[new e([65152,0,0,0,0,0,0,0]),10],multicast:[new e([65280,0,0,0,0,0,0,0]),8],loopback:[new e([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new e([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new e([0,0,0,0,0,65535,0,0]),96],discard:[new e([256,0,0,0,0,0,0,0]),64],rfc6145:[new e([0,0,0,0,65535,0,0,0]),96],rfc6052:[new e([100,65435,0,0,0,0,0,0]),96],"6to4":[new e([8194,0,0,0,0,0,0,0]),16],teredo:[new e([8193,0,0,0,0,0,0,0]),32],benchmarking:[new e([8193,2,0,0,0,0,0,0]),48],amt:[new e([8193,3,0,0,0,0,0,0]),32],as112v6:[[new e([8193,4,274,0,0,0,0,0]),48],[new e([9760,79,32768,0,0,0,0,0]),48]],deprecated:[new e([8193,16,0,0,0,0,0,0]),28],orchid2:[new e([8193,32,0,0,0,0,0,0]),28],droneRemoteIdProtocolEntityTags:[new e([8193,48,0,0,0,0,0,0]),28],reserved:[[new e([8193,0,0,0,0,0,0,0]),23],[new e([8193,3512,0,0,0,0,0,0]),32]]},e.prototype.isIPv4MappedAddress=function(){return"ipv4Mapped"===this.range()},e.prototype.kind=function(){return"ipv6"},e.prototype.match=function(e,t){let i;if(void 0===t&&(e=(i=e)[0],t=i[1]),"ipv6"!==e.kind())throw Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return u(this.parts,e.parts,16,t)},e.prototype.prefixLengthFromSubnetMask=function(){let e,t,i=0,r=!1,a={0:16,32768:15,49152:14,57344:13,61440:12,63488:11,64512:10,65024:9,65280:8,65408:7,65472:6,65504:5,65520:4,65528:3,65532:2,65534:1,65535:0};for(let o=7;o>=0;o-=1){if(!((e=this.parts[o])in a)||(t=a[e],r&&0!==t))return null;16!==t&&(r=!0),i+=t}return 128-i},e.prototype.range=function(){return g.subnetMatch(this,this.SpecialRanges)},e.prototype.toByteArray=function(){let e;let t=[],i=this.parts;for(let r=0;r<i.length;r++)t.push((e=i[r])>>8),t.push(255&e);return t},e.prototype.toFixedLengthString=function(){let e=(function(){let e=[];for(let t=0;t<this.parts.length;t++)e.push(m(this.parts[t].toString(16),4));return e}).call(this).join(":"),t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toIPv4Address=function(){if(!this.isIPv4MappedAddress())throw Error("ipaddr: trying to convert a generic ipv6 address to ipv4");let e=this.parts.slice(-2),t=e[0],i=e[1];return new g.IPv4([t>>8,255&t,i>>8,255&i])},e.prototype.toNormalizedString=function(){let e=(function(){let e=[];for(let t=0;t<this.parts.length;t++)e.push(this.parts[t].toString(16));return e}).call(this).join(":"),t="";return this.zoneId&&(t=`%${this.zoneId}`),e+t},e.prototype.toRFC5952String=function(){let e;let t=/((^|:)(0(:|$)){2,})/g,i=this.toNormalizedString(),r=0,a=-1;for(;e=t.exec(i);)e[0].length>a&&(r=e.index,a=e[0].length);return a<0?i:`${i.substring(0,r)}::${i.substring(r+a)}`},e.prototype.toString=function(){return this.toRFC5952String()},e}(),g.IPv6.broadcastAddressFromCIDR=function(e){try{let t=this.parseCIDR(e),i=t[0].toByteArray(),r=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),a=[],o=0;for(;o<16;)a.push(parseInt(i[o],10)|255^parseInt(r[o],10)),o++;return new this(a)}catch(e){throw Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},g.IPv6.isIPv6=function(e){return null!==this.parser(e)},g.IPv6.isValid=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{let t=this.parser(e);return new this(t.parts,t.zoneId),!0}catch(e){return!1}},g.IPv6.isValidCIDR=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{return this.parseCIDR(e),!0}catch(e){return!1}},g.IPv6.networkAddressFromCIDR=function(e){let t,i,r,a,o;try{for(r=(t=this.parseCIDR(e))[0].toByteArray(),o=this.subnetMaskFromPrefixLength(t[1]).toByteArray(),a=[],i=0;i<16;)a.push(parseInt(r[i],10)&parseInt(o[i],10)),i++;return new this(a)}catch(e){throw Error(`ipaddr: the address does not have IPv6 CIDR format (${e})`)}},g.IPv6.parse=function(e){let t=this.parser(e);if(null===t.parts)throw Error("ipaddr: string is not formatted like an IPv6 Address");return new this(t.parts,t.zoneId)},g.IPv6.parseCIDR=function(e){let t,i,r;if((i=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(i[2]))>=0&&t<=128)return Object.defineProperty(r=[this.parse(i[1]),t],"toString",{value:function(){return this.join("/")}}),r;throw Error("ipaddr: string is not formatted like an IPv6 CIDR range")},g.IPv6.parser=function(e){let t,i,r,a,o,l;if(r=e.match(p.deprecatedTransitional))return this.parser(`::ffff:${r[1]}`);if(p.native.test(e))return c(e,8);if((r=e.match(p.transitional))&&(l=r[6]||"",t=r[1],r[1].endsWith("::")||(t=t.slice(0,-1)),(t=c(t+l,6)).parts)){for(i=0,o=[parseInt(r[2]),parseInt(r[3]),parseInt(r[4]),parseInt(r[5])];i<o.length;i++)if(!(0<=(a=o[i])&&a<=255))return null;return t.parts.push(o[0]<<8|o[1]),t.parts.push(o[2]<<8|o[3]),{parts:t.parts,zoneId:t.zoneId}}return null},g.IPv6.subnetMaskFromPrefixLength=function(e){if((e=parseInt(e))<0||e>128)throw Error("ipaddr: invalid IPv6 prefix length");let t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0,r=Math.floor(e/8);for(;i<r;)t[i]=255,i++;return r<16&&(t[r]=Math.pow(2,e%8)-1<<8-e%8),new this(t)},g.fromByteArray=function(e){let t=e.length;if(4===t)return new g.IPv4(e);if(16===t)return new g.IPv6(e);throw Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},g.isValid=function(e){return g.IPv6.isValid(e)||g.IPv4.isValid(e)},g.isValidCIDR=function(e){return g.IPv6.isValidCIDR(e)||g.IPv4.isValidCIDR(e)},g.parse=function(e){if(g.IPv6.isValid(e))return g.IPv6.parse(e);if(g.IPv4.isValid(e))return g.IPv4.parse(e);throw Error("ipaddr: the address has neither IPv6 nor IPv4 format")},g.parseCIDR=function(e){try{return g.IPv6.parseCIDR(e)}catch(t){try{return g.IPv4.parseCIDR(e)}catch(e){throw Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},g.process=function(e){let t=this.parse(e);return"ipv6"===t.kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t},g.subnetMatch=function(e,t,i){let r,a,o,l;for(a in null==i&&(i="unicast"),t)if(Object.prototype.hasOwnProperty.call(t,a)){for(!(o=t[a])[0]||o[0]instanceof Array||(o=[o]),r=0;r<o.length;r++)if(l=o[r],e.kind()===l[0].kind()&&e.match.apply(e,l))return a}return i},e.exports?e.exports=g:t.ipaddr=g}(this)},62555:(e,t,i)=>{function r(e){return e&&e.default||e}e.exports=global.fetch=global.fetch||("undefined"==typeof process?r(i(32701)):function(e,t){return r(i(10820))(String(e).replace(/^\/\//g,"https://"),t)})},89330:(e,t,i)=>{var r,a;/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){var l;void 0!==(a="function"==typeof(r=o)?r.call(t,i,t,e):r)&&(e.exports=a),l=!0,e.exports=o(),l=!0}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function i(r){function a(){}function o(t,i,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},a.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var l=JSON.stringify(i);/^[\{\[]/.test(l)&&(i=l)}catch(e){}i=r.write?r.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var d="";for(var p in o)o[p]&&(d+="; "+p,!0!==o[p]&&(d+="="+o[p].split(";")[0]));return document.cookie=t+"="+i+d}}function l(e,i){if("undefined"!=typeof document){for(var a={},o=document.cookie?document.cookie.split("; "):[],l=0;l<o.length;l++){var d=o[l].split("="),p=d.slice(1).join("=");i||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var c=t(d[0]);if(p=(r.read||r)(p,c)||t(p),i)try{p=JSON.parse(p)}catch(e){}if(a[c]=p,e===c)break}catch(e){}}return e?a[e]:a}}return a.set=o,a.get=function(e){return l(e,!1)},a.getJSON=function(e){return l(e,!0)},a.remove=function(t,i){o(t,"",e(i,{expires:-1}))},a.defaults={},a.withConverter=i,a}return i(function(){})})},90312:e=>{"use strict";let{FORCE_COLOR:t,NODE_DISABLE_COLORS:i,TERM:r}=process.env,a={enabled:!i&&"dumb"!==r&&"0"!==t,reset:d(0,0),bold:d(1,22),dim:d(2,22),italic:d(3,23),underline:d(4,24),inverse:d(7,27),hidden:d(8,28),strikethrough:d(9,29),black:d(30,39),red:d(31,39),green:d(32,39),yellow:d(33,39),blue:d(34,39),magenta:d(35,39),cyan:d(36,39),white:d(37,39),gray:d(90,39),grey:d(90,39),bgBlack:d(40,49),bgRed:d(41,49),bgGreen:d(42,49),bgYellow:d(43,49),bgBlue:d(44,49),bgMagenta:d(45,49),bgCyan:d(46,49),bgWhite:d(47,49)};function o(e,t){let i=0,r,a="",o="";for(;i<e.length;i++)a+=(r=e[i]).open,o+=r.close,t.includes(r.close)&&(t=t.replace(r.rgx,r.close+r.open));return a+t+o}function l(e,t){let i={has:e,keys:t};return i.reset=a.reset.bind(i),i.bold=a.bold.bind(i),i.dim=a.dim.bind(i),i.italic=a.italic.bind(i),i.underline=a.underline.bind(i),i.inverse=a.inverse.bind(i),i.hidden=a.hidden.bind(i),i.strikethrough=a.strikethrough.bind(i),i.black=a.black.bind(i),i.red=a.red.bind(i),i.green=a.green.bind(i),i.yellow=a.yellow.bind(i),i.blue=a.blue.bind(i),i.magenta=a.magenta.bind(i),i.cyan=a.cyan.bind(i),i.white=a.white.bind(i),i.gray=a.gray.bind(i),i.grey=a.grey.bind(i),i.bgBlack=a.bgBlack.bind(i),i.bgRed=a.bgRed.bind(i),i.bgGreen=a.bgGreen.bind(i),i.bgYellow=a.bgYellow.bind(i),i.bgBlue=a.bgBlue.bind(i),i.bgMagenta=a.bgMagenta.bind(i),i.bgCyan=a.bgCyan.bind(i),i.bgWhite=a.bgWhite.bind(i),i}function d(e,t){let i={open:`\x1b[${e}m`,close:`\x1b[${t}m`,rgx:RegExp(`\\x1b\\[${t}m`,"g")};return function(t){return void 0!==this&&void 0!==this.has?(this.has.includes(e)||(this.has.push(e),this.keys.push(i)),void 0===t?this:a.enabled?o(this.keys,t+""):t+""):void 0===t?l([e],[i]):a.enabled?o([i],t+""):t+""}}e.exports=a},3614:(e,t,i)=>{let r=require;"function"==typeof r.addon?e.exports=r.addon.bind(r):e.exports=i(27262)},27262:(e,t,i)=>{var r=i(57147),a=i(71017),o=i(22037),l=require,d=process.config&&process.config.variables||{},p=!!process.env.PREBUILDS_ONLY,c=process.versions.modules,u=I()?"electron":P()?"node-webkit":"node",h=process.env.npm_config_arch||o.arch(),m=process.env.npm_config_platform||o.platform(),g=process.env.LIBC||(L(m)?"musl":"glibc"),y=process.env.ARM_VERSION||("arm64"===h?"8":d.arm_version)||"",v=(process.versions.uv||"").split(".")[0];function b(e){return l(b.resolve(e))}function w(e){try{return r.readdirSync(e)}catch(e){return[]}}function _(e,t){var i=w(e).filter(t);return i[0]&&a.join(e,i[0])}function x(e){return/\.node$/.test(e)}function S(e){var t=e.split("-");if(2===t.length){var i=t[0],r=t[1].split("+");if(i&&r.length&&r.every(Boolean))return{name:e,platform:i,architectures:r}}}function E(e,t){return function(i){return null!=i&&i.platform===e&&i.architectures.includes(t)}}function k(e,t){return e.architectures.length-t.architectures.length}function T(e){var t=e.split("."),i=t.pop(),r={file:e,specificity:0};if("node"===i){for(var a=0;a<t.length;a++){var o=t[a];if("node"===o||"electron"===o||"node-webkit"===o)r.runtime=o;else if("napi"===o)r.napi=!0;else if("abi"===o.slice(0,3))r.abi=o.slice(3);else if("uv"===o.slice(0,2))r.uv=o.slice(2);else if("armv"===o.slice(0,4))r.armv=o.slice(4);else{if("glibc"!==o&&"musl"!==o)continue;r.libc=o}r.specificity++}return r}}function C(e,t){return function(i){return null!=i&&(!i.runtime||i.runtime===e||!!N(i))&&(!i.abi||i.abi===t||!!i.napi)&&(!i.uv||i.uv===v)&&(!i.armv||i.armv===y)&&(!i.libc||i.libc===g)}}function N(e){return"node"===e.runtime&&e.napi}function O(e){return function(t,i){return t.runtime!==i.runtime?t.runtime===e?-1:1:t.abi!==i.abi?t.abi?-1:1:t.specificity!==i.specificity?t.specificity>i.specificity?-1:1:0}}function P(){return!!(process.versions&&process.versions.nw)}function I(){return!!process.versions&&!!process.versions.electron||!!process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type}function L(e){return"linux"===e&&r.existsSync("/etc/alpine-release")}e.exports=b,b.resolve=b.path=function(e){e=a.resolve(e||".");try{var t=l(a.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!p){var i=_(a.join(e,"build/Release"),x);if(i)return i;var r=_(a.join(e,"build/Debug"),x);if(r)return r}var o=b(e);if(o)return o;var d=b(a.dirname(process.execPath));if(d)return d;throw Error("No native build was found for "+["platform="+m,"arch="+h,"runtime="+u,"abi="+c,"uv="+v,y?"armv="+y:"","libc="+g,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ")+"\n    loaded from: "+e+"\n");function b(e){var t=w(a.join(e,"prebuilds")).map(S).filter(E(m,h)).sort(k)[0];if(t){var i=a.join(e,"prebuilds",t.name),r=w(i).map(T),o=r.filter(C(u,c)),l=o.sort(O(u))[0];if(l)return a.join(i,l.file)}}},b.parseTags=T,b.matchTags=C,b.compareTags=O,b.parseTuple=S,b.matchTuple=E,b.compareTuples=k},66134:e=>{"use strict";function t(e){let t,i,a,o=!1,l="text",d=[],p={address:[],comment:[],group:[],text:[]};for(i=0,a=e.length;i<a;i++){let t=e[i],r=i?e[i-1]:null;if("operator"===t.type)switch(t.value){case"<":l="address";break;case"(":l="comment";break;case":":l="group",o=!0;break;default:l="text"}else t.value&&("address"===l&&(t.value=t.value.replace(/^[^<]*<\s*/,"")),r&&r.noBreak&&p[l].length?p[l][p[l].length-1]+=t.value:p[l].push(t.value))}if(!p.text.length&&p.comment.length&&(p.text=p.comment,p.comment=[]),o)p.text=p.text.join(" "),d.push({name:p.text||t&&t.name,group:p.group.length?r(p.group.join(",")):[]});else{if(!p.address.length&&p.text.length){for(i=p.text.length-1;i>=0;i--)if(p.text[i].match(/^[^@\s]+@[^@\s]+$/)){p.address=p.text.splice(i,1);break}let e=function(e){return p.address.length?e:(p.address=[e.trim()]," ")};if(!p.address.length)for(i=p.text.length-1;i>=0&&(p.text[i]=p.text[i].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,e).trim(),!p.address.length);i--);}if(!p.text.length&&p.comment.length&&(p.text=p.comment,p.comment=[]),p.address.length>1&&(p.text=p.text.concat(p.address.splice(1))),p.text=p.text.join(" "),p.address=p.address.join(" "),!p.address&&o)return[];(t={address:p.address||p.text||"",name:p.text||p.address||""}).address===t.name&&((t.address||"").match(/@/)?t.name="":t.address=""),d.push(t)}return d}class i{constructor(e){this.str=(e||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let e=[];for(let e=0,t=this.str.length;e<t;e++){let i=this.str.charAt(e),r=e<t-1?this.str.charAt(e+1):null;this.checkChar(i,r)}return this.list.forEach(t=>{t.value=(t.value||"").toString().trim(),t.value&&e.push(t)}),e}checkChar(e,t){if(this.escaped);else if(e===this.operatorExpecting){this.node={type:"operator",value:e},t&&![" ","	","\r","\n",",",";"].includes(t)&&(this.node.noBreak=!0),this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&e in this.operators){this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[e],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&"\\"===e){this.escaped=!0;return}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),"\n"===e&&(e=" "),(e.charCodeAt(0)>=33||[" ","	"].includes(e))&&(this.node.value+=e),this.escaped=!1}}function r(e,r){r=r||{};let a=new i(e).tokenize(),o=[],l=[],d=[];if(a.forEach(e=>{"operator"===e.type&&(","===e.value||";"===e.value)?(l.length&&o.push(l),l=[]):l.push(e)}),l.length&&o.push(l),o.forEach(e=>{(e=t(e)).length&&(d=d.concat(e))}),r.flatten){let e=[],t=i=>{i.forEach(i=>{if(i.group)return t(i.group);e.push(i)})};return t(d),e}return d}e.exports=r},70943:(e,t,i)=>{"use strict";let r=i(12781).Transform;function a(e){return"string"==typeof e&&(e=Buffer.from(e,"utf-8")),e.toString("base64")}function o(e,t){if(e=(e||"").toString(),t=t||76,e.length<=t)return e;let i=[],r=0,a=1024*t;for(;r<e.length;){let o=e.substr(r,a).replace(RegExp(".{"+t+"}","g"),"$&\r\n").trim();i.push(o),r+=a}return i.join("\r\n").trim()}class l extends r{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(e,t,i){if("buffer"!==t&&(e=Buffer.from(e,t)),!e||!e.length)return setImmediate(i);this.inputBytes+=e.length,this._remainingBytes&&this._remainingBytes.length&&(e=Buffer.concat([this._remainingBytes,e],this._remainingBytes.length+e.length),this._remainingBytes=!1),e.length%3?(this._remainingBytes=e.slice(e.length-e.length%3),e=e.slice(0,e.length-e.length%3)):this._remainingBytes=!1;let r=this._curLine+a(e);if(this.options.lineLength){let e=(r=o(r,this.options.lineLength)).lastIndexOf("\n");e<0?(this._curLine=r,r=""):e===r.length-1?this._curLine="":(this._curLine=r.substr(e+1),r=r.substr(0,e+1))}r&&(this.outputBytes+=r.length,this.push(Buffer.from(r,"ascii"))),setImmediate(i)}_flush(e){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=a(this._remainingBytes)),this._curLine&&(this._curLine=o(this._curLine,this.options.lineLength),this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii"),this._curLine=""),e()}}e.exports={encode:a,wrap:o,Encoder:l}},54217:(e,t,i)=>{"use strict";let r=i(60372),a=i(79020),o=i(41861),l=i(12781).PassThrough,d=i(57147),p=i(71017),c=i(6113),u="sha256",h=131072;class m{constructor(e,t,i,r){this.options=e||{},this.keys=t,this.cacheTreshold=Number(this.options.cacheTreshold)||h,this.hashAlgo=this.options.hashAlgo||u,this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=!!this.cacheDir&&p.join(this.cacheDir,"message."+Date.now()+"-"+c.randomBytes(14).toString("hex")),this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=i,this.output=r,this.output.usingCache=!1,this.hasErrored=!1,this.input.on("error",e=>{this.hasErrored=!0,this.cleanup(),r.emit("error",e)})}cleanup(){this.cache&&this.cachePath&&d.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=d.createReadStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.output.emit("error",e)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let e=this.chunks[this.readPos++];if(!1===this.output.write(e))return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let e=0,t=()=>{if(e>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let i=this.keys[e++],r=o(this.headers,this.hashAlgo,this.bodyHash,{domainName:i.domainName,keySelector:i.keySelector,privateKey:i.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return r&&this.output.write(Buffer.from(r+"\r\n")),setImmediate(t)};if(this.bodyHash&&this.headers)return t();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=d.createWriteStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;null!==this.relaxedBody.read(););}),this.hasErrored=!0,this.output.emit("error",e)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new r,this.relaxedBody=new a({hashAlgo:this.hashAlgo}),this.parser.on("headers",e=>{this.headers=e}),this.relaxedBody.on("hash",e=>{this.bodyHash=e}),this.relaxedBody.on("readable",()=>{let e;if(!this.cache){for(;null!==(e=this.relaxedBody.read());)if(this.chunks.push(e),this.chunklen+=e.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}}class g{constructor(e){this.options=e||{},this.keys=[].concat(this.options.keys||{domainName:e.domainName,keySelector:e.keySelector,privateKey:e.privateKey})}sign(e,t){let i=new l,r=e,a=!1;Buffer.isBuffer(e)?(a=e,r=new l):"string"==typeof e&&(a=Buffer.from(e),r=new l);let o=this.options;t&&Object.keys(t).length&&(o={},Object.keys(this.options||{}).forEach(e=>{o[e]=this.options[e]}),Object.keys(t||{}).forEach(e=>{e in o||(o[e]=t[e])}));let d=new m(o,this.keys,r,i);return setImmediate(()=>{d.signStream(),a&&setImmediate(()=>{r.end(a)})}),i}}e.exports=g},60372:(e,t,i)=>{"use strict";let r=i(12781).Transform;class a extends r{constructor(e){super(e),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(e){let t=this.lastBytes.length,i=Math.min(e.length,t);for(let e=0,r=t-i;e<r;e++)this.lastBytes[e]=this.lastBytes[e+i];for(let r=1;r<=i;r++)this.lastBytes[t-r]=e[e.length-r]}checkHeaders(e){if(this.headersParsed)return!0;let t=this.lastBytes.length,i=0;this.curLinePos=0;for(let r=0,a=this.lastBytes.length+e.length;r<a;r++){let a;if(10===(a=r<t?this.lastBytes[r]:e[r-t])&&r){let a=r-1<t?this.lastBytes[r-1]:e[r-1-t],o=r>1&&(r-2<t?this.lastBytes[r-2]:e[r-2-t]);if(10===a||13===a&&10===o){this.headersParsed=!0,i=r-t+1,this.headerBytes+=i;break}}}if(this.headersParsed){if(this.headerChunks.push(e.slice(0,i)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),e.length-1>i){let t=e.slice(i);this.bodySize+=t.length,setImmediate(()=>this.push(t))}return!1}return this.headerBytes+=e.length,this.headerChunks.push(e),this.updateLastBytes(e),!1}_transform(e,t,i){let r;if(!e||!e.length)return i();"string"==typeof e&&(e=Buffer.from(e,t));try{r=this.checkHeaders(e)}catch(e){return i(e)}r&&(this.bodySize+=e.length,this.push(e)),setImmediate(i)}_flush(e){if(this.headerChunks){let e=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=e.length,this.push(e),this.headerChunks=null}e()}parseHeaders(){let e=(this.rawHeaders||"").toString().split(/\r?\n/);for(let t=e.length-1;t>0;t--)/^\s/.test(e[t])&&(e[t-1]+="\n"+e[t],e.splice(t,1));return e.filter(e=>e.trim()).map(e=>({key:e.substr(0,e.indexOf(":")).trim().toLowerCase(),line:e}))}}e.exports=a},79020:(e,t,i)=>{"use strict";let r=i(12781).Transform,a=i(6113);class o extends r{constructor(e){super(),e=e||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=a.createHash(e.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=e.debug,this._debugBody=!!e.debug&&[]}updateHash(e){let t;let i="",r="file";for(let t=e.length-1;t>=0;t--){let a=e[t];if("file"===r&&(10===a||13===a));else if("file"===r&&(9===a||32===a))r="line";else if("line"===r&&(9===a||32===a));else if(("file"===r||"line"===r)&&(r="body",t===e.length-1))break;if(0===t){if("file"===r&&(!this.remainder||/[\r\n]$/.test(this.remainder))||"line"===r&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=e.toString("binary");return}if("line"===r||"file"===r){i=e.toString("binary"),e=!1;break}}if("body"===r){i=e.slice(t+1).toString("binary"),e=e.slice(0,t+1);break}}let a=!!this.remainder;if(e&&!a)for(let t=0,i=e.length;t<i;t++){if(t&&10===e[t]&&13!==e[t-1]||t&&13===e[t]&&32===e[t-1]){a=!0;break}if(t&&32===e[t]&&32===e[t-1]){a=!0;break}if(9===e[t]){a=!0;break}}a?(t=this.remainder+(e?e.toString("binary"):""),this.remainder=i,t=t.replace(/\r?\n/g,"\n").replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,"\r\n"),e=Buffer.from(t,"binary")):i&&(this.remainder=i),this.debug&&this._debugBody.push(e),this.bodyHash.update(e)}_transform(e,t,i){if(!e||!e.length)return i();"string"==typeof e&&(e=Buffer.from(e,t)),this.updateHash(e),this.byteLength+=e.length,this.push(e),i()}_flush(e){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from("\r\n")),this.byteLength||this.push(Buffer.from("\r\n")),this.emit("hash",this.bodyHash.digest("base64"),!!this.debug&&Buffer.concat(this._debugBody)),e()}}e.exports=o},41861:(e,t,i)=>{"use strict";let r=i(35032),a=i(54552),o=i(6113);function l(e,t,i,o,l){let d=["v=1","a=rsa-"+o,"c=relaxed/relaxed","d="+r.toASCII(e),"q=dns/txt","s="+t,"bh="+l,"h="+i].join("; ");return a.foldLines("DKIM-Signature: "+d,76)+";\r\n b="}function d(e,t,i){let r=new Set,a=new Set,o=new Map;(i||"").toLowerCase().split(":").forEach(e=>{a.add(e.trim())}),(t||"").toLowerCase().split(":").filter(e=>!a.has(e.trim())).forEach(e=>{r.add(e.trim())});for(let t=e.length-1;t>=0;t--){let i=e[t];r.has(i.key)&&!o.has(i.key)&&o.set(i.key,p(i.line))}let l=[],d=[];return r.forEach(e=>{o.has(e)&&(d.push(e),l.push(e+":"+o.get(e)))}),{headers:l.join("\r\n")+"\r\n",fieldNames:d.join(":")}}function p(e){return e.substr(e.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}e.exports=(e,t,i,r)=>{let a,c;let u="From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",h=d(e,(r=r||{}).headerFieldNames||u,r.skipFields),m=l(r.domainName,r.keySelector,h.fieldNames,t,i);h.headers+="dkim-signature:"+p(m),(a=o.createSign(("rsa-"+t).toUpperCase())).update(h.headers);try{c=a.sign(r.privateKey,"base64")}catch(e){return!1}return m+c.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,"$&\r\n ").trim()},e.exports.relaxedHeaders=d},36231:(e,t,i)=>{"use strict";let r=i(57310),a=1800;class o{constructor(e){this.options=e||{},this.cookies=[]}set(e,t){let i,o=r.parse(t||""),l=this.parse(e);return l.domain?(i=l.domain.replace(/^\./,""),(o.hostname.length<i.length||("."+o.hostname).substr(-i.length+1)!=="."+i)&&(l.domain=o.hostname)):l.domain=o.hostname,l.path||(l.path=this.getPath(o.pathname)),l.expires||(l.expires=new Date(Date.now()+1e3*(Number(this.options.sessionTimeout||a)||a))),this.add(l)}get(e){return this.list(e).map(e=>e.name+"="+e.value).join("; ")}list(e){let t,i,r=[];for(t=this.cookies.length-1;t>=0;t--){if(i=this.cookies[t],this.isExpired(i)){this.cookies.splice(t,t);continue}this.match(i,e)&&r.unshift(i)}return r}parse(e){let t={};return(e||"").toString().split(";").forEach(e=>{let i,r=e.split("="),a=r.shift().trim().toLowerCase(),o=r.join("=").trim();if(a)switch(a){case"expires":"Invalid Date"!==(o=new Date(o)).toString()&&(t.expires=o);break;case"path":t.path=o;break;case"domain":(i=o.toLowerCase()).length&&"."!==i.charAt(0)&&(i="."+i),t.domain=i;break;case"max-age":t.expires=new Date(Date.now()+1e3*(Number(o)||0));break;case"secure":t.secure=!0;break;case"httponly":t.httponly=!0;break;default:t.name||(t.name=a,t.value=o)}}),t}match(e,t){let i=r.parse(t||"");return(i.hostname===e.domain||"."===e.domain.charAt(0)&&("."+i.hostname).substr(-e.domain.length)===e.domain)&&this.getPath(i.pathname).substr(0,e.path.length)===e.path&&(!e.secure||"https:"===i.protocol)}add(e){let t,i;if(!e||!e.name)return!1;for(t=0,i=this.cookies.length;t<i;t++)if(this.compare(this.cookies[t],e)){if(this.isExpired(e))return this.cookies.splice(t,1),!1;return this.cookies[t]=e,!0}return this.isExpired(e)||this.cookies.push(e),!0}compare(e,t){return e.name===t.name&&e.path===t.path&&e.domain===t.domain&&e.secure===t.secure&&e.httponly==e.httponly}isExpired(e){return e.expires&&e.expires<new Date||!e.value}getPath(e){let t=(e||"/").split("/");return t.pop(),"/"!==(t=t.join("/").trim()).charAt(0)&&(t="/"+t),"/"!==t.substr(-1)&&(t+="/"),t}}e.exports=o},39071:(e,t,i)=>{"use strict";let r=i(13685),a=i(95687),o=i(57310),l=i(59796),d=i(12781).PassThrough,p=i(36231),c=i(93259),u=i(41808),h=5;function m(e,t){let i,g,y;(t=t||{}).fetchRes=t.fetchRes||new d,t.cookies=t.cookies||new p,t.redirects=t.redirects||0,t.maxRedirects=isNaN(t.maxRedirects)?h:t.maxRedirects,t.cookie&&([].concat(t.cookie||[]).forEach(i=>{t.cookies.set(i,e)}),t.cookie=!1);let v=t.fetchRes,b=o.parse(e),w=(t.method||"").toString().trim().toUpperCase()||"GET",_=!1,x="https:"===b.protocol?a:r,S={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+c.version};if(Object.keys(t.headers||{}).forEach(e=>{S[e.toLowerCase().trim()]=t.headers[e]}),t.userAgent&&(S["user-agent"]=t.userAgent),b.auth&&(S.Authorization="Basic "+Buffer.from(b.auth).toString("base64")),(i=t.cookies.get(e))&&(S.cookie=i),t.body){if(!1!==t.contentType&&(S["Content-Type"]=t.contentType||"application/x-www-form-urlencoded"),"function"==typeof t.body.pipe)S["Transfer-Encoding"]="chunked",(g=t.body).on("error",t=>{_||(_=!0,t.type="FETCH",t.sourceUrl=e,v.emit("error",t))});else{if(t.body instanceof Buffer)g=t.body;else if("object"==typeof t.body)try{g=Buffer.from(Object.keys(t.body).map(e=>{let i=t.body[e].toString().trim();return encodeURIComponent(e)+"="+encodeURIComponent(i)}).join("&"))}catch(t){if(_)return;_=!0,t.type="FETCH",t.sourceUrl=e,v.emit("error",t);return}else g=Buffer.from(t.body.toString().trim());S["Content-Type"]=t.contentType||"application/x-www-form-urlencoded",S["Content-Length"]=g.length}w=(t.method||"").toString().trim().toUpperCase()||"POST"}let E={method:w,host:b.hostname,path:b.path,port:b.port?b.port:"https:"===b.protocol?443:80,headers:S,rejectUnauthorized:!1,agent:!1};t.tls&&Object.keys(t.tls).forEach(e=>{E[e]=t.tls[e]}),"https:"!==b.protocol||!b.hostname||b.hostname===E.host||u.isIP(b.hostname)||E.servername||(E.servername=b.hostname);try{y=x.request(E)}catch(t){return _=!0,setImmediate(()=>{t.type="FETCH",t.sourceUrl=e,v.emit("error",t)}),v}return t.timeout&&y.setTimeout(t.timeout,()=>{if(_)return;_=!0,y.abort();let t=Error("Request Timeout");t.type="FETCH",t.sourceUrl=e,v.emit("error",t)}),y.on("error",t=>{_||(_=!0,t.type="FETCH",t.sourceUrl=e,v.emit("error",t))}),y.on("response",i=>{let r;if(!_){switch(i.headers["content-encoding"]){case"gzip":case"deflate":r=l.createUnzip()}if(i.headers["set-cookie"]&&[].concat(i.headers["set-cookie"]||[]).forEach(i=>{t.cookies.set(i,e)}),[301,302,303,307,308].includes(i.statusCode)&&i.headers.location){if(t.redirects++,t.redirects>t.maxRedirects){_=!0;let t=Error("Maximum redirect count exceeded");t.type="FETCH",t.sourceUrl=e,v.emit("error",t),y.abort();return}return t.method="GET",t.body=!1,m(o.resolve(e,i.headers.location),t)}if(v.statusCode=i.statusCode,v.headers=i.headers,i.statusCode>=300&&!t.allowErrorResponse){_=!0;let t=Error("Invalid status code "+i.statusCode);t.type="FETCH",t.sourceUrl=e,v.emit("error",t),y.abort();return}i.on("error",t=>{_||(_=!0,t.type="FETCH",t.sourceUrl=e,v.emit("error",t),y.abort())}),r?(i.pipe(r).pipe(v),r.on("error",t=>{_||(_=!0,t.type="FETCH",t.sourceUrl=e,v.emit("error",t),y.abort())})):i.pipe(v)}}),setImmediate(()=>{if(g)try{if("function"==typeof g.pipe)return g.pipe(y);y.write(g)}catch(t){_=!0,t.type="FETCH",t.sourceUrl=e,v.emit("error",t);return}y.end()}),v}e.exports=function(e,t){return m(e,t)},e.exports.Cookies=p},55681:(e,t,i)=>{"use strict";let r=i(93259),a=i(89166);class o{constructor(e){e=e||{},this.options=e||{},this.name="JSONTransport",this.version=r.version,this.logger=a.getLogger(this.options,{component:this.options.component||"json-transport"})}send(e,t){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),r=e.message.messageId(),a=[].concat(i.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:r},"Composing JSON structure of %s to <%s>",r,a.join(", ")),setImmediate(()=>{e.normalize((e,a)=>e?(this.logger.error({err:e,tnx:"send",messageId:r},"Failed building JSON structure for %s. %s",r,e.message),t(e)):(delete a.envelope,delete a.normalizedHeaders,t(null,{envelope:i,messageId:r,message:this.options.skipEncoding?a:JSON.stringify(a)})))})}}e.exports=o},10170:(e,t,i)=>{"use strict";let r=i(32774),a=i(54552),o=i(89166).parseDataURI;class l{constructor(e){this.mail=e||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(e=>/^text\/html\b/i.test(e.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&&this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&1===this._attachments.attached.length,this.mail.raw?this.message=new r("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(e=>{let t=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());this.mail[t]&&this.message.setHeader(e,this.mail[t])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(e){let t,i;let r=[].concat(this.mail.attachments||[]).map((e,t)=>{let i;let r=/^message\//i.test(e.contentType);/^data:/i.test(e.path||e.href)&&(e=this._processDataUrl(e));let o=e.contentType||a.detectMimeType(e.filename||e.path||e.href||"bin"),l=/^image\//i.test(o);return i={contentType:o,contentDisposition:e.contentDisposition||(r||l&&e.cid?"inline":"attachment"),contentTransferEncoding:"contentTransferEncoding"in e?e.contentTransferEncoding:"base64"},e.filename?i.filename=e.filename:!r&&!1!==e.filename&&(i.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(t+1),0>i.filename.indexOf(".")&&(i.filename+="."+a.detectExtension(i.contentType))),/^https?:\/\//i.test(e.path)&&(e.href=e.path,e.path=void 0),e.cid&&(i.cid=e.cid),e.raw?i.raw=e.raw:e.path?i.content={path:e.path}:e.href?i.content={href:e.href,httpHeaders:e.httpHeaders}:i.content=e.content||"",e.encoding&&(i.encoding=e.encoding),e.headers&&(i.headers=e.headers),i});return(this.mail.icalEvent&&(t="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},i={},Object.keys(t).forEach(e=>{i[e]=t[e]}),i.contentType="application/ics",i.headers||(i.headers={}),i.filename=i.filename||"invite.ics",i.headers["Content-Disposition"]="attachment",i.headers["Content-Transfer-Encoding"]="base64"),e)?{attached:r.filter(e=>!e.cid).concat(i||[]),related:r.filter(e=>!!e.cid)}:{attached:r.concat(i||[]),related:[]}}getAlternatives(){let e=[],t,i,r,o,l,d;return this.mail.text&&((t="object"==typeof this.mail.text&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?this.mail.text:{content:this.mail.text}).contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&((r="object"==typeof this.mail.watchHtml&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?this.mail.watchHtml:{content:this.mail.watchHtml}).contentType="text/watch-html; charset=utf-8"),this.mail.amp&&((o="object"==typeof this.mail.amp&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?this.mail.amp:{content:this.mail.amp}).contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(l="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},d={},Object.keys(l).forEach(e=>{d[e]=l[e]}),d.content&&"object"==typeof d.content&&(d.content._resolve=!0),d.filename=!1,d.contentType="text/calendar; charset=utf-8; method="+(d.method||"PUBLISH").toString().trim().toUpperCase(),d.headers||(d.headers={})),this.mail.html&&((i="object"==typeof this.mail.html&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?this.mail.html:{content:this.mail.html}).contentType="text/html; charset=utf-8"),[].concat(t||[]).concat(r||[]).concat(o||[]).concat(i||[]).concat(d||[]).concat(this.mail.alternatives||[]).forEach(t=>{let i;/^data:/i.test(t.path||t.href)&&(t=this._processDataUrl(t)),i={contentType:t.contentType||a.detectMimeType(t.filename||t.path||t.href||"txt"),contentTransferEncoding:t.contentTransferEncoding},t.filename&&(i.filename=t.filename),/^https?:\/\//i.test(t.path)&&(t.href=t.path,t.path=void 0),t.raw?i.raw=t.raw:t.path?i.content={path:t.path}:t.href?i.content={href:t.href}:i.content=t.content||"",t.encoding&&(i.encoding=t.encoding),t.headers&&(i.headers=t.headers),e.push(i)}),e}_createMixed(e){let t;return t=e?e.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new r("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(t):this._useRelated&&this._createRelated(t),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(e=>{this._useRelated&&e===this._htmlNode||this._createContentNode(t,e)}),t}_createAlternative(e){let t;return t=e?e.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new r("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(e=>{this._useRelated&&this._htmlNode===e?this._createRelated(t):this._createContentNode(t,e)}),t}_createRelated(e){let t;return t=e?e.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new r('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(t,this._htmlNode),this._attachments.related.forEach(e=>this._createContentNode(t,e)),t}_createContentNode(e,t){let i;(t=t||{}).content=t.content||"";let a=(t.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return i=e?e.createChild(t.contentType,{filename:t.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new r(t.contentType,{filename:t.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),t.headers&&i.addHeader(t.headers),t.cid&&i.setHeader("Content-Id","<"+t.cid.replace(/[<>]/g,"")+">"),t.contentTransferEncoding?i.setHeader("Content-Transfer-Encoding",t.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(t.contentType)&&i.setHeader("Content-Transfer-Encoding",this.mail.encoding),(!/^text\//i.test(t.contentType)||t.contentDisposition)&&i.setHeader("Content-Disposition",t.contentDisposition||(t.cid&&/^image\//i.test(t.contentType)?"inline":"attachment")),"string"!=typeof t.content||["utf8","usascii","ascii"].includes(a)||(t.content=Buffer.from(t.content,a)),t.raw?i.setRaw(t.raw):i.setContent(t.content),i}_processDataUrl(e){let t;return(e.path||e.href).match(/^data:/)&&(t=o(e.path||e.href)),t&&(e.content=t.data,e.contentType=e.contentType||t.contentType,"path"in e&&(e.path=!1),"href"in e&&(e.href=!1)),e}}e.exports=l},37161:(e,t,i)=>{"use strict";let r=i(82361),a=i(89166),o=i(74857),l=i(10170),d=i(54217),p=i(42125),c=i(73837),u=i(57310),h=i(93259),m=i(15789),g=i(41808),y=i(9523),v=i(6113);class b extends r{constructor(e,t,i){super(),this.options=t||{},this._defaults=i||{},this._defaultPlugins={compile:[(...e)=>this._convertDataImages(...e)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=!!this.options.dkim&&new d(this.options.dkim),this.transporter=e,this.transporter.mailer=this,this.logger=a.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),"function"==typeof this.transporter.on&&(this.transporter.on("log",e=>{this.logger.debug({tnx:"transport"},"%s: %s",e.type,e.message)}),this.transporter.on("error",e=>{this.logger.error({err:e,tnx:"transport"},"Transport Error: %s",e.message),this.emit("error",e)}),this.transporter.on("idle",(...e)=>{this.emit("idle",...e)})),["close","isIdle","verify"].forEach(e=>{this[e]=(...t)=>"function"==typeof this.transporter[e]?("verify"===e&&"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[e](...t)):(this.logger.warn({tnx:"transport",methodName:e},"Non existing method %s called for transport",e),!1)}),this.options.proxy&&"string"==typeof this.options.proxy&&this.setupProxy(this.options.proxy)}use(e,t){return e=(e||"").toString(),this._userPlugins.hasOwnProperty(e)?this._userPlugins[e].push(t):this._userPlugins[e]=[t],this}sendMail(e,t=null){let i;t||(i=new Promise((e,i)=>{t=a.callbackPromise(e,i)})),"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let r=new m(this,e);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",r,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",e.message),t(e);r.message=new l(r.data).compile(),r.setMailerHeader(),r.setPriorityHeaders(),r.setListHeaders(),this._processPlugins("stream",r,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"stream"},"PluginStream Error: %s",e.message),t(e);(r.data.dkim||this.dkim)&&r.message.processFunc(e=>{let t=r.data.dkim?new d(r.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:r.message.messageId(),dkimDomains:t.keys.map(e=>e.keySelector+"."+e.domainName).join(", ")},"Signing outgoing message with %s keys",t.keys.length),t.sign(e,r.data._dkim)}),this.transporter.send(r,(...e)=>{e[0]&&this.logger.error({err:e[0],tnx:"transport",action:"send"},"Send Error: %s",e[0].message),t(...e)})})}),i}getVersionString(){return c.format("%s (%s; +%s; %s/%s)",h.name,h.version,h.homepage,this.transporter.name,this.transporter.version)}_processPlugins(e,t,i){if(e=(e||"").toString(),!this._userPlugins.hasOwnProperty(e))return i();let r=this._userPlugins[e]||[],a=this._defaultPlugins[e]||[];if(r.length&&this.logger.debug({tnx:"transaction",pluginCount:r.length,step:e},"Using %s plugins for %s",r.length,e),r.length+a.length===0)return i();let o=0,l="default",d=()=>{let e="default"===l?a:r;if(o>=e.length){if("default"!==l||!r.length)return i();l="user",o=0,e=r}(0,e[o++])(t,e=>{if(e)return i(e);d()})};d()}setupProxy(e){let t=u.parse(e);this.getSocket=(e,i)=>{let r=t.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+r))return this.meta.get("proxy_handler_"+r)(t,e,i);switch(r){case"http":case"https":p(t.href,e.port,e.host,(e,t)=>e?i(e):i(null,{connection:t}));return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return i(Error("Socks module not loaded"));let r=r=>{let a=!!this.meta.get("proxy_socks_module").SocksClient,o=a?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),l=Number(t.protocol.replace(/\D/g,""))||5,d={proxy:{ipaddress:r,port:Number(t.port),type:l},[a?"destination":"target"]:{host:e.host,port:e.port},command:"connect"};if(t.auth){let e=decodeURIComponent(t.auth.split(":").shift()),i=decodeURIComponent(t.auth.split(":").pop());a?(d.proxy.userId=e,d.proxy.password=i):4===l?d.userid=e:d.authentication={username:e,password:i}}o.createConnection(d,(e,t)=>e?i(e):i(null,{connection:t.socket||t}))};if(g.isIP(t.hostname))return r(t.hostname);return y.resolve(t.hostname,(e,t)=>{if(e)return i(e);r(Array.isArray(t)?t[0]:t)})}}i(Error("Unknown proxy configuration"))}}_convertDataImages(e,t){if(!this.options.attachDataUrls&&!e.data.attachDataUrls||!e.data.html)return t();e.resolveContent(e.data,"html",(i,r)=>{if(i)return t(i);let a=0;r=(r||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(t,i,r,l)=>{let d=v.randomBytes(10).toString("hex")+"@localhost";return e.data.attachments||(e.data.attachments=[]),Array.isArray(e.data.attachments)||(e.data.attachments=[].concat(e.data.attachments||[])),e.data.attachments.push({path:r,cid:d,filename:"image-"+ ++a+"."+o.detectExtension(l)}),i+"cid:"+d}),e.data.html=r,t()})}set(e,t){return this.meta.set(e,t)}get(e){return this.meta.get(e)}}e.exports=b},15789:(e,t,i)=>{"use strict";let r=i(89166),a=i(32774),o=i(54552);class l{constructor(e,t){this.mailer=e,this.data={},this.message=null,t=t||{};let i=e.options||{},r=e._defaults||{};Object.keys(t).forEach(e=>{this.data[e]=t[e]}),this.data.headers=this.data.headers||{},Object.keys(r).forEach(e=>{e in this.data?"headers"===e&&Object.keys(r.headers).forEach(e=>{e in this.data.headers||(this.data.headers[e]=r.headers[e])}):this.data[e]=r[e]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(e=>{e in i&&(this.data[e]=i[e])})}resolveContent(...e){return r.resolveContent(...e)}resolveAll(e){let t=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((e,i)=>{t.push([this.data.alternatives,i])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((e,i)=>{!e.filename&&(e.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(i+1),0>e.filename.indexOf(".")&&(e.filename+="."+o.detectExtension(e.contentType))),e.contentType||(e.contentType=o.detectMimeType(e.filename||e.path||e.href||"bin")),t.push([this.data.attachments,i])});let i=new a;["from","to","cc","bcc","sender","replyTo"].forEach(e=>{let t;this.message?t=[].concat(i._parseAddresses(this.message.getHeader("replyTo"===e?"reply-to":e))||[]):this.data[e]&&(t=[].concat(i._parseAddresses(this.data[e])||[])),t&&t.length?this.data[e]=t:e in this.data&&(this.data[e]=null)}),["from","sender"].forEach(e=>{this.data[e]&&(this.data[e]=this.data[e].shift())});let l=0,d=()=>{if(l>=t.length)return e(null,this.data);let i=t[l++];if(!i[0]||!i[0][i[1]])return d();r.resolveContent(...i,(t,r)=>{if(t)return e(t);let a={content:r};i[0][i[1]]&&"object"==typeof i[0][i[1]]&&!Buffer.isBuffer(i[0][i[1]])&&Object.keys(i[0][i[1]]).forEach(e=>{e in a||["content","path","href","raw"].includes(e)||(a[e]=i[0][i[1]][e])}),i[0][i[1]]=a,d()})};setImmediate(()=>d())}normalize(e){let t=this.data.envelope||this.message.getEnvelope(),i=this.message.messageId();this.resolveAll((r,a)=>r?e(r):(a.envelope=t,a.messageId=i,["html","text","watchHtml","amp"].forEach(e=>{a[e]&&a[e].content&&("string"==typeof a[e].content?a[e]=a[e].content:Buffer.isBuffer(a[e].content)&&(a[e]=a[e].content.toString()))}),a.icalEvent&&Buffer.isBuffer(a.icalEvent.content)&&(a.icalEvent.content=a.icalEvent.content.toString("base64"),a.icalEvent.encoding="base64"),a.alternatives&&a.alternatives.length&&a.alternatives.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),a.attachments&&a.attachments.length&&a.attachments.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),a.normalizedHeaders={},Object.keys(a.headers||{}).forEach(e=>{let t=[].concat(a.headers[e]||[]).shift();(t=t&&t.value||t)&&(["references","in-reply-to","message-id","content-id"].includes(e)&&(t=this.message._encodeHeaderValue(e,t)),a.normalizedHeaders[e]=t)}),a.list&&"object"==typeof a.list&&this._getListHeaders(a.list).forEach(e=>{a.normalizedHeaders[e.key]=e.value.map(e=>e&&e.value||e).join(", ")}),a.references&&(a.normalizedHeaders.references=this.message._encodeHeaderValue("references",a.references)),a.inReplyTo&&(a.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",a.inReplyTo)),e(null,a)))}setMailerHeader(){this.message&&this.data.xMailer&&this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(this.message&&this.data.priority)switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low")}}setListHeaders(){this.message&&this.data.list&&"object"==typeof this.data.list&&this.data.list&&"object"==typeof this.data.list&&this._getListHeaders(this.data.list).forEach(e=>{e.value.forEach(t=>{this.message.addHeader(e.key,t)})})}_getListHeaders(e){return Object.keys(e).map(t=>({key:"list-"+t.toLowerCase().trim(),value:[].concat(e[t]||[]).map(e=>({prepared:!0,foldLines:!0,value:[].concat(e||[]).map(e=>{if("string"==typeof e&&(e={url:e}),e&&e.url){if("id"===t.toLowerCase().trim()){let t=e.comment||"";return t=o.isPlainText(t)?'"'+t+'"':o.encodeWord(t),(e.comment?t+" ":"")+this._formatListUrl(e.url).replace(/^<[^:]+\/{,2}/,"")}let i=e.comment||"";return o.isPlainText(i)||(i=o.encodeWord(i)),this._formatListUrl(e.url)+(e.comment?" ("+i+")":"")}return""}).filter(e=>e).join(", ")}))}))}_formatListUrl(e){return(e=e.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(e))?"<"+e+">":/^[^@]+@[^@]+$/.test(e)?"<mailto:"+e+">":"<http://"+e+">"}}e.exports=l},54552:(e,t,i)=>{"use strict";let r=i(70943),a=i(96840),o=i(74857);e.exports={isPlainText(e,t){let i=t?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/;return!("string"!=typeof e||i.test(e))},hasLongerLines:(e,t)=>e.length>131072||RegExp("^.{"+(t+1)+",}","m").test(e),encodeWord(e,t,i){let o;t=(t||"Q").toString().toUpperCase().trim().charAt(0);let l="UTF-8";if((i=i||0)&&i>7+l.length&&(i-=7+l.length),"Q"===t?o=a.encode(e).replace(/[^a-z0-9!*+\-/=]/gi,e=>{let t=e.charCodeAt(0).toString(16).toUpperCase();return" "===e?"_":"="+(1===t.length?"0"+t:t)}):"B"===t&&(o="string"==typeof e?e:r.encode(e),i=i?Math.max(3,(i-i%4)/4*3):0),i&&("B"!==t?o:r.encode(e)).length>i){if("Q"===t)o=this.splitMimeEncodedString(o,i).join("?= =?"+l+"?"+t+"?");else{let e=[],a="";for(let t=0,l=o.length;t<l;t++){let d=o.charAt(t);/[\ud83c\ud83d\ud83e]/.test(d)&&t<l-1&&(d+=o.charAt(++t)),Buffer.byteLength(a+d)<=i||0===t?a+=d:(e.push(r.encode(a)),a=d)}a&&e.push(r.encode(a)),o=e.length>1?e.join("?= =?"+l+"?"+t+"?"):e.join("")}}else"B"===t&&(o=r.encode(e));return"=?"+l+"?"+t+"?"+o+("?="===o.substr(-2)?"":"?=")},encodeWords(e,t,i,r){i=i||0;let a=e.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!a)return e;if(r)return this.encodeWord(e,t,i);let o=e.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!o)return e;let l=a.index+(a[0].match(/[^\s]/)||{index:0}).index,d=o.index+(o[1]||"").length;return(l?e.substr(0,l):"")+this.encodeWord(e.substring(l,d),t||"Q",i)+(d<e.length?e.substr(d):"")},buildHeaderValue(e){let t=[];return Object.keys(e.params||{}).forEach(i=>{let r=e.params[i];!this.isPlainText(r,!0)||r.length>=75?this.buildHeaderParam(i,r,50).forEach(e=>{/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(e.value)&&"*"!==e.key.substr(-1)?t.push(e.key+"="+JSON.stringify(e.value)):t.push(e.key+"="+e.value)}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(r)?t.push(i+"="+JSON.stringify(r)):t.push(i+"="+r)}),e.value+(t.length?"; "+t.join("; "):"")},buildHeaderParam(e,t,i){let r,a,o,l,d,p,c=[],u="string"==typeof t?t:(t||"").toString(),h=0;if(i=i||50,this.isPlainText(t,!0)){if(u.length<=i)return[{key:e,value:u}];(u=u.replace(RegExp(".{"+i+"}","g"),e=>(c.push({line:e}),"")))&&c.push({line:u})}else{if(/[\uD800-\uDBFF]/.test(u)){for(d=0,r=[],p=u.length;d<p;d++)(o=(a=u.charAt(d)).charCodeAt(0))>=55296&&o<=56319&&d<p-1?(a+=u.charAt(d+1),r.push(a),d++):r.push(a);u=r}l="utf-8''";let e=!0;for(d=0,h=0,p=u.length;d<p;d++){if(a=u[d],e)a=this.safeEncodeURIComponent(a);else if((a=" "===a?a:this.safeEncodeURIComponent(a))!==u[d]){if((this.safeEncodeURIComponent(l)+a).length>=i)c.push({line:l,encoded:e}),l="",h=d-1;else{e=!0,d=h,l="";continue}}(l+a).length>=i?(c.push({line:l,encoded:e}),l=a=" "===u[d]?" ":this.safeEncodeURIComponent(u[d]),a===u[d]?(e=!1,h=d-1):e=!0):l+=a}l&&c.push({line:l,encoded:e})}return c.map((t,i)=>({key:e+"*"+i+(t.encoded?"*":""),value:t.line}))},parseHeaderValue(e){let t,i={value:!1,params:{}},r=!1,a="",o="value",l=!1,d=!1;for(let p=0,c=e.length;p<c;p++)if(t=e.charAt(p),"key"===o){if("="===t){r=a.trim().toLowerCase(),o="value",a="";continue}a+=t}else{if(d)a+=t;else if("\\"===t){d=!0;continue}else l&&t===l?l=!1:l||'"'!==t?l||";"!==t?a+=t:(!1===r?i.value=a.trim():i.params[r]=a.trim(),o="key",a=""):l=t;d=!1}return"value"===o?!1===r?i.value=a.trim():i.params[r]=a.trim():a.trim()&&(i.params[a.trim().toLowerCase()]=""),Object.keys(i.params).forEach(e=>{let t,r,a,o;(a=e.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(t=e.substr(0,a.index),r=Number(a[2]||a[3])||0,i.params[t]&&"object"==typeof i.params[t]||(i.params[t]={charset:!1,values:[]}),o=i.params[e],0===r&&"*"===a[0].substr(-1)&&(a=o.match(/^([^']*)'[^']*'(.*)$/))&&(i.params[t].charset=a[1]||"iso-8859-1",o=a[2]),i.params[t].values[r]=o,delete i.params[e])}),Object.keys(i.params).forEach(e=>{let t;i.params[e]&&Array.isArray(i.params[e].values)&&(t=i.params[e].values.map(e=>e||"").join(""),i.params[e].charset?i.params[e]="=?"+i.params[e].charset+"?Q?"+t.replace(/[=?_\s]/g,e=>{let t=e.charCodeAt(0).toString(16);return" "===e?"_":"%"+(t.length<2?"0":"")+t}).replace(/%/g,"=")+"?=":i.params[e]=t)}),i},detectExtension:e=>o.detectExtension(e),detectMimeType:e=>o.detectMimeType(e),foldLines(e,t,i){e=(e||"").toString(),t=t||76;let r=0,a=e.length,o="",l,d;for(;r<a;){if((l=e.substr(r,t)).length<t){o+=l;break}if(d=l.match(/^[^\n\r]*(\r?\n|\r)/)){o+=l=d[0],r+=l.length;continue}(d=l.match(/(\s+)[^\s]*$/))&&d[0].length-(i?(d[1]||"").length:0)<l.length?l=l.substr(0,l.length-(d[0].length-(i?(d[1]||"").length:0))):(d=e.substr(r+l.length).match(/^[^\s]+(\s*)/))&&(l+=d[0].substr(0,d[0].length-(i?0:(d[1]||"").length))),o+=l,(r+=l.length)<a&&(o+="\r\n")}return o},splitMimeEncodedString:(e,t)=>{let i,r,a,o,l=[];for(t=Math.max(t||0,12);e.length;){for((r=(i=e.substr(0,t)).match(/[=][0-9A-F]?$/i))&&(i=i.substr(0,r.index)),o=!1;!o;)o=!0,(r=e.substr(i.length).match(/^[=]([0-9A-F]{2})/i))&&(a=parseInt(r[1],16))<194&&a>127&&(i=i.substr(0,i.length-3),o=!1);i.length&&l.push(i),e=e.substr(i.length)}return l},encodeURICharComponent:e=>{let t="",i=e.charCodeAt(0).toString(16).toUpperCase();if(i.length%2&&(i="0"+i),i.length>2)for(let e=0,r=i.length/2;e<r;e++)t+="%"+i.substr(e,2);else t+="%"+i;return t},safeEncodeURIComponent(e){e=(e||"").toString();try{e=encodeURIComponent(e)}catch(t){return e.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return e.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,e=>this.encodeURICharComponent(e))}}},74857:(e,t,i)=>{"use strict";let r=i(71017),a="application/octet-stream",o="bin",l=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/geo+json","geojson"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),d=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);e.exports={detectMimeType(e){if(!e)return a;let t=r.parse(e),i=(t.ext.substr(1)||t.name||"").split("?").shift().trim().toLowerCase(),o=a;return(d.has(i)&&(o=d.get(i)),Array.isArray(o))?o[0]:o},detectExtension(e){if(!e)return o;let t=(e||"").toLowerCase().trim().split("/"),i=t.shift().trim(),r=t.join("/").trim();if(l.has(i+"/"+r)){let e=l.get(i+"/"+r);return Array.isArray(e)?e[0]:e}return"text"===i?"txt":"bin"}}},32774:(e,t,i)=>{"use strict";let r=i(6113),a=i(57147),o=i(35032),l=i(12781).PassThrough,d=i(89166),p=i(54552),c=i(96840),u=i(70943),h=i(66134),m=i(39071),g=i(4477),y=i(92601),v=i(68333);class b{constructor(e,t){this.nodeCounter=0,t=t||{},this.baseBoundary=t.baseBoundary||r.randomBytes(8).toString("hex"),this.boundaryPrefix=t.boundaryPrefix||"--_NmP",this.disableFileAccess=!!t.disableFileAccess,this.disableUrlAccess=!!t.disableUrlAccess,this.normalizeHeaderKey=t.normalizeHeaderKey,this.date=new Date,this.rootNode=t.rootNode||this,this.keepBcc=!!t.keepBcc,t.filename&&(this.filename=t.filename,e||(e=p.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(t.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=t.parentNode,this.hostname=t.hostname,this.newline=t.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],e&&this.setHeader("Content-Type",e)}createChild(e,t){t||"object"!=typeof e||(t=e,e=void 0);let i=new b(e,t);return this.appendChild(i),i}appendChild(e){return e.rootNode!==this.rootNode&&(e.rootNode=this.rootNode,e._nodeId=++this.rootNode.nodeCounter),e.parentNode=this,this.childNodes.push(e),e}replace(e){return e===this?this:(this.parentNode.childNodes.forEach((t,i)=>{t===this&&(e.rootNode=this.rootNode,e.parentNode=this.parentNode,e._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,e.parentNode.childNodes[i]=e)}),e)}remove(){if(!this.parentNode)return this;for(let e=this.parentNode.childNodes.length-1;e>=0;e--)if(this.parentNode.childNodes[e]===this)return this.parentNode.childNodes.splice(e,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(e,t){let i=!1,r;if(!t&&e&&"object"==typeof e)return e.key&&"value"in e?this.setHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.setHeader(e.key,e.value)}):Object.keys(e).forEach(t=>{this.setHeader(t,e[t])}),this;r={key:e=this._normalizeHeaderKey(e),value:t};for(let t=0,a=this._headers.length;t<a;t++)this._headers[t].key===e&&(i?(this._headers.splice(t,1),t--,a--):(this._headers[t]=r,i=!0));return i||this._headers.push(r),this}addHeader(e,t){return!t&&e&&"object"==typeof e?e.key&&e.value?this.addHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.addHeader(e.key,e.value)}):Object.keys(e).forEach(t=>{this.addHeader(t,e[t])}):Array.isArray(t)?t.forEach(t=>{this.addHeader(e,t)}):this._headers.push({key:this._normalizeHeaderKey(e),value:t}),this}getHeader(e){e=this._normalizeHeaderKey(e);for(let t=0,i=this._headers.length;t<i;t++)if(this._headers[t].key===e)return this._headers[t].value}setContent(e){return this.content=e,"function"==typeof this.content.pipe?(this._contentErrorHandler=e=>{this.content.removeListener("error",this._contentErrorHandler),this.content=e},this.content.once("error",this._contentErrorHandler)):"string"==typeof this.content&&(this._isPlainText=p.isPlainText(this.content),this._isPlainText&&p.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(e){let t;e||(t=new Promise((t,i)=>{e=d.callbackPromise(t,i)}));let i=this.createReadStream(),r=[],a=0,o=!1;return i.on("readable",()=>{let e;for(;null!==(e=i.read());)r.push(e),a+=e.length}),i.once("error",t=>{if(!o)return o=!0,e(t)}),i.once("end",t=>{if(!o)return o=!0,t&&t.length&&(r.push(t),a+=t.length),e(null,Buffer.concat(r,a))}),t}getTransferEncoding(){let e=!1,t=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return!this.content||(e=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim())&&["base64","quoted-printable"].includes(e)||(/^text\//i.test(t)?this._isPlainText&&!this._hasLongLines?e="7bit":"string"==typeof this.content||this.content instanceof Buffer?e="Q"===this._getTextEncoding(this.content)?"quoted-printable":"base64":e="B"===this.textEncoding?"base64":"quoted-printable":/^(multipart|message)\//i.test(t)||(e=e||"base64")),e}buildHeaders(){let e=this.getTransferEncoding(),t=[];if(e&&this.setHeader("Content-Transfer-Encoding",e),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this){this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0");for(let e=this._headers.length-2;e>=0;e--){let t=this._headers[e];"Content-Type"===t.key&&(this._headers.splice(e,1),this._headers.push(t))}}return this._headers.forEach(e=>{let i,r,a=e.key,o=e.value,l={},d=["From","Sender","To","Cc","Bcc","Reply-To","Date","References"];if(!o||"object"!=typeof o||d.includes(a)||(Object.keys(o).forEach(e=>{"value"!==e&&(l[e]=o[e])}),(o=(o.value||"").toString()).trim())){if(l.prepared){l.foldLines?t.push(p.foldLines(a+": "+o)):t.push(a+": "+o);return}switch(e.key){case"Content-Disposition":i=p.parseHeaderValue(o),this.filename&&(i.params.filename=this.filename),o=p.buildHeaderValue(i);break;case"Content-Type":i=p.parseHeaderValue(o),this._handleContentType(i),i.value.match(/^text\/plain\b/)&&"string"==typeof this.content&&/[\u0080-\uFFFF]/.test(this.content)&&(i.params.charset="utf-8"),o=p.buildHeaderValue(i),this.filename&&(((r=this._encodeWords(this.filename))!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(r))&&(r='"'+r+'"'),o+="; name="+r);break;case"Bcc":if(!this.keepBcc)return}if(((o=this._encodeHeaderValue(a,o))||"").toString().trim()){if("function"==typeof this.normalizeHeaderKey){let e=this.normalizeHeaderKey(a,o);e&&"string"==typeof e&&e.length&&(a=e)}t.push(p.foldLines(a+": "+o,76))}}}),t.join("\r\n")}createReadStream(e){let t;let i=new l(e=e||{}),r=i;this.stream(i,e,e=>{if(e){r.emit("error",e);return}i.end()});for(let e=0,i=this._transforms.length;e<i;e++)t="function"==typeof this._transforms[e]?this._transforms[e]():this._transforms[e],r.once("error",e=>{t.emit("error",e)}),r=r.pipe(t);t=new g,r.once("error",e=>{t.emit("error",e)}),r=r.pipe(t);for(let e=0,i=this._processFuncs.length;e<i;e++)r=(t=this._processFuncs[e])(r);if(this.newline){let e=["win","windows","dos","\r\n"].includes(this.newline.toString().toLowerCase())?new y:new v,t=r.pipe(e);return r.on("error",e=>t.emit("error",e)),t}return r}transform(e){this._transforms.push(e)}processFunc(e){this._processFuncs.push(e)}stream(e,t,i){let r,a,o=this.getTransferEncoding(),l=!1,d=e=>{l||(l=!0,i(e))},p=()=>{let i=0,r=()=>{if(i>=this.childNodes.length)return e.write("\r\n--"+this.boundary+"--\r\n"),d();let a=this.childNodes[i++];e.write((i>1?"\r\n":"")+"--"+this.boundary+"\r\n"),a.stream(e,t,e=>{if(e)return d(e);setImmediate(r)})};if(!this.multipart)return d();setImmediate(r)},h=()=>{if(!this.content)return setImmediate(p);{if("[object Error]"===Object.prototype.toString.call(this.content))return d(this.content);"function"==typeof this.content.pipe&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=e=>d(e),this.content.once("error",this._contentErrorHandler));let i=()=>{["quoted-printable","base64"].includes(o)?((r=new("base64"===o?u:c).Encoder(t)).pipe(e,{end:!1}),r.once("end",p),r.once("error",e=>d(e)),(a=this._getStream(this.content)).pipe(r)):((a=this._getStream(this.content)).pipe(e,{end:!1}),a.once("end",p)),a.once("error",e=>d(e))};if(this.content._resolve){let e=[],t=0,r=!1,a=this._getStream(this.content);a.on("error",e=>{r||(r=!0,d(e))}),a.on("readable",()=>{let i;for(;null!==(i=a.read());)e.push(i),t+=i.length}),a.on("end",()=>{r||(r=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(e,t),setImmediate(i))})}else setImmediate(i);return}};this._raw?setImmediate(()=>{if("[object Error]"===Object.prototype.toString.call(this._raw))return d(this._raw);"function"==typeof this._raw.pipe&&this._raw.removeListener("error",this._contentErrorHandler);let t=this._getStream(this._raw);t.pipe(e,{end:!1}),t.on("error",t=>e.emit("error",t)),t.on("end",p)}):(e.write(this.buildHeaders()+"\r\n\r\n"),setImmediate(h))}setEnvelope(e){let t;this._envelope={from:!1,to:[]},e.from&&(t=[],this._convertAddresses(this._parseAddresses(e.from),t),(t=t.filter(e=>e&&e.address)).length&&t[0]&&(this._envelope.from=t[0].address)),["to","cc","bcc"].forEach(t=>{e[t]&&this._convertAddresses(this._parseAddresses(e[t]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(e=>e.address).filter(e=>e);let i=["to","cc","bcc","from"];return Object.keys(e).forEach(t=>{i.includes(t)||(this._envelope[t]=e[t])}),this}getAddresses(){let e={};return this._headers.forEach(t=>{let i=t.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(i)&&(Array.isArray(e[i])||(e[i]=[]),this._convertAddresses(this._parseAddresses(t.value),e[i]))}),e}getEnvelope(){if(this._envelope)return this._envelope;let e={from:!1,to:[]};return this._headers.forEach(t=>{let i=[];"From"===t.key||!e.from&&["Reply-To","Sender"].includes(t.key)?(this._convertAddresses(this._parseAddresses(t.value),i),i.length&&i[0]&&(e.from=i[0].address)):["To","Cc","Bcc"].includes(t.key)&&this._convertAddresses(this._parseAddresses(t.value),e.to)}),e.to=e.to.map(e=>e.address),e}messageId(){let e=this.getHeader("Message-ID");return e||(e=this._generateMessageId(),this.setHeader("Message-ID",e)),e}setRaw(e){return this._raw=e,this._raw&&"function"==typeof this._raw.pipe&&(this._contentErrorHandler=e=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=e},this._raw.once("error",this._contentErrorHandler)),this}_getStream(e){let t;return e._resolvedValue?(t=new l,setImmediate(()=>{try{t.end(e._resolvedValue)}catch(e){t.emit("error",e)}}),t):"function"==typeof e.pipe?e:e&&"string"==typeof e.path&&!e.href?this.disableFileAccess?(t=new l,setImmediate(()=>t.emit("error",Error("File access rejected for "+e.path))),t):a.createReadStream(e.path):e&&"string"==typeof e.href?this.disableUrlAccess?(t=new l,setImmediate(()=>t.emit("error",Error("Url access rejected for "+e.href))),t):m(e.href,{headers:e.httpHeaders}):(t=new l,setImmediate(()=>{try{t.end(e||"")}catch(e){t.emit("error",e)}}),t)}_parseAddresses(e){return[].concat.apply([],[].concat(e).map(e=>e&&e.address?(e.address=this._normalizeAddress(e.address),e.name=e.name||"",[e]):h(e)))}_normalizeHeaderKey(e){return e=(e||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,e=>e.toUpperCase()).replace(/^Content-Features$/i,"Content-features")}_handleContentType(e){this.contentType=e.value.trim().toLowerCase(),this.multipart=!!/^multipart\//i.test(this.contentType)&&this.contentType.substr(this.contentType.indexOf("/")+1),this.multipart?this.boundary=e.params.boundary=e.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(e,t){switch(e=this._normalizeHeaderKey(e)){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(t));case"Message-ID":case"In-Reply-To":case"Content-Id":return"<"!==(t=(t||"").toString().replace(/\r?\n|\r/g," ")).charAt(0)&&(t="<"+t),">"!==t.charAt(t.length-1)&&(t+=">"),t;case"References":return(t=[].concat.apply([],[].concat(t||"").map(e=>(e=(e||"").toString().replace(/\r?\n|\r/g," ").trim()).replace(/<[^>]*>/g,e=>e.replace(/\s/g,"")).split(/\s+/))).map(e=>("<"!==e.charAt(0)&&(e="<"+e),">"!==e.charAt(e.length-1)&&(e+=">"),e))).join(" ").trim();case"Date":if("[object Date]"===Object.prototype.toString.call(t))return t.toUTCString().replace(/GMT/,"+0000");return t=(t||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(t);case"Content-Type":case"Content-Disposition":return(t||"").toString().replace(/\r?\n|\r/g," ");default:return t=(t||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(t)}}_convertAddresses(e,t){let i=[];return t=t||[],[].concat(e||[]).forEach(e=>{if(e.address)e.address=this._normalizeAddress(e.address),e.name?e.name&&i.push(`${this._encodeAddressName(e.name)} <${e.address}>`):i.push(e.address.indexOf(" ")>=0?`<${e.address}>`:`${e.address}`),e.address&&!t.filter(t=>t.address===e.address).length&&t.push(e);else if(e.group){let r=(e.group.length?this._convertAddresses(e.group,t):"").trim();i.push(`${this._encodeAddressName(e.name)}:${r};`)}}),i.join(", ")}_normalizeAddress(e){let t;let i=(e=(e||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim()).lastIndexOf("@");if(i<0)return e;let r=e.substr(0,i),a=e.substr(i+1);try{t=o.toASCII(a.toLowerCase())}catch(e){}return r.indexOf(" ")>=0&&('"'!==r.charAt(0)&&(r='"'+r),'"'!==r.substr(-1)&&(r+='"')),`${r}@${t}`}_encodeAddressName(e){return/^[\w ]*$/.test(e)?e:/^[\x20-\x7e]*$/.test(e)?'"'+e.replace(/([\\"])/g,"\\$1")+'"':p.encodeWord(e,this._getTextEncoding(e),52)}_encodeWords(e){return p.encodeWords(e,this._getTextEncoding(e),52,!0)}_getTextEncoding(e){e=(e||"").toString();let t=this.textEncoding;return t||(t=(e.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length<(e.match(/[a-z]/gi)||[]).length?"Q":"B"),t}_generateMessageId(){return"<"+[2,2,2,6].reduce((e,t)=>e+"-"+r.randomBytes(t).toString("hex"),r.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}}e.exports=b},4477:(e,t,i)=>{"use strict";let r=i(12781).Transform;class a extends r{constructor(){super(),this.lastByte=!1}_transform(e,t,i){e.length&&(this.lastByte=e[e.length-1]),this.push(e),i()}_flush(e){return 10===this.lastByte||(13===this.lastByte?this.push(Buffer.from("\n")):this.push(Buffer.from("\r\n"))),e()}}e.exports=a},68333:(e,t,i)=>{"use strict";let r=i(12781).Transform;class a extends r{constructor(e){super(e),this.options=e||{}}_transform(e,t,i){let r;let a=0;for(let t=0,i=e.length;t<i;t++)13===e[t]&&(r=e.slice(a,t),a=t+1,this.push(r));a&&a<e.length?(r=e.slice(a),this.push(r)):a||this.push(e),i()}}e.exports=a},92601:(e,t,i)=>{"use strict";let r=i(12781).Transform;class a extends r{constructor(e){super(e),this.options=e||{},this.lastByte=!1}_transform(e,t,i){let r;let a=0;for(let t=0,i=e.length;t<i;t++)10===e[t]&&(t&&13!==e[t-1]||!t&&13!==this.lastByte)&&(t>a&&(r=e.slice(a,t),this.push(r)),this.push(Buffer.from("\r\n")),a=t+1);a&&a<e.length?(r=e.slice(a),this.push(r)):a||this.push(e),this.lastByte=e[e.length-1],i()}}e.exports=a},55245:(e,t,i)=>{"use strict";let r=i(37161),a=i(89166),o=i(26739),l=i(85030),d=i(52557),p=i(60035),c=i(55681),u=i(58207),h=i(39071),m=i(93259),g=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),y=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),v=(process.env.ETHEREAL_API_KEY||"").replace(/\s*/g,"")||null,b=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase()),w=!1;e.exports.createTransport=function(e,t){let i,h;return("object"==typeof e&&"function"!=typeof e.send||"string"==typeof e&&/^(smtps?|direct):/i.test(e))&&(e=(h=(i="string"==typeof e?e:e.url)?a.parseConnectionUrl(i):e).pool?new o(h):h.sendmail?new d(h):h.streamTransport?new p(h):h.jsonTransport?new c(h):h.SES?new u(h):new l(h)),new r(e,h,t)},e.exports.createTestAccount=function(e,t){let i;if(t||"function"!=typeof e||(t=e,e=!1),t||(i=new Promise((e,i)=>{t=a.callbackPromise(e,i)})),b&&w)return setImmediate(()=>t(null,w)),i;e=e||g;let r=[],o=0,l={},d={requestor:m.name,version:m.version};v&&(l.Authorization="Bearer "+v);let p=h(e+"/user",{contentType:"application/json",method:"POST",headers:l,body:Buffer.from(JSON.stringify(d))});return p.on("readable",()=>{let e;for(;null!==(e=p.read());)r.push(e),o+=e.length}),p.once("error",e=>t(e)),p.once("end",()=>{let e,i,a=Buffer.concat(r,o);try{e=JSON.parse(a.toString())}catch(e){i=e}return i?t(i):"success"!==e.status||e.error?t(Error(e.error||"Request failed")):void(delete e.status,t(null,w=e))}),i},e.exports.getTestMessageUrl=function(e){if(!e||!e.response)return!1;let t=new Map;return e.response.replace(/\[([^\]]+)\]$/,(e,i)=>{i.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(e,i,r)=>{t.set(i,r)})}),!!(t.has("STATUS")&&t.has("MSGID"))&&(w.web||y)+"/message/"+t.get("MSGID")}},35032:e=>{"use strict";let t=2147483647,i=36,r=1,a=26,o=38,l=700,d=72,p=128,c="-",u=/^xn--/,h=/[^\0-\x7F]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=35,v=Math.floor,b=String.fromCharCode;function w(e){throw RangeError(g[e])}function _(e,t){let i=[],r=e.length;for(;r--;)i[r]=t(e[r]);return i}function x(e,t){let i=e.split("@"),r="";return i.length>1&&(r=i[0]+"@",e=i[1]),r+_((e=e.replace(m,".")).split("."),t).join(".")}function S(e){let t=[],i=0,r=e.length;for(;i<r;){let a=e.charCodeAt(i++);if(a>=55296&&a<=56319&&i<r){let r=e.charCodeAt(i++);(64512&r)==56320?t.push(((1023&a)<<10)+(1023&r)+65536):(t.push(a),i--)}else t.push(a)}return t}let E=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:i},k=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},T=function(e,t,r){let d=0;for(e=r?v(e/l):e>>1,e+=v(e/t);e>y*a>>1;d+=i)e=v(e/y);return v(d+(y+1)*e/(e+o))},C=function(e){let o=[],l=e.length,u=0,h=p,m=d,g=e.lastIndexOf(c);g<0&&(g=0);for(let t=0;t<g;++t)e.charCodeAt(t)>=128&&w("not-basic"),o.push(e.charCodeAt(t));for(let d=g>0?g+1:0;d<l;){let p=u;for(let o=1,p=i;;p+=i){d>=l&&w("invalid-input");let c=E(e.charCodeAt(d++));c>=i&&w("invalid-input"),c>v((t-u)/o)&&w("overflow"),u+=c*o;let h=p<=m?r:p>=m+a?a:p-m;if(c<h)break;let g=i-h;o>v(t/g)&&w("overflow"),o*=g}let c=o.length+1;m=T(u-p,c,0==p),v(u/c)>t-h&&w("overflow"),h+=v(u/c),u%=c,o.splice(u++,0,h)}return String.fromCodePoint(...o)},N=function(e){let o=[],l=(e=S(e)).length,u=p,h=0,m=d;for(let t of e)t<128&&o.push(b(t));let g=o.length,y=g;for(g&&o.push(c);y<l;){let l=t;for(let t of e)t>=u&&t<l&&(l=t);let d=y+1;for(let p of(l-u>v((t-h)/d)&&w("overflow"),h+=(l-u)*d,u=l,e))if(p<u&&++h>t&&w("overflow"),p===u){let e=h;for(let t=i;;t+=i){let l=t<=m?r:t>=m+a?a:t-m;if(e<l)break;let d=e-l,p=i-l;o.push(b(k(l+d%p,0))),e=v(d/p)}o.push(b(k(e,0))),m=T(h,d,y===g),h=0,++y}++h,++u}return o.join("")},O=function(e){return x(e,function(e){return u.test(e)?C(e.slice(4).toLowerCase()):e})},P=function(e){return x(e,function(e){return h.test(e)?"xn--"+N(e):e})},I={version:"2.3.1",ucs2:{decode:S,encode:e=>String.fromCodePoint(...e)},decode:C,encode:N,toASCII:P,toUnicode:O};e.exports=I},96840:(e,t,i)=>{"use strict";let r=i(12781).Transform;function a(e){let t;"string"==typeof e&&(e=Buffer.from(e,"utf-8"));let i=[[9],[10],[13],[32,60],[62,126]],r="";for(let a=0,o=e.length;a<o;a++){if(l(t=e[a],i)&&!((32===t||9===t)&&(a===o-1||10===e[a+1]||13===e[a+1]))){r+=String.fromCharCode(t);continue}r+="="+(t<16?"0":"")+t.toString(16).toUpperCase()}return r}function o(e,t){let i,r,a;if(e=(e||"").toString(),t=t||76,e.length<=t)return e;let o=0,l=e.length,d=Math.floor(t/3),p="";for(;o<l;){if(i=(a=e.substr(o,t)).match(/\r\n/)){p+=a=a.substr(0,i.index+i[0].length),o+=a.length;continue}if("\n"===a.substr(-1)){p+=a,o+=a.length;continue}if(i=a.substr(-d).match(/\n.*?$/)){p+=a=a.substr(0,a.length-(i[0].length-1)),o+=a.length;continue}if(a.length>t-d&&(i=a.substr(-d).match(/[ \t.,!?][^ \t.,!?]*$/)))a=a.substr(0,a.length-(i[0].length-1));else if(a.match(/[=][\da-f]{0,2}$/i))for((i=a.match(/[=][\da-f]{0,1}$/i))&&(a=a.substr(0,a.length-i[0].length));a.length>3&&a.length<l-o&&!a.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(i=a.match(/[=][\da-f]{2}$/gi))&&!((r=parseInt(i[0].substr(1,2),16))<128)&&(a=a.substr(0,a.length-3),!(r>=192)););o+a.length<l&&"\n"!==a.substr(-1)?(a.length===t&&a.match(/[=][\da-f]{2}$/i)?a=a.substr(0,a.length-3):a.length===t&&(a=a.substr(0,a.length-1)),o+=a.length,a+="=\r\n"):o+=a.length,p+=a}return p}function l(e,t){for(let i=t.length-1;i>=0;i--)if(t[i].length&&(1===t[i].length&&e===t[i][0]||2===t[i].length&&e>=t[i][0]&&e<=t[i][1]))return!0;return!1}class d extends r{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(e,t,i){let r;if("buffer"!==t&&(e=Buffer.from(e,t)),!e||!e.length)return i();this.inputBytes+=e.length,this.options.lineLength?(r=(r=o(r=this._curLine+a(e),this.options.lineLength)).replace(/(^|\n)([^\n]*)$/,(e,t,i)=>(this._curLine=i,t)))&&(this.outputBytes+=r.length,this.push(r)):(r=a(e),this.outputBytes+=r.length,this.push(r,"ascii")),i()}_flush(e){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),e()}}e.exports={encode:a,wrap:o,Encoder:d}},52557:(e,t,i)=>{"use strict";let r=i(32081).spawn,a=i(93259),o=i(89166);class l{constructor(e){e=e||{},this._spawn=r,this.options=e||{},this.name="Sendmail",this.version=a.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=o.getLogger(this.options,{component:this.options.component||"sendmail"}),e&&("string"==typeof e?this.path=e:"object"==typeof e&&(e.path&&(this.path=e.path),Array.isArray(e.args)&&(this.args=e.args),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())))}send(e,t){let i,r,a;e.message.keepBcc=!0;let o=e.data.envelope||e.message.getEnvelope(),l=e.message.messageId();if([].concat(o.from||[]).concat(o.to||[]).some(e=>/^-/.test(e)))return t(Error("Can not send mail. Invalid envelope addresses."));i=this.args?["-i"].concat(this.args).concat(o.to):["-i"].concat(o.from?["-f",o.from]:[]).concat(o.to);let d=i=>{if(!a&&(a=!0,"function"==typeof t))return i?t(i):t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:l,response:"Messages queued for delivery"})};try{r=this._spawn(this.path,i)}catch(e){return this.logger.error({err:e,tnx:"spawn",messageId:l},"Error occurred while spawning sendmail. %s",e.message),d(e)}if(!r)return d(Error("sendmail was not found"));{r.on("error",e=>{this.logger.error({err:e,tnx:"spawn",messageId:l},"Error occurred when sending message %s. %s",l,e.message),d(e)}),r.once("exit",e=>{let t;if(!e)return d();t=127===e?Error("Sendmail command not found, process exited with code "+e):Error("Sendmail exited with code "+e),this.logger.error({err:t,tnx:"stdin",messageId:l},"Error sending message %s to sendmail. %s",l,t.message),d(t)}),r.once("close",d),r.stdin.on("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:l},"Error occurred when piping message %s to sendmail. %s",l,e.message),d(e)});let t=[].concat(o.to||[]);t.length>3&&t.push("...and "+t.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:l},"Sending message %s to <%s>",l,t.join(", "));let i=e.message.createReadStream();i.once("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:l},"Error occurred when generating message %s. %s",l,e.message),r.kill("SIGINT"),d(e)}),i.pipe(r.stdin)}}}e.exports=l},58207:(e,t,i)=>{"use strict";let r=i(82361),a=i(93259),o=i(89166),l=i(92601);class d extends r{constructor(e){super(),e=e||{},this.options=e||{},this.ses=this.options.SES,this.name="SESTransport",this.version=a.version,this.logger=o.getLogger(this.options,{component:this.options.component||"ses-transport"}),this.maxConnections=Number(this.options.maxConnections)||1/0,this.connections=0,this.sendingRate=Number(this.options.sendingRate)||1/0,this.sendingRateTTL=null,this.rateInterval=1e3,this.rateMessages=[],this.pending=[],this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}send(e,t){if(this.connections>=this.maxConnections||!this._checkSendingRate())return this.idling=!1,this.pending.push({mail:e,callback:t});this._send(e,(...e)=>{setImmediate(()=>t(...e)),this._sent()})}_checkRatedQueue(){if(this.connections>=this.maxConnections||!this._checkSendingRate())return;if(!this.pending.length){this.idling||(this.idling=!0,this.emit("idle"));return}let e=this.pending.shift();this._send(e.mail,(...t)=>{setImmediate(()=>e.callback(...t)),this._sent()})}_checkSendingRate(){clearTimeout(this.sendingRateTTL);let e=Date.now(),t=!1;for(let i=this.rateMessages.length-1;i>=0;i--)this.rateMessages[i].ts>=e-this.rateInterval&&(!t||this.rateMessages[i].ts<t)&&(t=this.rateMessages[i].ts),this.rateMessages[i].ts<e-this.rateInterval&&!this.rateMessages[i].pending&&this.rateMessages.splice(i,1);if(this.rateMessages.length<this.sendingRate)return!0;let i=Math.max(t+1001,e+20);this.sendingRateTTL=setTimeout(()=>this._checkRatedQueue(),e-i);try{this.sendingRateTTL.unref()}catch(e){}return!1}_sent(){this.connections--,this._checkRatedQueue()}isIdle(){return this.idling}_send(e,t){let i={ts:Date.now(),pending:!0};this.connections++,this.rateMessages.push(i);let r=e.data.envelope||e.message.getEnvelope(),a=e.message.messageId(),o=[].concat(r.to||[]);o.length>3&&o.push("...and "+o.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:a},"Sending message %s to <%s>",a,o.join(", "));let d=t=>{e.data._dkim||(e.data._dkim={}),e.data._dkim.skipFields&&"string"==typeof e.data._dkim.skipFields?e.data._dkim.skipFields+=":date:message-id":e.data._dkim.skipFields="date:message-id";let i=e.message.createReadStream(),r=i.pipe(new l),a=[],o=0;r.on("readable",()=>{let e;for(;null!==(e=r.read());)a.push(e),o+=e.length}),i.once("error",e=>r.emit("error",e)),r.once("error",e=>{t(e)}),r.once("end",()=>t(null,Buffer.concat(a,o)))};setImmediate(()=>d((o,l)=>{let d;if(o)return this.logger.error({err:o,tnx:"send",messageId:a},"Failed creating message for %s. %s",a,o.message),i.pending=!1,t(o);let p={RawMessage:{Data:l},Source:r.from,Destinations:r.to};Object.keys(e.data.ses||{}).forEach(t=>{p[t]=e.data.ses[t]});let c=(this.ses.aws?this.ses.ses:this.ses)||{},u=this.ses.aws||{};d=(e,o)=>{let d;(e||!o)&&(o="us-east-1"),(d="function"==typeof c.send&&u.SendRawEmailCommand?c.send(new u.SendRawEmailCommand(p)):c.sendRawEmail(p).promise()).then(e=>{"us-east-1"===o&&(o="email"),i.pending=!1,t(null,{envelope:{from:r.from,to:r.to},messageId:"<"+e.MessageId+(/@/.test(e.MessageId)?"":"@"+o+".amazonses.com")+">",response:e.MessageId,raw:l})}).catch(e=>{this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",a,e.message),i.pending=!1,t(e)})},c.config&&"function"==typeof c.config.region?c.config.region().then(e=>d(null,e)).catch(e=>d(e)):d(null,c.config&&c.config.region||"us-east-1")}))}verify(e){let t;let i=(this.ses.aws?this.ses.ses:this.ses)||{},r=this.ses.aws||{},a={RawMessage:{Data:"From: invalid@invalid\r\nTo: invalid@invalid\r\n Subject: Invalid\r\n\r\nInvalid"},Source:"invalid@invalid",Destinations:["invalid@invalid"]};e||(t=new Promise((t,i)=>{e=o.callbackPromise(t,i)}));let l=t=>t&&"InvalidParameterValue"!==(t.code||t.Code)?e(t):e(null,!0);return"function"==typeof i.send&&r.SendRawEmailCommand?(a.RawMessage.Data=Buffer.from(a.RawMessage.Data),i.send(new r.SendRawEmailCommand(a),l)):i.sendRawEmail(a,l),t}}e.exports=d},89166:(e,t,i)=>{"use strict";let r;let a=i(57310),o=i(73837),l=i(57147),d=i(39071),p=i(9523),c=i(41808),u=i(22037),h=3e5;try{r=u.networkInterfaces()}catch(e){}e.exports.networkInterfaces=r;let m=(t,i)=>{let r=e.exports.networkInterfaces;return!r||Object.keys(r).map(e=>r[e]).reduce((e,t)=>e.concat(t),[]).filter(e=>!e.internal||i).filter(e=>e.family==="IPv"+t||e.family===t).length>0},g=(e,t,i,r)=>{if(!m(e,(i=i||{}).allowInternalNetworkInterfaces))return r(null,[]);(p.Resolver?new p.Resolver(i):p)["resolve"+e](t,(e,t)=>{if(e){switch(e.code){case p.NODATA:case p.NOTFOUND:case p.NOTIMP:case p.SERVFAIL:case p.CONNREFUSED:case p.REFUSED:case"EAI_AGAIN":return r(null,[])}return r(e)}return r(null,Array.isArray(t)?t:[].concat(t||[]))})},y=e.exports.dnsCache=new Map,v=(e,t)=>e?Object.assign({servername:e.servername,host:e.addresses&&e.addresses.length?1===e.addresses.length?e.addresses[0]:e.addresses[Math.floor(Math.random()*e.addresses.length)]:null},t||{}):Object.assign({},t||{});function b(e,t){let i=!1,r=[],a=0;e.on("error",e=>{i||(i=!0,t(e))}),e.on("readable",()=>{let t;for(;null!==(t=e.read());)r.push(t),a+=t.length}),e.on("end",()=>{let e;if(!i){i=!0;try{e=Buffer.concat(r,a)}catch(e){return t(e)}t(null,e)}})}function w(e){let t=0,i=new Map;e.forEach(e=>{e.length>t&&(t=e.length)}),e.forEach(e=>{let r=e.toUpperCase();r.length<t&&(r+=" ".repeat(t-r.length)),i.set(e,r)});let r=(e,t,r,...a)=>{let l="";t&&("server"===t.tnx?l="S: ":"client"===t.tnx&&(l="C: "),t.sid&&(l="["+t.sid+"] "+l),t.cid&&(l="[#"+t.cid+"] "+l)),(r=o.format(r,...a)).split(/\r?\n/).forEach(t=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),i.get(e),l+t)})},a={};return e.forEach(e=>{a[e]=r.bind(null,e)}),a}e.exports.resolveHostname=(e,t)=>{let i;return(!(e=e||{}).host&&e.servername&&(e.host=e.servername),!e.host||c.isIP(e.host))?t(null,v({addresses:[e.host],servername:e.servername||!1},{cached:!1})):y.has(e.host)&&(!(i=y.get(e.host)).expires||i.expires>=Date.now())?t(null,v(i.value,{cached:!0})):void g(4,e.host,e,(r,a)=>{if(r)return i?t(null,v(i.value,{cached:!0,error:r})):t(r);if(a&&a.length){let i={addresses:a,servername:e.servername||e.host};return y.set(e.host,{value:i,expires:Date.now()+(e.dnsTtl||h)}),t(null,v(i,{cached:!1}))}g(6,e.host,e,(r,a)=>{if(r)return i?t(null,v(i.value,{cached:!0,error:r})):t(r);if(a&&a.length){let i={addresses:a,servername:e.servername||e.host};return y.set(e.host,{value:i,expires:Date.now()+(e.dnsTtl||h)}),t(null,v(i,{cached:!1}))}try{p.lookup(e.host,{all:!0},(r,a)=>{if(r)return i?t(null,v(i.value,{cached:!0,error:r})):t(r);let o=!!a&&a.filter(e=>m(e.family)).map(e=>e.address).shift();if(a&&a.length&&!o&&console.warn(`Failed to resolve IPv${a[0].family} addresses with current network`),!o&&i)return t(null,v(i.value,{cached:!0}));let l={addresses:o?[o]:[e.host],servername:e.servername||e.host};return y.set(e.host,{value:l,expires:Date.now()+(e.dnsTtl||h)}),t(null,v(l,{cached:!1}))})}catch(e){if(i)return t(null,v(i.value,{cached:!0,error:e}));return t(e)}})})},e.exports.parseConnectionUrl=e=>{e=e||"";let t={};return[a.parse(e,!0)].forEach(e=>{let i;switch(e.protocol){case"smtp:":t.secure=!1;break;case"smtps:":t.secure=!0;break;case"direct:":t.direct=!0}!isNaN(e.port)&&Number(e.port)&&(t.port=Number(e.port)),e.hostname&&(t.host=e.hostname),e.auth&&(i=e.auth.split(":"),t.auth||(t.auth={}),t.auth.user=i.shift(),t.auth.pass=i.join(":")),Object.keys(e.query||{}).forEach(i=>{let r=t,a=i,o=e.query[i];switch(isNaN(o)||(o=Number(o)),o){case"true":o=!0;break;case"false":o=!1}if(0===i.indexOf("tls."))a=i.substr(4),t.tls||(t.tls={}),r=t.tls;else if(i.indexOf(".")>=0)return;a in r||(r[a]=o)})}),t},e.exports._logFunc=(e,t,i,r,a,...o)=>{let l={};Object.keys(i||{}).forEach(e=>{"level"!==e&&(l[e]=i[e])}),Object.keys(r||{}).forEach(e=>{"level"!==e&&(l[e]=r[e])}),e[t](l,a,...o)},e.exports.getLogger=(t,i)=>{let r={},a=["trace","debug","info","warn","error","fatal"];if(!(t=t||{}).logger)return a.forEach(e=>{r[e]=()=>!1}),r;let o=t.logger;return!0===t.logger&&(o=w(a)),a.forEach(t=>{r[t]=(r,a,...l)=>{e.exports._logFunc(o,t,i,r,a,...l)}}),r},e.exports.callbackPromise=(e,t)=>function(){let i=Array.from(arguments),r=i.shift();r?t(r):e(...i)},e.exports.parseDataURI=e=>{let t,i=e,r=i.indexOf(",");if(!r)return e;let a=i.substring(r+1),o=i.substring(5,r).split(";"),l=o.length>1&&o[o.length-1];l&&0>l.indexOf("=")&&(t=l.toLowerCase(),o.pop());let d=o.shift()||"application/octet-stream",p={};for(let e of o){let t=e.indexOf("=");if(t>=0){let i=e.substring(0,t),r=e.substring(t+1);p[i]=r}}switch(t){case"base64":a=Buffer.from(a,"base64");break;case"utf8":a=Buffer.from(a);break;default:try{a=Buffer.from(decodeURIComponent(a))}catch(e){a=Buffer.from(a)}a=Buffer.from(a)}return{data:a,encoding:t,contentType:d,params:p}},e.exports.resolveContent=(t,i,r)=>{let a;r||(a=new Promise((t,i)=>{r=e.exports.callbackPromise(t,i)}));let o=t&&t[i]&&t[i].content||t[i],p=("object"==typeof t[i]&&t[i].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!o)return r(null,o);if("object"==typeof o){if("function"==typeof o.pipe)return b(o,(e,a)=>{if(e)return r(e);t[i].content?t[i].content=a:t[i]=a,r(null,a)});if(/^https?:\/\//i.test(o.path||o.href))return b(d(o.path||o.href),r);if(/^data:/i.test(o.path||o.href)){let t=e.exports.parseDataURI(o.path||o.href);return t&&t.data?r(null,t.data):r(null,Buffer.from(0))}if(o.path)return b(l.createReadStream(o.path),r)}return"string"!=typeof t[i].content||["utf8","usascii","ascii"].includes(p)||(o=Buffer.from(t[i].content,p)),setImmediate(()=>r(null,o)),a},e.exports.assign=function(){let e=Array.from(arguments),t=e.shift()||{};return e.forEach(e=>{Object.keys(e||{}).forEach(i=>{["tls","auth"].includes(i)&&e[i]&&"object"==typeof e[i]?(t[i]||(t[i]={}),Object.keys(e[i]).forEach(r=>{t[i][r]=e[i][r]})):t[i]=e[i]})}),t},e.exports.encodeXText=e=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(e))return e;let t=Buffer.from(e),i="";for(let e=0,r=t.length;e<r;e++){let r=t[e];r<33||r>126||43===r||61===r?i+="+"+(r<16?"0":"")+r.toString(16).toUpperCase():i+=String.fromCharCode(r)}return i}},26200:(e,t,i)=>{"use strict";let r=i(12781).Transform;class a extends r{constructor(e){super(e),this.options=e||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(e,t,i){let r,a=[],o=0,l,d,p=0;if(!e||!e.length)return i();for("string"==typeof e&&(e=Buffer.from(e)),this.inByteCount+=e.length,l=0,d=e.length;l<d;l++)46===e[l]?(!l||10!==e[l-1])&&(l||this.lastByte&&10!==this.lastByte)||(r=e.slice(p,l+1),a.push(r),a.push(Buffer.from(".")),o+=r.length+1,p=l+1):10===e[l]&&(l&&13!==e[l-1]||!l&&13!==this.lastByte)&&(l>p?(r=e.slice(p,l),a.push(r),o+=r.length+2):o+=2,a.push(Buffer.from("\r\n")),p=l+1);o?(p<e.length&&(r=e.slice(p),a.push(r),o+=r.length),this.outByteCount+=o,this.push(Buffer.concat(a,o))):(this.outByteCount+=e.length,this.push(e)),this.lastByte=e[e.length-1],i()}_flush(e){let t;t=10===this.lastByte?Buffer.from(".\r\n"):13===this.lastByte?Buffer.from("\n.\r\n"):Buffer.from("\r\n.\r\n"),this.outByteCount+=t.length,this.push(t),e()}}e.exports=a},42125:(e,t,i)=>{"use strict";let r=i(41808),a=i(24404),o=i(57310);function l(e,t,i,d){let p,c,u,h=o.parse(e);p={host:h.hostname,port:Number(h.port)?Number(h.port):"https:"===h.protocol?443:80},"https:"===h.protocol?(p.rejectUnauthorized=!1,c=a.connect.bind(a)):c=r.connect.bind(r);let m=!1,g=e=>{if(!m){m=!0;try{u.destroy()}catch(e){}d(e)}},y=()=>{let e=Error("Proxy socket timed out");e.code="ETIMEDOUT",g(e)};(u=c(p,()=>{if(m)return;let e={Host:i+":"+t,Connection:"close"};h.auth&&(e["Proxy-Authorization"]="Basic "+Buffer.from(h.auth).toString("base64")),u.write("CONNECT "+i+":"+t+" HTTP/1.1\r\n"+Object.keys(e).map(t=>t+": "+e[t]).join("\r\n")+"\r\n\r\n");let r="",a=e=>{let t,i;if(!m&&(r+=e.toString("binary"),t=r.match(/\r\n\r\n/))){if(u.removeListener("data",a),i=r.substr(t.index+t[0].length),r=r.substr(0,t.index),i&&u.unshift(Buffer.from(i,"binary")),m=!0,!(t=r.match(/^HTTP\/\d+\.\d+ (\d+)/i))||"2"!==(t[1]||"").charAt(0)){try{u.destroy()}catch(e){}return d(Error("Invalid response from proxy"+(t&&": "+t[1]||"")))}return u.removeListener("error",g),u.removeListener("timeout",y),u.setTimeout(0),d(null,u)}};u.on("data",a)})).setTimeout(l.timeout||3e4),u.on("timeout",y),u.once("error",g)}e.exports=l},27462:(e,t,i)=>{"use strict";let r=i(93259),a=i(82361).EventEmitter,o=i(41808),l=i(24404),d=i(22037),p=i(6113),c=i(26200),u=i(12781).PassThrough,h=i(89166),m=12e4,g=6e5,y=3e4,v=3e4;class b extends a{constructor(e){super(e),this.id=p.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=e||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",this.servername=this.options.servername?this.options.servername:!o.isIP(this.host)&&this.host,this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,void 0===this.options.secure&&465===this.port&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=h.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(e=>{let t=(e||"").toString().trim().toUpperCase();t&&this.customAuth.set(t,this.options.customAuth[e])}),this.version=r.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=e=>this._onData(e),this._onSocketError=e=>this._onError(e,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(e){if("function"==typeof e){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),e()});let t=this._isDestroyedMessage("connect");if(t)return e(this._formatError(t,"ECONNECTION",!1,"CONN"))}let t={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||v};this.options.localAddress&&(t.localAddress=this.options.localAddress);let i=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||m),this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection,this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(e=>{if(e){this._onError(Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"CONN");return}this._onConnect()})):setImmediate(()=>this._onConnect());return}return this.options.socket?(this._socket=this.options.socket,h.resolveHostname(t,(e,r)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:r.host,cached:!!r.cached},"Resolved %s as %s [cache %s]",t.host,r.host,r.cached?"hit":"miss"),Object.keys(r).forEach(e=>{"_"!==e.charAt(0)&&r[e]&&(t[e]=r[e])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(e=>{t[e]=this.options.tls[e]}),this.servername&&!t.servername&&(t.servername=this.servername),h.resolveHostname(t,(e,r)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:r.host,cached:!!r.cached},"Resolved %s as %s [cache %s]",t.host,r.host,r.cached?"hit":"miss"),Object.keys(r).forEach(e=>{"_"!==e.charAt(0)&&r[e]&&(t[e]=r[e])});try{this._socket=l.connect(t,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):h.resolveHostname(t,(e,r)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:r.host,cached:!!r.cached},"Resolved %s as %s [cache %s]",t.host,r.host,r.cached?"hit":"miss"),Object.keys(r).forEach(e=>{"_"!==e.charAt(0)&&r[e]&&(t[e]=r[e])});try{this._socket=o.connect(t,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let e="end";"init"===this.stage&&(e="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',e);let t=this._socket&&this._socket.socket||this._socket;if(t&&!t.destroyed)try{this._socket[e]()}catch(e){}this._destroy()}login(e,t){let i=this._isDestroyedMessage("login");if(i)return t(this._formatError(i,"ECONNECTION",!1,"API"));if(this._auth=e||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,this._authMethod||!this._auth.oauth2||this._auth.credentials?this._authMethod&&("XOAUTH2"!==this._authMethod||this._auth.oauth2)||(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()):this._authMethod="XOAUTH2","XOAUTH2"!==this._authMethod&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass)){if(!(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod)))return t(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options}}if(this.customAuth.has(this._authMethod)){let e,i=this.customAuth.get(this._authMethod),r=!1,a=()=>{r||(r=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,t(null,!0))},o=i=>{r||(r=!0,t(this._formatError(i,"EAUTH",e,"AUTH "+this._authMethod)))},l=i({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(t,i)=>{let r;return i||(r=new Promise((e,t)=>{i=h.callbackPromise(e,t)})),this._responseActions.push(r=>{e=r;let a=r.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),o={command:t,response:r};a?(o.status=Number(a[1])||0,a[2]&&(o.code=a[2]),o.text=r.substr(a[0].length)):(o.text=r,o.status=0),i(null,o)}),setImmediate(()=>this._sendCommand(t)),r},resolve:a,reject:o});l&&"function"==typeof l.catch&&l.then(a).catch(o);return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(!1,t);return;case"LOGIN":this._responseActions.push(e=>{this._actionAUTH_LOGIN_USER(e,t)}),this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(e=>{this._actionAUTHComplete(e,t)}),this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5(e,t)}),this._sendCommand("AUTH CRAM-MD5");return}return t(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}send(e,t,i){if(!t)return i(this._formatError("Empty message","EMESSAGE",!1,"API"));let r=this._isDestroyedMessage("send message");if(r)return i(this._formatError(r,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&e.size>this._maxAllowedSize)return setImmediate(()=>{i(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let a=!1,o=function(){a||(a=!0,i(...arguments))};"function"==typeof t.on&&t.on("error",e=>o(this._formatError(e,"ESTREAM",!1,"API")));let l=Date.now();this._setEnvelope(e,(e,i)=>{if(e){let i=new u;return"function"==typeof t.pipe?t.pipe(i):(i.write(t),i.end()),o(e)}let r=Date.now(),a=this._createSendStream((e,t)=>e?o(e):(i.envelopeTime=r-l,i.messageTime=Date.now()-r,i.messageSize=a.outByteCount,i.response=t,o(null,i)));"function"==typeof t.pipe?t.pipe(a):(a.write(t),a.end())})}reset(e){this._sendCommand("RSET"),this._responseActions.push(t=>"2"!==t.charAt(0)?e(this._formatError("Could not reset session state. response="+t,"EPROTOCOL",t,"RSET")):(this._envelope=!1,e(null,!0)))}_onConnect(){if(clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed){this.close();return}this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||g),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||y),this._responseActions.push(this._actionGreeting),this._socket.resume()}_onData(e){let t;if(this._destroyed||!e||!e.length)return;let i=(e||"").toString("binary"),r=(this._remainder+i).split(/\r?\n/);this._remainder=r.pop();for(let e=0,i=r.length;e<i;e++){if(this._responseQueue.length&&(t=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(t.split("\n").pop()))){this._responseQueue[this._responseQueue.length-1]+="\n"+r[e];continue}this._responseQueue.push(r[e])}this._responseQueue.length&&(t=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(t.split("\n").pop()))||this._processResponse()}_onError(e,t,i,r){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._destroyed||(e=this._formatError(e,t,i,r),this.logger.error(i,e.message),this.emit("error",e),this.close())}_formatError(e,t,i,r){let a;a=/Error\]$/i.test(Object.prototype.toString.call(e))?e:Error(e),t&&"Error"!==t&&(a.code=t),i&&(a.response=i,a.message+=": "+i);let o="string"==typeof i&&Number((i.match(/^\d+/)||[])[0])||!1;return o&&(a.responseCode=o),r&&(a.command=r),a}_onClose(){let e=!1;return(this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,"")),this.lastServerResponse=e=this._remainder.trim()),this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed)?this._onError(Error("Connection closed unexpectedly"),"ETLS",e,"CONN"):![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed||/^[45]\d{2}\b/.test(e)?this._onError(Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN"):void this._destroy()}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(e){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let t=this._socket,i={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(e=>{i[e]=this.options.tls[e]}),this.servername&&!i.servername&&(i.servername=this.servername),this.upgrading=!0;try{this._socket=l.connect(i,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),t.removeListener("close",this._onSocketClose),t.removeListener("end",this._onSocketEnd),e(null,!0)))}catch(t){return e(t)}this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||g),this._socket.on("timeout",this._onSocketTimeout),t.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let e=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(e.split("\n").pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},e.replace(/\r?\n$/,"")),e.trim()||setImmediate(()=>this._processResponse());let t=this._responseActions.shift();if("function"!=typeof t)return this._onError(Error("Unexpected Response"),"EPROTOCOL",e,"CONN");t.call(this,e),setImmediate(()=>this._processResponse())}_sendCommand(e,t){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(t||e||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(e+"\r\n","utf-8"))}}_setEnvelope(e,t){let i=[],r=!1;if(this._envelope=e||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(e=>(e&&e.address||e||"").toString().trim()),!this._envelope.to.length)return t(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return t(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(r=!0);for(let e=0,i=this._envelope.to.length;e<i;e++){if(!this._envelope.to[e]||/[\r\n<>]/.test(this._envelope.to[e]))return t(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[e]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[e])&&(r=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(e){return t(this._formatError("Invalid DSN "+e.message,"EENVELOPE",!1,"API"))}this._responseActions.push(e=>{this._actionMAIL(e,t)}),r&&this._supportedExtensions.includes("SMTPUTF8")&&(i.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(i.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&i.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&i.push("RET="+h.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&i.push("ENVID="+h.encodeXText(this._envelope.dsn.envid))),this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(i.length?" "+i.join(" "):""))}_setDsnEnvelope(e){let t=(e.ret||e.return||"").toString().toUpperCase()||null;if(t)switch(t){case"HDRS":case"HEADERS":t="HDRS";break;case"FULL":case"BODY":t="FULL"}if(t&&!["FULL","HDRS"].includes(t))throw Error("ret: "+JSON.stringify(t));let i=(e.envid||e.id||"").toString()||null,r=e.notify||null;if(r){"string"==typeof r&&(r=r.split(","));let e=["NEVER","SUCCESS","FAILURE","DELAY"];if((r=r.map(e=>e.trim().toUpperCase())).filter(t=>!e.includes(t)).length||r.length>1&&r.includes("NEVER"))throw Error("notify: "+JSON.stringify(r.join(",")));r=r.join(",")}let a=(e.recipient||e.orcpt||"").toString()||null;return a&&0>a.indexOf(";")&&(a="rfc822;"+a),{ret:t,envid:i,notify:r,orcpt:a}}_getDsnRcptToArgs(){let e=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&e.push("NOTIFY="+h.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&e.push("ORCPT="+h.encodeXText(this._envelope.dsn.orcpt))),e.length?" "+e.join(" "):""}_createSendStream(e){let t,i=new c;return this.options.lmtp?this._envelope.accepted.forEach((t,i)=>{let r=i===this._envelope.accepted.length-1;this._responseActions.push(i=>{this._actionLMTPStream(t,r,i,e)})}):this._responseActions.push(t=>{this._actionSMTPStream(t,e)}),i.pipe(this._socket,{end:!1}),this.options.debug&&((t=new u).on("readable",()=>{let e;for(;e=t.read();)this.logger.debug({tnx:"message"},e.toString("binary").replace(/\r?\n$/,""))}),i.pipe(t)),i.once("end",()=>{this.logger.info({tnx:"message",inByteCount:i.inByteCount,outByteCount:i.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",i.outByteCount,i.inByteCount)}),i}_actionGreeting(e){if(clearTimeout(this._greetingTimeout),"220"!==e.substr(0,3)){this._onError(Error("Invalid greeting. response="+e),"EPROTOCOL",e,"CONN");return}this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name))}_actionLHLO(e){if("2"!==e.charAt(0)){this._onError(Error("Invalid LHLO. response="+e),"EPROTOCOL",e,"LHLO");return}this._actionEHLO(e)}_actionEHLO(e){let t;if("421"===e.substr(0,3)){this._onError(Error("Server terminates connection. response="+e),"ECONNECTION",e,"EHLO");return}if("2"!==e.charAt(0)){if(this.options.requireTLS){this._onError(Error("EHLO failed but HELO does not support required STARTTLS. response="+e),"ECONNECTION",e,"EHLO");return}this._responseActions.push(this._actionHELO),this._sendCommand("HELO "+this.name);return}if(this._ehloLines=e.split(/\r?\n/).map(e=>e.replace(/^\d+[ -]/,"").trim()).filter(e=>e).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(e)||this.options.requireTLS)){this._sendCommand("STARTTLS"),this._responseActions.push(this._actionSTARTTLS);return}/[ -]SMTPUTF8\b/im.test(e)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(e)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(e)&&this._supportedExtensions.push("8BITMIME"),/[ -]PIPELINING\b/im.test(e)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(e)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(e)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(e)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(e)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(e)&&this._supportedAuth.push("XOAUTH2"),(t=e.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(t[1])||0),this.emit("connect")}_actionHELO(e){if("2"!==e.charAt(0)){this._onError(Error("Invalid HELO. response="+e),"EPROTOCOL",e,"HELO");return}this.allowsAuth=!0,this.emit("connect")}_actionSTARTTLS(e){if("2"!==e.charAt(0))return this.options.opportunisticTLS?(this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect")):void this._onError(Error("Error upgrading connection with STARTTLS"),"ETLS",e,"STARTTLS");this._upgradeConnection((e,t)=>{if(e){this._onError(Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"STARTTLS");return}this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),t?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect")})}_actionAUTH_LOGIN_USER(e,t){if(!/^334[ -]/.test(e)){t(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",e,"AUTH LOGIN"));return}this._responseActions.push(e=>{this._actionAUTH_LOGIN_PASS(e,t)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))}_actionAUTH_CRAM_MD5(e,t){let i=e.match(/^334\s+(.+)$/),r="";if(!i)return t(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",e,"AUTH CRAM-MD5"));r=i[1];let a=Buffer.from(r,"base64").toString("ascii"),o=p.createHmac("md5",this._auth.credentials.pass);o.update(a);let l=this._auth.credentials.user+" "+o.digest("hex");this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5_PASS(e,t)}),this._sendCommand(Buffer.from(l).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(e,t){if(!e.match(/^235\s+/))return t(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",e,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,t(null,!0)}_actionAUTH_LOGIN_PASS(e,t){if(!/^334[ -]/.test(e))return t(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",e,"AUTH LOGIN"));this._responseActions.push(e=>{this._actionAUTHComplete(e,t)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(e,t,i){if(i||"function"!=typeof t||(i=t,t=!1),"334"===e.substr(0,3)){this._responseActions.push(e=>{t||"XOAUTH2"!==this._authMethod?this._actionAUTHComplete(e,!0,i):setImmediate(()=>this._handleXOauth2Token(!0,i))}),this._sendCommand("");return}if("2"!==e.charAt(0))return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),i(this._formatError("Invalid login","EAUTH",e,"AUTH "+this._authMethod));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,i(null,!0)}_actionMAIL(e,t){let i,r;if(2!==Number(e.charAt(0)))return i=this._usingSmtpUtf8&&/^550 /.test(e)&&/[\x80-\uFFFF]/.test(this._envelope.from)?"Internationalized mailbox name not allowed":"Mail command failed",t(this._formatError(i,"EENVELOPE",e,"MAIL FROM"));if(!this._envelope.rcptQueue.length)return t(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"));if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)r=this._envelope.rcptQueue.shift(),this._recipientQueue.push(r),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+r+">"+this._getDsnRcptToArgs());else r=this._envelope.rcptQueue.shift(),this._recipientQueue.push(r),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+r+">"+this._getDsnRcptToArgs())}_actionRCPT(e,t){let i,r,a=this._recipientQueue.shift();if(2!==Number(e.charAt(0))?(i=this._usingSmtpUtf8&&/^553 /.test(e)&&/[\x80-\uFFFF]/.test(a)?"Internationalized mailbox name not allowed":"Recipient command failed",this._envelope.rejected.push(a),(r=this._formatError(i,"EENVELOPE",e,"RCPT TO")).recipient=a,this._envelope.rejectedErrors.push(r)):this._envelope.accepted.push(a),this._envelope.rcptQueue.length||this._recipientQueue.length)this._envelope.rcptQueue.length&&(a=this._envelope.rcptQueue.shift(),this._recipientQueue.push(a),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+a+">"+this._getDsnRcptToArgs()));else{if(!(this._envelope.rejected.length<this._envelope.to.length))return(r=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",e,"RCPT TO")).rejected=this._envelope.rejected,r.rejectedErrors=this._envelope.rejectedErrors,t(r);this._responseActions.push(e=>{this._actionDATA(e,t)}),this._sendCommand("DATA")}}_actionDATA(e,t){if(!/^[23]/.test(e))return t(this._formatError("Data command failed","EENVELOPE",e,"DATA"));let i={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(i.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(i.rejectedErrors=this._envelope.rejectedErrors),t(null,i)}_actionSMTPStream(e,t){return 2!==Number(e.charAt(0))?t(this._formatError("Message failed","EMESSAGE",e,"DATA")):t(null,e)}_actionLMTPStream(e,t,i,r){let a;if(2!==Number(i.charAt(0))){(a=this._formatError("Message failed for recipient "+e,"EMESSAGE",i,"DATA")).recipient=e,this._envelope.rejected.push(e),this._envelope.rejectedErrors.push(a);for(let t=0,i=this._envelope.accepted.length;t<i;t++)this._envelope.accepted[t]===e&&this._envelope.accepted.splice(t,1)}if(t)return r(null,i)}_handleXOauth2Token(e,t){this._auth.oauth2.getToken(e,(i,r)=>{if(i)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),t(this._formatError(i,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(i=>{this._actionAUTHComplete(i,e,t)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(r),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(e){if(this._destroyed)return"Cannot "+e+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+e+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+e+" - smtp connection socket is already half-closed."}}_getHostname(){let e;try{e=d.hostname()||""}catch(t){e="localhost"}return(!e||0>e.indexOf("."))&&(e="[127.0.0.1]"),e.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(e="["+e+"]"),e}}e.exports=b},26739:(e,t,i)=>{"use strict";let r=i(82361),a=i(80843),o=i(27462),l=i(4111),d=i(89166),p=i(93259);class c extends r{constructor(e){let t;super(),"string"==typeof(e=e||{})&&(e={url:e});let i=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(t=d.parseConnectionUrl(e.url),i=i||t.service),this.options=d.assign(!1,e,t,i&&l(i)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=d.getLogger(this.options,{component:this.options.component||"smtp-pool"});let r=new o(this.options);this.name="SMTP (pool)",this.version=p.version+"[client:"+r.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(e,t){return setImmediate(()=>t(null,!1))}send(e,t){return!this._closed&&(this._queue.push({mail:e,requeueAttempts:0,callback:t}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let e;let t=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!t&&!this._queue.length)return;for(let i=t-1;i>=0;i--)this._connections[i]&&this._connections[i].available&&((e=this._connections[i]).close(),this.logger.info({tnx:"connection",cid:e.id,action:"removed"},"Connection #%s removed",e.id));if(t&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let i=()=>{if(!this._queue.length){this.logger.debug({tnx:"connection"},"Pending queue entries cleared");return}let t=this._queue.shift();if(t&&"function"==typeof t.callback)try{t.callback(Error("Connection pool was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}setImmediate(i)};setImmediate(i)}_processMessages(){let e,t,i;if(this._closed)return;if(!this._queue.length){this.idling||(this.idling=!0,this.emit("idle"));return}for(t=0,i=this._connections.length;t<i;t++)if(this._connections[t].available){e=this._connections[t];break}if(!e&&this._connections.length<this.options.maxConnections&&(e=this._createConnection()),!e){this.idling=!1;return}!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let r=e.queueEntry=this._queue.shift();r.messageId=(e.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),e.available=!1,this.logger.debug({tnx:"pool",cid:e.id,messageId:r.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",r.messageId,e.id,e.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),e.send(r.mail,(t,i)=>{if(r===e.queueEntry){try{r.callback(t,i)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}})}_createConnection(){let e=new a(this);return e.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:e.id,action:"conection"},"Created new pool resource #%s",e.id),e.on("available",()=>{this.logger.debug({tnx:"connection",cid:e.id,action:"available"},"Connection #%s became available",e.id),this._closed?this.close():this._processMessages()}),e.once("error",t=>{if("EMAXLIMIT"!==t.code?this.logger.error({err:t,tnx:"pool",cid:e.id},"Pool Error for #%s: %s",e.id,t.message):this.logger.debug({tnx:"pool",cid:e.id,action:"maxlimit"},"Max messages limit exchausted for #%s",e.id),e.queueEntry){try{e.queueEntry.callback(t)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}this._removeConnection(e),this._continueProcessing()}),e.once("close",()=>{this.logger.info({tnx:"connection",cid:e.id,action:"closed"},"Connection #%s was closed",e.id),this._removeConnection(e),e.queueEntry?setTimeout(()=>{e.queueEntry&&(this._shouldRequeuOnConnectionClose(e.queueEntry)?this._requeueEntryOnConnectionClose(e):this._failDeliveryOnConnectionClose(e)),this._continueProcessing()},50):this._continueProcessing()}),this._connections.push(e),e}_shouldRequeuOnConnectionClose(e){return void 0===this.options.maxRequeues||this.options.maxRequeues<0||e.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(e){if(e.queueEntry&&e.queueEntry.callback){try{e.queueEntry.callback(Error("Reached maximum number of retries after connection was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",messageId:e.queueEntry.messageId,cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}}_requeueEntryOnConnectionClose(e){e.queueEntry.requeueAttempts=e.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:e.id,messageId:e.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",e.queueEntry.messageId,e.id,e.queueEntry.requeueAttempts),this._queue.unshift(e.queueEntry),e.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(e){let t=this._connections.indexOf(e);-1!==t&&this._connections.splice(t,1)}_checkRateLimit(e){if(!this._rateLimit.limit)return e();let t=Date.now();return this._rateLimit.counter<this._rateLimit.limit?e():(this._rateLimit.waiting.push(e),this._rateLimit.checkpoint<=t-this._rateLimit.delta)?this._clearRateLimit():void(this._rateLimit.timeout||(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(t-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=t))}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;)setImmediate(this._rateLimit.waiting.shift())}isIdle(){return this.idling}verify(e){let t;e||(t=new Promise((t,i)=>{e=d.callbackPromise(t,i)}));let i=new a(this).auth;return this.getSocket(this.options,(t,r)=>{if(t)return e(t);let a=this.options;r&&r.connection&&(this.logger.info({tnx:"proxy",remoteAddress:r.connection.remoteAddress,remotePort:r.connection.remotePort,destHost:a.host||"",destPort:a.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",r.connection.remoteAddress,r.connection.remotePort,a.host||"",a.port||""),a=d.assign(!1,a),Object.keys(r).forEach(e=>{a[e]=r[e]}));let l=new o(a),p=!1;l.once("error",t=>{if(!p)return p=!0,l.close(),e(t)}),l.once("end",()=>{if(!p)return p=!0,e(Error("Connection closed"))});let c=()=>{if(!p)return p=!0,l.quit(),e(null,!0)};l.connect(()=>{if(!p){if(i&&(l.allowsAuth||a.forceAuth))l.login(i,t=>{if(!p){if(t)return p=!0,l.close(),e(t);c()}});else if(!i&&l.allowsAuth&&a.forceAuth){let t=Error("Authentication info was not provided");return t.code="NoAuth",p=!0,l.close(),e(t)}else c()}})}),t}}e.exports=c},80843:(e,t,i)=>{"use strict";let r=i(27462),a=i(89166).assign,o=i(87214),l=i(82361);class d extends l{constructor(e){if(super(),this.pool=e,this.options=e.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let e=new o(this.options.auth,this.logger);e.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||e.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:e,method:"XOAUTH2"},e.on("token",e=>this.pool.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(e){this.pool.getSocket(this.options,(t,i)=>{if(t)return e(t);let o=!1,l=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:l.host||"",destPort:l.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,l.host||"",l.port||""),l=a(!1,l),Object.keys(i).forEach(e=>{l[e]=i[e]})),this.connection=new r(l),this.connection.once("error",t=>{if(this.emit("error",t),!o)return o=!0,e(t)}),this.connection.once("end",()=>{if(this.close(),o)return;o=!0;let t=setTimeout(()=>{if(o)return;let t=Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(t.code="ETLS"),e(t)},1e3);try{t.unref()}catch(e){}}),this.connection.connect(()=>{if(!o){if(!this.auth||!this.connection.allowsAuth&&!l.forceAuth)return o=!0,this._connected=!0,e(null,!0);this.connection.login(this.auth,t=>{if(!o){if(o=!0,t)return this.connection.close(),this.emit("error",t),e(t);this._connected=!0,e(null,!0)}})}})})}send(e,t){if(!this._connected)return this.connect(i=>i?t(i):this.send(e,t));let i=e.message.getEnvelope(),r=e.message.messageId(),a=[].concat(i.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:r,cid:this.id},"Sending message %s using #%s to <%s>",r,this.id,a.join(", ")),e.data.dsn&&(i.dsn=e.data.dsn),this.connection.send(i,e.message.createReadStream(),(e,a)=>{if(this.messages++,e)return this.connection.close(),this.emit("error",e),t(e);a.envelope={from:i.from,to:i.to},a.messageId=r,setImmediate(()=>{let e;this.messages>=this.options.maxMessages?((e=Error("Resource exhausted")).code="EMAXLIMIT",this.connection.close(),this.emit("error",e)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),t(null,a)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}}e.exports=d},85030:(e,t,i)=>{"use strict";let r=i(82361),a=i(27462),o=i(4111),l=i(89166),d=i(87214),p=i(93259);class c extends r{constructor(e){let t;super(),"string"==typeof(e=e||{})&&(e={url:e});let i=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(t=l.parseConnectionUrl(e.url),i=i||t.service),this.options=l.assign(!1,e,t,i&&o(i)),this.logger=l.getLogger(this.options,{component:this.options.component||"smtp-transport"});let r=new a(this.options);this.name="SMTP",this.version=p.version+"[client:"+r.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(e,t){return setImmediate(()=>t(null,!1))}getAuth(e){if(!e)return this.auth;let t=!1,i={};if(this.options.auth&&"object"==typeof this.options.auth&&Object.keys(this.options.auth).forEach(e=>{t=!0,i[e]=this.options.auth[e]}),e&&"object"==typeof e&&Object.keys(e).forEach(r=>{t=!0,i[r]=e[r]}),!t)return!1;if("OAUTH2"===(i.type||"").toString().toUpperCase()){if(!i.service&&!i.user)return!1;let e=new d(i,this.logger);return e.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||e.provisionCallback,e.on("token",e=>this.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e)),{type:"OAUTH2",user:i.user,oauth2:e,method:"XOAUTH2"}}return{type:(i.type||"").toString().toUpperCase()||"LOGIN",user:i.user,credentials:{user:i.user||"",pass:i.pass,options:i.options},method:(i.method||"").trim().toUpperCase()||this.options.authMethod||!1}}send(e,t){this.getSocket(this.options,(i,r)=>{if(i)return t(i);let o=!1,d=this.options;r&&r.connection&&(this.logger.info({tnx:"proxy",remoteAddress:r.connection.remoteAddress,remotePort:r.connection.remotePort,destHost:d.host||"",destPort:d.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",r.connection.remoteAddress,r.connection.remotePort,d.host||"",d.port||""),d=l.assign(!1,d),Object.keys(r).forEach(e=>{d[e]=r[e]}));let p=new a(d);p.once("error",e=>{if(!o)return o=!0,p.close(),t(e)}),p.once("end",()=>{if(o)return;let e=setTimeout(()=>{if(o)return;o=!0;let e=Error("Unexpected socket close");p&&p._socket&&p._socket.upgrading&&(e.code="ETLS"),t(e)},1e3);try{e.unref()}catch(e){}});let c=()=>{let i=e.message.getEnvelope(),r=e.message.messageId(),a=[].concat(i.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),e.data.dsn&&(i.dsn=e.data.dsn),this.logger.info({tnx:"send",messageId:r},"Sending message %s to <%s>",r,a.join(", ")),p.send(i,e.message.createReadStream(),(e,a)=>{if(o=!0,p.close(),e)return this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",r,e.message),t(e);a.envelope={from:i.from,to:i.to},a.messageId=r;try{return t(null,a)}catch(e){this.logger.error({err:e,tnx:"callback"},"Callback error for %s: %s",r,e.message)}})};p.connect(()=>{if(o)return;let i=this.getAuth(e.data.auth);i&&(p.allowsAuth||d.forceAuth)?p.login(i,e=>{if(i&&i!==this.auth&&i.oauth2&&i.oauth2.removeAllListeners(),!o){if(e)return o=!0,p.close(),t(e);c()}}):c()})})}verify(e){let t;return e||(t=new Promise((t,i)=>{e=l.callbackPromise(t,i)})),this.getSocket(this.options,(t,i)=>{if(t)return e(t);let r=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:r.host||"",destPort:r.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,r.host||"",r.port||""),r=l.assign(!1,r),Object.keys(i).forEach(e=>{r[e]=i[e]}));let o=new a(r),d=!1;o.once("error",t=>{if(!d)return d=!0,o.close(),e(t)}),o.once("end",()=>{if(!d)return d=!0,e(Error("Connection closed"))});let p=()=>{if(!d)return d=!0,o.quit(),e(null,!0)};o.connect(()=>{if(d)return;let t=this.getAuth({});if(t&&(o.allowsAuth||r.forceAuth))o.login(t,t=>{if(!d){if(t)return d=!0,o.close(),e(t);p()}});else if(!t&&o.allowsAuth&&r.forceAuth){let t=Error("Authentication info was not provided");return t.code="NoAuth",d=!0,o.close(),e(t)}else p()})}),t}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}}e.exports=c},60035:(e,t,i)=>{"use strict";let r=i(93259),a=i(89166);class o{constructor(e){e=e||{},this.options=e||{},this.name="StreamTransport",this.version=r.version,this.logger=a.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())}send(e,t){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),r=e.message.messageId(),a=[].concat(i.to||[]);a.length>3&&a.push("...and "+a.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:r},"Sending message %s to <%s> using %s line breaks",r,a.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let i;try{i=e.message.createReadStream()}catch(e){return this.logger.error({err:e,tnx:"send",messageId:r},"Creating send stream failed for %s. %s",r,e.message),t(e)}if(!this.options.buffer)return i.once("error",e=>{this.logger.error({err:e,tnx:"send",messageId:r},"Failed creating message for %s. %s",r,e.message)}),t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:r,message:i});let a=[],o=0;i.on("readable",()=>{let e;for(;null!==(e=i.read());)a.push(e),o+=e.length}),i.once("error",e=>(this.logger.error({err:e,tnx:"send",messageId:r},"Failed creating message for %s. %s",r,e.message),t(e))),i.on("end",()=>t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:r,message:Buffer.concat(a,o)}))})}}e.exports=o},4111:(e,t,i)=>{"use strict";let r=i(29493),a={};function o(e){return e.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function l(e){let t=["domains","aliases"],i={};return Object.keys(e).forEach(r=>{0>t.indexOf(r)&&(i[r]=e[r])}),i}Object.keys(r).forEach(e=>{let t=r[e];a[o(e)]=l(t),[].concat(t.aliases||[]).forEach(e=>{a[o(e)]=l(t)}),[].concat(t.domains||[]).forEach(e=>{a[o(e)]=l(t)})}),e.exports=function(e){return a[e=o(e.split("@").pop())]||!1}},87214:(e,t,i)=>{"use strict";let r=i(12781).Stream,a=i(39071),o=i(6113),l=i(89166);class d extends r{constructor(e,t){if(super(),this.options=e||{},e&&e.serviceClient){if(!e.privateKey||!e.user){setImmediate(()=>this.emit("error",Error('Options "privateKey" and "user" are required for service account!')));return}let t=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=t||300}if(this.logger=l.getLogger({logger:t},{component:this.options.component||"OAuth2"}),this.provisionCallback="function"==typeof this.options.provisionCallback&&this.options.provisionCallback,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let e=Math.max(Number(this.options.timeout)||0,0);this.expires=e&&Date.now()+1e3*e||0}}getToken(e,t){if(!e&&this.accessToken&&(!this.expires||this.expires>Date.now()))return t(null,this.accessToken);let i=(...e)=>{e[0]?this.logger.error({err:e[0],tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),t(...e)};this.provisionCallback?this.provisionCallback(this.options.user,!!e,(e,t,r)=>{!e&&t&&(this.accessToken=t,this.expires=r||0),i(e,t)}):this.generateToken(i)}updateToken(e,t){this.accessToken=e,t=Math.max(Number(t)||0,0),this.expires=t&&Date.now()+1e3*t||0,this.emit("token",{user:this.options.user,accessToken:e||"",expires:this.expires})}generateToken(e){let t,i;if(this.options.serviceClient){let r,a=Math.floor(Date.now()/1e3),o={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:a,exp:a+this.options.serviceRequestTimeout};try{r=this.jwtSignRS256(o)}catch(t){return e(Error("Can't generate token. Check your auth options"))}t={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:r},i={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:o}}else{if(!this.options.refreshToken)return e(Error("Can't create new access token for user"));t={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},i={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(e=>{t[e]=this.options.customParams[e],i[e]=this.options.customParams[e]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(i)),this.postRequest(this.options.accessUrl,t,this.options,(t,i)=>{let r;if(t)return e(t);try{r=JSON.parse(i.toString())}catch(t){return e(t)}if(!r||"object"!=typeof r)return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(i||"").toString()),e(Error("Invalid authentication response"));let a={};if(Object.keys(r).forEach(e=>{"access_token"!==e?a[e]=r[e]:a[e]=(r[e]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(a)),r.error){let t=r.error;return r.error_description&&(t+=": "+r.error_description),r.error_uri&&(t+=" ("+r.error_uri+")"),e(Error(t))}return r.access_token?(this.updateToken(r.access_token,r.expires_in),e(null,this.accessToken)):e(Error("No access token"))})}buildXOAuth2Token(e){let t=["user="+(this.options.user||""),"auth=Bearer "+(e||this.accessToken),"",""];return Buffer.from(t.join("\x01"),"utf-8").toString("base64")}postRequest(e,t,i,r){let o=!1,l=[],d=0,p=a(e,{method:"post",headers:i.customHeaders,body:t,allowErrorResponse:!0});p.on("readable",()=>{let e;for(;null!==(e=p.read());)l.push(e),d+=e.length}),p.once("error",e=>{if(!o)return o=!0,r(e)}),p.once("end",()=>{if(!o)return o=!0,r(null,Buffer.concat(l,d))})}toBase64URL(e){return"string"==typeof e&&(e=Buffer.from(e)),e.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(e){e=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(e)].map(e=>this.toBase64URL(e)).join(".");let t=o.createSign("RSA-SHA256").update(e).sign(this.options.privateKey);return e+"."+this.toBase64URL(t)}}e.exports=d},77343:e=>{"use strict";let t;let i={exit:[],beforeExit:[]},r={exit:d,beforeExit:p};function a(){void 0===t&&(t=new FinalizationRegistry(u))}function o(e){i[e].length>0||process.on(e,r[e])}function l(e){i[e].length>0||(process.removeListener(e,r[e]),0!==i.exit.length||0!==i.beforeExit.length||(t=void 0))}function d(){c("exit")}function p(){c("beforeExit")}function c(e){for(let t of i[e]){let i=t.deref(),r=t.fn;void 0!==i&&r(i,e)}i[e]=[]}function u(e){for(let t of["exit","beforeExit"]){let r=i[t].indexOf(e);i[t].splice(r,r+1),l(t)}}function h(e,r,l){if(void 0===r)throw Error("the object can't be undefined");o(e);let d=new WeakRef(r);d.fn=l,a(),t.register(r,d),i[e].push(d)}function m(e,t){h("exit",e,t)}function g(e,t){h("beforeExit",e,t)}function y(e){if(void 0!==t)for(let r of(t.unregister(e),["exit","beforeExit"]))i[r]=i[r].filter(t=>{let i=t.deref();return i&&i!==e}),l(r)}e.exports={register:m,registerBeforeExit:g,unregister:y}},17337:(e,t,i)=>{var r=i(41438);function a(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},i=e.name||"Function wrapped with `once`";return t.onceError=i+" shouldn't be called more than once",t.called=!1,t}e.exports=r(a),e.exports.strict=r(o),a.proto=a(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return a(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},37406:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;let r=i(50785),a=i(69914),o=i(15010),l=i(94957),d=["/properties"],p="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),a.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(l,d):l;this.addMetaSchema(e,p,!1),this.refs["http://json-schema.org/schema"]=p}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(p)?p:void 0)}}t.Ajv=c,e.exports=t=c,e.exports.Ajv=c,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var u=i(26268);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var h=i(27153);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var m=i(22252);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return m.default}});var g=i(14772);Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})},82941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class i{}t._CodeOrName=i,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends i{constructor(e){if(super(),!t.IDENTIFIER.test(e))throw Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class a extends i{constructor(e){super(),this._items="string"==typeof e?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return""===e||'""'===e}get str(){var e;return null!==(e=this._str)&&void 0!==e?e:this._str=this._items.reduce((e,t)=>`${e}${t}`,"")}get names(){var e;return null!==(e=this._names)&&void 0!==e?e:this._names=this._items.reduce((e,t)=>(t instanceof r&&(e[t.str]=(e[t.str]||0)+1),e),{})}}function o(e,...t){let i=[e[0]],r=0;for(;r<t.length;)p(i,t[r]),i.push(e[++r]);return new a(i)}t._Code=a,t.nil=new a(""),t._=o;let l=new a("+");function d(e,...t){let i=[y(e[0])],r=0;for(;r<t.length;)i.push(l),p(i,t[r]),i.push(l,y(e[++r]));return c(i),new a(i)}function p(e,t){t instanceof a?e.push(...t._items):t instanceof r?e.push(t):e.push(m(t))}function c(e){let t=1;for(;t<e.length-1;){if(e[t]===l){let i=u(e[t-1],e[t+1]);if(void 0!==i){e.splice(t-1,3,i);continue}e[t++]="+"}t++}}function u(e,t){return'""'===t?e:'""'===e?t:"string"==typeof e?t instanceof r||'"'!==e[e.length-1]?void 0:"string"!=typeof t?`${e.slice(0,-1)}${t}"`:'"'===t[0]?e.slice(0,-1)+t.slice(1):void 0:"string"!=typeof t||'"'!==t[0]||e instanceof r?void 0:`"${e}${t.slice(1)}`}function h(e,t){return t.emptyStr()?e:e.emptyStr()?t:d`${e}${t}`}function m(e){return"number"==typeof e||"boolean"==typeof e||null===e?e:y(Array.isArray(e)?e.join(","):e)}function g(e){return new a(y(e))}function y(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function v(e){return"string"==typeof e&&t.IDENTIFIER.test(e)?new a(`.${e}`):o`[${e}]`}function b(e){if("string"==typeof e&&t.IDENTIFIER.test(e))return new a(`${e}`);throw Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}function w(e){return new a(e.toString())}t.str=d,t.addCodeArg=p,t.strConcat=h,t.stringify=g,t.safeStringify=y,t.getProperty=v,t.getEsmExportName=b,t.regexpCode=w},27153:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;let r=i(82941),a=i(7256);var o=i(82941);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return o._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return o.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return o.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return o.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return o.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return o.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return o.Name}});var l=i(7256);Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return l.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return l.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return l.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return l.varKinds}}),t.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class d{optimizeNodes(){return this}optimizeNames(e,t){return this}}class p extends d{constructor(e,t,i){super(),this.varKind=e,this.name=t,this.rhs=i}render({es5:e,_n:t}){let i=e?a.varKinds.var:this.varKind,r=void 0===this.rhs?"":` = ${this.rhs}`;return`${i} ${this.name}${r};`+t}optimizeNames(e,t){if(e[this.name.str])return this.rhs&&(this.rhs=$(this.rhs,e,t)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class c extends d{constructor(e,t,i){super(),this.lhs=e,this.rhs=t,this.sideEffects=i}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(!(this.lhs instanceof r.Name)||e[this.lhs.str]||this.sideEffects)return this.rhs=$(this.rhs,e,t),this}get names(){return R(this.lhs instanceof r.Name?{}:{...this.lhs.names},this.rhs)}}class u extends c{constructor(e,t,i,r){super(e,i,r),this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class h extends d{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}}class m extends d{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){let t=this.label?` ${this.label}`:"";return`break${t};`+e}}class g extends d{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class y extends d{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,t){return this.code=$(this.code,e,t),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class v extends d{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((t,i)=>t+i.render(e),"")}optimizeNodes(){let{nodes:e}=this,t=e.length;for(;t--;){let i=e[t].optimizeNodes();Array.isArray(i)?e.splice(t,1,...i):i?e[t]=i:e.splice(t,1)}return e.length>0?this:void 0}optimizeNames(e,t){let{nodes:i}=this,r=i.length;for(;r--;){let a=i[r];a.optimizeNames(e,t)||(j(e,a.names),i.splice(r,1))}return i.length>0?this:void 0}get names(){return this.nodes.reduce((e,t)=>D(e,t.names),{})}}class b extends v{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class w extends v{}class _ extends b{}_.kind="else";class x extends b{constructor(e,t){super(t),this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);return this.else&&(t+="else "+this.else.render(e)),t}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(!0===e)return this.nodes;let t=this.else;if(t){let e=t.optimizeNodes();t=this.else=Array.isArray(e)?new _(e):e}return t?!1===e?t instanceof x?t:t.nodes:this.nodes.length?this:new x(M(e),t instanceof x?[t]:t.nodes):!1!==e&&this.nodes.length?this:void 0}optimizeNames(e,t){var i;if(this.else=null===(i=this.else)||void 0===i?void 0:i.optimizeNames(e,t),super.optimizeNames(e,t)||this.else)return this.condition=$(this.condition,e,t),this}get names(){let e=super.names;return R(e,this.condition),this.else&&D(e,this.else.names),e}}x.kind="if";class S extends b{}S.kind="for";class E extends S{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iteration=$(this.iteration,e,t),this}get names(){return D(super.names,this.iteration.names)}}class k extends S{constructor(e,t,i,r){super(),this.varKind=e,this.name=t,this.from=i,this.to=r}render(e){let t=e.es5?a.varKinds.var:this.varKind,{name:i,from:r,to:o}=this;return`for(${t} ${i}=${r}; ${i}<${o}; ${i}++)`+super.render(e)}get names(){let e=R(super.names,this.from);return R(e,this.to)}}class T extends S{constructor(e,t,i,r){super(),this.loop=e,this.varKind=t,this.name=i,this.iterable=r}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(super.optimizeNames(e,t))return this.iterable=$(this.iterable,e,t),this}get names(){return D(super.names,this.iterable.names)}}class C extends b{constructor(e,t,i){super(),this.name=e,this.args=t,this.async=i}render(e){let t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}C.kind="func";class N extends v{render(e){return"return "+super.render(e)}}N.kind="return";class O extends b{render(e){let t="try"+super.render(e);return this.catch&&(t+=this.catch.render(e)),this.finally&&(t+=this.finally.render(e)),t}optimizeNodes(){var e,t;return super.optimizeNodes(),null===(e=this.catch)||void 0===e||e.optimizeNodes(),null===(t=this.finally)||void 0===t||t.optimizeNodes(),this}optimizeNames(e,t){var i,r;return super.optimizeNames(e,t),null===(i=this.catch)||void 0===i||i.optimizeNames(e,t),null===(r=this.finally)||void 0===r||r.optimizeNames(e,t),this}get names(){let e=super.names;return this.catch&&D(e,this.catch.names),this.finally&&D(e,this.finally.names),e}}class P extends b{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}P.kind="catch";class I extends b{render(e){return"finally"+super.render(e)}}I.kind="finally";class L{constructor(e,t={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...t,_n:t.lines?"\n":""},this._extScope=e,this._scope=new a.Scope({parent:e}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){let i=this._extScope.value(e,t);return(this._values[i.prefix]||(this._values[i.prefix]=new Set)).add(i),i}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,i,r){let a=this._scope.toName(t);return void 0!==i&&r&&(this._constants[a.str]=i),this._leafNode(new p(e,a,i)),a}const(e,t,i){return this._def(a.varKinds.const,e,t,i)}let(e,t,i){return this._def(a.varKinds.let,e,t,i)}var(e,t,i){return this._def(a.varKinds.var,e,t,i)}assign(e,t,i){return this._leafNode(new c(e,t,i))}add(e,i){return this._leafNode(new u(e,t.operators.ADD,i))}code(e){return"function"==typeof e?e():e!==r.nil&&this._leafNode(new y(e)),this}object(...e){let t=["{"];for(let[i,a]of e)t.length>1&&t.push(","),t.push(i),(i!==a||this.opts.es5)&&(t.push(":"),(0,r.addCodeArg)(t,a));return t.push("}"),new r._Code(t)}if(e,t,i){if(this._blockNode(new x(e)),t&&i)this.code(t).else().code(i).endIf();else if(t)this.code(t).endIf();else if(i)throw Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new x(e))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(x,_)}_for(e,t){return this._blockNode(e),t&&this.code(t).endFor(),this}for(e,t){return this._for(new E(e),t)}forRange(e,t,i,r,o=this.opts.es5?a.varKinds.var:a.varKinds.let){let l=this._scope.toName(e);return this._for(new k(o,l,t,i),()=>r(l))}forOf(e,t,i,o=a.varKinds.const){let l=this._scope.toName(e);if(this.opts.es5){let e=t instanceof r.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,r._)`${e}.length`,t=>{this.var(l,(0,r._)`${e}[${t}]`),i(l)})}return this._for(new T("of",o,l,t),()=>i(l))}forIn(e,t,i,o=this.opts.es5?a.varKinds.var:a.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,r._)`Object.keys(${t})`,i);let l=this._scope.toName(e);return this._for(new T("in",o,l,t),()=>i(l))}endFor(){return this._endBlockNode(S)}label(e){return this._leafNode(new h(e))}break(e){return this._leafNode(new m(e))}return(e){let t=new N;if(this._blockNode(t),this.code(e),1!==t.nodes.length)throw Error('CodeGen: "return" should have one node');return this._endBlockNode(N)}try(e,t,i){if(!t&&!i)throw Error('CodeGen: "try" without "catch" and "finally"');let r=new O;if(this._blockNode(r),this.code(e),t){let e=this.name("e");this._currNode=r.catch=new P(e),t(e)}return i&&(this._currNode=r.finally=new I,this.code(i)),this._endBlockNode(P,I)}throw(e){return this._leafNode(new g(e))}block(e,t){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(t),this}endBlock(e){let t=this._blockStarts.pop();if(void 0===t)throw Error("CodeGen: not in self-balancing block");let i=this._nodes.length-t;if(i<0||void 0!==e&&i!==e)throw Error(`CodeGen: wrong number of nodes: ${i} vs ${e} expected`);return this._nodes.length=t,this}func(e,t=r.nil,i,a){return this._blockNode(new C(e,t,i)),a&&this.code(a).endFunc(),this}endFunc(){return this._endBlockNode(C)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,t){let i=this._currNode;if(i instanceof e||t&&i instanceof t)return this._nodes.pop(),this;throw Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){let t=this._currNode;if(!(t instanceof x))throw Error('CodeGen: "else" without "if"');return this._currNode=t.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let t=this._nodes;t[t.length-1]=e}}function D(e,t){for(let i in t)e[i]=(e[i]||0)+(t[i]||0);return e}function R(e,t){return t instanceof r._CodeOrName?D(e,t.names):e}function $(e,t,i){if(e instanceof r.Name)return a(e);if(!o(e))return e;return new r._Code(e._items.reduce((e,t)=>(t instanceof r.Name&&(t=a(t)),t instanceof r._Code?e.push(...t._items):e.push(t),e),[]));function a(e){let r=i[e.str];return void 0===r||1!==t[e.str]?e:(delete t[e.str],r)}function o(e){return e instanceof r._Code&&e._items.some(e=>e instanceof r.Name&&1===t[e.str]&&void 0!==i[e.str])}}function j(e,t){for(let i in t)e[i]=(e[i]||0)-(t[i]||0)}function M(e){return"boolean"==typeof e||"number"==typeof e||null===e?!e:(0,r._)`!${V(e)}`}t.CodeGen=L,t.not=M;let U=q(t.operators.AND);function F(...e){return e.reduce(U)}t.and=F;let B=q(t.operators.OR);function z(...e){return e.reduce(B)}function q(e){return(t,i)=>t===r.nil?i:i===r.nil?t:(0,r._)`${V(t)} ${e} ${V(i)}`}function V(e){return e instanceof r.Name?e:(0,r._)`(${e})`}t.or=z},7256:(e,t,i)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;let a=i(82941);class o extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}}(function(e){e[e.Started=0]="Started",e[e.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new a.Name("const"),let:new a.Name("let"),var:new a.Name("var")};class l{constructor({prefixes:e,parent:t}={}){this._names={},this._prefixes=e,this._parent=t}toName(e){return e instanceof a.Name?e:this.name(e)}name(e){return new a.Name(this._newName(e))}_newName(e){let t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,i;if((null===(i=null===(t=this._parent)||void 0===t?void 0:t._prefixes)||void 0===i?void 0:i.has(e))||this._prefixes&&!this._prefixes.has(e))throw Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}}t.Scope=l;class d extends a.Name{constructor(e,t){super(t),this.prefix=e}setValue(e,{property:t,itemIndex:i}){this.value=e,this.scopePath=(0,a._)`.${new a.Name(t)}[${i}]`}}t.ValueScopeName=d;let p=(0,a._)`\n`;class c extends l{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts={...e,_n:e.lines?p:a.nil}}get(){return this._scope}name(e){return new d(e,this._newName(e))}value(e,t){var i;if(void 0===t.ref)throw Error("CodeGen: ref must be passed in value");let r=this.toName(e),{prefix:a}=r,o=null!==(i=t.key)&&void 0!==i?i:t.ref,l=this._values[a];if(l){let e=l.get(o);if(e)return e}else l=this._values[a]=new Map;l.set(o,r);let d=this._scope[a]||(this._scope[a]=[]),p=d.length;return d[p]=t.ref,r.setValue(t,{property:a,itemIndex:p}),r}getValue(e,t){let i=this._values[e];if(i)return i.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,t=>{if(void 0===t.scopePath)throw Error(`CodeGen: name "${t}" has no value`);return(0,a._)`${e}${t.scopePath}`})}scopeCode(e=this._values,t,i){return this._reduceValues(e,e=>{if(void 0===e.value)throw Error(`CodeGen: name "${e}" has no value`);return e.value.code},t,i)}_reduceValues(e,i,l={},d){let p=a.nil;for(let c in e){let u=e[c];if(!u)continue;let h=l[c]=l[c]||new Map;u.forEach(e=>{if(h.has(e))return;h.set(e,r.Started);let l=i(e);if(l){let i=this.opts.es5?t.varKinds.var:t.varKinds.const;p=(0,a._)`${p}${i} ${e} = ${l};${this.opts._n}`}else if(l=null==d?void 0:d(e))p=(0,a._)`${p}${l}${this.opts._n}`;else throw new o(e);h.set(e,r.Completed)})}return p}}t.ValueScope=c},62576:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;let r=i(27153),a=i(76631),o=i(16642);function l(e,i=t.keywordError,a,o){let{it:l}=e,{gen:d,compositeRule:p,allErrors:c}=l,m=g(e,i,a);(null!=o?o:p||c)?u(d,m):h(l,(0,r._)`[${m}]`)}function d(e,i=t.keywordError,r){let{it:a}=e,{gen:l,compositeRule:d,allErrors:p}=a;u(l,g(e,i,r)),d||p||h(a,o.default.vErrors)}function p(e,t){e.assign(o.default.errors,t),e.if((0,r._)`${o.default.vErrors} !== null`,()=>e.if(t,()=>e.assign((0,r._)`${o.default.vErrors}.length`,t),()=>e.assign(o.default.vErrors,null)))}function c({gen:e,keyword:t,schemaValue:i,data:a,errsCount:l,it:d}){if(void 0===l)throw Error("ajv implementation error");let p=e.name("err");e.forRange("i",l,o.default.errors,l=>{e.const(p,(0,r._)`${o.default.vErrors}[${l}]`),e.if((0,r._)`${p}.instancePath === undefined`,()=>e.assign((0,r._)`${p}.instancePath`,(0,r.strConcat)(o.default.instancePath,d.errorPath))),e.assign((0,r._)`${p}.schemaPath`,(0,r.str)`${d.errSchemaPath}/${t}`),d.opts.verbose&&(e.assign((0,r._)`${p}.schema`,i),e.assign((0,r._)`${p}.data`,a))})}function u(e,t){let i=e.const("err",t);e.if((0,r._)`${o.default.vErrors} === null`,()=>e.assign(o.default.vErrors,(0,r._)`[${i}]`),(0,r._)`${o.default.vErrors}.push(${i})`),e.code((0,r._)`${o.default.errors}++`)}function h(e,t){let{gen:i,validateName:a,schemaEnv:o}=e;o.$async?i.throw((0,r._)`new ${e.ValidationError}(${t})`):(i.assign((0,r._)`${a}.errors`,t),i.return(!1))}t.keywordError={message:({keyword:e})=>(0,r.str)`must pass "${e}" keyword validation`},t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,r.str)`"${e}" keyword must be ${t} ($data)`:(0,r.str)`"${e}" keyword is invalid ($data)`},t.reportError=l,t.reportExtraError=d,t.resetErrorsCount=p,t.extendErrors=c;let m={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function g(e,t,i){let{createErrors:a}=e.it;return!1===a?(0,r._)`{}`:y(e,t,i)}function y(e,t,i={}){let{gen:r,it:a}=e,o=[v(a,i),b(e,i)];return w(e,t,o),r.object(...o)}function v({errorPath:e},{instancePath:t}){let i=t?(0,r.str)`${e}${(0,a.getErrorPath)(t,a.Type.Str)}`:e;return[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,i)]}function b({keyword:e,it:{errSchemaPath:t}},{schemaPath:i,parentSchema:o}){let l=o?t:(0,r.str)`${t}/${e}`;return i&&(l=(0,r.str)`${l}${(0,a.getErrorPath)(i,a.Type.Str)}`),[m.schemaPath,l]}function w(e,{params:t,message:i},a){let{keyword:l,data:d,schemaValue:p,it:c}=e,{opts:u,propertyName:h,topSchemaRef:g,schemaPath:y}=c;a.push([m.keyword,l],[m.params,"function"==typeof t?t(e):t||(0,r._)`{}`]),u.messages&&a.push([m.message,"function"==typeof i?i(e):i]),u.verbose&&a.push([m.schema,p],[m.parentSchema,(0,r._)`${g}${y}`],[o.default.data,d]),h&&a.push([m.propertyName,h])}},44122:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;let r=i(27153),a=i(22252),o=i(16642),l=i(97533),d=i(76631),p=i(26268);class c{constructor(e){var t;let i;this.refs={},this.dynamicAnchors={},"object"==typeof e.schema&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=null!==(t=e.baseId)&&void 0!==t?t:(0,l.normalizeId)(null==i?void 0:i[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=null==i?void 0:i.$async,this.refs={}}}function u(e){let t,i;let d=g.call(this,e);if(d)return d;let c=(0,l.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:u,lines:h}=this.opts.code,{ownProperties:m}=this.opts,y=new r.CodeGen(this.scope,{es5:u,lines:h,ownProperties:m});e.$async&&(t=y.scopeValue("Error",{ref:a.default,code:(0,r._)`require("ajv/dist/runtime/validation_error").default`}));let v=y.scopeName("validate");e.validateName=v;let b={gen:y,allErrors:this.opts.allErrors,data:o.default.data,parentData:o.default.parentData,parentDataProperty:o.default.parentDataProperty,dataNames:[o.default.data],dataPathArr:[r.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:y.scopeValue("schema",!0===this.opts.code.source?{ref:e.schema,code:(0,r.stringify)(e.schema)}:{ref:e.schema}),validateName:v,ValidationError:t,schema:e.schema,schemaEnv:e,rootId:c,baseId:e.baseId||c,schemaPath:r.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,r._)`""`,opts:this.opts,self:this};try{this._compilations.add(e),(0,p.validateFunctionCode)(b),y.optimize(this.opts.code.optimize);let t=y.toString();i=`${y.scopeRefs(o.default.scope)}return ${t}`,this.opts.code.process&&(i=this.opts.code.process(i,e));let a=Function(`${o.default.self}`,`${o.default.scope}`,i)(this,this.scope.get());if(this.scope.value(v,{ref:a}),a.errors=null,a.schema=e.schema,a.schemaEnv=e,e.$async&&(a.$async=!0),!0===this.opts.code.source&&(a.source={validateName:v,validateCode:t,scopeValues:y._values}),this.opts.unevaluated){let{props:e,items:t}=b;a.evaluated={props:e instanceof r.Name?void 0:e,items:t instanceof r.Name?void 0:t,dynamicProps:e instanceof r.Name,dynamicItems:t instanceof r.Name},a.source&&(a.source.evaluated=(0,r.stringify)(a.evaluated))}return e.validate=a,e}catch(t){throw delete e.validate,delete e.validateName,i&&this.logger.error("Error compiling schema, function code:",i),t}finally{this._compilations.delete(e)}}function h(e,t,i){var r;i=(0,l.resolveUrl)(this.opts.uriResolver,t,i);let a=e.refs[i];if(a)return a;let o=v.call(this,e,i);if(void 0===o){let a=null===(r=e.localRefs)||void 0===r?void 0:r[i],{schemaId:l}=this.opts;a&&(o=new c({schema:a,schemaId:l,root:e,baseId:t}))}if(void 0!==o)return e.refs[i]=m.call(this,o)}function m(e){return(0,l.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:u.call(this,e)}function g(e){for(let t of this._compilations)if(y(t,e))return t}function y(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function v(e,t){let i;for(;"string"==typeof(i=this.refs[t]);)t=i;return i||this.schemas[t]||b.call(this,e,t)}function b(e,t){let i=this.opts.uriResolver.parse(t),r=(0,l._getFullPath)(this.opts.uriResolver,i),a=(0,l.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&r===a)return _.call(this,i,e);let o=(0,l.normalizeId)(r),d=this.refs[o]||this.schemas[o];if("string"==typeof d){let t=b.call(this,e,d);if("object"!=typeof(null==t?void 0:t.schema))return;return _.call(this,i,t)}if("object"==typeof(null==d?void 0:d.schema)){if(d.validate||u.call(this,d),o===(0,l.normalizeId)(t)){let{schema:t}=d,{schemaId:i}=this.opts,r=t[i];return r&&(a=(0,l.resolveUrl)(this.opts.uriResolver,a,r)),new c({schema:t,schemaId:i,root:e,baseId:a})}return _.call(this,i,d)}}t.SchemaEnv=c,t.compileSchema=u,t.resolveRef=h,t.getCompilingSchema=g,t.resolveSchema=b;let w=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(e,{baseId:t,schema:i,root:r}){var a;let o;if((null===(a=e.fragment)||void 0===a?void 0:a[0])!=="/")return;for(let r of e.fragment.slice(1).split("/")){if("boolean"==typeof i)return;let e=i[(0,d.unescapeFragment)(r)];if(void 0===e)return;let a="object"==typeof(i=e)&&i[this.opts.schemaId];!w.has(r)&&a&&(t=(0,l.resolveUrl)(this.opts.uriResolver,t,a))}if("boolean"!=typeof i&&i.$ref&&!(0,d.schemaHasRulesButRef)(i,this.RULES)){let e=(0,l.resolveUrl)(this.opts.uriResolver,t,i.$ref);o=b.call(this,r,e)}let{schemaId:p}=this.opts;if((o=o||new c({schema:i,schemaId:p,root:r,baseId:t})).schema!==o.root.schema)return o}},16642:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a={data:new r.Name("data"),valCxt:new r.Name("valCxt"),instancePath:new r.Name("instancePath"),parentData:new r.Name("parentData"),parentDataProperty:new r.Name("parentDataProperty"),rootData:new r.Name("rootData"),dynamicAnchors:new r.Name("dynamicAnchors"),vErrors:new r.Name("vErrors"),errors:new r.Name("errors"),this:new r.Name("this"),self:new r.Name("self"),scope:new r.Name("scope"),json:new r.Name("json"),jsonPos:new r.Name("jsonPos"),jsonLen:new r.Name("jsonLen"),jsonPart:new r.Name("jsonPart")};t.default=a},14772:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(97533);class a extends Error{constructor(e,t,i,a){super(a||`can't resolve reference ${i} from id ${t}`),this.missingRef=(0,r.resolveUrl)(e,t,i),this.missingSchema=(0,r.normalizeId)((0,r.getFullPath)(e,this.missingRef))}}t.default=a},97533:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;let r=i(76631),a=i(9083),o=i(48640),l=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function d(e,t=!0){return"boolean"==typeof e||(!0===t?!c(e):!!t&&u(e)<=t)}t.inlineRef=d;let p=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function c(e){for(let t in e){if(p.has(t))return!0;let i=e[t];if(Array.isArray(i)&&i.some(c)||"object"==typeof i&&c(i))return!0}return!1}function u(e){let t=0;for(let i in e)if("$ref"===i||(t++,!l.has(i)&&("object"==typeof e[i]&&(0,r.eachItem)(e[i],e=>t+=u(e)),t===1/0)))return 1/0;return t}function h(e,t="",i){!1!==i&&(t=y(t));let r=e.parse(t);return m(e,r)}function m(e,t){return e.serialize(t).split("#")[0]+"#"}t.getFullPath=h,t._getFullPath=m;let g=/#\/?$/;function y(e){return e?e.replace(g,""):""}function v(e,t,i){return i=y(i),e.resolve(t,i)}t.normalizeId=y,t.resolveUrl=v;let b=/^[a-z_][-a-z0-9._]*$/i;function w(e,t){if("boolean"==typeof e)return{};let{schemaId:i,uriResolver:r}=this.opts,l=y(e[i]||t),d={"":l},p=h(r,l,!1),c={},u=new Set;return o(e,{allKeys:!0},(e,t,r,a)=>{if(void 0===a)return;let o=p+t,l=d[a];function h(t){let i=this.opts.uriResolver.resolve;if(t=y(l?i(l,t):t),u.has(t))throw g(t);u.add(t);let r=this.refs[t];return"string"==typeof r&&(r=this.refs[r]),"object"==typeof r?m(e,r.schema,t):t!==y(o)&&("#"===t[0]?(m(e,c[t],t),c[t]=e):this.refs[t]=o),t}function v(e){if("string"==typeof e){if(!b.test(e))throw Error(`invalid anchor "${e}"`);h.call(this,`#${e}`)}}"string"==typeof e[i]&&(l=h.call(this,e[i])),v.call(this,e.$anchor),v.call(this,e.$dynamicAnchor),d[t]=l}),c;function m(e,t,i){if(void 0!==t&&!a(e,t))throw g(i)}function g(e){return Error(`reference "${e}" resolves to more than one schema`)}}t.getSchemaRefs=w},28066:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRules=t.isJSONType=void 0;let i=new Set(["string","number","integer","boolean","null","object","array"]);function r(e){return"string"==typeof e&&i.has(e)}function a(){let e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}t.isJSONType=r,t.getRules=a},76631:(e,t,i)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;let a=i(27153),o=i(82941);function l(e){let t={};for(let i of e)t[i]=!0;return t}function d(e,t){return"boolean"==typeof t?t:0===Object.keys(t).length||(p(e,t),!c(t,e.self.RULES.all))}function p(e,t=e.schema){let{opts:i,self:r}=e;if(!i.strictSchema||"boolean"==typeof t)return;let a=r.RULES.keywords;for(let i in t)a[i]||T(e,`unknown keyword: "${i}"`)}function c(e,t){if("boolean"==typeof e)return!e;for(let i in e)if(t[i])return!0;return!1}function u(e,t){if("boolean"==typeof e)return!e;for(let i in e)if("$ref"!==i&&t.all[i])return!0;return!1}function h({topSchemaRef:e,schemaPath:t},i,r,o){if(!o){if("number"==typeof i||"boolean"==typeof i)return i;if("string"==typeof i)return(0,a._)`${i}`}return(0,a._)`${e}${t}${(0,a.getProperty)(r)}`}function m(e){return v(decodeURIComponent(e))}function g(e){return encodeURIComponent(y(e))}function y(e){return"number"==typeof e?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}function v(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function b(e,t){if(Array.isArray(e))for(let i of e)t(i);else t(e)}function w({mergeNames:e,mergeToName:t,mergeValues:i,resultToName:r}){return(o,l,d,p)=>{let c=void 0===d?l:d instanceof a.Name?(l instanceof a.Name?e(o,l,d):t(o,l,d),d):l instanceof a.Name?(t(o,d,l),l):i(l,d);return p!==a.Name||c instanceof a.Name?c:r(o,c)}}function _(e,t){if(!0===t)return e.var("props",!0);let i=e.var("props",(0,a._)`{}`);return void 0!==t&&x(e,i,t),i}function x(e,t,i){Object.keys(i).forEach(i=>e.assign((0,a._)`${t}${(0,a.getProperty)(i)}`,!0))}t.toHash=l,t.alwaysValidSchema=d,t.checkUnknownRules=p,t.schemaHasRules=c,t.schemaHasRulesButRef=u,t.schemaRefOrVal=h,t.unescapeFragment=m,t.escapeFragment=g,t.escapeJsonPointer=y,t.unescapeJsonPointer=v,t.eachItem=b,t.mergeEvaluated={props:w({mergeNames:(e,t,i)=>e.if((0,a._)`${i} !== true && ${t} !== undefined`,()=>{e.if((0,a._)`${t} === true`,()=>e.assign(i,!0),()=>e.assign(i,(0,a._)`${i} || {}`).code((0,a._)`Object.assign(${i}, ${t})`))}),mergeToName:(e,t,i)=>e.if((0,a._)`${i} !== true`,()=>{!0===t?e.assign(i,!0):(e.assign(i,(0,a._)`${i} || {}`),x(e,i,t))}),mergeValues:(e,t)=>!0===e||{...e,...t},resultToName:_}),items:w({mergeNames:(e,t,i)=>e.if((0,a._)`${i} !== true && ${t} !== undefined`,()=>e.assign(i,(0,a._)`${t} === true ? true : ${i} > ${t} ? ${i} : ${t}`)),mergeToName:(e,t,i)=>e.if((0,a._)`${i} !== true`,()=>e.assign(i,!0===t||(0,a._)`${i} > ${t} ? ${i} : ${t}`)),mergeValues:(e,t)=>!0===e||Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})},t.evaluatedPropsToName=_,t.setEvaluated=x;let S={};function E(e,t){return e.scopeValue("func",{ref:t,code:S[t.code]||(S[t.code]=new o._Code(t.code))})}function k(e,t,i){if(e instanceof a.Name){let o=t===r.Num;return i?o?(0,a._)`"[" + ${e} + "]"`:(0,a._)`"['" + ${e} + "']"`:o?(0,a._)`"/" + ${e}`:(0,a._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return i?(0,a.getProperty)(e).toString():"/"+y(e)}function T(e,t,i=e.opts.strictSchema){if(i){if(t=`strict mode: ${t}`,!0===i)throw Error(t);e.self.logger.warn(t)}}t.useFunc=E,function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"}(r||(t.Type=r={})),t.getErrorPath=k,t.checkStrictMode=T},2249:(e,t)=>{"use strict";function i({schema:e,self:t},i){let a=t.RULES.types[i];return a&&!0!==a&&r(e,a)}function r(e,t){return t.rules.some(t=>a(e,t))}function a(e,t){var i;return void 0!==e[t.keyword]||(null===(i=t.definition.implements)||void 0===i?void 0:i.some(t=>void 0!==e[t]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0,t.schemaHasRulesForType=i,t.shouldUseGroup=r,t.shouldUseRule=a},54131:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;let r=i(62576),a=i(27153),o=i(16642),l={message:"boolean schema is false"};function d(e){let{gen:t,schema:i,validateName:r}=e;!1===i?c(e,!1):"object"==typeof i&&!0===i.$async?t.return(o.default.data):(t.assign((0,a._)`${r}.errors`,null),t.return(!0))}function p(e,t){let{gen:i,schema:r}=e;!1===r?(i.var(t,!1),c(e)):i.var(t,!0)}function c(e,t){let{gen:i,data:a}=e,o={gen:i,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,r.reportError)(o,l,void 0,t)}t.topBoolOrEmptySchema=d,t.boolOrEmptySchema=p},94687:(e,t,i)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;let a=i(28066),o=i(2249),l=i(62576),d=i(27153),p=i(76631);function c(e){let t=u(e.type);if(t.includes("null")){if(!1===e.nullable)throw Error("type: null contradicts nullable: false")}else{if(!t.length&&void 0!==e.nullable)throw Error('"nullable" cannot be used without "type"');!0===e.nullable&&t.push("null")}return t}function u(e){let t=Array.isArray(e)?e:e?[e]:[];if(t.every(a.isJSONType))return t;throw Error("type must be JSONType or JSONType[]: "+t.join(","))}function h(e,t){let{gen:i,data:a,opts:l}=e,d=g(t,l.coerceTypes),p=t.length>0&&!(0===d.length&&1===t.length&&(0,o.schemaHasRulesForType)(e,t[0]));if(p){let o=w(t,a,l.strictNumbers,r.Wrong);i.if(o,()=>{d.length?y(e,t,d):x(e)})}return p}(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(r||(t.DataType=r={})),t.getSchemaTypes=c,t.getJSONTypes=u,t.coerceAndCheckDataType=h;let m=new Set(["string","number","integer","boolean","null"]);function g(e,t){return t?e.filter(e=>m.has(e)||"array"===t&&"array"===e):[]}function y(e,t,i){let{gen:r,data:a,opts:o}=e,l=r.let("dataType",(0,d._)`typeof ${a}`),p=r.let("coerced",(0,d._)`undefined`);for(let e of("array"===o.coerceTypes&&r.if((0,d._)`${l} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>r.assign(a,(0,d._)`${a}[0]`).assign(l,(0,d._)`typeof ${a}`).if(w(t,a,o.strictNumbers),()=>r.assign(p,a))),r.if((0,d._)`${p} !== undefined`),i))(m.has(e)||"array"===e&&"array"===o.coerceTypes)&&c(e);function c(e){switch(e){case"string":r.elseIf((0,d._)`${l} == "number" || ${l} == "boolean"`).assign(p,(0,d._)`"" + ${a}`).elseIf((0,d._)`${a} === null`).assign(p,(0,d._)`""`);return;case"number":r.elseIf((0,d._)`${l} == "boolean" || ${a} === null
              || (${l} == "string" && ${a} && ${a} == +${a})`).assign(p,(0,d._)`+${a}`);return;case"integer":r.elseIf((0,d._)`${l} === "boolean" || ${a} === null
              || (${l} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(p,(0,d._)`+${a}`);return;case"boolean":r.elseIf((0,d._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(p,!1).elseIf((0,d._)`${a} === "true" || ${a} === 1`).assign(p,!0);return;case"null":r.elseIf((0,d._)`${a} === "" || ${a} === 0 || ${a} === false`),r.assign(p,null);return;case"array":r.elseIf((0,d._)`${l} === "string" || ${l} === "number"
              || ${l} === "boolean" || ${a} === null`).assign(p,(0,d._)`[${a}]`)}}r.else(),x(e),r.endIf(),r.if((0,d._)`${p} !== undefined`,()=>{r.assign(a,p),v(e,p)})}function v({gen:e,parentData:t,parentDataProperty:i},r){e.if((0,d._)`${t} !== undefined`,()=>e.assign((0,d._)`${t}[${i}]`,r))}function b(e,t,i,a=r.Correct){let o;let l=a===r.Correct?d.operators.EQ:d.operators.NEQ;switch(e){case"null":return(0,d._)`${t} ${l} null`;case"array":o=(0,d._)`Array.isArray(${t})`;break;case"object":o=(0,d._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":o=p((0,d._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":o=p();break;default:return(0,d._)`typeof ${t} ${l} ${e}`}return a===r.Correct?o:(0,d.not)(o);function p(e=d.nil){return(0,d.and)((0,d._)`typeof ${t} == "number"`,e,i?(0,d._)`isFinite(${t})`:d.nil)}}function w(e,t,i,r){let a;if(1===e.length)return b(e[0],t,i,r);let o=(0,p.toHash)(e);if(o.array&&o.object){let e=(0,d._)`typeof ${t} != "object"`;a=o.null?e:(0,d._)`!${t} || ${e}`,delete o.null,delete o.array,delete o.object}else a=d.nil;for(let e in o.number&&delete o.integer,o)a=(0,d.and)(a,b(e,t,i,r));return a}t.checkDataType=b,t.checkDataTypes=w;let _={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>"string"==typeof e?(0,d._)`{type: ${e}}`:(0,d._)`{type: ${t}}`};function x(e){let t=S(e);(0,l.reportError)(t,_)}function S(e){let{gen:t,data:i,schema:r}=e,a=(0,p.schemaRefOrVal)(e,r,"type");return{gen:t,keyword:"type",data:i,schema:r.type,schemaCode:a,schemaValue:a,parentSchema:r,params:{},it:e}}t.reportTypeError=x},6547:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assignDefaults=void 0;let r=i(27153),a=i(76631);function o(e,t){let{properties:i,items:r}=e.schema;if("object"===t&&i)for(let t in i)l(e,t,i[t].default);else"array"===t&&Array.isArray(r)&&r.forEach((t,i)=>l(e,i,t.default))}function l(e,t,i){let{gen:o,compositeRule:l,data:d,opts:p}=e;if(void 0===i)return;let c=(0,r._)`${d}${(0,r.getProperty)(t)}`;if(l){(0,a.checkStrictMode)(e,`default is ignored for: ${c}`);return}let u=(0,r._)`${c} === undefined`;"empty"===p.useDefaults&&(u=(0,r._)`${u} || ${c} === null || ${c} === ""`),o.if(u,(0,r._)`${c} = ${(0,r.stringify)(i)}`)}t.assignDefaults=o},26268:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;let r=i(54131),a=i(94687),o=i(2249),l=i(94687),d=i(6547),p=i(63631),c=i(28366),u=i(27153),h=i(16642),m=i(97533),g=i(76631),y=i(62576);function v(e){if(C(e)&&(O(e),T(e))){x(e);return}b(e,()=>(0,r.topBoolOrEmptySchema)(e))}function b({gen:e,validateName:t,schema:i,schemaEnv:r,opts:a},o){a.code.es5?e.func(t,(0,u._)`${h.default.data}, ${h.default.valCxt}`,r.$async,()=>{e.code((0,u._)`"use strict"; ${E(i,a)}`),_(e,a),e.code(o)}):e.func(t,(0,u._)`${h.default.data}, ${w(a)}`,r.$async,()=>e.code(E(i,a)).code(o))}function w(e){return(0,u._)`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${e.dynamicRef?(0,u._)`, ${h.default.dynamicAnchors}={}`:u.nil}}={}`}function _(e,t){e.if(h.default.valCxt,()=>{e.var(h.default.instancePath,(0,u._)`${h.default.valCxt}.${h.default.instancePath}`),e.var(h.default.parentData,(0,u._)`${h.default.valCxt}.${h.default.parentData}`),e.var(h.default.parentDataProperty,(0,u._)`${h.default.valCxt}.${h.default.parentDataProperty}`),e.var(h.default.rootData,(0,u._)`${h.default.valCxt}.${h.default.rootData}`),t.dynamicRef&&e.var(h.default.dynamicAnchors,(0,u._)`${h.default.valCxt}.${h.default.dynamicAnchors}`)},()=>{e.var(h.default.instancePath,(0,u._)`""`),e.var(h.default.parentData,(0,u._)`undefined`),e.var(h.default.parentDataProperty,(0,u._)`undefined`),e.var(h.default.rootData,h.default.data),t.dynamicRef&&e.var(h.default.dynamicAnchors,(0,u._)`{}`)})}function x(e){let{schema:t,opts:i,gen:r}=e;b(e,()=>{i.$comment&&t.$comment&&$(e),L(e),r.let(h.default.vErrors,null),r.let(h.default.errors,0),i.unevaluated&&S(e),P(e),j(e)})}function S(e){let{gen:t,validateName:i}=e;e.evaluated=t.const("evaluated",(0,u._)`${i}.evaluated`),t.if((0,u._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,u._)`${e.evaluated}.props`,(0,u._)`undefined`)),t.if((0,u._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,u._)`${e.evaluated}.items`,(0,u._)`undefined`))}function E(e,t){let i="object"==typeof e&&e[t.schemaId];return i&&(t.code.source||t.code.process)?(0,u._)`/*# sourceURL=${i} */`:u.nil}function k(e,t){if(C(e)&&(O(e),T(e))){N(e,t);return}(0,r.boolOrEmptySchema)(e,t)}function T({schema:e,self:t}){if("boolean"==typeof e)return!e;for(let i in e)if(t.RULES.all[i])return!0;return!1}function C(e){return"boolean"!=typeof e.schema}function N(e,t){let{schema:i,gen:r,opts:a}=e;a.$comment&&i.$comment&&$(e),D(e),R(e);let o=r.const("_errs",h.default.errors);P(e,o),r.var(t,(0,u._)`${o} === ${h.default.errors}`)}function O(e){(0,g.checkUnknownRules)(e),I(e)}function P(e,t){if(e.opts.jtd)return U(e,[],!1,t);let i=(0,a.getSchemaTypes)(e.schema),r=(0,a.coerceAndCheckDataType)(e,i);U(e,i,!r,t)}function I(e){let{schema:t,errSchemaPath:i,opts:r,self:a}=e;t.$ref&&r.ignoreKeywordsWithRef&&(0,g.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${i}"`)}function L(e){let{schema:t,opts:i}=e;void 0!==t.default&&i.useDefaults&&i.strictSchema&&(0,g.checkStrictMode)(e,"default is ignored in the schema root")}function D(e){let t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,m.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function R(e){if(e.schema.$async&&!e.schemaEnv.$async)throw Error("async schema in sync schema")}function $({gen:e,schemaEnv:t,schema:i,errSchemaPath:r,opts:a}){let o=i.$comment;if(!0===a.$comment)e.code((0,u._)`${h.default.self}.logger.log(${o})`);else if("function"==typeof a.$comment){let i=(0,u.str)`${r}/$comment`,a=e.scopeValue("root",{ref:t.root});e.code((0,u._)`${h.default.self}.opts.$comment(${o}, ${i}, ${a}.schema)`)}}function j(e){let{gen:t,schemaEnv:i,validateName:r,ValidationError:a,opts:o}=e;i.$async?t.if((0,u._)`${h.default.errors} === 0`,()=>t.return(h.default.data),()=>t.throw((0,u._)`new ${a}(${h.default.vErrors})`)):(t.assign((0,u._)`${r}.errors`,h.default.vErrors),o.unevaluated&&M(e),t.return((0,u._)`${h.default.errors} === 0`))}function M({gen:e,evaluated:t,props:i,items:r}){i instanceof u.Name&&e.assign((0,u._)`${t}.props`,i),r instanceof u.Name&&e.assign((0,u._)`${t}.items`,r)}function U(e,t,i,r){let{gen:a,schema:d,data:p,allErrors:c,opts:m,self:y}=e,{RULES:v}=y;if(d.$ref&&(m.ignoreKeywordsWithRef||!(0,g.schemaHasRulesButRef)(d,v))){a.block(()=>Q(e,"$ref",v.all.$ref.definition));return}function b(g){(0,o.shouldUseGroup)(d,g)&&(g.type?(a.if((0,l.checkDataType)(g.type,p,m.strictNumbers)),F(e,g),1===t.length&&t[0]===g.type&&i&&(a.else(),(0,l.reportTypeError)(e)),a.endIf()):F(e,g),c||a.if((0,u._)`${h.default.errors} === ${r||0}`))}m.jtd||B(e,t),a.block(()=>{for(let e of v.rules)b(e);b(v.post)})}function F(e,t){let{gen:i,schema:r,opts:{useDefaults:a}}=e;a&&(0,d.assignDefaults)(e,t.type),i.block(()=>{for(let i of t.rules)(0,o.shouldUseRule)(r,i)&&Q(e,i.keyword,i.definition,t.type)})}function B(e,t){!e.schemaEnv.meta&&e.opts.strictTypes&&(z(e,t),e.opts.allowUnionTypes||q(e,t),V(e,e.dataTypes))}function z(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(t=>{W(e.dataTypes,t)||K(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}),G(e,t)}}function q(e,t){t.length>1&&!(2===t.length&&t.includes("null"))&&K(e,"use allowUnionTypes to allow union type keyword")}function V(e,t){let i=e.self.RULES.all;for(let r in i){let a=i[r];if("object"==typeof a&&(0,o.shouldUseRule)(e.schema,a)){let{type:i}=a.definition;i.length&&!i.some(e=>H(t,e))&&K(e,`missing type "${i.join(",")}" for keyword "${r}"`)}}}function H(e,t){return e.includes(t)||"number"===t&&e.includes("integer")}function W(e,t){return e.includes(t)||"integer"===t&&e.includes("number")}function G(e,t){let i=[];for(let r of e.dataTypes)W(t,r)?i.push(r):t.includes("integer")&&"number"===r&&i.push("integer");e.dataTypes=i}function K(e,t){let i=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${i}" (strictTypes)`,(0,g.checkStrictMode)(e,t,e.opts.strictTypes)}t.validateFunctionCode=v;class J{constructor(e,t,i){if((0,p.validateKeywordUsage)(e,t,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,g.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=t.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=t,this.$data)this.schemaCode=e.gen.const("vSchema",X(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,p.validSchemaType)(this.schema,t.schemaType,t.allowUndefined))throw Error(`${i} value must be ${JSON.stringify(t.schemaType)}`);("code"in t?t.trackErrors:!1!==t.errors)&&(this.errsCount=e.gen.const("_errs",h.default.errors))}result(e,t,i){this.failResult((0,u.not)(e),t,i)}failResult(e,t,i){this.gen.if(e),i?i():this.error(),t?(this.gen.else(),t(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,t){this.failResult((0,u.not)(e),void 0,t)}fail(e){if(void 0===e){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:t}=this;this.fail((0,u._)`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,i){if(t){this.setParams(t),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,t){(e?y.reportExtraError:y.reportError)(this,this.def.error,t)}$dataError(){(0,y.reportError)(this,this.def.$dataError||y.keyword$DataError)}reset(){if(void 0===this.errsCount)throw Error('add "trackErrors" to keyword definition');(0,y.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,t){t?Object.assign(this.params,e):this.params=e}block$data(e,t,i=u.nil){this.gen.block(()=>{this.check$data(e,i),t()})}check$data(e=u.nil,t=u.nil){if(!this.$data)return;let{gen:i,schemaCode:r,schemaType:a,def:o}=this;i.if((0,u.or)((0,u._)`${r} === undefined`,t)),e!==u.nil&&i.assign(e,!0),(a.length||o.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==u.nil&&i.assign(e,!1)),i.else()}invalid$data(){let{gen:e,schemaCode:t,schemaType:i,def:r,it:a}=this;return(0,u.or)(o(),d());function o(){if(i.length){if(!(t instanceof u.Name))throw Error("ajv implementation error");let e=Array.isArray(i)?i:[i];return(0,u._)`${(0,l.checkDataTypes)(e,t,a.opts.strictNumbers,l.DataType.Wrong)}`}return u.nil}function d(){if(r.validateSchema){let i=e.scopeValue("validate$data",{ref:r.validateSchema});return(0,u._)`!${i}(${t})`}return u.nil}}subschema(e,t){let i=(0,c.getSubschema)(this.it,e);(0,c.extendSubschemaData)(i,this.it,e),(0,c.extendSubschemaMode)(i,e);let r={...this.it,...i,items:void 0,props:void 0};return k(r,t),r}mergeEvaluated(e,t){let{it:i,gen:r}=this;i.opts.unevaluated&&(!0!==i.props&&void 0!==e.props&&(i.props=g.mergeEvaluated.props(r,e.props,i.props,t)),!0!==i.items&&void 0!==e.items&&(i.items=g.mergeEvaluated.items(r,e.items,i.items,t)))}mergeValidEvaluated(e,t){let{it:i,gen:r}=this;if(i.opts.unevaluated&&(!0!==i.props||!0!==i.items))return r.if(t,()=>this.mergeEvaluated(e,u.Name)),!0}}function Q(e,t,i,r){let a=new J(e,i,t);"code"in i?i.code(a,r):a.$data&&i.validate?(0,p.funcKeywordCode)(a,i):"macro"in i?(0,p.macroKeywordCode)(a,i):(i.compile||i.validate)&&(0,p.funcKeywordCode)(a,i)}t.KeywordCxt=J;let Y=/^\/(?:[^~]|~0|~1)*$/,Z=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function X(e,{dataLevel:t,dataNames:i,dataPathArr:r}){let a,o;if(""===e)return h.default.rootData;if("/"===e[0]){if(!Y.test(e))throw Error(`Invalid JSON-pointer: ${e}`);a=e,o=h.default.rootData}else{let l=Z.exec(e);if(!l)throw Error(`Invalid JSON-pointer: ${e}`);let p=+l[1];if("#"===(a=l[2])){if(p>=t)throw Error(d("property/index",p));return r[t-p]}if(p>t)throw Error(d("data",p));if(o=i[t-p],!a)return o}let l=o;for(let e of a.split("/"))e&&(o=(0,u._)`${o}${(0,u.getProperty)((0,g.unescapeJsonPointer)(e))}`,l=(0,u._)`${l} && ${o}`);return l;function d(e,i){return`Cannot access ${e} ${i} levels up, current level is ${t}`}}t.getData=X},63631:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;let r=i(27153),a=i(16642),o=i(98002),l=i(62576);function d(e,t){let{gen:i,keyword:a,schema:o,parentSchema:l,it:d}=e,p=t.macro.call(d.self,o,l,d),c=m(i,a,p);!1!==d.opts.validateSchema&&d.self.validateSchema(p,!0);let u=i.name("valid");e.subschema({schema:p,schemaPath:r.nil,errSchemaPath:`${d.errSchemaPath}/${a}`,topSchemaRef:c,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}function p(e,t){var i;let{gen:l,keyword:d,schema:p,parentSchema:g,$data:y,it:v}=e;h(v,t);let b=m(l,d,!y&&t.compile?t.compile.call(v.self,p,g,v):t.validate),w=l.let("valid");function _(){if(!1===t.errors)E(),t.modifying&&c(e),k(()=>e.error());else{let i=t.async?x():S();t.modifying&&c(e),k(()=>u(e,i))}}function x(){let e=l.let("ruleErrs",null);return l.try(()=>E((0,r._)`await `),t=>l.assign(w,!1).if((0,r._)`${t} instanceof ${v.ValidationError}`,()=>l.assign(e,(0,r._)`${t}.errors`),()=>l.throw(t))),e}function S(){let e=(0,r._)`${b}.errors`;return l.assign(e,null),E(r.nil),e}function E(i=t.async?(0,r._)`await `:r.nil){let d=v.opts.passContext?a.default.this:a.default.self,p=!("compile"in t&&!y||!1===t.schema);l.assign(w,(0,r._)`${i}${(0,o.callValidateCode)(e,b,d,p)}`,t.modifying)}function k(e){var i;l.if((0,r.not)(null!==(i=t.valid)&&void 0!==i?i:w),e)}e.block$data(w,_),e.ok(null!==(i=t.valid)&&void 0!==i?i:w)}function c(e){let{gen:t,data:i,it:a}=e;t.if(a.parentData,()=>t.assign(i,(0,r._)`${a.parentData}[${a.parentDataProperty}]`))}function u(e,t){let{gen:i}=e;i.if((0,r._)`Array.isArray(${t})`,()=>{i.assign(a.default.vErrors,(0,r._)`${a.default.vErrors} === null ? ${t} : ${a.default.vErrors}.concat(${t})`).assign(a.default.errors,(0,r._)`${a.default.vErrors}.length`),(0,l.extendErrors)(e)},()=>e.error())}function h({schemaEnv:e},t){if(t.async&&!e.$async)throw Error("async keyword in sync schema")}function m(e,t,i){if(void 0===i)throw Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword","function"==typeof i?{ref:i}:{ref:i,code:(0,r.stringify)(i)})}function g(e,t,i=!1){return!t.length||t.some(t=>"array"===t?Array.isArray(e):"object"===t?e&&"object"==typeof e&&!Array.isArray(e):typeof e==t||i&&void 0===e)}function y({schema:e,opts:t,self:i,errSchemaPath:r},a,o){if(Array.isArray(a.keyword)?!a.keyword.includes(o):a.keyword!==o)throw Error("ajv implementation error");let l=a.dependencies;if(null==l?void 0:l.some(t=>!Object.prototype.hasOwnProperty.call(e,t)))throw Error(`parent schema must have dependencies of ${o}: ${l.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[o])){let e=`keyword "${o}" value is invalid at path "${r}": `+i.errorsText(a.validateSchema.errors);if("log"===t.validateSchema)i.logger.error(e);else throw Error(e)}}t.macroKeywordCode=d,t.funcKeywordCode=p,t.validSchemaType=g,t.validateKeywordUsage=y},28366:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;let r=i(27153),a=i(76631);function o(e,{keyword:t,schemaProp:i,schema:o,schemaPath:l,errSchemaPath:d,topSchemaRef:p}){if(void 0!==t&&void 0!==o)throw Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==t){let o=e.schema[t];return void 0===i?{schema:o,schemaPath:(0,r._)`${e.schemaPath}${(0,r.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[i],schemaPath:(0,r._)`${e.schemaPath}${(0,r.getProperty)(t)}${(0,r.getProperty)(i)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,a.escapeFragment)(i)}`}}if(void 0!==o){if(void 0===l||void 0===d||void 0===p)throw Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:l,topSchemaRef:p,errSchemaPath:d}}throw Error('either "keyword" or "schema" must be passed')}function l(e,t,{dataProp:i,dataPropType:o,data:l,dataTypes:d,propertyName:p}){if(void 0!==l&&void 0!==i)throw Error('both "data" and "dataProp" passed, only one allowed');let{gen:c}=t;if(void 0!==i){let{errorPath:l,dataPathArr:d,opts:p}=t;u(c.let("data",(0,r._)`${t.data}${(0,r.getProperty)(i)}`,!0)),e.errorPath=(0,r.str)`${l}${(0,a.getErrorPath)(i,o,p.jsPropertySyntax)}`,e.parentDataProperty=(0,r._)`${i}`,e.dataPathArr=[...d,e.parentDataProperty]}function u(i){e.data=i,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,i]}void 0!==l&&(u(l instanceof r.Name?l:c.let("data",l,!0)),void 0!==p&&(e.propertyName=p)),d&&(e.dataTypes=d)}function d(e,{jtdDiscriminator:t,jtdMetadata:i,compositeRule:r,createErrors:a,allErrors:o}){void 0!==r&&(e.compositeRule=r),void 0!==a&&(e.createErrors=a),void 0!==o&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=i}t.getSubschema=o,t.extendSubschemaData=l,t.extendSubschemaMode=d},50785:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var r=i(26268);Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var a=i(27153);Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return a.CodeGen}});let o=i(22252),l=i(14772),d=i(28066),p=i(44122),c=i(27153),u=i(97533),h=i(94687),m=i(76631),g=i(61832),y=i(58023),v=(e,t)=>new RegExp(e,t);v.code="new RegExp";let b=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},x={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},S=200;function E(e){var t,i,r,a,o,l,d,p,c,u,h,m,g,b,w,_,x,E,k,T,C,N,O,P,I;let L=e.strict,D=null===(t=e.code)||void 0===t?void 0:t.optimize,R=!0===D||void 0===D?1:D||0,$=null!==(r=null===(i=e.code)||void 0===i?void 0:i.regExp)&&void 0!==r?r:v,j=null!==(a=e.uriResolver)&&void 0!==a?a:y.default;return{strictSchema:null===(l=null!==(o=e.strictSchema)&&void 0!==o?o:L)||void 0===l||l,strictNumbers:null===(p=null!==(d=e.strictNumbers)&&void 0!==d?d:L)||void 0===p||p,strictTypes:null!==(u=null!==(c=e.strictTypes)&&void 0!==c?c:L)&&void 0!==u?u:"log",strictTuples:null!==(m=null!==(h=e.strictTuples)&&void 0!==h?h:L)&&void 0!==m?m:"log",strictRequired:null!==(b=null!==(g=e.strictRequired)&&void 0!==g?g:L)&&void 0!==b&&b,code:e.code?{...e.code,optimize:R,regExp:$}:{optimize:R,regExp:$},loopRequired:null!==(w=e.loopRequired)&&void 0!==w?w:S,loopEnum:null!==(_=e.loopEnum)&&void 0!==_?_:S,meta:null===(x=e.meta)||void 0===x||x,messages:null===(E=e.messages)||void 0===E||E,inlineRefs:null===(k=e.inlineRefs)||void 0===k||k,schemaId:null!==(T=e.schemaId)&&void 0!==T?T:"$id",addUsedSchema:null===(C=e.addUsedSchema)||void 0===C||C,validateSchema:null===(N=e.validateSchema)||void 0===N||N,validateFormats:null===(O=e.validateFormats)||void 0===O||O,unicodeRegExp:null===(P=e.unicodeRegExp)||void 0===P||P,int32range:null===(I=e.int32range)||void 0===I||I,uriResolver:j}}class k{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts={...e,...E(e)};let{es5:t,lines:i}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:w,es5:t,lines:i}),this.logger=D(e.logger);let r=e.validateFormats;e.validateFormats=!1,this.RULES=(0,d.getRules)(),T.call(this,_,e,"NOT SUPPORTED"),T.call(this,x,e,"DEPRECATED","warn"),this._metaOpts=I.call(this),e.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&P.call(this,e.keywords),"object"==typeof e.meta&&this.addMetaSchema(e.meta),N.call(this),e.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:t,schemaId:i}=this.opts,r=g;"id"===i&&((r={...g}).id=r.$id,delete r.$id),t&&e&&this.addMetaSchema(r,r[i],!1)}defaultMeta(){let{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta="object"==typeof e?e[t]||e:void 0}validate(e,t){let i;if("string"==typeof e){if(!(i=this.getSchema(e)))throw Error(`no schema with key or ref "${e}"`)}else i=this.compile(e);let r=i(t);return"$async"in i||(this.errors=i.errors),r}compile(e,t){let i=this._addSchema(e,t);return i.validate||this._compileSchemaEnv(i)}compileAsync(e,t){if("function"!=typeof this.opts.loadSchema)throw Error("options.loadSchema should be a function");let{loadSchema:i}=this.opts;return r.call(this,e,t);async function r(e,t){await a.call(this,e.$schema);let i=this._addSchema(e,t);return i.validate||o.call(this,i)}async function a(e){e&&!this.getSchema(e)&&await r.call(this,{$ref:e},!0)}async function o(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof l.default))throw t;return d.call(this,t),await p.call(this,t.missingSchema),o.call(this,e)}}function d({missingSchema:e,missingRef:t}){if(this.refs[e])throw Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}async function p(e){let i=await c.call(this,e);this.refs[e]||await a.call(this,i.$schema),this.refs[e]||this.addSchema(i,e,t)}async function c(e){let t=this._loading[e];if(t)return t;try{return await (this._loading[e]=i(e))}finally{delete this._loading[e]}}}addSchema(e,t,i,r=this.opts.validateSchema){let a;if(Array.isArray(e)){for(let t of e)this.addSchema(t,void 0,i,r);return this}if("object"==typeof e){let{schemaId:t}=this.opts;if(void 0!==(a=e[t])&&"string"!=typeof a)throw Error(`schema ${t} must be string`)}return t=(0,u.normalizeId)(t||a),this._checkUnique(t),this.schemas[t]=this._addSchema(e,i,t,r,!0),this}addMetaSchema(e,t,i=this.opts.validateSchema){return this.addSchema(e,t,!0,i),this}validateSchema(e,t){let i;if("boolean"==typeof e)return!0;if(void 0!==(i=e.$schema)&&"string"!=typeof i)throw Error("$schema must be a string");if(!(i=i||this.opts.defaultMeta||this.defaultMeta()))return this.logger.warn("meta-schema not available"),this.errors=null,!0;let r=this.validate(i,e);if(!r&&t){let e="schema is invalid: "+this.errorsText();if("log"===this.opts.validateSchema)this.logger.error(e);else throw Error(e)}return r}getSchema(e){let t;for(;"string"==typeof(t=C.call(this,e));)e=t;if(void 0===t){let{schemaId:i}=this.opts,r=new p.SchemaEnv({schema:{},schemaId:i});if(!(t=p.resolveSchema.call(this,r,e)))return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let t=C.call(this,e);return"object"==typeof t&&this._cache.delete(t.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let t=e;this._cache.delete(t);let i=e[this.opts.schemaId];return i&&(i=(0,u.normalizeId)(i),delete this.schemas[i],delete this.refs[i]),this}default:throw Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let t of e)this.addKeyword(t);return this}addKeyword(e,t){let i;if("string"==typeof e)i=e,"object"==typeof t&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),t.keyword=i);else if("object"==typeof e&&void 0===t){if(Array.isArray(i=(t=e).keyword)&&!i.length)throw Error("addKeywords: keyword must be string or non-empty array")}else throw Error("invalid addKeywords parameters");if($.call(this,i,t),!t)return(0,m.eachItem)(i,e=>j.call(this,e)),this;U.call(this,t);let r={...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)};return(0,m.eachItem)(i,0===r.type.length?e=>j.call(this,e,r):e=>r.type.forEach(t=>j.call(this,e,r,t))),this}getKeyword(e){let t=this.RULES.all[e];return"object"==typeof t?t.definition:!!t}removeKeyword(e){let{RULES:t}=this;for(let i of(delete t.keywords[e],delete t.all[e],t.rules)){let t=i.rules.findIndex(t=>t.keyword===e);t>=0&&i.rules.splice(t,1)}return this}addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this.formats[e]=t,this}errorsText(e=this.errors,{separator:t=", ",dataVar:i="data"}={}){return e&&0!==e.length?e.map(e=>`${i}${e.instancePath} ${e.message}`).reduce((e,i)=>e+t+i):"No errors"}$dataMetaSchema(e,t){let i=this.RULES.all;for(let r of(e=JSON.parse(JSON.stringify(e)),t)){let t=r.split("/").slice(1),a=e;for(let e of t)a=a[e];for(let e in i){let t=i[e];if("object"!=typeof t)continue;let{$data:r}=t.definition,o=a[e];r&&o&&(a[e]=B(o))}}return e}_removeAllSchemas(e,t){for(let i in e){let r=e[i];(!t||t.test(i))&&("string"==typeof r?delete e[i]:r&&!r.meta&&(this._cache.delete(r.schema),delete e[i]))}}_addSchema(e,t,i,r=this.opts.validateSchema,a=this.opts.addUsedSchema){let o;let{schemaId:l}=this.opts;if("object"==typeof e)o=e[l];else{if(this.opts.jtd)throw Error("schema must be object");if("boolean"!=typeof e)throw Error("schema must be object or boolean")}let d=this._cache.get(e);if(void 0!==d)return d;i=(0,u.normalizeId)(o||i);let c=u.getSchemaRefs.call(this,e,i);return d=new p.SchemaEnv({schema:e,schemaId:l,meta:t,baseId:i,localRefs:c}),this._cache.set(d.schema,d),a&&!i.startsWith("#")&&(i&&this._checkUnique(i),this.refs[i]=d),r&&this.validateSchema(e,!0),d}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):p.compileSchema.call(this,e),!e.validate)throw Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let t=this.opts;this.opts=this._metaOpts;try{p.compileSchema.call(this,e)}finally{this.opts=t}}}function T(e,t,i,r="error"){for(let a in e){let o=a;o in t&&this.logger[r](`${i}: option ${a}. ${e[o]}`)}}function C(e){return e=(0,u.normalizeId)(e),this.schemas[e]||this.refs[e]}function N(){let e=this.opts.schemas;if(e){if(Array.isArray(e))this.addSchema(e);else for(let t in e)this.addSchema(e[t],t)}}function O(){for(let e in this.opts.formats){let t=this.opts.formats[e];t&&this.addFormat(e,t)}}function P(e){if(Array.isArray(e)){this.addVocabulary(e);return}for(let t in this.logger.warn("keywords option as map is deprecated, pass array"),e){let i=e[t];i.keyword||(i.keyword=t),this.addKeyword(i)}}function I(){let e={...this.opts};for(let t of b)delete e[t];return e}k.ValidationError=o.default,k.MissingRefError=l.default,t.default=k;let L={log(){},warn(){},error(){}};function D(e){if(!1===e)return L;if(void 0===e)return console;if(e.log&&e.warn&&e.error)return e;throw Error("logger must implement log, warn and error methods")}let R=/^[a-z_$][a-z0-9_$:-]*$/i;function $(e,t){let{RULES:i}=this;if((0,m.eachItem)(e,e=>{if(i.keywords[e])throw Error(`Keyword ${e} is already defined`);if(!R.test(e))throw Error(`Keyword ${e} has invalid name`)}),t&&t.$data&&!("code"in t||"validate"in t))throw Error('$data keyword must have "code" or "validate" function')}function j(e,t,i){var r;let a=null==t?void 0:t.post;if(i&&a)throw Error('keyword with "post" flag cannot have "type"');let{RULES:o}=this,l=a?o.post:o.rules.find(({type:e})=>e===i);if(l||(l={type:i,rules:[]},o.rules.push(l)),o.keywords[e]=!0,!t)return;let d={keyword:e,definition:{...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)}};t.before?M.call(this,l,d,t.before):l.rules.push(d),o.all[e]=d,null===(r=t.implements)||void 0===r||r.forEach(e=>this.addKeyword(e))}function M(e,t,i){let r=e.rules.findIndex(e=>e.keyword===i);r>=0?e.rules.splice(r,0,t):(e.rules.push(t),this.logger.warn(`rule ${i} is not defined`))}function U(e){let{metaSchema:t}=e;void 0!==t&&(e.$data&&this.opts.$data&&(t=B(t)),e.validateSchema=this.compile(t,!0))}let F={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function B(e){return{anyOf:[e,F]}}},87310:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(9083);r.code='require("ajv/dist/runtime/equal").default',t.default=r},65684:(e,t)=>{"use strict";function i(e){let t;let i=e.length,r=0,a=0;for(;a<i;)r++,(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i&&(64512&(t=e.charCodeAt(a)))==56320&&a++;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,i.code='require("ajv/dist/runtime/ucs2length").default'},58023:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(30010);r.code='require("ajv/dist/runtime/uri").default',t.default=r},22252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}t.default=i},1862:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateAdditionalItems=void 0;let r=i(27153),a=i(76631),o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,r.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,r._)`{limit: ${e}}`},code(e){let{parentSchema:t,it:i}=e,{items:r}=t;if(!Array.isArray(r)){(0,a.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}l(e,r)}};function l(e,t){let{gen:i,schema:o,data:l,keyword:d,it:p}=e;p.items=!0;let c=i.const("len",(0,r._)`${l}.length`);if(!1===o)e.setParams({len:t.length}),e.pass((0,r._)`${c} <= ${t.length}`);else if("object"==typeof o&&!(0,a.alwaysValidSchema)(p,o)){let a=i.var("valid",(0,r._)`${c} <= ${t.length}`);i.if((0,r.not)(a),()=>u(a)),e.ok(a)}function u(o){i.forRange("i",t.length,c,t=>{e.subschema({keyword:d,dataProp:t,dataPropType:a.Type.Num},o),p.allErrors||i.if((0,r.not)(o),()=>i.break())})}}t.validateAdditionalItems=l,t.default=o},39428:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(98002),a=i(27153),o=i(16642),l=i(76631),d={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:e})=>(0,a._)`{additionalProperty: ${e.additionalProperty}}`},code(e){let{gen:t,schema:i,parentSchema:d,data:p,errsCount:c,it:u}=e;if(!c)throw Error("ajv implementation error");let{allErrors:h,opts:m}=u;if(u.props=!0,"all"!==m.removeAdditional&&(0,l.alwaysValidSchema)(u,i))return;let g=(0,r.allSchemaProperties)(d.properties),y=(0,r.allSchemaProperties)(d.patternProperties);function v(i){let o;if(g.length>8){let e=(0,l.schemaRefOrVal)(u,d.properties,"properties");o=(0,r.isOwnProperty)(t,e,i)}else o=g.length?(0,a.or)(...g.map(e=>(0,a._)`${i} === ${e}`)):a.nil;return y.length&&(o=(0,a.or)(o,...y.map(t=>(0,a._)`${(0,r.usePattern)(e,t)}.test(${i})`))),(0,a.not)(o)}function b(e){t.code((0,a._)`delete ${p}[${e}]`)}function w(r){if("all"===m.removeAdditional||m.removeAdditional&&!1===i){b(r);return}if(!1===i){e.setParams({additionalProperty:r}),e.error(),h||t.break();return}if("object"==typeof i&&!(0,l.alwaysValidSchema)(u,i)){let i=t.name("valid");"failing"===m.removeAdditional?(_(r,i,!1),t.if((0,a.not)(i),()=>{e.reset(),b(r)})):(_(r,i),h||t.if((0,a.not)(i),()=>t.break()))}}function _(t,i,r){let a={keyword:"additionalProperties",dataProp:t,dataPropType:l.Type.Str};!1===r&&Object.assign(a,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(a,i)}(function(){t.forIn("key",p,e=>{g.length||y.length?t.if(v(e),()=>w(e)):w(e)})})(),e.ok((0,a._)`${c} === ${o.default.errors}`)}};t.default=d},29847:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(76631),a={keyword:"allOf",schemaType:"array",code(e){let{gen:t,schema:i,it:a}=e;if(!Array.isArray(i))throw Error("ajv implementation error");let o=t.name("valid");i.forEach((t,i)=>{if((0,r.alwaysValidSchema)(a,t))return;let l=e.subschema({keyword:"allOf",schemaProp:i},o);e.ok(o),e.mergeEvaluated(l)})}};t.default=a},84921:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:i(98002).validateUnion,error:{message:"must match a schema in anyOf"}};t.default=r},69634:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=i(76631),o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:e,max:t}})=>void 0===t?(0,r.str)`must contain at least ${e} valid item(s)`:(0,r.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>void 0===t?(0,r._)`{minContains: ${e}}`:(0,r._)`{minContains: ${e}, maxContains: ${t}}`},code(e){let t,i;let{gen:o,schema:l,parentSchema:d,data:p,it:c}=e,{minContains:u,maxContains:h}=d;c.opts.next?(t=void 0===u?1:u,i=h):t=1;let m=o.const("len",(0,r._)`${p}.length`);if(e.setParams({min:t,max:i}),void 0===i&&0===t){(0,a.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(void 0!==i&&t>i){(0,a.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,a.alwaysValidSchema)(c,l)){let a=(0,r._)`${m} >= ${t}`;void 0!==i&&(a=(0,r._)`${a} && ${m} <= ${i}`),e.pass(a);return}c.items=!0;let g=o.name("valid");function y(){let e=o.name("_valid"),t=o.let("count",0);v(e,()=>o.if(e,()=>b(t)))}function v(t,i){o.forRange("i",0,m,r=>{e.subschema({keyword:"contains",dataProp:r,dataPropType:a.Type.Num,compositeRule:!0},t),i()})}function b(e){o.code((0,r._)`${e}++`),void 0===i?o.if((0,r._)`${e} >= ${t}`,()=>o.assign(g,!0).break()):(o.if((0,r._)`${e} > ${i}`,()=>o.assign(g,!1).break()),1===t?o.assign(g,!0):o.if((0,r._)`${e} >= ${t}`,()=>o.assign(g,!0)))}void 0===i&&1===t?v(g,()=>o.if(g,()=>o.break())):0===t?(o.let(g,!0),void 0!==i&&o.if((0,r._)`${p}.length > 0`,y)):(o.let(g,!1),y()),e.result(g,()=>e.reset())}};t.default=o},27617:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;let r=i(27153),a=i(76631),o=i(98002);t.error={message:({params:{property:e,depsCount:t,deps:i}})=>{let a=1===t?"property":"properties";return(0,r.str)`must have ${a} ${i} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:i,missingProperty:a}})=>(0,r._)`{property: ${e},
    missingProperty: ${a},
    depsCount: ${t},
    deps: ${i}}`};let l={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){let[t,i]=d(e);p(e,t),c(e,i)}};function d({schema:e}){let t={},i={};for(let r in e)"__proto__"!==r&&((Array.isArray(e[r])?t:i)[r]=e[r]);return[t,i]}function p(e,t=e.schema){let{gen:i,data:a,it:l}=e;if(0===Object.keys(t).length)return;let d=i.let("missing");for(let p in t){let c=t[p];if(0===c.length)continue;let u=(0,o.propertyInData)(i,a,p,l.opts.ownProperties);e.setParams({property:p,depsCount:c.length,deps:c.join(", ")}),l.allErrors?i.if(u,()=>{for(let t of c)(0,o.checkReportMissingProp)(e,t)}):(i.if((0,r._)`${u} && (${(0,o.checkMissingProp)(e,c,d)})`),(0,o.reportMissingProp)(e,d),i.else())}}function c(e,t=e.schema){let{gen:i,data:r,keyword:l,it:d}=e,p=i.name("valid");for(let c in t)(0,a.alwaysValidSchema)(d,t[c])||(i.if((0,o.propertyInData)(i,r,c,d.opts.ownProperties),()=>{let t=e.subschema({keyword:l,schemaProp:c},p);e.mergeValidEvaluated(t,p)},()=>i.var(p,!0)),e.ok(p))}t.validatePropertyDeps=p,t.validateSchemaDeps=c,t.default=l},30885:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=i(76631),o={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:e})=>(0,r.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,r._)`{failingKeyword: ${e.ifClause}}`},code(e){let{gen:t,parentSchema:i,it:o}=e;void 0===i.then&&void 0===i.else&&(0,a.checkStrictMode)(o,'"if" without "then" and "else" is ignored');let d=l(o,"then"),p=l(o,"else");if(!d&&!p)return;let c=t.let("valid",!0),u=t.name("_valid");if(h(),e.reset(),d&&p){let i=t.let("ifClause");e.setParams({ifClause:i}),t.if(u,m("then",i),m("else",i))}else d?t.if(u,m("then")):t.if((0,r.not)(u),m("else"));function h(){let t=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);e.mergeEvaluated(t)}function m(i,a){return()=>{let o=e.subschema({keyword:i},u);t.assign(c,u),e.mergeValidEvaluated(o,c),a?t.assign(a,(0,r._)`${i}`):e.setParams({ifClause:i})}}e.pass(c,()=>e.error(!0))}};function l(e,t){let i=e.schema[t];return void 0!==i&&!(0,a.alwaysValidSchema)(e,i)}t.default=o},19017:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(1862),a=i(86519),o=i(41282),l=i(97770),d=i(69634),p=i(27617),c=i(77851),u=i(39428),h=i(78221),m=i(45322),g=i(76808),y=i(84921),v=i(47429),b=i(29847),w=i(30885),_=i(19675);function x(e=!1){let t=[g.default,y.default,v.default,b.default,w.default,_.default,c.default,u.default,p.default,h.default,m.default];return e?t.push(a.default,l.default):t.push(r.default,o.default),t.push(d.default),t}t.default=x},41282:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTuple=void 0;let r=i(27153),a=i(76631),o=i(98002),l={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){let{schema:t,it:i}=e;if(Array.isArray(t))return d(e,"additionalItems",t);i.items=!0,(0,a.alwaysValidSchema)(i,t)||e.ok((0,o.validateArray)(e))}};function d(e,t,i=e.schema){let{gen:o,parentSchema:l,data:d,keyword:p,it:c}=e;m(l),c.opts.unevaluated&&i.length&&!0!==c.items&&(c.items=a.mergeEvaluated.items(o,i.length,c.items));let u=o.name("valid"),h=o.const("len",(0,r._)`${d}.length`);function m(e){let{opts:r,errSchemaPath:o}=c,l=i.length,d=l===e.minItems&&(l===e.maxItems||!1===e[t]);if(r.strictTuples&&!d){let e=`"${p}" is ${l}-tuple, but minItems or maxItems/${t} are not specified or different at path "${o}"`;(0,a.checkStrictMode)(c,e,r.strictTuples)}}i.forEach((t,i)=>{(0,a.alwaysValidSchema)(c,t)||(o.if((0,r._)`${h} > ${i}`,()=>e.subschema({keyword:p,schemaProp:i,dataProp:i},u)),e.ok(u))})}t.validateTuple=d,t.default=l},97770:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=i(76631),o=i(98002),l=i(1862),d={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:e}})=>(0,r.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,r._)`{limit: ${e}}`},code(e){let{schema:t,parentSchema:i,it:r}=e,{prefixItems:d}=i;r.items=!0,(0,a.alwaysValidSchema)(r,t)||(d?(0,l.validateAdditionalItems)(e,d):e.ok((0,o.validateArray)(e)))}};t.default=d},76808:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(76631),a={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){let{gen:t,schema:i,it:a}=e;if((0,r.alwaysValidSchema)(a,i)){e.fail();return}let o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};t.default=a},47429:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=i(76631),o={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:e})=>(0,r._)`{passingSchemas: ${e.passing}}`},code(e){let{gen:t,schema:i,parentSchema:o,it:l}=e;if(!Array.isArray(i))throw Error("ajv implementation error");if(l.opts.discriminator&&o.discriminator)return;let d=i,p=t.let("valid",!1),c=t.let("passing",null),u=t.name("_valid");function h(){d.forEach((i,o)=>{let d;(0,a.alwaysValidSchema)(l,i)?t.var(u,!0):d=e.subschema({keyword:"oneOf",schemaProp:o,compositeRule:!0},u),o>0&&t.if((0,r._)`${u} && ${p}`).assign(p,!1).assign(c,(0,r._)`[${c}, ${o}]`).else(),t.if(u,()=>{t.assign(p,!0),t.assign(c,o),d&&e.mergeEvaluated(d,r.Name)})})}e.setParams({passing:c}),t.block(h),e.result(p,()=>e.reset(),()=>e.error(!0))}};t.default=o},45322:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(98002),a=i(27153),o=i(76631),l=i(76631),d={keyword:"patternProperties",type:"object",schemaType:"object",code(e){let{gen:t,schema:i,data:d,parentSchema:p,it:c}=e,{opts:u}=c,h=(0,r.allSchemaProperties)(i),m=h.filter(e=>(0,o.alwaysValidSchema)(c,i[e]));if(0===h.length||m.length===h.length&&(!c.opts.unevaluated||!0===c.props))return;let g=u.strictSchema&&!u.allowMatchingProperties&&p.properties,y=t.name("valid");!0===c.props||c.props instanceof a.Name||(c.props=(0,l.evaluatedPropsToName)(t,c.props));let{props:v}=c;function b(e){for(let t in g)new RegExp(e).test(t)&&(0,o.checkStrictMode)(c,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}function w(i){t.forIn("key",d,o=>{t.if((0,a._)`${(0,r.usePattern)(e,i)}.test(${o})`,()=>{let r=m.includes(i);r||e.subschema({keyword:"patternProperties",schemaProp:i,dataProp:o,dataPropType:l.Type.Str},y),c.opts.unevaluated&&!0!==v?t.assign((0,a._)`${v}[${o}]`,!0):r||c.allErrors||t.if((0,a.not)(y),()=>t.break())})})}(function(){for(let e of h)g&&b(e),c.allErrors?w(e):(t.var(y,!0),w(e),t.if(y))})()}};t.default=d},86519:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(41282),a={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,r.validateTuple)(e,"items")};t.default=a},78221:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(26268),a=i(98002),o=i(76631),l=i(39428),d={keyword:"properties",type:"object",schemaType:"object",code(e){let{gen:t,schema:i,parentSchema:d,data:p,it:c}=e;"all"===c.opts.removeAdditional&&void 0===d.additionalProperties&&l.default.code(new r.KeywordCxt(c,l.default,"additionalProperties"));let u=(0,a.allSchemaProperties)(i);for(let e of u)c.definedProperties.add(e);c.opts.unevaluated&&u.length&&!0!==c.props&&(c.props=o.mergeEvaluated.props(t,(0,o.toHash)(u),c.props));let h=u.filter(e=>!(0,o.alwaysValidSchema)(c,i[e]));if(0===h.length)return;let m=t.name("valid");for(let i of h)g(i)?y(i):(t.if((0,a.propertyInData)(t,p,i,c.opts.ownProperties)),y(i),c.allErrors||t.else().var(m,!0),t.endIf()),e.it.definedProperties.add(i),e.ok(m);function g(e){return c.opts.useDefaults&&!c.compositeRule&&void 0!==i[e].default}function y(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},m)}}};t.default=d},77851:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=i(76631),o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:e})=>(0,r._)`{propertyName: ${e.propertyName}}`},code(e){let{gen:t,schema:i,data:o,it:l}=e;if((0,a.alwaysValidSchema)(l,i))return;let d=t.name("valid");t.forIn("key",o,i=>{e.setParams({propertyName:i}),e.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},d),t.if((0,r.not)(d),()=>{e.error(!0),l.allErrors||t.break()})}),e.ok(d)}};t.default=o},19675:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(76631),a={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:i}){void 0===t.if&&(0,r.checkStrictMode)(i,`"${e}" without "if" is ignored`)}};t.default=a},98002:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;let r=i(27153),a=i(76631),o=i(16642),l=i(76631);function d(e,t){let{gen:i,data:a,it:o}=e;i.if(g(i,a,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,r._)`${t}`},!0),e.error()})}function p({gen:e,data:t,it:{opts:i}},a,o){return(0,r.or)(...a.map(a=>(0,r.and)(g(e,t,a,i.ownProperties),(0,r._)`${o} = ${a}`)))}function c(e,t){e.setParams({missingProperty:t},!0),e.error()}function u(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,r._)`Object.prototype.hasOwnProperty`})}function h(e,t,i){return(0,r._)`${u(e)}.call(${t}, ${i})`}function m(e,t,i,a){let o=(0,r._)`${t}${(0,r.getProperty)(i)} !== undefined`;return a?(0,r._)`${o} && ${h(e,t,i)}`:o}function g(e,t,i,a){let o=(0,r._)`${t}${(0,r.getProperty)(i)} === undefined`;return a?(0,r.or)(o,(0,r.not)(h(e,t,i))):o}function y(e){return e?Object.keys(e).filter(e=>"__proto__"!==e):[]}function v(e,t){return y(t).filter(i=>!(0,a.alwaysValidSchema)(e,t[i]))}function b({schemaCode:e,data:t,it:{gen:i,topSchemaRef:a,schemaPath:l,errorPath:d},it:p},c,u,h){let m=h?(0,r._)`${e}, ${t}, ${a}${l}`:t,g=[[o.default.instancePath,(0,r.strConcat)(o.default.instancePath,d)],[o.default.parentData,p.parentData],[o.default.parentDataProperty,p.parentDataProperty],[o.default.rootData,o.default.rootData]];p.opts.dynamicRef&&g.push([o.default.dynamicAnchors,o.default.dynamicAnchors]);let y=(0,r._)`${m}, ${i.object(...g)}`;return u!==r.nil?(0,r._)`${c}.call(${u}, ${y})`:(0,r._)`${c}(${y})`}t.checkReportMissingProp=d,t.checkMissingProp=p,t.reportMissingProp=c,t.hasPropFunc=u,t.isOwnProperty=h,t.propertyInData=m,t.noPropertyInData=g,t.allSchemaProperties=y,t.schemaProperties=v,t.callValidateCode=b;let w=(0,r._)`new RegExp`;function _({gen:e,it:{opts:t}},i){let a=t.unicodeRegExp?"u":"",{regExp:o}=t.code,d=o(i,a);return e.scopeValue("pattern",{key:d.toString(),ref:d,code:(0,r._)`${"new RegExp"===o.code?w:(0,l.useFunc)(e,o)}(${i}, ${a})`})}function x(e){let{gen:t,data:i,keyword:o,it:l}=e,d=t.name("valid");if(l.allErrors){let e=t.let("valid",!0);return p(()=>t.assign(e,!1)),e}return t.var(d,!0),p(()=>t.break()),d;function p(l){let p=t.const("len",(0,r._)`${i}.length`);t.forRange("i",0,p,i=>{e.subschema({keyword:o,dataProp:i,dataPropType:a.Type.Num},d),t.if((0,r.not)(d),l)})}}function S(e){let{gen:t,schema:i,keyword:o,it:l}=e;if(!Array.isArray(i))throw Error("ajv implementation error");if(i.some(e=>(0,a.alwaysValidSchema)(l,e))&&!l.opts.unevaluated)return;let d=t.let("valid",!1),p=t.name("_valid");t.block(()=>i.forEach((i,a)=>{let l=e.subschema({keyword:o,schemaProp:a,compositeRule:!0},p);t.assign(d,(0,r._)`${d} || ${p}`),e.mergeValidEvaluated(l,p)||t.if((0,r.not)(d))})),e.result(d,()=>e.reset(),()=>e.error(!0))}t.usePattern=_,t.validateArray=x,t.validateUnion=S},43091:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i={keyword:"id",code(){throw Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t.default=i},62778:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(43091),a=i(43265),o=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",r.default,a.default];t.default=o},43265:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.callRef=t.getValidate=void 0;let r=i(14772),a=i(98002),o=i(27153),l=i(16642),d=i(44122),p=i(76631),c={keyword:"$ref",schemaType:"string",code(e){let{gen:t,schema:i,it:a}=e,{baseId:l,schemaEnv:p,validateName:c,opts:m,self:g}=a,{root:y}=p;if(("#"===i||"#/"===i)&&l===y.baseId)return b();let v=d.resolveRef.call(g,y,l,i);if(void 0===v)throw new r.default(a.opts.uriResolver,l,i);if(v instanceof d.SchemaEnv)return w(v);return _(v);function b(){if(p===y)return h(e,c,p,p.$async);let i=t.scopeValue("root",{ref:y});return h(e,(0,o._)`${i}.validate`,y,y.$async)}function w(t){let i=u(e,t);h(e,i,t,t.$async)}function _(r){let a=t.scopeValue("schema",!0===m.code.source?{ref:r,code:(0,o.stringify)(r)}:{ref:r}),l=t.name("valid"),d=e.subschema({schema:r,dataTypes:[],schemaPath:o.nil,topSchemaRef:a,errSchemaPath:i},l);e.mergeEvaluated(d),e.ok(l)}}};function u(e,t){let{gen:i}=e;return t.validate?i.scopeValue("validate",{ref:t.validate}):(0,o._)`${i.scopeValue("wrapper",{ref:t})}.validate`}function h(e,t,i,r){let{gen:d,it:c}=e,{allErrors:u,schemaEnv:h,opts:m}=c,g=m.passContext?l.default.this:o.nil;function y(){if(!h.$async)throw Error("async schema referenced by sync schema");let i=d.let("valid");d.try(()=>{d.code((0,o._)`await ${(0,a.callValidateCode)(e,t,g)}`),w(t),u||d.assign(i,!0)},e=>{d.if((0,o._)`!(${e} instanceof ${c.ValidationError})`,()=>d.throw(e)),b(e),u||d.assign(i,!1)}),e.ok(i)}function v(){e.result((0,a.callValidateCode)(e,t,g),()=>w(t),()=>b(t))}function b(e){let t=(0,o._)`${e}.errors`;d.assign(l.default.vErrors,(0,o._)`${l.default.vErrors} === null ? ${t} : ${l.default.vErrors}.concat(${t})`),d.assign(l.default.errors,(0,o._)`${l.default.vErrors}.length`)}function w(e){var t;if(!c.opts.unevaluated)return;let r=null===(t=null==i?void 0:i.validate)||void 0===t?void 0:t.evaluated;if(!0!==c.props){if(r&&!r.dynamicProps)void 0!==r.props&&(c.props=p.mergeEvaluated.props(d,r.props,c.props));else{let t=d.var("props",(0,o._)`${e}.evaluated.props`);c.props=p.mergeEvaluated.props(d,t,c.props,o.Name)}}if(!0!==c.items){if(r&&!r.dynamicItems)void 0!==r.items&&(c.items=p.mergeEvaluated.items(d,r.items,c.items));else{let t=d.var("items",(0,o._)`${e}.evaluated.items`);c.items=p.mergeEvaluated.items(d,t,c.items,o.Name)}}}r?y():v()}t.getValidate=u,t.callRef=h,t.default=c},15010:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=i(94933),o=i(44122),l=i(14772),d=i(76631),p={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:e,tagName:t}})=>e===a.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:i}})=>(0,r._)`{error: ${e}, tag: ${i}, tagValue: ${t}}`},code(e){let{gen:t,data:i,schema:p,parentSchema:c,it:u}=e,{oneOf:h}=c;if(!u.opts.discriminator)throw Error("discriminator: requires discriminator option");let m=p.propertyName;if("string"!=typeof m)throw Error("discriminator: requires propertyName");if(p.mapping)throw Error("discriminator: mapping is not supported");if(!h)throw Error("discriminator: requires oneOf keyword");let g=t.let("valid",!1),y=t.const("tag",(0,r._)`${i}${(0,r.getProperty)(m)}`);function v(){let i=w();for(let e in t.if(!1),i)t.elseIf((0,r._)`${y} === ${e}`),t.assign(g,b(i[e]));t.else(),e.error(!1,{discrError:a.DiscrError.Mapping,tag:y,tagName:m}),t.endIf()}function b(i){let a=t.name("valid"),o=e.subschema({keyword:"oneOf",schemaProp:i},a);return e.mergeEvaluated(o,r.Name),a}function w(){var e;let t={},i=a(c),r=!0;for(let t=0;t<h.length;t++){let c=h[t];if((null==c?void 0:c.$ref)&&!(0,d.schemaHasRulesButRef)(c,u.self.RULES)){let e=c.$ref;if((c=o.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,e))instanceof o.SchemaEnv&&(c=c.schema),void 0===c)throw new l.default(u.opts.uriResolver,u.baseId,e)}let g=null===(e=null==c?void 0:c.properties)||void 0===e?void 0:e[m];if("object"!=typeof g)throw Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);r=r&&(i||a(c)),p(g,t)}if(!r)throw Error(`discriminator: "${m}" must be required`);return t;function a({required:e}){return Array.isArray(e)&&e.includes(m)}function p(e,t){if(e.const)g(e.const,t);else if(e.enum)for(let i of e.enum)g(i,t);else throw Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function g(e,i){if("string"!=typeof e||e in t)throw Error(`discriminator: "${m}" values must be unique strings`);t[e]=i}}t.if((0,r._)`typeof ${y} == "string"`,()=>v(),()=>e.error(!1,{discrError:a.DiscrError.Tag,tag:y,tagName:m})),e.ok(g)}};t.default=p},94933:(e,t)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(i||(t.DiscrError=i={}))},69914:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(62778),a=i(15344),o=i(19017),l=i(46912),d=i(81745),p=[r.default,a.default,(0,o.default)(),l.default,d.metadataVocabulary,d.contentVocabulary];t.default=p},66187:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,r.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,r._)`{format: ${e}}`},code(e,t){let{gen:i,data:a,$data:o,schema:l,schemaCode:d,it:p}=e,{opts:c,errSchemaPath:u,schemaEnv:h,self:m}=p;function g(){let o=i.scopeValue("formats",{ref:m.formats,code:c.code.formats}),l=i.const("fDef",(0,r._)`${o}[${d}]`),p=i.let("fType"),u=i.let("format");function g(){return!1===c.strictSchema?r.nil:(0,r._)`${d} && !${u}`}function y(){let e=h.$async?(0,r._)`(${l}.async ? await ${u}(${a}) : ${u}(${a}))`:(0,r._)`${u}(${a})`,i=(0,r._)`(typeof ${u} == "function" ? ${e} : ${u}.test(${a}))`;return(0,r._)`${u} && ${u} !== true && ${p} === ${t} && !${i}`}i.if((0,r._)`typeof ${l} == "object" && !(${l} instanceof RegExp)`,()=>i.assign(p,(0,r._)`${l}.type || "string"`).assign(u,(0,r._)`${l}.validate`),()=>i.assign(p,(0,r._)`"string"`).assign(u,l)),e.fail$data((0,r.or)(g(),y()))}function y(){let o=m.formats[l];if(!o){y();return}if(!0===o)return;let[d,p,g]=v(o);function y(){if(!1===c.strictSchema){m.logger.warn(e());return}throw Error(e());function e(){return`unknown format "${l}" ignored in schema at path "${u}"`}}function v(e){let t=e instanceof RegExp?(0,r.regexpCode)(e):c.code.formats?(0,r._)`${c.code.formats}${(0,r.getProperty)(l)}`:void 0,a=i.scopeValue("formats",{key:l,ref:e,code:t});return"object"!=typeof e||e instanceof RegExp?["string",e,a]:[e.type||"string",e.validate,(0,r._)`${a}.validate`]}function b(){if("object"==typeof o&&!(o instanceof RegExp)&&o.async){if(!h.$async)throw Error("async format in sync schema");return(0,r._)`await ${g}(${a})`}return"function"==typeof p?(0,r._)`${g}(${a})`:(0,r._)`${g}.test(${a})`}d===t&&e.pass(b())}c.validateFormats&&(o?g():y())}};t.default=a},46912:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=[i(66187).default];t.default=r},81745:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contentVocabulary=t.metadataVocabulary=void 0,t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},13191:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=i(76631),o=i(87310),l={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:e})=>(0,r._)`{allowedValue: ${e}}`},code(e){let{gen:t,data:i,$data:l,schemaCode:d,schema:p}=e;l||p&&"object"==typeof p?e.fail$data((0,r._)`!${(0,a.useFunc)(t,o.default)}(${i}, ${d})`):e.fail((0,r._)`${p} !== ${i}`)}};t.default=l},17611:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=i(76631),o=i(87310),l={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,r._)`{allowedValues: ${e}}`},code(e){let t,i;let{gen:l,data:d,$data:p,schema:c,schemaCode:u,it:h}=e;if(!p&&0===c.length)throw Error("enum must have non-empty array");let m=c.length>=h.opts.loopEnum,g=()=>null!=t?t:t=(0,a.useFunc)(l,o.default);if(m||p)i=l.let("valid"),e.block$data(i,y);else{if(!Array.isArray(c))throw Error("ajv implementation error");let e=l.const("vSchema",u);i=(0,r.or)(...c.map((t,i)=>v(e,i)))}function y(){l.assign(i,!1),l.forOf("v",u,e=>l.if((0,r._)`${g()}(${d}, ${e})`,()=>l.assign(i,!0).break()))}function v(e,t){let i=c[t];return"object"==typeof i&&null!==i?(0,r._)`${g()}(${d}, ${e}[${t}])`:(0,r._)`${d} === ${i}`}e.pass(i)}};t.default=l},15344:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27594),a=i(84978),o=i(74428),l=i(96801),d=i(73213),p=i(5859),c=i(66933),u=i(58857),h=i(13191),m=i(17611),g=[r.default,a.default,o.default,l.default,d.default,p.default,c.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},h.default,m.default];t.default=g},66933:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){let i="maxItems"===e?"more":"fewer";return(0,r.str)`must NOT have ${i} than ${t} items`},params:({schemaCode:e})=>(0,r._)`{limit: ${e}}`},code(e){let{keyword:t,data:i,schemaCode:a}=e,o="maxItems"===t?r.operators.GT:r.operators.LT;e.fail$data((0,r._)`${i}.length ${o} ${a}`)}};t.default=a},74428:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=i(76631),o=i(65684),l={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){let i="maxLength"===e?"more":"fewer";return(0,r.str)`must NOT have ${i} than ${t} characters`},params:({schemaCode:e})=>(0,r._)`{limit: ${e}}`},code(e){let{keyword:t,data:i,schemaCode:l,it:d}=e,p="maxLength"===t?r.operators.GT:r.operators.LT,c=!1===d.opts.unicode?(0,r._)`${i}.length`:(0,r._)`${(0,a.useFunc)(e.gen,o.default)}(${i})`;e.fail$data((0,r._)`${c} ${p} ${l}`)}};t.default=l},27594:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a=r.operators,o={maximum:{okStr:"<=",ok:a.LTE,fail:a.GT},minimum:{okStr:">=",ok:a.GTE,fail:a.LT},exclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},exclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}},l={message:({keyword:e,schemaCode:t})=>(0,r.str)`must be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,r._)`{comparison: ${o[e].okStr}, limit: ${t}}`},d={keyword:Object.keys(o),type:"number",schemaType:"number",$data:!0,error:l,code(e){let{keyword:t,data:i,schemaCode:a}=e;e.fail$data((0,r._)`${i} ${o[t].fail} ${a} || isNaN(${i})`)}};t.default=d},73213:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:e,schemaCode:t}){let i="maxProperties"===e?"more":"fewer";return(0,r.str)`must NOT have ${i} than ${t} properties`},params:({schemaCode:e})=>(0,r._)`{limit: ${e}}`},code(e){let{keyword:t,data:i,schemaCode:a}=e,o="maxProperties"===t?r.operators.GT:r.operators.LT;e.fail$data((0,r._)`Object.keys(${i}).length ${o} ${a}`)}};t.default=a},84978:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(27153),a={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:e})=>(0,r.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,r._)`{multipleOf: ${e}}`},code(e){let{gen:t,data:i,schemaCode:a,it:o}=e,l=o.opts.multipleOfPrecision,d=t.let("res"),p=l?(0,r._)`Math.abs(Math.round(${d}) - ${d}) > 1e-${l}`:(0,r._)`${d} !== parseInt(${d})`;e.fail$data((0,r._)`(${a} === 0 || (${d} = ${i}/${a}, ${p}))`)}};t.default=a},96801:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(98002),a=i(27153),o={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:e})=>(0,a.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,a._)`{pattern: ${e}}`},code(e){let{data:t,$data:i,schema:o,schemaCode:l,it:d}=e,p=d.opts.unicodeRegExp?"u":"",c=i?(0,a._)`(new RegExp(${l}, ${p}))`:(0,r.usePattern)(e,o);e.fail$data((0,a._)`!${c}.test(${t})`)}};t.default=o},5859:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(98002),a=i(27153),o=i(76631),l={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:e}})=>(0,a.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,a._)`{missingProperty: ${e}}`},code(e){let{gen:t,schema:i,schemaCode:l,data:d,$data:p,it:c}=e,{opts:u}=c;if(!p&&0===i.length)return;let h=i.length>=u.loopRequired;if(c.allErrors?m():g(),u.strictRequired){let t=e.parentSchema.properties,{definedProperties:r}=e.it;for(let e of i)if((null==t?void 0:t[e])===void 0&&!r.has(e)){let t=c.schemaEnv.baseId+c.errSchemaPath,i=`required property "${e}" is not defined at "${t}" (strictRequired)`;(0,o.checkStrictMode)(c,i,c.opts.strictRequired)}}function m(){if(h||p)e.block$data(a.nil,y);else for(let t of i)(0,r.checkReportMissingProp)(e,t)}function g(){let a=t.let("missing");if(h||p){let i=t.let("valid",!0);e.block$data(i,()=>v(a,i)),e.ok(i)}else t.if((0,r.checkMissingProp)(e,i,a)),(0,r.reportMissingProp)(e,a),t.else()}function y(){t.forOf("prop",l,i=>{e.setParams({missingProperty:i}),t.if((0,r.noPropertyInData)(t,d,i,u.ownProperties),()=>e.error())})}function v(i,o){e.setParams({missingProperty:i}),t.forOf(i,l,()=>{t.assign(o,(0,r.propertyInData)(t,d,i,u.ownProperties)),t.if((0,a.not)(o),()=>{e.error(),t.break()})},a.nil)}}};t.default=l},58857:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=i(94687),a=i(27153),o=i(76631),l=i(87310),d={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:e,j:t}})=>(0,a.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,a._)`{i: ${e}, j: ${t}}`},code(e){let{gen:t,data:i,$data:d,schema:p,parentSchema:c,schemaCode:u,it:h}=e;if(!d&&!p)return;let m=t.let("valid"),g=c.items?(0,r.getSchemaTypes)(c.items):[];function y(){let r=t.let("i",(0,a._)`${i}.length`),o=t.let("j");e.setParams({i:r,j:o}),t.assign(m,!0),t.if((0,a._)`${r} > 1`,()=>(v()?b:w)(r,o))}function v(){return g.length>0&&!g.some(e=>"object"===e||"array"===e)}function b(o,l){let d=t.name("item"),p=(0,r.checkDataTypes)(g,d,h.opts.strictNumbers,r.DataType.Wrong),c=t.const("indices",(0,a._)`{}`);t.for((0,a._)`;${o}--;`,()=>{t.let(d,(0,a._)`${i}[${o}]`),t.if(p,(0,a._)`continue`),g.length>1&&t.if((0,a._)`typeof ${d} == "string"`,(0,a._)`${d} += "_"`),t.if((0,a._)`typeof ${c}[${d}] == "number"`,()=>{t.assign(l,(0,a._)`${c}[${d}]`),e.error(),t.assign(m,!1).break()}).code((0,a._)`${c}[${d}] = ${o}`)})}function w(r,d){let p=(0,o.useFunc)(t,l.default),c=t.name("outer");t.label(c).for((0,a._)`;${r}--;`,()=>t.for((0,a._)`${d} = ${r}; ${d}--;`,()=>t.if((0,a._)`${p}(${i}[${r}], ${i}[${d}])`,()=>{e.error(),t.assign(m,!1).break(c)})))}e.block$data(m,y,(0,a._)`${u} === false`),e.ok(m)}};t.default=d},48640:e=>{"use strict";var t=e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={});var a="function"==typeof(r=t.cb||r)?r:r.pre||function(){};i(t,a,r.post||function(){},e,"",e)};function i(e,a,o,l,d,p,c,u,h,m){if(l&&"object"==typeof l&&!Array.isArray(l)){for(var g in a(l,d,p,c,u,h,m),l){var y=l[g];if(Array.isArray(y)){if(g in t.arrayKeywords)for(var v=0;v<y.length;v++)i(e,a,o,y[v],d+"/"+g+"/"+v,p,d,g,l,v)}else if(g in t.propsKeywords){if(y&&"object"==typeof y)for(var b in y)i(e,a,o,y[b],d+"/"+g+"/"+r(b),p,d,g,l,b)}else(g in t.keywords||e.allKeys&&!(g in t.skipKeywords))&&i(e,a,o,y,d+"/"+g,p,d,g,l)}o(l,d,p,c,u,h,m)}}function r(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},64507:(e,t,i)=>{"use strict";let r=Symbol.for("pino.metadata"),a=i(1310),{Duplex:o}=i(12781),{parentPort:l,workerData:d}=i(71267);function p(){let e,t;let i=new Promise((i,r)=>{e=i,t=r});return i.resolve=e,i.reject=t,i}function c(e,t){process.nextTick(t,e)}e.exports=function(e,t={}){let i=!0===t.expectPinoConfig&&d?.workerData?.pinoWillSendConfig===!0,u="lines"===t.parse,h="function"==typeof t.parseLine?t.parseLine:JSON.parse,m=t.close||c,g=a(function(e){let t;try{t=h(e)}catch(t){this.emit("unknown",e,t);return}if(null===t){this.emit("unknown",e,"Null value ignored");return}return("object"!=typeof t&&(t={data:t,time:Date.now()}),g[r]&&(g.lastTime=t.time,g.lastLevel=t.level,g.lastObj=t),u)?e:t},{autoDestroy:!0});if(g._destroy=function(e,t){let i=m(e,t);i&&"function"==typeof i.then&&i.then(t,t)},!0===t.expectPinoConfig&&d?.workerData?.pinoWillSendConfig!==!0&&setImmediate(()=>{g.emit("error",Error("This transport is not compatible with the current version of pino. Please upgrade pino to the latest version."))}),!1!==t.metadata&&(g[r]=!0,g.lastTime=0,g.lastLevel=0,g.lastObj=null),i){let e={},t=p();return l.on("message",function i(r){"PINO_CONFIG"===r.code&&(e=r.config,t.resolve(),l.off("message",i))}),Object.defineProperties(g,{levels:{get:()=>e.levels},messageKey:{get:()=>e.messageKey},errorKey:{get:()=>e.errorKey}}),t.then(y)}return y();function y(){let i=e(g);if(i&&"function"==typeof i.catch)i.catch(e=>{g.destroy(e)}),i=null;else if(t.enablePipelining&&i)return o.from({writable:g,readable:i});return g}}},87180:function(e){!function(t,i){e.exports=i()}(0,function(){var e=[],t=[],i={},r={},a={};function o(e){return"string"==typeof e?RegExp("^"+e+"$","i"):e}function l(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function d(e,t){return e.replace(/\$(\d{1,2})/g,function(e,i){return t[i]||""})}function p(e,t){return e.replace(t[0],function(i,r){var a=d(t[1],arguments);return""===i?l(e[r-1],a):l(i,a)})}function c(e,t,r){if(!e.length||i.hasOwnProperty(e))return t;for(var a=r.length;a--;){var o=r[a];if(o[0].test(t))return p(t,o)}return t}function u(e,t,i){return function(r){var a=r.toLowerCase();return t.hasOwnProperty(a)?l(r,a):e.hasOwnProperty(a)?l(r,e[a]):c(a,r,i)}}function h(e,t,i,r){return function(r){var a=r.toLowerCase();return!!t.hasOwnProperty(a)||!e.hasOwnProperty(a)&&c(a,a,i)===a}}function m(e,t,i){var r=1===t?m.singular(e):m.plural(e);return(i?t+" ":"")+r}return m.plural=u(a,r,e),m.isPlural=h(a,r,e),m.singular=u(r,a,t),m.isSingular=h(r,a,t),m.addPluralRule=function(t,i){e.push([o(t),i])},m.addSingularRule=function(e,i){t.push([o(e),i])},m.addUncountableRule=function(e){if("string"==typeof e){i[e.toLowerCase()]=!0;return}m.addPluralRule(e,"$0"),m.addSingularRule(e,"$0")},m.addIrregularRule=function(e,t){t=t.toLowerCase(),a[e=e.toLowerCase()]=t,r[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(e){return m.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return m.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return m.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(m.addUncountableRule),m})},64648:e=>{"use strict";class t{constructor({token:e,date:t,parts:i,locales:r}){this.token=e,this.date=t||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((i,r)=>r>e&&i instanceof t)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),i=e.indexOf(this);return e.find((e,r)=>r>i&&e instanceof t)}toString(){return String(this.date)}}e.exports=t},47093:(e,t,i)=>{"use strict";let r=i(64648),a=e=>1==(e%=10)?"st":2===e?"nd":3===e?"rd":"th";class o extends r{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return"DD"===this.token?String(e).padStart(2,"0"):"Do"===this.token?e+a(e):"d"===this.token?t+1:"ddd"===this.token?this.locales.weekdaysShort[t]:"dddd"===this.token?this.locales.weekdays[t]:e}}e.exports=o},50219:(e,t,i)=>{"use strict";let r=i(64648);class a extends r{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=a},19697:(e,t,i)=>{"use strict";e.exports={DatePart:i(64648),Meridiem:i(23649),Day:i(47093),Hours:i(50219),Milliseconds:i(1267),Minutes:i(86811),Month:i(83530),Seconds:i(28854),Year:i(49563)}},23649:(e,t,i)=>{"use strict";let r=i(64648);class a extends r{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}e.exports=a},1267:(e,t,i)=>{"use strict";let r=i(64648);class a extends r{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}e.exports=a},86811:(e,t,i)=>{"use strict";let r=i(64648);class a extends r{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=a},83530:(e,t,i)=>{"use strict";let r=i(64648);class a extends r{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return 2===t?String(e+1).padStart(2,"0"):3===t?this.locales.monthsShort[e]:4===t?this.locales.months[e]:String(e+1)}}e.exports=a},28854:(e,t,i)=>{"use strict";let r=i(64648);class a extends r{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=a},49563:(e,t,i)=>{"use strict";let r=i(64648);class a extends r{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?e.substr(-2):e}}e.exports=a},89282:(e,t,i)=>{"use strict";function r(e,t,i,r,a,o,l){try{var d=e[o](l),p=d.value}catch(e){i(e);return}d.done?t(p):Promise.resolve(p).then(r,a)}function a(e){return function(){var t=this,i=arguments;return new Promise(function(a,o){var l=e.apply(t,i);function d(e){r(l,a,o,d,p,"next",e)}function p(e){r(l,a,o,d,p,"throw",e)}d(void 0)})}}let o=i(90312),l=i(79685),d=i(69958),p=d.erase,c=d.cursor,u=i(6946),h=u.style,m=u.clear,g=u.figures,y=u.wrap,v=u.entriesToDisplay,b=(e,t)=>e[t]&&(e[t].value||e[t].title||e[t]),w=(e,t)=>e[t]&&(e[t].title||e[t].value||e[t]),_=(e,t)=>{let i=e.findIndex(e=>e.value===t||e.title===t);return i>-1?i:void 0};class x extends l{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial="number"==typeof e.initial?e.initial:_(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=h.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=m("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return"number"==typeof this._fb?e=this.choices[this._fb]:"string"==typeof this._fb&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=b(this.suggestions,e):this.value=this.fallback.value,this.fire()}complete(e){var t=this;return a(function*(){let i=t.completing=t.suggest(t.input,t.choices),r=yield i;if(t.completing!==i)return;t.suggestions=r.map((e,t,i)=>({title:w(i,t),value:b(i,t),description:e.description})),t.completing=!1;let a=Math.max(r.length-1,0);t.moveSelect(Math.min(a,t.select)),e&&e()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,t){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${e}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,i,r){let a;let l=i?g.arrowUp:r?g.arrowDown:" ",d=t?o.cyan().underline(e.title):e.title;return l=(t?o.cyan(g.pointer)+" ":"  ")+l,e.description&&(a=` - ${e.description}`,(l.length+d.length+a.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(a="\n"+y(e.description,{margin:3,width:this.out.columns}))),l+" "+d+o.gray(a||"")}render(){if(this.closed)return;this.firstRender?this.out.write(c.hide):this.out.write(m(this.outputText,this.out.columns)),super.render();let e=v(this.select,this.choices.length,this.limit),t=e.startIndex,i=e.endIndex;if(this.outputText=[h.symbol(this.done,this.aborted,this.exited),o.bold(this.msg),h.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let e=this.suggestions.slice(t,i).map((e,r)=>this.renderOption(e,this.select===r+t,0===r&&t>0,r+t===i-1&&i<this.choices.length)).join("\n");this.outputText+=`
`+(e||o.gray(this.fallback.title))}this.out.write(p.line+c.to(0)+this.outputText)}}e.exports=x},1982:(e,t,i)=>{"use strict";let r=i(90312),a=i(69958).cursor,o=i(29040),l=i(6946),d=l.clear,p=l.style,c=l.figures;class u extends o{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=d("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(e=>!this.inputValue||!!("string"==typeof e.title&&e.title.toLowerCase().includes(this.inputValue.toLowerCase())||"string"==typeof e.value&&e.value.toLowerCase().includes(this.inputValue.toLowerCase())));let t=this.filteredOptions.findIndex(t=>t===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){" "===e?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${c.arrowUp}/${c.arrowDown}: Highlight option
    ${c.arrowLeft}/${c.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:r.gray("Enter something to filter")}
`}renderOption(e,t,i){let a;return a=t.disabled?e===i?r.gray().underline(t.title):r.strikethrough().gray(t.title):e===i?r.cyan().underline(t.title):t.title,(t.selected?r.green(c.radioOn):c.radioOff)+"  "+a}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let e=[r.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(r.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(a.hide),super.render();let e=[p.symbol(this.done,this.aborted),r.bold(this.msg),p.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=r.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=d(e,this.out.columns)}}e.exports=u},13604:(e,t,i)=>{"use strict";let r=i(90312),a=i(79685),o=i(6946),l=o.style,d=o.clear,p=i(69958),c=p.erase,u=p.cursor;class h extends a{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,t){return"y"===e.toLowerCase()?(this.value=!0,this.submit()):"n"===e.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(u.hide):this.out.write(d(this.outputText,this.out.columns)),super.render(),this.outputText=[l.symbol(this.done,this.aborted),r.bold(this.msg),l.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:r.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(c.line+u.to(0)+this.outputText))}}e.exports=h},3424:(e,t,i)=>{"use strict";function r(e,t,i,r,a,o,l){try{var d=e[o](l),p=d.value}catch(e){i(e);return}d.done?t(p):Promise.resolve(p).then(r,a)}function a(e){return function(){var t=this,i=arguments;return new Promise(function(a,o){var l=e.apply(t,i);function d(e){r(l,a,o,d,p,"next",e)}function p(e){r(l,a,o,d,p,"throw",e)}d(void 0)})}}let o=i(90312),l=i(79685),d=i(6946),p=d.style,c=d.clear,u=d.figures,h=i(69958),m=h.erase,g=h.cursor,y=i(19697),v=y.DatePart,b=y.Meridiem,w=y.Day,_=y.Hours,x=y.Milliseconds,S=y.Minutes,E=y.Month,k=y.Seconds,T=y.Year,C=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,N={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new w(e),3:e=>new E(e),4:e=>new T(e),5:e=>new b(e),6:e=>new _(e),7:e=>new S(e),8:e=>new k(e),9:e=>new x(e)},O={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class P extends l{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(O,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=c("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=C.exec(e);){let e=t.shift(),i=t.findIndex(e=>null!=e);this.parts.push(i in N?N[i]({token:t[i]||e,date:this.date,parts:this.parts,locales:this.locales}):t[i]||e)}let i=this.parts.reduce((e,t)=>("string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof v)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var e=this;return a(function*(){let t=yield e.validator(e.value);"string"==typeof t&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return a(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write("\n"),e.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(e=>e instanceof v)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(g.hide):this.out.write(c(this.outputText,this.out.columns)),super.render(),this.outputText=[p.symbol(this.done,this.aborted),o.bold(this.msg),p.delimiter(!1),this.parts.reduce((e,t,i)=>e.concat(i!==this.cursor||this.done?t:o.cyan().underline(t.toString())),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce((e,t,i)=>e+`
${i?" ":u.pointerSmall} ${o.red().italic(t)}`,"")),this.out.write(m.line+g.to(0)+this.outputText))}}e.exports=P},1192:(e,t,i)=>{"use strict";e.exports={TextPrompt:i(57558),SelectPrompt:i(50901),TogglePrompt:i(79349),DatePrompt:i(3424),NumberPrompt:i(82728),MultiselectPrompt:i(29040),AutocompletePrompt:i(89282),AutocompleteMultiselectPrompt:i(1982),ConfirmPrompt:i(13604)}},29040:(e,t,i)=>{"use strict";let r=i(90312),a=i(69958).cursor,o=i(79685),l=i(6946),d=l.clear,p=l.figures,c=l.style,u=l.wrap,h=l.entriesToDisplay;class m extends o{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((e,t)=>("string"==typeof e&&(e={title:e,value:t}),{title:e&&(e.title||e.value||e),description:e&&e.description,value:e&&(void 0===e.value?t:e.value),selected:e&&e.selected,disabled:e&&e.disabled})),this.clear=d("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){let e=this.value.filter(e=>e.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(e=>!e.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(" "===e)this.handleSpaceToggle();else{if("a"!==e)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${p.arrowUp}/${p.arrowDown}: Highlight option
    ${p.arrowLeft}/${p.arrowRight}/[space]: Toggle selection
`+(void 0===this.maxChoices?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,i,a){let o,l;let d=(t.selected?r.green(p.radioOn):p.radioOff)+" "+a+" ";return t.disabled?o=e===i?r.gray().underline(t.title):r.strikethrough().gray(t.title):(o=e===i?r.cyan().underline(t.title):t.title,e===i&&t.description&&(l=` - ${t.description}`,(d.length+o.length+l.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(l="\n"+u(t.description,{margin:d.length,width:this.out.columns})))),d+o+r.gray(l||"")}paginateOptions(e){if(0===e.length)return r.red("No matches for this query.");let t=h(this.cursor,e.length,this.optionsPerPage),i=t.startIndex,a=t.endIndex,o,l=[];for(let t=i;t<a;t++)o=t===i&&i>0?p.arrowUp:t===a-1&&a<e.length?p.arrowDown:" ",l.push(this.renderOption(this.cursor,e[t],t,o));return"\n"+l.join("\n")}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let e=[r.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(r.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(a.hide),super.render();let e=[c.symbol(this.done,this.aborted),r.bold(this.msg),c.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=r.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=d(e,this.out.columns)}}e.exports=m},82728:(e,t,i)=>{"use strict";function r(e,t,i,r,a,o,l){try{var d=e[o](l),p=d.value}catch(e){i(e);return}d.done?t(p):Promise.resolve(p).then(r,a)}function a(e){return function(){var t=this,i=arguments;return new Promise(function(a,o){var l=e.apply(t,i);function d(e){r(l,a,o,d,p,"next",e)}function p(e){r(l,a,o,d,p,"throw",e)}d(void 0)})}}let o=i(90312),l=i(79685),d=i(69958),p=d.cursor,c=d.erase,u=i(6946),h=u.style,m=u.figures,g=u.clear,y=u.lines,v=/[0-9]/,b=e=>void 0!==e,w=(e,t)=>{let i=Math.pow(10,t);return Math.round(e*i)/i};class _ extends l{constructor(e={}){super(e),this.transform=h.render(e.style),this.msg=e.message,this.initial=b(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=b(e.min)?e.min:-1/0,this.max=b(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${w(e,this.round)}`),this._value=w(e,this.round)):(this.placeholder=!0,this.rendered=o.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return"-"===e||"."===e&&this.float||v.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=""!==e?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var e=this;return a(function*(){let t=yield e.validator(e.value);"string"==typeof t&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return a(function*(){if(yield e.validate(),e.error){e.color="red",e.fire(),e.render();return}let t=e.value;e.value=""!==t?t:e.initial,e.done=!0,e.aborted=!1,e.error=!1,e.fire(),e.render(),e.out.write(`
`),e.close()})()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(0===e.length)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan","."===e)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(p.down(y(this.outputError,this.out.columns)-1)+g(this.outputError,this.out.columns)),this.out.write(g(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),o.bold(this.msg),h.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:o[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":m.pointerSmall} ${o.red().italic(t)}`,"")),this.out.write(c.line+p.to(0)+this.outputText+p.save+this.outputError+p.restore))}}e.exports=_},79685:(e,t,i)=>{"use strict";let r=i(14521),a=i(6946).action,o=i(82361),l=i(69958),d=l.beep,p=l.cursor,c=i(90312);class u extends o{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>void 0)).bind(this);let t=r.createInterface({input:this.in,escapeCodeTimeout:50});r.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(e,t)=>{let r=a(t,i);!1===r?this._&&this._(e,t):"function"==typeof this[r]?this[r](t):this.bell()};this.close=()=>{this.out.write(p.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(d)}render(){this.onRender(c),this.firstRender&&(this.firstRender=!1)}}e.exports=u},50901:(e,t,i)=>{"use strict";let r=i(90312),a=i(79685),o=i(6946),l=o.style,d=o.clear,p=o.figures,c=o.wrap,u=o.entriesToDisplay,h=i(69958).cursor;class m extends a{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((e,t)=>("string"==typeof e&&(e={title:e,value:t}),{title:e&&(e.title||e.value||e),value:e&&(void 0===e.value?t:e.value),description:e&&e.description,selected:e&&e.selected,disabled:e&&e.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=d("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(" "===e)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(h.hide):this.out.write(d(this.outputText,this.out.columns)),super.render();let e=u(this.cursor,this.choices.length,this.optionsPerPage),t=e.startIndex,i=e.endIndex;if(this.outputText=[l.symbol(this.done,this.aborted),r.bold(this.msg),l.delimiter(!1),this.done?this.selection.title:this.selection.disabled?r.yellow(this.warn):r.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let e=t;e<i;e++){let a,o,l="",d=this.choices[e];o=e===t&&t>0?p.arrowUp:e===i-1&&i<this.choices.length?p.arrowDown:" ",d.disabled?(a=this.cursor===e?r.gray().underline(d.title):r.strikethrough().gray(d.title),o=(this.cursor===e?r.bold().gray(p.pointer)+" ":"  ")+o):(a=this.cursor===e?r.cyan().underline(d.title):d.title,o=(this.cursor===e?r.cyan(p.pointer)+" ":"  ")+o,d.description&&this.cursor===e&&(l=` - ${d.description}`,(o.length+a.length+l.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(l="\n"+c(d.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${a}${r.gray(l)}
`}}this.out.write(this.outputText)}}e.exports=m},57558:(e,t,i)=>{"use strict";function r(e,t,i,r,a,o,l){try{var d=e[o](l),p=d.value}catch(e){i(e);return}d.done?t(p):Promise.resolve(p).then(r,a)}function a(e){return function(){var t=this,i=arguments;return new Promise(function(a,o){var l=e.apply(t,i);function d(e){r(l,a,o,d,p,"next",e)}function p(e){r(l,a,o,d,p,"throw",e)}d(void 0)})}}let o=i(90312),l=i(79685),d=i(69958),p=d.erase,c=d.cursor,u=i(6946),h=u.style,m=u.clear,g=u.lines,y=u.figures;class v extends l{constructor(e={}){super(e),this.transform=h.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=m("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=o.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}validate(){var e=this;return a(function*(){let t=yield e.validator(e.value);"string"==typeof t&&(e.errorMsg=t,t=!1),e.error=!t})()}submit(){var e=this;return a(function*(){if(e.value=e.value||e.initial,e.cursorOffset=0,e.cursor=e.rendered.length,yield e.validate(),e.error){e.red=!0,e.fire(),e.render();return}e.done=!0,e.aborted=!1,e.fire(),e.render(),e.out.write("\n"),e.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${e}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(c.down(g(this.outputError,this.out.columns)-1)+m(this.outputError,this.out.columns)),this.out.write(m(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[h.symbol(this.done,this.aborted),o.bold(this.msg),h.delimiter(this.done),this.red?o.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":y.pointerSmall} ${o.red().italic(t)}`,"")),this.out.write(p.line+c.to(0)+this.outputText+c.save+this.outputError+c.restore+c.move(this.cursorOffset,0)))}}e.exports=v},79349:(e,t,i)=>{"use strict";let r=i(90312),a=i(79685),o=i(6946),l=o.style,d=o.clear,p=i(69958),c=p.cursor,u=p.erase;class h extends a{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(" "===e)this.value=!this.value;else if("1"===e)this.value=!0;else{if("0"!==e)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(c.hide):this.out.write(d(this.outputText,this.out.columns)),super.render(),this.outputText=[l.symbol(this.done,this.aborted),r.bold(this.msg),l.delimiter(this.done),this.value?this.inactive:r.cyan().underline(this.inactive),r.gray("/"),this.value?r.cyan().underline(this.active):this.active].join(" "),this.out.write(u.line+c.to(0)+this.outputText))}}e.exports=h},23237:(e,t,i)=>{"use strict";function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,r)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){o(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=d(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,p=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return l=e.done,e},e:function(e){p=!0,o=e},f:function(){try{l||null==i.return||i.return()}finally{if(p)throw o}}}}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(e,t)}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=Array(t);i<t;i++)r[i]=e[i];return r}function c(e,t,i,r,a,o,l){try{var d=e[o](l),p=d.value}catch(e){i(e);return}d.done?t(p):Promise.resolve(p).then(r,a)}function u(e){return function(){var t=this,i=arguments;return new Promise(function(r,a){var o=e.apply(t,i);function l(e){c(o,r,a,l,d,"next",e)}function d(e){c(o,r,a,l,d,"throw",e)}l(void 0)})}}let h=i(56870),m=["suggest","format","onState","validate","onRender","type"],g=()=>{};function y(){return v.apply(this,arguments)}function v(){return(v=u(function*(e=[],{onSubmit:t=g,onCancel:i=g}={}){let r,o,d,p,c,v;let w={},_=y._override||{};e=[].concat(e);let x=function(){var e=u(function*(e,t,i=!1){if(i||!e.validate||!0===e.validate(t))return e.format?yield e.format(t,w):t});return function(t,i){return e.apply(this,arguments)}}();var S,E=l(e);try{for(E.s();!(S=E.n()).done;){var k=o=S.value;if(p=k.name,c=k.type,"function"==typeof c&&(c=yield c(r,a({},w),o),o.type=c),c){for(let e in o){if(m.includes(e))continue;let t=o[e];o[e]="function"==typeof t?yield t(r,a({},w),v):t}if(v=o,"string"!=typeof o.message)throw Error("prompt message is required");var T=o;if(p=T.name,c=T.type,void 0===h[c])throw Error(`prompt type (${c}) is not defined`);if(void 0!==_[o.name]&&(r=yield x(o,_[o.name]),void 0!==r)){w[p]=r;continue}try{r=y._injected?b(y._injected,o.initial):yield h[c](o),w[p]=r=yield x(o,r,!0),d=yield t(o,r,w)}catch(e){d=!(yield i(o,w))}if(d)return w}}}catch(e){E.e(e)}finally{E.f()}return w})).apply(this,arguments)}function b(e,t){let i=e.shift();if(i instanceof Error)throw i;return void 0===i?t:i}function w(e){y._injected=(y._injected||[]).concat(e)}function _(e){y._override=Object.assign({},e)}e.exports=Object.assign(y,{prompt:y,prompts:h,inject:w,override:_})},56870:(e,t,i)=>{"use strict";let r=t,a=i(1192),o=e=>e;function l(e,t,i={}){return new Promise((r,l)=>{let d=new a[e](t),p=i.onAbort||o,c=i.onSubmit||o,u=i.onExit||o;d.on("state",t.onState||o),d.on("submit",e=>r(c(e))),d.on("exit",e=>r(u(e))),d.on("abort",e=>l(p(e)))})}r.text=e=>l("TextPrompt",e),r.password=e=>(e.style="password",r.text(e)),r.invisible=e=>(e.style="invisible",r.text(e)),r.number=e=>l("NumberPrompt",e),r.date=e=>l("DatePrompt",e),r.confirm=e=>l("ConfirmPrompt",e),r.list=e=>{let t=e.separator||",";return l("TextPrompt",e,{onSubmit:e=>e.split(t).map(e=>e.trim())})},r.toggle=e=>l("TogglePrompt",e),r.select=e=>l("SelectPrompt",e),r.multiselect=e=>{e.choices=[].concat(e.choices||[]);let t=e=>e.filter(e=>e.selected).map(e=>e.value);return l("MultiselectPrompt",e,{onAbort:t,onSubmit:t})},r.autocompleteMultiselect=e=>{e.choices=[].concat(e.choices||[]);let t=e=>e.filter(e=>e.selected).map(e=>e.value);return l("AutocompleteMultiselectPrompt",e,{onAbort:t,onSubmit:t})};let d=(e,t)=>Promise.resolve(t.filter(t=>t.title.slice(0,e.length).toLowerCase()===e.toLowerCase()));r.autocomplete=e=>(e.suggest=e.suggest||d,e.choices=[].concat(e.choices||[]),l("AutocompletePrompt",e))},6814:e=>{"use strict";e.exports=(e,t)=>{if(!e.meta||"escape"===e.name){if(e.ctrl){if("a"===e.name)return"first";if("c"===e.name||"d"===e.name)return"abort";if("e"===e.name)return"last";if("g"===e.name)return"reset"}if(t){if("j"===e.name)return"down";if("k"===e.name)return"up"}return"return"===e.name||"enter"===e.name?"submit":"backspace"===e.name?"delete":"delete"===e.name?"deleteForward":"abort"===e.name?"abort":"escape"===e.name?"exit":"tab"===e.name?"next":"pagedown"===e.name?"nextPage":"pageup"===e.name?"prevPage":"home"===e.name?"home":"end"===e.name?"end":"up"===e.name?"up":"down"===e.name?"down":"right"===e.name?"right":"left"===e.name&&"left"}}},45870:(e,t,i)=>{"use strict";function r(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=a(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,d=!0,p=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return d=e.done,e},e:function(e){p=!0,l=e},f:function(){try{d||null==i.return||i.return()}finally{if(p)throw l}}}}function a(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,t)}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=Array(t);i<t;i++)r[i]=e[i];return r}let l=i(51759),d=i(69958),p=d.erase,c=d.cursor,u=e=>[...l(e)].length;e.exports=function(e,t){if(!t)return p.line+c.to(0);let i=0;var a,o=r(e.split(/\r?\n/));try{for(o.s();!(a=o.n()).done;){let e=a.value;i+=1+Math.floor(Math.max(u(e)-1,0)/t)}}catch(e){o.e(e)}finally{o.f()}return p.lines(i)}},41194:e=>{"use strict";e.exports=(e,t,i)=>{i=i||t;let r=Math.min(t-i,e-Math.floor(i/2));r<0&&(r=0);let a=Math.min(r+i,t);return{startIndex:r,endIndex:a}}},71222:e=>{"use strict";let t={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""},i={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"\xd7",ellipsis:"...",pointerSmall:"\xbb",line:"",pointer:">"},r="win32"===process.platform?i:t;e.exports=r},6946:(e,t,i)=>{"use strict";e.exports={action:i(6814),clear:i(45870),style:i(27390),strip:i(51759),figures:i(71222),lines:i(70588),wrap:i(77005),entriesToDisplay:i(41194)}},70588:(e,t,i)=>{"use strict";let r=i(51759);e.exports=function(e,t){let i=String(r(e)||"").split(/\r?\n/);return t?i.map(e=>Math.ceil(e.length/t)).reduce((e,t)=>e+t):i.length}},51759:e=>{"use strict";e.exports=e=>{let t=RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))","g");return"string"==typeof e?e.replace(t,""):e}},27390:(e,t,i)=>{"use strict";let r=i(90312),a=i(71222),o=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"\uD83D\uDE03".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}}),l=e=>o[e]||o.default,d=Object.freeze({aborted:r.red(a.cross),done:r.green(a.tick),exited:r.yellow(a.cross),default:r.cyan("?")}),p=(e,t,i)=>t?d.aborted:i?d.exited:e?d.done:d.default,c=e=>r.gray(e?a.ellipsis:a.pointerSmall),u=(e,t)=>r.gray(e?t?a.pointerSmall:"+":a.line);e.exports={styles:o,render:l,symbols:d,symbol:p,delimiter:c,item:u}},77005:e=>{"use strict";e.exports=(e,t={})=>{let i=Number.isSafeInteger(parseInt(t.margin))?Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",r=t.width;return(e||"").split(/\r?\n/g).map(e=>e.split(/\s+/g).reduce((e,t)=>(t.length+i.length>=r||e[e.length-1].length+t.length+1<r?e[e.length-1]+=` ${t}`:e.push(`${i}${t}`),e),[i]).join("\n")).join("\n")}},52902:(e,t,i)=>{function r(e){e=(Array.isArray(e)?e:e.split(".")).map(Number);let t=0,i=process.versions.node.split(".").map(Number);for(;t<e.length&&!(i[t]>e[t]);t++)if(e[t]>i[t])return!0;return!1}e.exports=i(r("8.6.0")?23237:68597)},599:e=>{"use strict";class t{constructor({token:e,date:t,parts:i,locales:r}){this.token=e,this.date=t||new Date,this.parts=i||[this],this.locales=r||{}}up(){}down(){}next(){let e=this.parts.indexOf(this);return this.parts.find((i,r)=>r>e&&i instanceof t)}setTo(e){}prev(){let e=[].concat(this.parts).reverse(),i=e.indexOf(this);return e.find((e,r)=>r>i&&e instanceof t)}toString(){return String(this.date)}}e.exports=t},56302:(e,t,i)=>{"use strict";let r=i(599),a=e=>1==(e%=10)?"st":2===e?"nd":3===e?"rd":"th";class o extends r{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return"DD"===this.token?String(e).padStart(2,"0"):"Do"===this.token?e+a(e):"d"===this.token?t+1:"ddd"===this.token?this.locales.weekdaysShort[t]:"dddd"===this.token?this.locales.weekdays[t]:e}}e.exports=o},7382:(e,t,i)=>{"use strict";let r=i(599);class a extends r{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=a},80379:(e,t,i)=>{"use strict";e.exports={DatePart:i(599),Meridiem:i(44816),Day:i(56302),Hours:i(7382),Milliseconds:i(50716),Minutes:i(95978),Month:i(83023),Seconds:i(10209),Year:i(65753)}},44816:(e,t,i)=>{"use strict";let r=i(599);class a extends r{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}e.exports=a},50716:(e,t,i)=>{"use strict";let r=i(599);class a extends r{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}e.exports=a},95978:(e,t,i)=>{"use strict";let r=i(599);class a extends r{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=a},83023:(e,t,i)=>{"use strict";let r=i(599);class a extends r{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return 2===t?String(e+1).padStart(2,"0"):3===t?this.locales.monthsShort[e]:4===t?this.locales.months[e]:String(e+1)}}e.exports=a},10209:(e,t,i)=>{"use strict";let r=i(599);class a extends r{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=a},65753:(e,t,i)=>{"use strict";let r=i(599);class a extends r{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?e.substr(-2):e}}e.exports=a},92663:(e,t,i)=>{"use strict";let r=i(90312),a=i(42342),{erase:o,cursor:l}=i(69958),{style:d,clear:p,figures:c,wrap:u,entriesToDisplay:h}=i(32824),m=(e,t)=>e[t]&&(e[t].value||e[t].title||e[t]),g=(e,t)=>e[t]&&(e[t].title||e[t].value||e[t]),y=(e,t)=>{let i=e.findIndex(e=>e.value===t||e.title===t);return i>-1?i:void 0};class v extends a{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial="number"==typeof e.initial?e.initial:y(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=d.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=p("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return"number"==typeof this._fb?e=this.choices[this._fb]:"string"==typeof this._fb&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=m(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){let t=this.completing=this.suggest(this.input,this.choices),i=await t;if(this.completing!==t)return;this.suggestions=i.map((e,t,i)=>({title:g(i,t),value:m(i,t),description:e.description})),this.completing=!1;let r=Math.max(i.length-1,0);this.moveSelect(Math.min(r,this.select)),e&&e()}reset(){this.input="",this.complete(()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,t){let i=this.input.slice(0,this.cursor),r=this.input.slice(this.cursor);this.input=`${i}${e}${r}`,this.cursor=i.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,i,a){let o;let l=i?c.arrowUp:a?c.arrowDown:" ",d=t?r.cyan().underline(e.title):e.title;return l=(t?r.cyan(c.pointer)+" ":"  ")+l,e.description&&(o=` - ${e.description}`,(l.length+d.length+o.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(o="\n"+u(e.description,{margin:3,width:this.out.columns}))),l+" "+d+r.gray(o||"")}render(){if(this.closed)return;this.firstRender?this.out.write(l.hide):this.out.write(p(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=h(this.select,this.choices.length,this.limit);if(this.outputText=[d.symbol(this.done,this.aborted,this.exited),r.bold(this.msg),d.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){let i=this.suggestions.slice(e,t).map((i,r)=>this.renderOption(i,this.select===r+e,0===r&&e>0,r+e===t-1&&t<this.choices.length)).join("\n");this.outputText+=`
`+(i||r.gray(this.fallback.title))}this.out.write(o.line+l.to(0)+this.outputText)}}e.exports=v},49649:(e,t,i)=>{"use strict";let r=i(90312),{cursor:a}=i(69958),o=i(11501),{clear:l,style:d,figures:p}=i(32824);class c extends o{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=l("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){let e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(e=>!this.inputValue||!!("string"==typeof e.title&&e.title.toLowerCase().includes(this.inputValue.toLowerCase())||"string"==typeof e.value&&e.value.toLowerCase().includes(this.inputValue.toLowerCase())));let t=this.filteredOptions.findIndex(t=>t===e);this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){let e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){" "===e?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${p.arrowUp}/${p.arrowDown}: Highlight option
    ${p.arrowLeft}/${p.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:r.gray("Enter something to filter")}
`}renderOption(e,t,i){let a;return a=t.disabled?e===i?r.gray().underline(t.title):r.strikethrough().gray(t.title):e===i?r.cyan().underline(t.title):t.title,(t.selected?r.green(p.radioOn):p.radioOff)+"  "+a}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let e=[r.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(r.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(a.hide),super.render();let e=[d.symbol(this.done,this.aborted),r.bold(this.msg),d.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=r.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=l(e,this.out.columns)}}e.exports=c},2275:(e,t,i)=>{let r=i(90312),a=i(42342),{style:o,clear:l}=i(32824),{erase:d,cursor:p}=i(69958);class c extends a{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,t){return"y"===e.toLowerCase()?(this.value=!0,this.submit()):"n"===e.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(p.hide):this.out.write(l(this.outputText,this.out.columns)),super.render(),this.outputText=[o.symbol(this.done,this.aborted),r.bold(this.msg),o.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:r.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(d.line+p.to(0)+this.outputText))}}e.exports=c},53732:(e,t,i)=>{"use strict";let r=i(90312),a=i(42342),{style:o,clear:l,figures:d}=i(32824),{erase:p,cursor:c}=i(69958),{DatePart:u,Meridiem:h,Day:m,Hours:g,Milliseconds:y,Minutes:v,Month:b,Seconds:w,Year:_}=i(80379),x=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,S={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new m(e),3:e=>new b(e),4:e=>new _(e),5:e=>new h(e),6:e=>new g(e),7:e=>new v(e),8:e=>new w(e),9:e=>new y(e)},E={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class k extends a{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(E,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=l("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=x.exec(e);){let e=t.shift(),i=t.findIndex(e=>null!=e);this.parts.push(i in S?S[i]({token:t[i]||e,date:this.date,parts:this.parts,locales:this.locales}):t[i]||e)}let i=this.parts.reduce((e,t)=>("string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e),[]);this.parts.splice(0),this.parts.push(...i),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex(e=>e instanceof u)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let e=await this.validator(this.value);"string"==typeof e&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex(e=>e instanceof u)),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(c.hide):this.out.write(l(this.outputText,this.out.columns)),super.render(),this.outputText=[o.symbol(this.done,this.aborted),r.bold(this.msg),o.delimiter(!1),this.parts.reduce((e,t,i)=>e.concat(i!==this.cursor||this.done?t:r.cyan().underline(t.toString())),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce((e,t,i)=>e+`
${i?" ":d.pointerSmall} ${r.red().italic(t)}`,"")),this.out.write(p.line+c.to(0)+this.outputText))}}e.exports=k},18992:(e,t,i)=>{"use strict";e.exports={TextPrompt:i(95658),SelectPrompt:i(39695),TogglePrompt:i(68382),DatePrompt:i(53732),NumberPrompt:i(39883),MultiselectPrompt:i(11501),AutocompletePrompt:i(92663),AutocompleteMultiselectPrompt:i(49649),ConfirmPrompt:i(2275)}},11501:(e,t,i)=>{"use strict";let r=i(90312),{cursor:a}=i(69958),o=i(42342),{clear:l,figures:d,style:p,wrap:c,entriesToDisplay:u}=i(32824);class h extends o{constructor(e={}){super(e),this.msg=e.message,this.cursor=e.cursor||0,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map((e,t)=>("string"==typeof e&&(e={title:e,value:t}),{title:e&&(e.title||e.value||e),description:e&&e.description,value:e&&(void 0===e.value?t:e.value),selected:e&&e.selected,disabled:e&&e.disabled})),this.clear=l("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map(e=>!e.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(e=>e.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){let e=this.value.filter(e=>e.selected);this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){0===this.cursor?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){let e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter(e=>e.selected).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();let e=!this.value[this.cursor].selected;this.value.filter(e=>!e.disabled).forEach(t=>t.selected=e),this.render()}_(e,t){if(" "===e)this.handleSpaceToggle();else{if("a"!==e)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`
Instructions:
    ${d.arrowUp}/${d.arrowDown}: Highlight option
    ${d.arrowLeft}/${d.arrowRight}/[space]: Toggle selection
`+(void 0===this.maxChoices?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(e,t,i,a){let o,l;let p=(t.selected?r.green(d.radioOn):d.radioOff)+" "+a+" ";return t.disabled?o=e===i?r.gray().underline(t.title):r.strikethrough().gray(t.title):(o=e===i?r.cyan().underline(t.title):t.title,e===i&&t.description&&(l=` - ${t.description}`,(p.length+o.length+l.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(l="\n"+c(t.description,{margin:p.length,width:this.out.columns})))),p+o+r.gray(l||"")}paginateOptions(e){if(0===e.length)return r.red("No matches for this query.");let{startIndex:t,endIndex:i}=u(this.cursor,e.length,this.optionsPerPage),a,o=[];for(let r=t;r<i;r++)a=r===t&&t>0?d.arrowUp:r===i-1&&i<e.length?d.arrowDown:" ",o.push(this.renderOption(this.cursor,e[r],r,a));return"\n"+o.join("\n")}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return this.value.filter(e=>e.selected).map(e=>e.title).join(", ");let e=[r.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(r.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(a.hide),super.render();let e=[p.symbol(this.done,this.aborted),r.bold(this.msg),p.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=r.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=l(e,this.out.columns)}}e.exports=h},39883:(e,t,i)=>{let r=i(90312),a=i(42342),{cursor:o,erase:l}=i(69958),{style:d,figures:p,clear:c,lines:u}=i(32824),h=/[0-9]/,m=e=>void 0!==e,g=(e,t)=>{let i=Math.pow(10,t);return Math.round(e*i)/i};class y extends a{constructor(e={}){super(e),this.transform=d.render(e.style),this.msg=e.message,this.initial=m(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=m(e.min)?e.min:-1/0,this.max=m(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${g(e,this.round)}`),this._value=g(e,this.round)):(this.placeholder=!0,this.rendered=r.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return"-"===e||"."===e&&this.float||h.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=""!==e?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let e=await this.validator(this.value);"string"==typeof e&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let e=this.value;this.value=""!==e?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(0===e.length)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();let i=Date.now();if(i-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=i,this.color="cyan","."===e)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(o.down(u(this.outputError,this.out.columns)-1)+c(this.outputError,this.out.columns)),this.out.write(c(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[d.symbol(this.done,this.aborted),r.bold(this.msg),d.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:r[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":p.pointerSmall} ${r.red().italic(t)}`,"")),this.out.write(l.line+o.to(0)+this.outputText+o.save+this.outputError+o.restore))}}e.exports=y},42342:(e,t,i)=>{"use strict";let r=i(14521),{action:a}=i(32824),o=i(82361),{beep:l,cursor:d}=i(69958),p=i(90312);class c extends o{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>void 0)).bind(this);let t=r.createInterface({input:this.in,escapeCodeTimeout:50});r.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);let i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,o=(e,t)=>{let r=a(t,i);!1===r?this._&&this._(e,t):"function"==typeof this[r]?this[r](t):this.bell()};this.close=()=>{this.out.write(d.show),this.in.removeListener("keypress",o),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",o)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(l)}render(){this.onRender(p),this.firstRender&&(this.firstRender=!1)}}e.exports=c},39695:(e,t,i)=>{"use strict";let r=i(90312),a=i(42342),{style:o,clear:l,figures:d,wrap:p,entriesToDisplay:c}=i(32824),{cursor:u}=i(69958);class h extends a{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map((e,t)=>("string"==typeof e&&(e={title:e,value:t}),{title:e&&(e.title||e.value||e),value:e&&(void 0===e.value?t:e.value),description:e&&e.description,selected:e&&e.selected,disabled:e&&e.disabled})),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=l("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(" "===e)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(u.hide):this.out.write(l(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=c(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[o.symbol(this.done,this.aborted),r.bold(this.msg),o.delimiter(!1),this.done?this.selection.title:this.selection.disabled?r.yellow(this.warn):r.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let i=e;i<t;i++){let a,o,l="",c=this.choices[i];o=i===e&&e>0?d.arrowUp:i===t-1&&t<this.choices.length?d.arrowDown:" ",c.disabled?(a=this.cursor===i?r.gray().underline(c.title):r.strikethrough().gray(c.title),o=(this.cursor===i?r.bold().gray(d.pointer)+" ":"  ")+o):(a=this.cursor===i?r.cyan().underline(c.title):c.title,o=(this.cursor===i?r.cyan(d.pointer)+" ":"  ")+o,c.description&&this.cursor===i&&(l=` - ${c.description}`,(o.length+a.length+l.length>=this.out.columns||c.description.split(/\r?\n/).length>1)&&(l="\n"+p(c.description,{margin:3,width:this.out.columns})))),this.outputText+=`${o} ${a}${r.gray(l)}
`}}this.out.write(this.outputText)}}e.exports=h},95658:(e,t,i)=>{let r=i(90312),a=i(42342),{erase:o,cursor:l}=i(69958),{style:d,clear:p,lines:c,figures:u}=i(32824);class h extends a{constructor(e={}){super(e),this.transform=d.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=p("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=r.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let e=await this.validator(this.value);"string"==typeof e&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let i=this.value.slice(0,this.cursor),r=this.value.slice(this.cursor);this.value=`${i}${e}${r}`,this.red=!1,this.cursor=this.placeholder?0:i.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(l.down(c(this.outputError,this.out.columns)-1)+p(this.outputError,this.out.columns)),this.out.write(p(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[d.symbol(this.done,this.aborted),r.bold(this.msg),d.delimiter(this.done),this.red?r.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((e,t,i)=>e+`
${i?" ":u.pointerSmall} ${r.red().italic(t)}`,"")),this.out.write(o.line+l.to(0)+this.outputText+l.save+this.outputError+l.restore+l.move(this.cursorOffset,0)))}}e.exports=h},68382:(e,t,i)=>{let r=i(90312),a=i(42342),{style:o,clear:l}=i(32824),{cursor:d,erase:p}=i(69958);class c extends a{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(" "===e)this.value=!this.value;else if("1"===e)this.value=!0;else{if("0"!==e)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(d.hide):this.out.write(l(this.outputText,this.out.columns)),super.render(),this.outputText=[o.symbol(this.done,this.aborted),r.bold(this.msg),o.delimiter(this.done),this.value?this.inactive:r.cyan().underline(this.inactive),r.gray("/"),this.value?r.cyan().underline(this.active):this.active].join(" "),this.out.write(p.line+d.to(0)+this.outputText))}}e.exports=c},68597:(e,t,i)=>{"use strict";let r=i(85424),a=["suggest","format","onState","validate","onRender","type"],o=()=>{};async function l(e=[],{onSubmit:t=o,onCancel:i=o}={}){let p,c,u,h,m,g;let y={},v=l._override||{};e=[].concat(e);let b=async(e,t,i=!1)=>{if(i||!e.validate||!0===e.validate(t))return e.format?await e.format(t,y):t};for(c of e)if({name:h,type:m}=c,"function"==typeof m&&(m=await m(p,{...y},c),c.type=m),m){for(let e in c){if(a.includes(e))continue;let t=c[e];c[e]="function"==typeof t?await t(p,{...y},g):t}if(g=c,"string"!=typeof c.message)throw Error("prompt message is required");if({name:h,type:m}=c,void 0===r[m])throw Error(`prompt type (${m}) is not defined`);if(void 0!==v[c.name]&&void 0!==(p=await b(c,v[c.name]))){y[h]=p;continue}try{p=l._injected?d(l._injected,c.initial):await r[m](c),y[h]=p=await b(c,p,!0),u=await t(c,p,y)}catch(e){u=!await i(c,y)}if(u)break}return y}function d(e,t){let i=e.shift();if(i instanceof Error)throw i;return void 0===i?t:i}function p(e){l._injected=(l._injected||[]).concat(e)}function c(e){l._override=Object.assign({},e)}e.exports=Object.assign(l,{prompt:l,prompts:r,inject:p,override:c})},85424:(e,t,i)=>{"use strict";let r=t,a=i(18992),o=e=>e;function l(e,t,i={}){return new Promise((r,l)=>{let d=new a[e](t),p=i.onAbort||o,c=i.onSubmit||o,u=i.onExit||o;d.on("state",t.onState||o),d.on("submit",e=>r(c(e))),d.on("exit",e=>r(u(e))),d.on("abort",e=>l(p(e)))})}r.text=e=>l("TextPrompt",e),r.password=e=>(e.style="password",r.text(e)),r.invisible=e=>(e.style="invisible",r.text(e)),r.number=e=>l("NumberPrompt",e),r.date=e=>l("DatePrompt",e),r.confirm=e=>l("ConfirmPrompt",e),r.list=e=>{let t=e.separator||",";return l("TextPrompt",e,{onSubmit:e=>e.split(t).map(e=>e.trim())})},r.toggle=e=>l("TogglePrompt",e),r.select=e=>l("SelectPrompt",e),r.multiselect=e=>{e.choices=[].concat(e.choices||[]);let t=e=>e.filter(e=>e.selected).map(e=>e.value);return l("MultiselectPrompt",e,{onAbort:t,onSubmit:t})},r.autocompleteMultiselect=e=>{e.choices=[].concat(e.choices||[]);let t=e=>e.filter(e=>e.selected).map(e=>e.value);return l("AutocompleteMultiselectPrompt",e,{onAbort:t,onSubmit:t})};let d=(e,t)=>Promise.resolve(t.filter(t=>t.title.slice(0,e.length).toLowerCase()===e.toLowerCase()));r.autocomplete=e=>(e.suggest=e.suggest||d,e.choices=[].concat(e.choices||[]),l("AutocompletePrompt",e))},86051:e=>{"use strict";e.exports=(e,t)=>{if(!e.meta||"escape"===e.name){if(e.ctrl){if("a"===e.name)return"first";if("c"===e.name||"d"===e.name)return"abort";if("e"===e.name)return"last";if("g"===e.name)return"reset"}if(t){if("j"===e.name)return"down";if("k"===e.name)return"up"}return"return"===e.name||"enter"===e.name?"submit":"backspace"===e.name?"delete":"delete"===e.name?"deleteForward":"abort"===e.name?"abort":"escape"===e.name?"exit":"tab"===e.name?"next":"pagedown"===e.name?"nextPage":"pageup"===e.name?"prevPage":"home"===e.name?"home":"end"===e.name?"end":"up"===e.name?"up":"down"===e.name?"down":"right"===e.name?"right":"left"===e.name&&"left"}}},19557:(e,t,i)=>{"use strict";let r=i(40596),{erase:a,cursor:o}=i(69958),l=e=>[...r(e)].length;e.exports=function(e,t){if(!t)return a.line+o.to(0);let i=0;for(let r of e.split(/\r?\n/))i+=1+Math.floor(Math.max(l(r)-1,0)/t);return a.lines(i)}},5432:e=>{"use strict";e.exports=(e,t,i)=>{i=i||t;let r=Math.min(t-i,e-Math.floor(i/2));r<0&&(r=0);let a=Math.min(r+i,t);return{startIndex:r,endIndex:a}}},64954:e=>{"use strict";let t={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""},i={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"\xd7",ellipsis:"...",pointerSmall:"\xbb",line:"",pointer:">"},r="win32"===process.platform?i:t;e.exports=r},32824:(e,t,i)=>{"use strict";e.exports={action:i(86051),clear:i(19557),style:i(89281),strip:i(40596),figures:i(64954),lines:i(86120),wrap:i(69675),entriesToDisplay:i(5432)}},86120:(e,t,i)=>{"use strict";let r=i(40596);e.exports=function(e,t){let i=String(r(e)||"").split(/\r?\n/);return t?i.map(e=>Math.ceil(e.length/t)).reduce((e,t)=>e+t):i.length}},40596:e=>{"use strict";e.exports=e=>{let t=RegExp("[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)|(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))","g");return"string"==typeof e?e.replace(t,""):e}},89281:(e,t,i)=>{"use strict";let r=i(90312),a=i(64954),o=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"\uD83D\uDE03".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}}),l=e=>o[e]||o.default,d=Object.freeze({aborted:r.red(a.cross),done:r.green(a.tick),exited:r.yellow(a.cross),default:r.cyan("?")}),p=(e,t,i)=>t?d.aborted:i?d.exited:e?d.done:d.default,c=e=>r.gray(e?a.ellipsis:a.pointerSmall),u=(e,t)=>r.gray(e?t?a.pointerSmall:"+":a.line);e.exports={styles:o,render:l,symbols:d,symbol:p,delimiter:c,item:u}},69675:e=>{"use strict";e.exports=(e,t={})=>{let i=Number.isSafeInteger(parseInt(t.margin))?Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",r=t.width;return(e||"").split(/\r?\n/g).map(e=>e.split(/\s+/g).reduce((e,t)=>(t.length+i.length>=r||e[e.length-1].length+t.length+1<r?e[e.length-1]+=` ${t}`:e.push(`${i}${t}`),e),[i]).join("\n")).join("\n")}},98597:(e,t,i)=>{var r,a=i(17337),o=i(14949);try{r=i(57147)}catch(e){}var l=function(){},d="undefined"!=typeof process&&/^v?\.0/.test(process.version),p=function(e){return"function"==typeof e},c=function(e){return!!d&&!!r&&(e instanceof(r.ReadStream||l)||e instanceof(r.WriteStream||l))&&p(e.close)},u=function(e){return e.setHeader&&p(e.abort)},h=function(e,t,i,r){r=a(r);var d=!1;e.on("close",function(){d=!0}),o(e,{readable:t,writable:i},function(e){if(e)return r(e);d=!0,r()});var h=!1;return function(t){if(!d&&!h){if(h=!0,c(e))return e.close(l);if(u(e))return e.abort();if(p(e.destroy))return e.destroy();r(t||Error("stream was destroyed"))}}},m=function(e){e()},g=function(e,t){return e.pipe(t)},y=function(){var e,t=Array.prototype.slice.call(arguments),i=p(t[t.length-1]||l)&&t.pop()||l;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw Error("pump requires two streams per minimum");var r=t.map(function(a,o){var l=o<t.length-1;return h(a,l,o>0,function(t){e||(e=t),t&&r.forEach(m),l||(r.forEach(m),i(e))})});return t.reduce(g)};e.exports=y},80840:e=>{"use strict";function t(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}function i(e,i,r){var a=r&&r.stringify||t,o=1;if("object"==typeof e&&null!==e){var l=i.length+o;if(1===l)return e;var d=Array(l);d[0]=a(e);for(var p=1;p<l;p++)d[p]=a(i[p]);return d.join(" ")}if("string"!=typeof e)return e;var c=i.length;if(0===c)return e;for(var u="",h=1-o,m=-1,g=e&&e.length||0,y=0;y<g;){if(37===e.charCodeAt(y)&&y+1<g){switch(m=m>-1?m:0,e.charCodeAt(y+1)){case 100:case 102:if(h>=c||null==i[h])break;m<y&&(u+=e.slice(m,y)),u+=Number(i[h]),m=y+2,y++;break;case 105:if(h>=c||null==i[h])break;m<y&&(u+=e.slice(m,y)),u+=Math.floor(Number(i[h])),m=y+2,y++;break;case 79:case 111:case 106:if(h>=c||void 0===i[h])break;m<y&&(u+=e.slice(m,y));var v=typeof i[h];if("string"===v){u+="'"+i[h]+"'",m=y+2,y++;break}if("function"===v){u+=i[h].name||"<anonymous>",m=y+2,y++;break}u+=a(i[h]),m=y+2,y++;break;case 115:if(h>=c)break;m<y&&(u+=e.slice(m,y)),u+=String(i[h]),m=y+2,y++;break;case 37:m<y&&(u+=e.slice(m,y)),u+="%",m=y+2,y++,h--}++h}++y}return -1===m?e:(m<g&&(u+=e.slice(m)),u)}e.exports=i},48986:(e,t)=>{"use strict";let{hasOwnProperty:i}=Object.prototype,r=w();r.configure=w,r.stringify=r,r.default=r,t.stringify=r,t.configure=w,e.exports=r;let a=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function o(e){return e.length<5e3&&!a.test(e)?`"${e}"`:JSON.stringify(e)}function l(e,t){if(e.length>200||t)return e.sort(t);for(let t=1;t<e.length;t++){let i=e[t],r=t;for(;0!==r&&e[r-1]>i;)e[r]=e[r-1],r--;e[r]=i}return e}let d=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function p(e){return void 0!==d.call(e)&&0!==e.length}function c(e,t,i){e.length<i&&(i=e.length);let r=","===t?"":" ",a=`"0":${r}${e[0]}`;for(let o=1;o<i;o++)a+=`${t}"${o}":${r}${e[o]}`;return a}function u(e){if(i.call(e,"circularValue")){let t=e.circularValue;if("string"==typeof t)return`"${t}"`;if(null==t)return t;if(t===Error||t===TypeError)return{toString(){throw TypeError("Converting circular structure to JSON")}};throw TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function h(e){let t;if(i.call(e,"deterministic")&&"boolean"!=typeof(t=e.deterministic)&&"function"!=typeof t)throw TypeError('The "deterministic" argument must be of type boolean or comparator function');return void 0===t||t}function m(e,t){let r;if(i.call(e,t)&&"boolean"!=typeof(r=e[t]))throw TypeError(`The "${t}" argument must be of type boolean`);return void 0===r||r}function g(e,t){let r;if(i.call(e,t)){if("number"!=typeof(r=e[t]))throw TypeError(`The "${t}" argument must be of type number`);if(!Number.isInteger(r))throw TypeError(`The "${t}" argument must be an integer`);if(r<1)throw RangeError(`The "${t}" argument must be >= 1`)}return void 0===r?1/0:r}function y(e){return 1===e?"1 item":`${e} items`}function v(e){let t=new Set;for(let i of e)("string"==typeof i||"number"==typeof i)&&t.add(String(i));return t}function b(e){if(i.call(e,"strict")){let t=e.strict;if("boolean"!=typeof t)throw TypeError('The "strict" argument must be of type boolean');if(t)return e=>{let t=`Object can not safely be stringified. Received type ${typeof e}`;throw"function"!=typeof e&&(t+=` (${e.toString()})`),Error(t)}}}function w(e){let t=b(e={...e});!t||(void 0===e.bigint&&(e.bigint=!1),"circularValue"in e||(e.circularValue=Error));let i=u(e),r=m(e,"bigint"),a=h(e),d="function"==typeof a?a:void 0,w=g(e,"maximumDepth"),_=g(e,"maximumBreadth");function x(e,c,u,h,m,g){let v=c[e];switch("object"==typeof v&&null!==v&&"function"==typeof v.toJSON&&(v=v.toJSON(e)),typeof(v=h.call(c,e,v))){case"string":return o(v);case"object":{if(null===v)return"null";if(-1!==u.indexOf(v))return i;let e="",t=",",r=g;if(Array.isArray(v)){if(0===v.length)return"[]";if(w<u.length+1)return'"[Array]"';u.push(v),""!==m&&(g+=m,e+=`
${g}`,t=`,
${g}`);let i=Math.min(v.length,_),a=0;for(;a<i-1;a++){let i=x(String(a),v,u,h,m,g);e+=(void 0!==i?i:"null")+t}let o=x(String(a),v,u,h,m,g);if(e+=void 0!==o?o:"null",v.length-1>_){let i=v.length-_-1;e+=`${t}"... ${y(i)} not stringified"`}return""!==m&&(e+=`
${r}`),u.pop(),`[${e}]`}let c=Object.keys(v),b=c.length;if(0===b)return"{}";if(w<u.length+1)return'"[Object]"';let S="",E="";""!==m&&(g+=m,t=`,
${g}`,S=" ");let k=Math.min(b,_);a&&!p(v)&&(c=l(c,d)),u.push(v);for(let i=0;i<k;i++){let r=c[i],a=x(r,v,u,h,m,g);void 0!==a&&(e+=`${E}${o(r)}:${S}${a}`,E=t)}if(b>_){let i=b-_;e+=`${E}"...":${S}"${y(i)} not stringified"`,E=t}return""!==m&&E.length>1&&(e=`
${g}${e}
${r}`),u.pop(),`{${e}}`}case"number":return isFinite(v)?String(v):t?t(v):"null";case"boolean":return!0===v?"true":"false";case"undefined":return;case"bigint":if(r)return String(v);default:return t?t(v):void 0}}function S(e,a,l,d,p,c){switch("object"==typeof a&&null!==a&&"function"==typeof a.toJSON&&(a=a.toJSON(e)),typeof a){case"string":return o(a);case"object":{if(null===a)return"null";if(-1!==l.indexOf(a))return i;let e=c,t="",r=",";if(Array.isArray(a)){if(0===a.length)return"[]";if(w<l.length+1)return'"[Array]"';l.push(a),""!==p&&(c+=p,t+=`
${c}`,r=`,
${c}`);let i=Math.min(a.length,_),o=0;for(;o<i-1;o++){let e=S(String(o),a[o],l,d,p,c);t+=(void 0!==e?e:"null")+r}let u=S(String(o),a[o],l,d,p,c);if(t+=void 0!==u?u:"null",a.length-1>_){let e=a.length-_-1;t+=`${r}"... ${y(e)} not stringified"`}return""!==p&&(t+=`
${e}`),l.pop(),`[${t}]`}l.push(a);let u="";""!==p&&(c+=p,r=`,
${c}`,u=" ");let h="";for(let e of d){let i=S(e,a[e],l,d,p,c);void 0!==i&&(t+=`${h}${o(e)}:${u}${i}`,h=r)}return""!==p&&h.length>1&&(t=`
${c}${t}
${e}`),l.pop(),`{${t}}`}case"number":return isFinite(a)?String(a):t?t(a):"null";case"boolean":return!0===a?"true":"false";case"undefined":return;case"bigint":if(r)return String(a);default:return t?t(a):void 0}}function E(e,u,h,m,g){switch(typeof u){case"string":return o(u);case"object":{if(null===u)return"null";if("function"==typeof u.toJSON){if("object"!=typeof(u=u.toJSON(e)))return E(e,u,h,m,g);if(null===u)return"null"}if(-1!==h.indexOf(u))return i;let t=g;if(Array.isArray(u)){if(0===u.length)return"[]";if(w<h.length+1)return'"[Array]"';h.push(u),g+=m;let e=`
${g}`,i=`,
${g}`,r=Math.min(u.length,_),a=0;for(;a<r-1;a++){let t=E(String(a),u[a],h,m,g);e+=(void 0!==t?t:"null")+i}let o=E(String(a),u[a],h,m,g);if(e+=void 0!==o?o:"null",u.length-1>_){let t=u.length-_-1;e+=`${i}"... ${y(t)} not stringified"`}return e+=`
${t}`,h.pop(),`[${e}]`}let r=Object.keys(u),v=r.length;if(0===v)return"{}";if(w<h.length+1)return'"[Object]"';g+=m;let b=`,
${g}`,x="",S="",k=Math.min(v,_);p(u)&&(x+=c(u,b,_),r=r.slice(u.length),k-=u.length,S=b),a&&(r=l(r,d)),h.push(u);for(let e=0;e<k;e++){let t=r[e],i=E(t,u[t],h,m,g);void 0!==i&&(x+=`${S}${o(t)}: ${i}`,S=b)}if(v>_){let e=v-_;x+=`${S}"...": "${y(e)} not stringified"`,S=b}return""!==S&&(x=`
${g}${x}
${t}`),h.pop(),`{${x}}`}case"number":return isFinite(u)?String(u):t?t(u):"null";case"boolean":return!0===u?"true":"false";case"undefined":return;case"bigint":if(r)return String(u);default:return t?t(u):void 0}}function k(e,u,h){switch(typeof u){case"string":return o(u);case"object":{if(null===u)return"null";if("function"==typeof u.toJSON){if("object"!=typeof(u=u.toJSON(e)))return k(e,u,h);if(null===u)return"null"}if(-1!==h.indexOf(u))return i;let t="",r=void 0!==u.length;if(r&&Array.isArray(u)){if(0===u.length)return"[]";if(w<h.length+1)return'"[Array]"';h.push(u);let e=Math.min(u.length,_),i=0;for(;i<e-1;i++){let e=k(String(i),u[i],h);t+=(void 0!==e?e:"null")+","}let r=k(String(i),u[i],h);if(t+=void 0!==r?r:"null",u.length-1>_){let e=u.length-_-1;t+=`,"... ${y(e)} not stringified"`}return h.pop(),`[${t}]`}let m=Object.keys(u),g=m.length;if(0===g)return"{}";if(w<h.length+1)return'"[Object]"';let v="",b=Math.min(g,_);r&&p(u)&&(t+=c(u,",",_),m=m.slice(u.length),b-=u.length,v=","),a&&(m=l(m,d)),h.push(u);for(let e=0;e<b;e++){let i=m[e],r=k(i,u[i],h);void 0!==r&&(t+=`${v}${o(i)}:${r}`,v=",")}if(g>_){let e=g-_;t+=`${v}"...":"${y(e)} not stringified"`}return h.pop(),`{${t}}`}case"number":return isFinite(u)?String(u):t?t(u):"null";case"boolean":return!0===u?"true":"false";case"undefined":return;case"bigint":if(r)return String(u);default:return t?t(u):void 0}}return function(e,t,i){if(arguments.length>1){let r="";if("number"==typeof i?r=" ".repeat(Math.min(i,10)):"string"==typeof i&&(r=i.slice(0,10)),null!=t){if("function"==typeof t)return x("",{"":e},[],t,r,"");if(Array.isArray(t))return S("",e,[],v(t),r,"")}if(0!==r.length)return E("",e,[],r,"")}return k("",e,[])}}},21139:(e,t,i)=>{"use strict";var r=i(38971),a=/[\/\?<>\\:\*\|"]/g,o=/[\x00-\x1f\x80-\x9f]/g,l=/^\.+$/,d=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,p=/[\. ]+$/;function c(e,t){if("string"!=typeof e)throw Error("Input must be string");return r(e.replace(a,t).replace(o,t).replace(l,t).replace(d,t).replace(p,t),255)}e.exports=function(e,t){var i=t&&t.replacement||"",r=c(e,i);return""===i?r:c(r,"")}},67687:(e,t,i)=>{"use strict";let r=i(6113),a=i(71292);e.exports=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw Error("Both scmp args must be Buffers");return e.length===t.length&&(r.timingSafeEqual?r.timingSafeEqual(e,t):a(e,t))}},71292:e=>{"use strict";e.exports=function(e,t){let i=e.length,r=0;for(let a=0;a<i;++a)r|=e[a]^t[a];return 0===r}},45762:e=>{"use strict";let t="undefined"!=typeof Buffer,i=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,r=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function a(e,a,l){null==l&&null!==a&&"object"==typeof a&&(l=a,a=void 0),t&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let d=JSON.parse(e,a);if(null===d||"object"!=typeof d)return d;let p=l&&l.protoAction||"error",c=l&&l.constructorAction||"error";if("ignore"===p&&"ignore"===c)return d;if("ignore"!==p&&"ignore"!==c){if(!1===i.test(e)&&!1===r.test(e))return d}else if("ignore"!==p&&"ignore"===c){if(!1===i.test(e))return d}else if(!1===r.test(e))return d;return o(d,{protoAction:p,constructorAction:c,safe:l&&l.safe})}function o(e,{protoAction:t="error",constructorAction:i="error",safe:r}={}){let a=[e];for(;a.length;){let e=a;for(let o of(a=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(o,"__proto__")){if(!0===r)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete o.__proto__}if("ignore"!==i&&Object.prototype.hasOwnProperty.call(o,"constructor")&&Object.prototype.hasOwnProperty.call(o.constructor,"prototype")){if(!0===r)return null;if("error"===i)throw SyntaxError("Object contains forbidden prototype property");delete o.constructor}for(let e in o){let t=o[e];t&&"object"==typeof t&&a.push(t)}}}return e}function l(e,t,i){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,i)}finally{Error.stackTraceLimit=r}}function d(e,t){let i=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return a(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=i}}e.exports=l,e.exports.default=l,e.exports.parse=l,e.exports.safeParse=d,e.exports.scan=o},26263:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.wcswidth=t.wcwidth=void 0;let a=r(i(8104));t.wcswidth=a.default;let o=r(i(25190));t.wcwidth=o.default},89771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=(e,t,i)=>{let r,a=0,o=i;if(e<t[0].first||e>t[o].last)return 0;for(;o>=a;)if(e>t[r=Math.floor((a+o)/2)].last)a=r+1;else{if(!(e<t[r].first))return 1;o=r-1}return 0};t.default=i},62363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let i=[{first:768,last:879},{first:1155,last:1158},{first:1160,last:1161},{first:1425,last:1469},{first:1471,last:1471},{first:1473,last:1474},{first:1476,last:1477},{first:1479,last:1479},{first:1536,last:1539},{first:1552,last:1557},{first:1611,last:1630},{first:1648,last:1648},{first:1750,last:1764},{first:1767,last:1768},{first:1770,last:1773},{first:1807,last:1807},{first:1809,last:1809},{first:1840,last:1866},{first:1958,last:1968},{first:2027,last:2035},{first:2305,last:2306},{first:2364,last:2364},{first:2369,last:2376},{first:2381,last:2381},{first:2385,last:2388},{first:2402,last:2403},{first:2433,last:2433},{first:2492,last:2492},{first:2497,last:2500},{first:2509,last:2509},{first:2530,last:2531},{first:2561,last:2562},{first:2620,last:2620},{first:2625,last:2626},{first:2631,last:2632},{first:2635,last:2637},{first:2672,last:2673},{first:2689,last:2690},{first:2748,last:2748},{first:2753,last:2757},{first:2759,last:2760},{first:2765,last:2765},{first:2786,last:2787},{first:2817,last:2817},{first:2876,last:2876},{first:2879,last:2879},{first:2881,last:2883},{first:2893,last:2893},{first:2902,last:2902},{first:2946,last:2946},{first:3008,last:3008},{first:3021,last:3021},{first:3134,last:3136},{first:3142,last:3144},{first:3146,last:3149},{first:3157,last:3158},{first:3260,last:3260},{first:3263,last:3263},{first:3270,last:3270},{first:3276,last:3277},{first:3298,last:3299},{first:3393,last:3395},{first:3405,last:3405},{first:3530,last:3530},{first:3538,last:3540},{first:3542,last:3542},{first:3633,last:3633},{first:3636,last:3642},{first:3655,last:3662},{first:3761,last:3761},{first:3764,last:3769},{first:3771,last:3772},{first:3784,last:3789},{first:3864,last:3865},{first:3893,last:3893},{first:3895,last:3895},{first:3897,last:3897},{first:3953,last:3966},{first:3968,last:3972},{first:3974,last:3975},{first:3984,last:3991},{first:3993,last:4028},{first:4038,last:4038},{first:4141,last:4144},{first:4146,last:4146},{first:4150,last:4151},{first:4153,last:4153},{first:4184,last:4185},{first:4448,last:4607},{first:4959,last:4959},{first:5906,last:5908},{first:5938,last:5940},{first:5970,last:5971},{first:6002,last:6003},{first:6068,last:6069},{first:6071,last:6077},{first:6086,last:6086},{first:6089,last:6099},{first:6109,last:6109},{first:6155,last:6157},{first:6313,last:6313},{first:6432,last:6434},{first:6439,last:6440},{first:6450,last:6450},{first:6457,last:6459},{first:6679,last:6680},{first:6912,last:6915},{first:6964,last:6964},{first:6966,last:6970},{first:6972,last:6972},{first:6978,last:6978},{first:7019,last:7027},{first:7616,last:7626},{first:7678,last:7679},{first:8203,last:8207},{first:8234,last:8238},{first:8288,last:8291},{first:8298,last:8303},{first:8400,last:8431},{first:12330,last:12335},{first:12441,last:12442},{first:43014,last:43014},{first:43019,last:43019},{first:43045,last:43046},{first:64286,last:64286},{first:65024,last:65039},{first:65056,last:65059},{first:65279,last:65279},{first:65529,last:65531},{first:68097,last:68099},{first:68101,last:68102},{first:68108,last:68111},{first:68152,last:68154},{first:68159,last:68159},{first:119143,last:119145},{first:119155,last:119170},{first:119173,last:119179},{first:119210,last:119213},{first:119362,last:119364},{first:917505,last:917505},{first:917536,last:917631},{first:917760,last:917999}];t.default=i},8104:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let a=r(i(25190)),o=e=>{let t=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i),o=(0,a.default)(r);if(o<0)return -1;t+=o}return t};t.default=o},25190:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let a=r(i(62363)),o=r(i(89771)),l=e=>0===e?0:e<32||e>=127&&e<160?-1:(0,o.default)(e,a.default,a.default.length-1)?0:1+Number(e>=4352&&(e<=4447||9001===e||9002===e||e>=11904&&e<=42191&&12351!==e||e>=44032&&e<=55203||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65135||e>=65280&&e<=65376||e>=65504&&e<=65510||e>=131072&&e<=196605||e>=196608&&e<=262141));t.default=l},69958:e=>{"use strict";let t="\x1b",i=`${t}[`,r="\x07",a={to:(e,t)=>t?`${i}${t+1};${e+1}H`:`${i}${e+1}G`,move(e,t){let r="";return e<0?r+=`${i}${-e}D`:e>0&&(r+=`${i}${e}C`),t<0?r+=`${i}${-t}A`:t>0&&(r+=`${i}${t}B`),r},up:(e=1)=>`${i}${e}A`,down:(e=1)=>`${i}${e}B`,forward:(e=1)=>`${i}${e}C`,backward:(e=1)=>`${i}${e}D`,nextLine:(e=1)=>`${i}E`.repeat(e),prevLine:(e=1)=>`${i}F`.repeat(e),left:`${i}G`,hide:`${i}?25l`,show:`${i}?25h`,save:`${t}7`,restore:`${t}8`},o={up:(e=1)=>`${i}S`.repeat(e),down:(e=1)=>`${i}T`.repeat(e)},l={screen:`${i}2J`,up:(e=1)=>`${i}1J`.repeat(e),down:(e=1)=>`${i}J`.repeat(e),line:`${i}2K`,lineEnd:`${i}K`,lineStart:`${i}1K`,lines(e){let t="";for(let i=0;i<e;i++)t+=this.line+(i<e-1?a.up():"");return e&&(t+=a.left),t}};e.exports={cursor:a,scroll:o,erase:l,beep:r}},1310:(e,t,i)=>{"use strict";let{Transform:r}=i(12781),{StringDecoder:a}=i(71576),o=Symbol("last"),l=Symbol("decoder");function d(e,t,i){let r;if(this.overflow){if(1===(r=this[l].write(e).split(this.matcher)).length)return i();r.shift(),this.overflow=!1}else this[o]+=this[l].write(e),r=this[o].split(this.matcher);this[o]=r.pop();for(let e=0;e<r.length;e++)try{c(this,this.mapper(r[e]))}catch(e){return i(e)}if(this.overflow=this[o].length>this.maxLength,this.overflow&&!this.skipOverflow){i(Error("maximum buffer reached"));return}i()}function p(e){if(this[o]+=this[l].end(),this[o])try{c(this,this.mapper(this[o]))}catch(t){return e(t)}e()}function c(e,t){void 0!==t&&e.push(t)}function u(e){return e}function h(e,t,i){switch(e=e||/\r?\n/,t=t||u,i=i||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||e[Symbol.split]||(i=e,e=/\r?\n/);break;case 2:"function"==typeof e?(i=t,t=e,e=/\r?\n/):"object"==typeof t&&(i=t,t=u)}(i=Object.assign({},i)).autoDestroy=!0,i.transform=d,i.flush=p,i.readableObjectMode=!0;let c=new r(i);return c[o]="",c[l]=new a("utf8"),c.matcher=e,c.mapper=t,c.maxLength=i.maxLength,c.skipOverflow=i.skipOverflow||!1,c.overflow=!1,c._destroy=function(e,t){this._writableState.errorEmitted=!1,t(e)},c}e.exports=h},10481:e=>{"use strict";function t(e,t,i,r,a){for(let o=0;o<a;++o)if(e[t+o]!==i[r+o])return!1;return!0}class i{constructor(e,t){if("function"!=typeof t)throw Error("Missing match callback");if("string"==typeof e)e=Buffer.from(e);else if(!Buffer.isBuffer(e))throw Error(`Expected Buffer for needle, got ${typeof e}`);let i=e.length;if(this.maxMatches=1/0,this.matches=0,this._cb=t,this._lookbehindSize=0,this._needle=e,this._bufPos=0,this._lookbehind=Buffer.allocUnsafe(i),this._occ=[i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i],i>1)for(let t=0;t<i-1;++t)this._occ[e[t]]=i-1-t}reset(){this.matches=0,this._lookbehindSize=0,this._bufPos=0}push(e,t){let i;Buffer.isBuffer(e)||(e=Buffer.from(e,"latin1"));let a=e.length;for(this._bufPos=t||0;i!==a&&this.matches<this.maxMatches;)i=r(this,e);return i}destroy(){let e=this._lookbehindSize;e&&this._cb(!1,this._lookbehind,0,e,!1),this.reset()}}function r(e,i){let r=i.length,o=e._needle,l=o.length,d=-e._lookbehindSize,p=l-1,c=o[p],u=r-l,h=e._occ,m=e._lookbehind;if(d<0){for(;d<0&&d<=u;){let t=d+p,r=t<0?m[e._lookbehindSize+t]:i[t];if(r===c&&a(e,i,d,p))return e._lookbehindSize=0,++e.matches,d>-e._lookbehindSize?e._cb(!0,m,0,e._lookbehindSize+d,!1):e._cb(!0,void 0,0,0,!0),e._bufPos=d+l;d+=h[r]}for(;d<0&&!a(e,i,d,r-d);)++d;if(d<0){let t=e._lookbehindSize+d;return t>0&&e._cb(!1,m,0,t,!1),e._lookbehindSize-=t,m.copy(m,0,t,e._lookbehindSize),m.set(i,e._lookbehindSize),e._lookbehindSize+=r,e._bufPos=r,r}e._cb(!1,m,0,e._lookbehindSize,!1),e._lookbehindSize=0}d+=e._bufPos;let g=o[0];for(;d<=u;){let r=i[d+p];if(r===c&&i[d]===g&&t(o,0,i,d,p))return++e.matches,d>0?e._cb(!0,i,e._bufPos,d,!0):e._cb(!0,void 0,0,0,!0),e._bufPos=d+l;d+=h[r]}for(;d<r;){if(i[d]!==g||!t(i,d,o,0,r-d)){++d;continue}i.copy(m,0,d,r),e._lookbehindSize=r-d;break}return d>0&&e._cb(!1,i,e._bufPos,d<r?d:r,!0),e._bufPos=r,r}function a(e,t,i,r){let a=e._lookbehind,o=e._lookbehindSize,l=e._needle;for(let e=0;e<r;++e,++i)if((i<0?a[o+i]:t[i])!==l[e])return!1;return!0}e.exports=i},20912:(e,t,i)=>{"use strict";let{version:r}=i(44752),{EventEmitter:a}=i(82361),{Worker:o}=i(71267),{join:l}=i(71017),{pathToFileURL:d}=i(57310),{wait:p}=i(16735),{WRITE_INDEX:c,READ_INDEX:u}=i(90690),h=i(14300),m=i(39491),g=Symbol("kImpl"),y=h.constants.MAX_STRING_LENGTH;class v{constructor(e){this._value=e}deref(){return this._value}}class b{register(){}unregister(){}}let w=process.env.NODE_V8_COVERAGE?b:global.FinalizationRegistry||b,_=process.env.NODE_V8_COVERAGE?v:global.WeakRef||v,x=new w(e=>{e.exited||e.terminate()});function S(e,t){let{filename:i,workerData:a}=t,p=new o(("__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{})["thread-stream-worker"]||l(__dirname,"lib","worker.js"),{...t.workerOpts,trackUnmanagedFds:!1,workerData:{filename:0===i.indexOf("file://")?i:d(i).href,dataBuf:e[g].dataBuf,stateBuf:e[g].stateBuf,workerData:{$context:{threadStreamVersion:r},...a}}});return p.stream=new v(e),p.on("message",T),p.on("exit",C),x.register(e,p),p}function E(e){m(!e[g].sync),e[g].needDrain&&(e[g].needDrain=!1,e.emit("drain"))}function k(e){let t=Atomics.load(e[g].state,c),i=e[g].data.length-t;if(i>0){if(0===e[g].buf.length){e[g].flushing=!1,e[g].ending?L(e):e[g].needDrain&&process.nextTick(E,e);return}let t=e[g].buf.slice(0,i),r=Buffer.byteLength(t);r<=i?(e[g].buf=e[g].buf.slice(i),I(e,t,k.bind(null,e))):e.flush(()=>{if(!e.destroyed){for(Atomics.store(e[g].state,u,0),Atomics.store(e[g].state,c,0);r>e[g].data.length;)i/=2,t=e[g].buf.slice(0,i),r=Buffer.byteLength(t);e[g].buf=e[g].buf.slice(i),I(e,t,k.bind(null,e))}})}else if(0===i){if(0===t&&0===e[g].buf.length)return;e.flush(()=>{Atomics.store(e[g].state,u,0),Atomics.store(e[g].state,c,0),k(e)})}else P(e,Error("overwritten"))}function T(e){let t=this.stream.deref();if(void 0===t){this.exited=!0,this.terminate();return}switch(e.code){case"READY":this.stream=new _(t),t.flush(()=>{t[g].ready=!0,t.emit("ready")});break;case"ERROR":P(t,e.err);break;case"EVENT":Array.isArray(e.args)?t.emit(e.name,...e.args):t.emit(e.name,e.args);break;case"WARNING":process.emitWarning(e.err);break;default:P(t,Error("this should not happen: "+e.code))}}function C(e){let t=this.stream.deref();void 0!==t&&(x.unregister(t),t.worker.exited=!0,t.worker.off("exit",C),P(t,0!==e?Error("the worker thread exited"):null))}class N extends a{constructor(e={}){if(super(),e.bufferSize<4)throw Error("bufferSize must at least fit a 4-byte utf-8 char");this[g]={},this[g].stateBuf=new SharedArrayBuffer(128),this[g].state=new Int32Array(this[g].stateBuf),this[g].dataBuf=new SharedArrayBuffer(e.bufferSize||4194304),this[g].data=Buffer.from(this[g].dataBuf),this[g].sync=e.sync||!1,this[g].ending=!1,this[g].ended=!1,this[g].needDrain=!1,this[g].destroyed=!1,this[g].flushing=!1,this[g].ready=!1,this[g].finished=!1,this[g].errored=null,this[g].closed=!1,this[g].buf="",this.worker=S(this,e),this.on("message",(e,t)=>{this.worker.postMessage(e,t)})}write(e){if(this[g].destroyed)return O(this,Error("the worker has exited")),!1;if(this[g].ending)return O(this,Error("the worker is ending")),!1;if(this[g].flushing&&this[g].buf.length+e.length>=y)try{D(this),this[g].flushing=!0}catch(e){return P(this,e),!1}if(this[g].buf+=e,this[g].sync)try{return D(this),!0}catch(e){return P(this,e),!1}return this[g].flushing||(this[g].flushing=!0,setImmediate(k,this)),this[g].needDrain=this[g].data.length-this[g].buf.length-Atomics.load(this[g].state,c)<=0,!this[g].needDrain}end(){this[g].destroyed||(this[g].ending=!0,L(this))}flush(e){if(this[g].destroyed){"function"==typeof e&&process.nextTick(e,Error("the worker has exited"));return}let t=Atomics.load(this[g].state,c);p(this[g].state,u,t,1/0,(t,i)=>{if(t){P(this,t),process.nextTick(e,t);return}if("not-equal"===i){this.flush(e);return}process.nextTick(e)})}flushSync(){this[g].destroyed||(D(this),R(this))}unref(){this.worker.unref()}ref(){this.worker.ref()}get ready(){return this[g].ready}get destroyed(){return this[g].destroyed}get closed(){return this[g].closed}get writable(){return!this[g].destroyed&&!this[g].ending}get writableEnded(){return this[g].ending}get writableFinished(){return this[g].finished}get writableNeedDrain(){return this[g].needDrain}get writableObjectMode(){return!1}get writableErrored(){return this[g].errored}}function O(e,t){setImmediate(()=>{e.emit("error",t)})}function P(e,t){e[g].destroyed||(e[g].destroyed=!0,t&&(e[g].errored=t,O(e,t)),e.worker.exited?setImmediate(()=>{e[g].closed=!0,e.emit("close")}):e.worker.terminate().catch(()=>{}).then(()=>{e[g].closed=!0,e.emit("close")}))}function I(e,t,i){let r=Atomics.load(e[g].state,c),a=Buffer.byteLength(t);return e[g].data.write(t,r),Atomics.store(e[g].state,c,r+a),Atomics.notify(e[g].state,c),i(),!0}function L(e){if(!e[g].ended&&e[g].ending&&!e[g].flushing){e[g].ended=!0;try{e.flushSync();let t=Atomics.load(e[g].state,u);Atomics.store(e[g].state,c,-1),Atomics.notify(e[g].state,c);let i=0;for(;-1!==t;){if(Atomics.wait(e[g].state,u,t,1e3),t=Atomics.load(e[g].state,u),-2===t){P(e,Error("end() failed"));return}if(10==++i){P(e,Error("end() took too long (10s)"));return}}process.nextTick(()=>{e[g].finished=!0,e.emit("finish")})}catch(t){P(e,t)}}}function D(e){let t=()=>{e[g].ending?L(e):e[g].needDrain&&process.nextTick(E,e)};for(e[g].flushing=!1;0!==e[g].buf.length;){let i=Atomics.load(e[g].state,c),r=e[g].data.length-i;if(0===r){R(e),Atomics.store(e[g].state,u,0),Atomics.store(e[g].state,c,0);continue}if(r<0)throw Error("overwritten");let a=e[g].buf.slice(0,r),o=Buffer.byteLength(a);if(o<=r)e[g].buf=e[g].buf.slice(r),I(e,a,t);else{for(R(e),Atomics.store(e[g].state,u,0),Atomics.store(e[g].state,c,0);o>e[g].buf.length;)r/=2,a=e[g].buf.slice(0,r),o=Buffer.byteLength(a);e[g].buf=e[g].buf.slice(r),I(e,a,t)}}}function R(e){if(e[g].flushing)throw Error("unable to flush while flushing");let t=Atomics.load(e[g].state,c),i=0;for(;;){let r=Atomics.load(e[g].state,u);if(-2===r)throw Error("_flushSync failed");if(r!==t)Atomics.wait(e[g].state,u,r,1e3);else break;if(10==++i)throw Error("_flushSync took too long (10s)")}}e.exports=N},90690:e=>{"use strict";let t=4,i=8;e.exports={WRITE_INDEX:t,READ_INDEX:i}},16735:e=>{"use strict";let t=1e3;function i(e,i,r,a,o){let l=Date.now()+a,d=Atomics.load(e,i);if(d===r){o(null,"ok");return}let p=d,c=a=>{Date.now()>l?o(null,"timed-out"):setTimeout(()=>{p=d,(d=Atomics.load(e,i))===p?c(a>=t?t:2*a):d===r?o(null,"ok"):o(null,"not-equal")},a)};c(1)}function r(e,i,r,a,o){let l=Date.now()+a,d=Atomics.load(e,i);if(d!==r){o(null,"ok");return}let p=a=>{Date.now()>l?o(null,"timed-out"):setTimeout(()=>{(d=Atomics.load(e,i))!==r?o(null,"ok"):p(a>=t?t:2*a)},a)};p(1)}e.exports={wait:i,waitDiff:r}},67443:e=>{e.exports=a;var t=/\s/,i=/(_|-|\.|:)/,r=/([a-z][A-Z]|[A-Z][a-z])/;function a(e){return t.test(e)?e.toLowerCase():i.test(e)?(l(e)||e).toLowerCase():r.test(e)?p(e).toLowerCase():e.toLowerCase()}var o=/[\W_]+(.|$)/g;function l(e){return e.replace(o,function(e,t){return t?" "+t:""})}var d=/(.)([A-Z]+)/g;function p(e){return e.replace(d,function(e,t,i){return t+" "+i.toLowerCase().split("").join(" ")})}},25200:(e,t,i)=>{var r=i(48666);function a(e){return r(e).replace(/\s/g,"_")}e.exports=a},48666:(e,t,i)=>{var r=i(67443);function a(e){return r(e).replace(/[\W_]+(.|$)/g,function(e,t){return t?" "+t:""}).trim()}e.exports=a},30236:(e,t,i)=>{"use strict";var r=i(85477),a=i(50542),o={TRANSITIONAL:0,NONTRANSITIONAL:1};function l(e){return e.split("\0").map(function(e){return e.normalize("NFC")}).join("\0")}function d(e){for(var t=0,i=a.length-1;t<=i;){var r=Math.floor((t+i)/2),o=a[r];if(o[0][0]<=e&&o[0][1]>=e)return o;o[0][0]>e?i=r-1:t=r+1}return null}var p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function c(e){return e.replace(p,"_").length}function u(e,t,i){for(var r=!1,a="",l=c(e),p=0;p<l;++p){var u=e.codePointAt(p),h=d(u);switch(h[1]){case"disallowed":r=!0,a+=String.fromCodePoint(u);break;case"ignored":break;case"mapped":a+=String.fromCodePoint.apply(String,h[2]);break;case"deviation":i===o.TRANSITIONAL?a+=String.fromCodePoint.apply(String,h[2]):a+=String.fromCodePoint(u);break;case"valid":a+=String.fromCodePoint(u);break;case"disallowed_STD3_mapped":t?(r=!0,a+=String.fromCodePoint(u)):a+=String.fromCodePoint.apply(String,h[2]);break;case"disallowed_STD3_valid":t&&(r=!0),a+=String.fromCodePoint(u)}}return{string:a,error:r}}var h=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function m(e,t){"xn--"===e.substr(0,4)&&(e=r.toUnicode(e),t=o.NONTRANSITIONAL);var i=!1;(l(e)!==e||"-"===e[3]&&"-"===e[4]||"-"===e[0]||"-"===e[e.length-1]||-1!==e.indexOf(".")||0===e.search(h))&&(i=!0);for(var a=c(e),p=0;p<a;++p){var u=d(e.codePointAt(p));if(g===o.TRANSITIONAL&&"valid"!==u[1]||g===o.NONTRANSITIONAL&&"valid"!==u[1]&&"deviation"!==u[1]){i=!0;break}}return{label:e,error:i}}function g(e,t,i){var r=u(e,t,i);r.string=l(r.string);for(var a=r.string.split("."),o=0;o<a.length;++o)try{var d=m(a[o]);a[o]=d.label,r.error=r.error||d.error}catch(e){r.error=!0}return{string:a.join("."),error:r.error}}e.exports.toASCII=function(e,t,i,a){var o=g(e,t,i),l=o.string.split(".");if(l=l.map(function(e){try{return r.toASCII(e)}catch(t){return o.error=!0,e}}),a){var d=l.slice(0,l.length-1).join(".").length;(d.length>253||0===d.length)&&(o.error=!0);for(var p=0;p<l.length;++p)if(l.length>63||0===l.length){o.error=!0;break}}return o.error?null:l.join(".")},e.exports.toUnicode=function(e,t){var i=g(e,t,o.NONTRANSITIONAL);return{domain:i.string,error:i.error}},e.exports.PROCESSING_OPTIONS=o},38971:(e,t,i)=>{"use strict";var r=i(85027),a=Buffer.byteLength.bind(Buffer);e.exports=r.bind(null,a)},85027:e=>{"use strict";function t(e){return e>=55296&&e<=56319}function i(e){return e>=56320&&e<=57343}e.exports=function(e,r,a){if("string"!=typeof r)throw Error("Input must be string");for(var o,l,d=r.length,p=0,c=0;c<d;c+=1){if(o=r.charCodeAt(c),l=r[c],t(o)&&i(r.charCodeAt(c+1))&&(c+=1,l+=r[c]),(p+=e(l))===a)return r.slice(0,c+1);if(p>a)return r.slice(0,c-l.length+1)}return r}},32701:(e,t,i)=>{"use strict";function r(e,t){return t=t||{},new Promise(function(i,r){var a=new XMLHttpRequest,o=[],l=[],d={},p=function(){return{ok:2==(a.status/100|0),statusText:a.statusText,status:a.status,url:a.responseURL,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(a.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([a.response]))},clone:p,headers:{keys:function(){return o},entries:function(){return l},get:function(e){return d[e.toLowerCase()]},has:function(e){return e.toLowerCase() in d}}}};for(var c in a.open(t.method||"get",e,!0),a.onload=function(){a.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,i){o.push(t=t.toLowerCase()),l.push([t,i]),d[t]=d[t]?d[t]+","+i:i}),i(p())},a.onerror=r,a.withCredentials="include"==t.credentials,t.headers)a.setRequestHeader(c,t.headers[c]);a.send(t.body||null)})}i.r(t),i.d(t,{default:()=>r})},95077:e=>{"use strict";function t(e){let t=e.length,i=0;for(;i<t;)if((128&e[i])==0)i++;else if((224&e[i])==192){if(i+1===t||(192&e[i+1])!=128||(254&e[i])==192)return!1;i+=2}else if((240&e[i])==224){if(i+2>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||224===e[i]&&(224&e[i+1])==128||237===e[i]&&(224&e[i+1])==160)return!1;i+=3}else{if((248&e[i])!=240||i+3>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||(192&e[i+3])!=128||240===e[i]&&(240&e[i+1])==128||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}return!0}e.exports=t},42594:(e,t,i)=>{"use strict";try{e.exports=i(3614)(__dirname)}catch(t){e.exports=i(95077)}},9576:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var r=i(6005),a=i.n(r);let o={randomUUID:a().randomUUID},l=new Uint8Array(256),d=l.length;function p(){return d>l.length-16&&(a().randomFillSync(l),d=0),l.slice(d,d+=16)}let c=[];for(let e=0;e<256;++e)c.push((e+256).toString(16).slice(1));function u(e,t=0){return(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase()}let h=function(e,t,i){if(o.randomUUID&&!t&&!e)return o.randomUUID();let r=(e=e||{}).random||(e.rng||p)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=r[e];return t}return u(r)}},45469:e=>{"use strict";var t={};function i(e){return e<0?-1:1}function r(e){return e%1==.5&&(1&e)==0?Math.floor(e):Math.round(e)}function a(e,t){!t.unsigned&&--e;let a=t.unsigned?0:-Math.pow(2,e),o=Math.pow(2,e)-1,l=t.moduloBitLength?Math.pow(2,t.moduloBitLength):Math.pow(2,e),d=t.moduloBitLength?Math.pow(2,t.moduloBitLength-1):Math.pow(2,e-1);return function(e,p){p||(p={});let c=+e;if(p.enforceRange){if(!Number.isFinite(c))throw TypeError("Argument is not a finite number");if((c=i(c)*Math.floor(Math.abs(c)))<a||c>o)throw TypeError("Argument is not in byte range");return c}if(!isNaN(c)&&p.clamp)return(c=r(c))<a&&(c=a),c>o&&(c=o),c;if(!Number.isFinite(c)||0===c)return 0;if(c=i(c)*Math.floor(Math.abs(c))%l,!t.unsigned&&c>=d)return c-l;if(t.unsigned){if(c<0)c+=l;else if(-0===c)return 0}return c}}e.exports=t,t.void=function(){},t.boolean=function(e){return!!e},t.byte=a(8,{unsigned:!1}),t.octet=a(8,{unsigned:!0}),t.short=a(16,{unsigned:!1}),t["unsigned short"]=a(16,{unsigned:!0}),t.long=a(32,{unsigned:!1}),t["unsigned long"]=a(32,{unsigned:!0}),t["long long"]=a(32,{unsigned:!1,moduloBitLength:64}),t["unsigned long long"]=a(32,{unsigned:!0,moduloBitLength:64}),t.double=function(e){let t=+e;if(!Number.isFinite(t))throw TypeError("Argument is not a finite floating-point value");return t},t["unrestricted double"]=function(e){let t=+e;if(isNaN(t))throw TypeError("Argument is NaN");return t},t.float=t.double,t["unrestricted float"]=t["unrestricted double"],t.DOMString=function(e,t){return(t||(t={}),t.treatNullAsEmptyString&&null===e)?"":String(e)},t.ByteString=function(e,t){let i;let r=String(e);for(let e=0;void 0!==(i=r.codePointAt(e));++e)if(i>255)throw TypeError("Argument is not a valid bytestring");return r},t.USVString=function(e){let t=String(e),i=t.length,r=[];for(let e=0;e<i;++e){let a=t.charCodeAt(e);if(a<55296||a>57343)r.push(String.fromCodePoint(a));else if(56320<=a&&a<=57343)r.push(String.fromCodePoint(65533));else if(e===i-1)r.push(String.fromCodePoint(65533));else{let i=t.charCodeAt(e+1);if(56320<=i&&i<=57343){let t=1023&a,o=1023&i;r.push(String.fromCodePoint(65536+1024*t+o)),++e}else r.push(String.fromCodePoint(65533))}}return r.join("")},t.Date=function(e,t){if(!(e instanceof Date))throw TypeError("Argument is not a Date object");if(!isNaN(e))return e},t.RegExp=function(e,t){return e instanceof RegExp||(e=new RegExp(e)),e}},55244:(e,t,i)=>{"use strict";let r=i(59913);t.implementation=class{constructor(e){let t=e[0],i=e[1],a=null;if(void 0!==i&&"failure"===(a=r.basicURLParse(i)))throw TypeError("Invalid base URL");let o=r.basicURLParse(t,{baseURL:a});if("failure"===o)throw TypeError("Invalid URL");this._url=o}get href(){return r.serializeURL(this._url)}set href(e){let t=r.basicURLParse(e);if("failure"===t)throw TypeError("Invalid URL");this._url=t}get origin(){return r.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){r.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){r.cannotHaveAUsernamePasswordPort(this._url)||r.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){r.cannotHaveAUsernamePasswordPort(this._url)||r.setThePassword(this._url,e)}get host(){let e=this._url;return null===e.host?"":null===e.port?r.serializeHost(e.host):r.serializeHost(e.host)+":"+r.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||r.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":r.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||r.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":r.serializeInteger(this._url.port)}set port(e){r.cannotHaveAUsernamePasswordPort(this._url)||(""===e?this._url.port=null:r.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],r.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(e){let t=this._url;if(""===e){t.query=null;return}let i="?"===e[0]?e.substring(1):e;t.query="",r.basicURLParse(i,{url:t,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(e){if(""===e){this._url.fragment=null;return}let t="#"===e[0]?e.substring(1):e;this._url.fragment="",r.basicURLParse(t,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},6798:(e,t,i)=>{"use strict";let r=i(45469),a=i(42757),o=i(55244),l=a.implSymbol;function d(t){if(!this||this[l]||!(this instanceof d))throw TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");let i=[];for(let e=0;e<arguments.length&&e<2;++e)i[e]=arguments[e];i[0]=r.USVString(i[0]),void 0!==i[1]&&(i[1]=r.USVString(i[1])),e.exports.setup(this,i)}d.prototype.toJSON=function(){if(!this||!e.exports.is(this))throw TypeError("Illegal invocation");let t=[];for(let e=0;e<arguments.length&&e<0;++e)t[e]=arguments[e];return this[l].toJSON.apply(this[l],t)},Object.defineProperty(d.prototype,"href",{get(){return this[l].href},set(e){e=r.USVString(e),this[l].href=e},enumerable:!0,configurable:!0}),d.prototype.toString=function(){if(!this||!e.exports.is(this))throw TypeError("Illegal invocation");return this.href},Object.defineProperty(d.prototype,"origin",{get(){return this[l].origin},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"protocol",{get(){return this[l].protocol},set(e){e=r.USVString(e),this[l].protocol=e},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"username",{get(){return this[l].username},set(e){e=r.USVString(e),this[l].username=e},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"password",{get(){return this[l].password},set(e){e=r.USVString(e),this[l].password=e},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"host",{get(){return this[l].host},set(e){e=r.USVString(e),this[l].host=e},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"hostname",{get(){return this[l].hostname},set(e){e=r.USVString(e),this[l].hostname=e},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"port",{get(){return this[l].port},set(e){e=r.USVString(e),this[l].port=e},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"pathname",{get(){return this[l].pathname},set(e){e=r.USVString(e),this[l].pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"search",{get(){return this[l].search},set(e){e=r.USVString(e),this[l].search=e},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"hash",{get(){return this[l].hash},set(e){e=r.USVString(e),this[l].hash=e},enumerable:!0,configurable:!0}),e.exports={is:e=>!!e&&e[l]instanceof o.implementation,create(e,t){let i=Object.create(d.prototype);return this.setup(i,e,t),i},setup(e,t,i){i||(i={}),i.wrapper=e,e[l]=new o.implementation(t,i),e[l][a.wrapperSymbol]=e},interface:d,expose:{Window:{URL:d},Worker:{URL:d}}}},64326:(e,t,i)=>{"use strict";t.URL=i(6798).interface,i(59913).serializeURL,i(59913).serializeURLOrigin,i(59913).basicURLParse,i(59913).setTheUsername,i(59913).setThePassword,i(59913).serializeHost,i(59913).serializeInteger,i(59913).parseURL},59913:(e,t,i)=>{"use strict";let r=i(85477),a=i(30236),o={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},l=Symbol("failure");function d(e){return r.ucs2.decode(e).length}function p(e,t){let i=e[t];return isNaN(i)?void 0:String.fromCodePoint(i)}function c(e){return e>=48&&e<=57}function u(e){return e>=65&&e<=90||e>=97&&e<=122}function h(e){return u(e)||c(e)}function m(e){return c(e)||e>=65&&e<=70||e>=97&&e<=102}function g(e){return"."===e||"%2e"===e.toLowerCase()}function y(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e}function v(e,t){return u(e)&&(58===t||124===t)}function b(e){return 2===e.length&&u(e.codePointAt(0))&&(":"===e[1]||"|"===e[1])}function w(e){return 2===e.length&&u(e.codePointAt(0))&&":"===e[1]}function _(e){return -1!==e.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/)}function x(e){return -1!==e.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/)}function S(e){return void 0!==o[e]}function E(e){return S(e.scheme)}function k(e){return o[e]}function T(e){let t=e.toString(16).toUpperCase();return 1===t.length&&(t="0"+t),"%"+t}function C(e){let t=new Buffer(e),i="";for(let e=0;e<t.length;++e)i+=T(t[e]);return i}function N(e){let t=new Buffer(e),i=[];for(let e=0;e<t.length;++e)37!==t[e]?i.push(t[e]):37===t[e]&&m(t[e+1])&&m(t[e+2])?(i.push(parseInt(t.slice(e+1,e+3).toString(),16)),e+=2):i.push(t[e]);return new Buffer(i).toString()}function O(e){return e<=31||e>126}let P=new Set([32,34,35,60,62,63,96,123,125]);function I(e){return O(e)||P.has(e)}let L=new Set([47,58,59,61,64,91,92,93,94,124]);function D(e){return I(e)||L.has(e)}function R(e,t){let i=String.fromCodePoint(e);return t(e)?C(i):i}function $(e){let t=10;return(e.length>=2&&"0"===e.charAt(0)&&"x"===e.charAt(1).toLowerCase()?(e=e.substring(2),t=16):e.length>=2&&"0"===e.charAt(0)&&(e=e.substring(1),t=8),""===e)?0:(10===t?/[^0-9]/:16===t?/[^0-9A-Fa-f]/:/[^0-7]/).test(e)?l:parseInt(e,t)}function j(e){let t=e.split(".");if(""===t[t.length-1]&&t.length>1&&t.pop(),t.length>4)return e;let i=[];for(let r of t){if(""===r)return e;let t=$(r);if(t===l)return e;i.push(t)}for(let e=0;e<i.length-1;++e)if(i[e]>255)return l;if(i[i.length-1]>=Math.pow(256,5-i.length))return l;let r=i.pop(),a=0;for(let e of i)r+=e*Math.pow(256,3-a),++a;return r}function M(e){let t="",i=e;for(let e=1;e<=4;++e)t=String(i%256)+t,4!==e&&(t="."+t),i=Math.floor(i/256);return t}function U(e){let t=[0,0,0,0,0,0,0,0],i=0,a=null,o=0;if(58===(e=r.ucs2.decode(e))[o]){if(58!==e[o+1])return l;o+=2,a=++i}for(;o<e.length;){if(8===i)return l;if(58===e[o]){if(null!==a)return l;++o,a=++i;continue}let r=0,d=0;for(;d<4&&m(e[o]);)r=16*r+parseInt(p(e,o),16),++o,++d;if(46===e[o]){if(0===d||(o-=d,i>6))return l;let r=0;for(;void 0!==e[o];){let a=null;if(r>0){if(46!==e[o]||!(r<4))return l;++o}if(!c(e[o]))return l;for(;c(e[o]);){let t=parseInt(p(e,o));if(null===a)a=t;else{if(0===a)return l;a=10*a+t}if(a>255)return l;++o}t[i]=256*t[i]+a,(2==++r||4===r)&&++i}if(4!==r)return l;break}if(58===e[o]){if(void 0===e[++o])return l}else if(void 0!==e[o])return l;t[i]=r,++i}if(null!==a){let e=i-a;for(i=7;0!==i&&e>0;){let r=t[a+e-1];t[a+e-1]=t[i],t[i]=r,--i,--e}}else if(null===a&&8!==i)return l;return t}function F(e){let t="",i=q(e).idx,r=!1;for(let a=0;a<=7;++a)if(!r||0!==e[a]){if(r&&(r=!1),i===a){t+=0===a?"::":":",r=!0;continue}t+=e[a].toString(16),7!==a&&(t+=":")}return t}function B(e,t){if("["===e[0])return"]"!==e[e.length-1]?l:U(e.substring(1,e.length-1));if(!t)return z(e);let i=N(e),r=a.toASCII(i,!1,a.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===r||_(r))return l;let o=j(r);return"number"==typeof o||o===l?o:r}function z(e){if(x(e))return l;let t="",i=r.ucs2.decode(e);for(let e=0;e<i.length;++e)t+=R(i[e],O);return t}function q(e){let t=null,i=1,r=null,a=0;for(let o=0;o<e.length;++o)0!==e[o]?(a>i&&(t=r,i=a),r=null,a=0):(null===r&&(r=o),++a);return a>i&&(t=r,i=a),{idx:t,len:i}}function V(e){return"number"==typeof e?M(e):e instanceof Array?"["+F(e)+"]":e}function H(e){return e.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}function W(e){return e.replace(/\u0009|\u000A|\u000D/g,"")}function G(e){let t=e.path;0===t.length||"file"===e.scheme&&1===t.length&&Q(t[0])||t.pop()}function K(e){return""!==e.username||""!==e.password}function J(e){return null===e.host||""===e.host||e.cannotBeABaseURL||"file"===e.scheme}function Q(e){return/^[A-Za-z]:$/.test(e)}function Y(e,t,i,a,o){if(this.pointer=0,this.input=e,this.base=t||null,this.encodingOverride=i||"utf-8",this.stateOverride=o,this.url=a,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};let e=H(this.input);e!==this.input&&(this.parseError=!0),this.input=e}let d=W(this.input);for(d!==this.input&&(this.parseError=!0),this.input=d,this.state=o||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=r.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){let e=this.input[this.pointer],t=isNaN(e)?void 0:String.fromCodePoint(e),i=this["parse "+this.state](e,t);if(i){if(i===l){this.failure=!0;break}}else break}}Y.prototype["parse scheme start"]=function(e,t){if(u(e))this.buffer+=t.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,l;this.state="no scheme",--this.pointer}return!0},Y.prototype["parse scheme"]=function(e,t){if(h(e)||43===e||45===e||46===e)this.buffer+=t.toLowerCase();else if(58===e){if(this.stateOverride&&(E(this.url)&&!S(this.buffer)||!E(this.url)&&S(this.buffer)||(K(this.url)||null!==this.url.port)&&"file"===this.buffer||"file"===this.url.scheme&&(""===this.url.host||null===this.url.host))||(this.url.scheme=this.buffer,this.buffer="",this.stateOverride))return!1;"file"===this.url.scheme?((47!==this.input[this.pointer+1]||47!==this.input[this.pointer+2])&&(this.parseError=!0),this.state="file"):E(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":E(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,l;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},Y.prototype["parse no scheme"]=function(e){return null===this.base||this.base.cannotBeABaseURL&&35!==e?l:(this.base.cannotBeABaseURL&&35===e?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):("file"===this.base.scheme?this.state="file":this.state="relative",--this.pointer),!0)},Y.prototype["parse special relative or authority"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},Y.prototype["parse path or authority"]=function(e){return 47===e?this.state="authority":(this.state="path",--this.pointer),!0},Y.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===e?this.state="relative slash":63===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):E(this.url)&&92===e?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},Y.prototype["parse relative slash"]=function(e){return E(this.url)&&(47===e||92===e)?(92===e&&(this.parseError=!0),this.state="special authority ignore slashes"):47===e?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer),!0},Y.prototype["parse special authority slashes"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},Y.prototype["parse special authority ignore slashes"]=function(e){return 47!==e&&92!==e?(this.state="authority",--this.pointer):this.parseError=!0,!0},Y.prototype["parse authority"]=function(e,t){if(64===e){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;let e=d(this.buffer);for(let t=0;t<e;++t){let e=this.buffer.codePointAt(t);if(58===e&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}let i=R(e,D);this.passwordTokenSeenFlag?this.url.password+=i:this.url.username+=i}this.buffer=""}else if(isNaN(e)||47===e||63===e||35===e||E(this.url)&&92===e){if(this.atFlag&&""===this.buffer)return this.parseError=!0,l;this.pointer-=d(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=t;return!0},Y.prototype["parse hostname"]=Y.prototype["parse host"]=function(e,t){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==e||this.arrFlag){if(isNaN(e)||47===e||63===e||35===e||E(this.url)&&92===e){if(--this.pointer,E(this.url)&&""===this.buffer)return this.parseError=!0,l;if(this.stateOverride&&""===this.buffer&&(K(this.url)||null!==this.url.port))return this.parseError=!0,!1;let e=B(this.buffer,E(this.url));if(e===l)return l;if(this.url.host=e,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===e?this.arrFlag=!0:93===e&&(this.arrFlag=!1),this.buffer+=t}else{if(""===this.buffer)return this.parseError=!0,l;let e=B(this.buffer,E(this.url));if(e===l)return l;if(this.url.host=e,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},Y.prototype["parse port"]=function(e,t){if(c(e))this.buffer+=t;else{if(!(isNaN(e)||47===e||63===e||35===e||E(this.url)&&92===e)&&!this.stateOverride)return this.parseError=!0,l;if(""!==this.buffer){let e=parseInt(this.buffer);if(e>65535)return this.parseError=!0,l;this.url.port=e===k(this.url.scheme)?null:e,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}return!0};let Z=new Set([47,92,63,35]);function X(e,t){let i=e.scheme+":";if(null!==e.host?(i+="//",(""!==e.username||""!==e.password)&&(i+=e.username,""!==e.password&&(i+=":"+e.password),i+="@"),i+=V(e.host),null!==e.port&&(i+=":"+e.port)):null===e.host&&"file"===e.scheme&&(i+="//"),e.cannotBeABaseURL)i+=e.path[0];else for(let t of e.path)i+="/"+t;return null!==e.query&&(i+="?"+e.query),t||null===e.fragment||(i+="#"+e.fragment),i}function ee(e){let t=e.scheme+"://";return t+=V(e.host),null!==e.port&&(t+=":"+e.port),t}Y.prototype["parse file"]=function(e){return this.url.scheme="file",47===e||92===e?(92===e&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(e)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===e?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1!=0&&v(e,this.input[this.pointer+1])&&(!(this.input.length-this.pointer-1>=2)||Z.has(this.input[this.pointer+2]))?this.parseError=!0:(this.url.host=this.base.host,this.url.path=this.base.path.slice(),G(this.url)),this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},Y.prototype["parse file slash"]=function(e){return 47===e||92===e?(92===e&&(this.parseError=!0),this.state="file host"):(null!==this.base&&"file"===this.base.scheme&&(w(this.base.path[0])?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},Y.prototype["parse file host"]=function(e,t){if(isNaN(e)||47===e||92===e||63===e||35===e){if(--this.pointer,!this.stateOverride&&b(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let e=B(this.buffer,E(this.url));if(e===l)return l;if("localhost"===e&&(e=""),this.url.host=e,this.stateOverride)return!1;this.buffer="",this.state="path start"}}else this.buffer+=t;return!0},Y.prototype["parse path start"]=function(e){return E(this.url)?(92===e&&(this.parseError=!0),this.state="path",47!==e&&92!==e&&--this.pointer):this.stateOverride||63!==e?this.stateOverride||35!==e?void 0!==e&&(this.state="path",47!==e&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},Y.prototype["parse path"]=function(e){if(isNaN(e)||47===e||E(this.url)&&92===e||!this.stateOverride&&(63===e||35===e)){if(E(this.url)&&92===e&&(this.parseError=!0),y(this.buffer)?(G(this.url),47===e||E(this.url)&&92===e||this.url.path.push("")):g(this.buffer)&&47!==e&&!(E(this.url)&&92===e)?this.url.path.push(""):g(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&b(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)),this.buffer="","file"===this.url.scheme&&(void 0===e||63===e||35===e))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===e&&(this.url.query="",this.state="query"),35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||m(this.input[this.pointer+1])&&m(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=R(e,I);return!0},Y.prototype["parse cannot-be-a-base-URL path"]=function(e){return 63===e?(this.url.query="",this.state="query"):35===e?(this.url.fragment="",this.state="fragment"):(isNaN(e)||37===e||(this.parseError=!0),37!==e||m(this.input[this.pointer+1])&&m(this.input[this.pointer+2])||(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+R(e,O))),!0},Y.prototype["parse query"]=function(e,t){if(isNaN(e)||!this.stateOverride&&35===e){E(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");let t=new Buffer(this.buffer);for(let e=0;e<t.length;++e)t[e]<33||t[e]>126||34===t[e]||35===t[e]||60===t[e]||62===t[e]?this.url.query+=T(t[e]):this.url.query+=String.fromCodePoint(t[e]);this.buffer="",35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||m(this.input[this.pointer+1])&&m(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=t;return!0},Y.prototype["parse fragment"]=function(e){return isNaN(e)||(0===e?this.parseError=!0:(37!==e||m(this.input[this.pointer+1])&&m(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=R(e,O))),!0},e.exports.serializeURL=X,e.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return e.exports.serializeURLOrigin(e.exports.parseURL(t.path[0]))}catch(e){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return ee({scheme:t.scheme,host:t.host,port:t.port});case"file":return"file://";default:return"null"}},e.exports.basicURLParse=function(e,t){void 0===t&&(t={});let i=new Y(e,t.baseURL,t.encodingOverride,t.url,t.stateOverride);return i.failure?"failure":i.url},e.exports.setTheUsername=function(e,t){e.username="";let i=r.ucs2.decode(t);for(let t=0;t<i.length;++t)e.username+=R(i[t],D)},e.exports.setThePassword=function(e,t){e.password="";let i=r.ucs2.decode(t);for(let t=0;t<i.length;++t)e.password+=R(i[t],D)},e.exports.serializeHost=V,e.exports.cannotHaveAUsernamePasswordPort=J,e.exports.serializeInteger=function(e){return String(e)},e.exports.parseURL=function(t,i){return void 0===i&&(i={}),e.exports.basicURLParse(t,{baseURL:i.baseURL,encodingOverride:i.encodingOverride})}},42757:e=>{"use strict";e.exports.mixin=function(e,t){let i=Object.getOwnPropertyNames(t);for(let r=0;r<i.length;++r)Object.defineProperty(e,i[r],Object.getOwnPropertyDescriptor(t,i[r]))},e.exports.wrapperSymbol=Symbol("wrapper"),e.exports.implSymbol=Symbol("impl"),e.exports.wrapperForImpl=function(t){return t[e.exports.wrapperSymbol]},e.exports.implForWrapper=function(t){return t[e.exports.implSymbol]}},41438:e=>{e.exports=t;function t(e,i){if(e&&i)return t(e)(i);if("function"!=typeof e)throw TypeError("need wrapper function");return Object.keys(e).forEach(function(t){r[t]=e[t]}),r;function r(){for(var t=Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];var r=e.apply(this,t),a=t[t.length-1];return"function"==typeof r&&r!==a&&Object.keys(a).forEach(function(e){r[e]=a[e]}),r}}},88098:(e,t,i)=>{"use strict";let{EMPTY_BUFFER:r}=i(69030),a=Buffer[Symbol.species];function o(e,t){if(0===e.length)return r;if(1===e.length)return e[0];let i=Buffer.allocUnsafe(t),o=0;for(let t=0;t<e.length;t++){let r=e[t];i.set(r,o),o+=r.length}return o<t?new a(i.buffer,i.byteOffset,o):i}function l(e,t,i,r,a){for(let o=0;o<a;o++)i[r+o]=e[o]^t[3&o]}function d(e,t){for(let i=0;i<e.length;i++)e[i]^=t[3&i]}function p(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)}function c(e){let t;return(c.readOnly=!0,Buffer.isBuffer(e))?e:(e instanceof ArrayBuffer?t=new a(e):ArrayBuffer.isView(e)?t=new a(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t)}if(e.exports={concat:o,mask:l,toArrayBuffer:p,toBuffer:c,unmask:d},!process.env.WS_NO_BUFFER_UTIL)try{let t=i(92675);e.exports.mask=function(e,i,r,a,o){o<48?l(e,i,r,a,o):t.mask(e,i,r,a,o)},e.exports.unmask=function(e,i){e.length<32?d(e,i):t.unmask(e,i)}}catch(e){}},69030:e=>{"use strict";let t=["nodebuffer","arraybuffer","fragments"],i="undefined"!=typeof Blob;i&&t.push("blob"),e.exports={BINARY_TYPES:t,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:i,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},65767:(e,t,i)=>{"use strict";let{kForOnEventAttribute:r,kListener:a}=i(69030),o=Symbol("kCode"),l=Symbol("kData"),d=Symbol("kError"),p=Symbol("kMessage"),c=Symbol("kReason"),u=Symbol("kTarget"),h=Symbol("kType"),m=Symbol("kWasClean");class g{constructor(e){this[u]=null,this[h]=e}get target(){return this[u]}get type(){return this[h]}}Object.defineProperty(g.prototype,"target",{enumerable:!0}),Object.defineProperty(g.prototype,"type",{enumerable:!0});class y extends g{constructor(e,t={}){super(e),this[o]=void 0===t.code?0:t.code,this[c]=void 0===t.reason?"":t.reason,this[m]=void 0!==t.wasClean&&t.wasClean}get code(){return this[o]}get reason(){return this[c]}get wasClean(){return this[m]}}Object.defineProperty(y.prototype,"code",{enumerable:!0}),Object.defineProperty(y.prototype,"reason",{enumerable:!0}),Object.defineProperty(y.prototype,"wasClean",{enumerable:!0});class v extends g{constructor(e,t={}){super(e),this[d]=void 0===t.error?null:t.error,this[p]=void 0===t.message?"":t.message}get error(){return this[d]}get message(){return this[p]}}Object.defineProperty(v.prototype,"error",{enumerable:!0}),Object.defineProperty(v.prototype,"message",{enumerable:!0});class b extends g{constructor(e,t={}){super(e),this[l]=void 0===t.data?null:t.data}get data(){return this[l]}}Object.defineProperty(b.prototype,"data",{enumerable:!0});let w={addEventListener(e,t,i={}){let o;for(let o of this.listeners(e))if(!i[r]&&o[a]===t&&!o[r])return;if("message"===e)o=function(e,i){let r=new b("message",{data:i?e:e.toString()});r[u]=this,_(t,this,r)};else if("close"===e)o=function(e,i){let r=new y("close",{code:e,reason:i.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});r[u]=this,_(t,this,r)};else if("error"===e)o=function(e){let i=new v("error",{error:e,message:e.message});i[u]=this,_(t,this,i)};else{if("open"!==e)return;o=function(){let e=new g("open");e[u]=this,_(t,this,e)}}o[r]=!!i[r],o[a]=t,i.once?this.once(e,o):this.on(e,o)},removeEventListener(e,t){for(let i of this.listeners(e))if(i[a]===t&&!i[r]){this.removeListener(e,i);break}}};function _(e,t,i){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,i):e.call(t,i)}e.exports={CloseEvent:y,ErrorEvent:v,Event:g,EventTarget:w,MessageEvent:b}},68718:(e,t,i)=>{"use strict";let{tokenChars:r}=i(71187);function a(e,t,i){void 0===e[t]?e[t]=[i]:e[t].push(i)}function o(e){let t,i;let o=Object.create(null),l=Object.create(null),d=!1,p=!1,c=!1,u=-1,h=-1,m=-1,g=0;for(;g<e.length;g++)if(h=e.charCodeAt(g),void 0===t){if(-1===m&&1===r[h])-1===u&&(u=g);else if(0!==g&&(32===h||9===h))-1===m&&-1!==u&&(m=g);else if(59===h||44===h){if(-1===u)throw SyntaxError(`Unexpected character at index ${g}`);-1===m&&(m=g);let i=e.slice(u,m);44===h?(a(o,i,l),l=Object.create(null)):t=i,u=m=-1}else throw SyntaxError(`Unexpected character at index ${g}`)}else if(void 0===i){if(-1===m&&1===r[h])-1===u&&(u=g);else if(32===h||9===h)-1===m&&-1!==u&&(m=g);else if(59===h||44===h){if(-1===u)throw SyntaxError(`Unexpected character at index ${g}`);-1===m&&(m=g),a(l,e.slice(u,m),!0),44===h&&(a(o,t,l),l=Object.create(null),t=void 0),u=m=-1}else if(61===h&&-1!==u&&-1===m)i=e.slice(u,g),u=m=-1;else throw SyntaxError(`Unexpected character at index ${g}`)}else if(p){if(1!==r[h])throw SyntaxError(`Unexpected character at index ${g}`);-1===u?u=g:d||(d=!0),p=!1}else if(c){if(1===r[h])-1===u&&(u=g);else if(34===h&&-1!==u)c=!1,m=g;else if(92===h)p=!0;else throw SyntaxError(`Unexpected character at index ${g}`)}else if(34===h&&61===e.charCodeAt(g-1))c=!0;else if(-1===m&&1===r[h])-1===u&&(u=g);else if(-1!==u&&(32===h||9===h))-1===m&&(m=g);else if(59===h||44===h){if(-1===u)throw SyntaxError(`Unexpected character at index ${g}`);-1===m&&(m=g);let r=e.slice(u,m);d&&(r=r.replace(/\\/g,""),d=!1),a(l,i,r),44===h&&(a(o,t,l),l=Object.create(null),t=void 0),i=void 0,u=m=-1}else throw SyntaxError(`Unexpected character at index ${g}`);if(-1===u||c||32===h||9===h)throw SyntaxError("Unexpected end of input");-1===m&&(m=g);let y=e.slice(u,m);return void 0===t?a(o,y,l):(void 0===i?a(l,y,!0):d?a(l,i,y.replace(/\\/g,"")):a(l,i,y),a(o,t,l)),o}function l(e){return Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>[t].concat(Object.keys(e).map(t=>{let i=e[t];return Array.isArray(i)||(i=[i]),i.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")}e.exports={format:l,parse:o}},80189:e=>{"use strict";let t=Symbol("kDone"),i=Symbol("kRun");class r{constructor(e){this[t]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[t])}}}e.exports=r},27767:(e,t,i)=>{"use strict";let r;let a=i(59796),o=i(88098),l=i(80189),{kStatusCode:d}=i(69030),p=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),h=Symbol("total-length"),m=Symbol("callback"),g=Symbol("buffers"),y=Symbol("error");class v{constructor(e,t,i){this._maxPayload=0|i,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,r||(r=new l(void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10))}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[m];this._deflate.close(),this._deflate=null,e&&e(Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,i=e.find(e=>(!1!==t.serverNoContextTakeover||!e.server_no_context_takeover)&&(!e.server_max_window_bits||!1!==t.serverMaxWindowBits&&("number"!=typeof t.serverMaxWindowBits||!(t.serverMaxWindowBits>e.server_max_window_bits)))&&("number"!=typeof t.clientMaxWindowBits||!!e.client_max_window_bits));if(!i)throw Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(i.server_no_context_takeover=!0),t.clientNoContextTakeover&&(i.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(i.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?i.client_max_window_bits=t.clientMaxWindowBits:(!0===i.client_max_window_bits||!1===t.clientMaxWindowBits)&&delete i.client_max_window_bits,i}acceptAsClient(e){let t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let i=e[t];if(i.length>1)throw Error(`Parameter "${t}" must have only a single value`);if(i=i[0],"client_max_window_bits"===t){if(!0!==i){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if(!this._isServer)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else if("server_max_window_bits"===t){let e=+i;if(!Number.isInteger(e)||e<8||e>15)throw TypeError(`Invalid value for parameter "${t}": ${i}`);i=e}else if("client_no_context_takeover"===t||"server_no_context_takeover"===t){if(!0!==i)throw TypeError(`Invalid value for parameter "${t}": ${i}`)}else throw Error(`Unknown parameter "${t}"`);e[t]=i})}),e}decompress(e,t,i){r.add(r=>{this._decompress(e,t,(e,t)=>{r(),i(e,t)})})}compress(e,t,i){r.add(r=>{this._compress(e,t,(e,t)=>{r(),i(e,t)})})}_decompress(e,t,i){let r=this._isServer?"client":"server";if(!this._inflate){let e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?a.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=a.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[h]=0,this._inflate[g]=[],this._inflate.on("error",_),this._inflate.on("data",w)}this._inflate[m]=i,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush(()=>{let e=this._inflate[y];if(e){this._inflate.close(),this._inflate=null,i(e);return}let a=o.concat(this._inflate[g],this._inflate[h]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[h]=0,this._inflate[g]=[],t&&this.params[`${r}_no_context_takeover`]&&this._inflate.reset()),i(null,a)})}_compress(e,t,i){let r=this._isServer?"server":"client";if(!this._deflate){let e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?a.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=a.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[h]=0,this._deflate[g]=[],this._deflate.on("data",b)}this._deflate[m]=i,this._deflate.write(e),this._deflate.flush(a.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=o.concat(this._deflate[g],this._deflate[h]);t&&(e=new p(e.buffer,e.byteOffset,e.length-4)),this._deflate[m]=null,this._deflate[h]=0,this._deflate[g]=[],t&&this.params[`${r}_no_context_takeover`]&&this._deflate.reset(),i(null,e)})}}function b(e){this[g].push(e),this[h]+=e.length}function w(e){if(this[h]+=e.length,this[u]._maxPayload<1||this[h]<=this[u]._maxPayload){this[g].push(e);return}this[y]=RangeError("Max payload size exceeded"),this[y].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[y][d]=1009,this.removeListener("data",w),this.reset()}function _(e){if(this[u]._inflate=null,this[y]){this[m](this[y]);return}e[d]=1007,this[m](e)}e.exports=v},90263:(e,t,i)=>{"use strict";let{Writable:r}=i(12781),a=i(27767),{BINARY_TYPES:o,EMPTY_BUFFER:l,kStatusCode:d,kWebSocket:p}=i(69030),{concat:c,toArrayBuffer:u,unmask:h}=i(88098),{isValidStatusCode:m,isValidUTF8:g}=i(71187),y=Buffer[Symbol.species],v=0,b=1,w=2,_=3,x=4,S=5,E=6;class k extends r{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||o[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[p]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=v}_write(e,t,i){if(8===this._opcode&&this._state==v)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let t=this._buffers[0];return this._buffers[0]=new y(t.buffer,t.byteOffset+e,t.length-e),new y(t.buffer,t.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let i=this._buffers[0],r=t.length-e;e>=i.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(i.buffer,i.byteOffset,e),r),this._buffers[0]=new y(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case v:this.getInfo(e);break;case b:this.getPayloadLength16(e);break;case w:this.getPayloadLength64(e);break;case _:this.getMask();break;case x:this.getData(e);break;case S:case E:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((48&t[0])!=0){e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));return}let i=(64&t[0])==64;if(i&&!this._extensions[a.extensionName]){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._fin=(128&t[0])==128,this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(!this._fragmented){e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented){e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}this._compressed=i}else if(this._opcode>7&&this._opcode<11){if(!this._fin){e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));return}if(i){e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));return}if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength){e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"));return}}else{e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));return}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=(128&t[1])==128,this._isServer){if(!this._masked){e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"));return}}else if(this._masked){e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));return}126===this._payloadLength?this._state=b:127===this._payloadLength?this._state=w:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),i=t.readUInt32BE(0);if(i>2097151){e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH"));return}this._payloadLength=4294967296*i+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._masked?this._state=_:this._state=x}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=x}getData(e){let t=l;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!=0&&h(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=S,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[a.extensionName].decompress(e,this._fin,(e,i)=>{if(e)return t(e);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){t(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));return}this._fragments.push(i)}this.dataMessage(t),this._state===v&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=v;return}let t=this._messageLength,i=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?c(i,t):"arraybuffer"===this._binaryType?u(c(i,t)):"blob"===this._binaryType?new Blob(i):i,this._allowSynchronousEvents?(this.emit("message",r,!0),this._state=v):(this._state=E,setImmediate(()=>{this.emit("message",r,!0),this._state=v,this.startLoop(e)}))}else{let r=c(i,t);if(!this._skipUTF8Validation&&!g(r)){e(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._state===S||this._allowSynchronousEvents?(this.emit("message",r,!1),this._state=v):(this._state=E,setImmediate(()=>{this.emit("message",r,!1),this._state=v,this.startLoop(e)}))}}controlMessage(e,t){if(8===this._opcode){if(0===e.length)this._loop=!1,this.emit("conclude",1005,l),this.end();else{let i=e.readUInt16BE(0);if(!m(i)){t(this.createError(RangeError,`invalid status code ${i}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE"));return}let r=new y(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!g(r)){t(this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8"));return}this._loop=!1,this.emit("conclude",i,r),this.end()}this._state=v;return}this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=v):(this._state=E,setImmediate(()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=v,this.startLoop(t)}))}createError(e,t,i,r,a){this._loop=!1,this._errored=!0;let o=new e(i?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,this.createError),o.code=a,o[d]=r,o}}e.exports=k},22404:(e,t,i)=>{"use strict";let r;let{Duplex:a}=i(12781),{randomFillSync:o}=i(6113),l=i(27767),{EMPTY_BUFFER:d,kWebSocket:p,NOOP:c}=i(69030),{isBlob:u,isValidStatusCode:h}=i(71187),{mask:m,toBuffer:g}=i(88098),y=Symbol("kByteLength"),v=Buffer.alloc(4),b=8192,w=8192,_=0,x=1,S=2;class E{constructor(e,t,i){this._extensions=t||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=_,this.onerror=c,this[p]=void 0}static frame(e,t){let i,a;let l=!1,d=2,p=!1;t.mask&&(i=t.maskBuffer||v,t.generateMask?t.generateMask(i):(w===b&&(void 0===r&&(r=Buffer.alloc(b)),o(r,0,b),w=0),i[0]=r[w++],i[1]=r[w++],i[2]=r[w++],i[3]=r[w++]),p=(i[0]|i[1]|i[2]|i[3])==0,d=6),"string"==typeof e?a=(!t.mask||p)&&void 0!==t[y]?t[y]:(e=Buffer.from(e)).length:(a=e.length,l=t.mask&&t.readOnly&&!p);let c=a;a>=65536?(d+=8,c=127):a>125&&(d+=2,c=126);let u=Buffer.allocUnsafe(l?a+d:d);return(u[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(u[0]|=64),u[1]=c,126===c?u.writeUInt16BE(a,2):127===c&&(u[2]=u[3]=0,u.writeUIntBE(a,4,6)),t.mask)?(u[1]|=128,u[d-4]=i[0],u[d-3]=i[1],u[d-2]=i[2],u[d-1]=i[3],p)?[u,e]:l?(m(e,i,u,d,a),[u]):(m(e,i,e,0,a),[u,e]):[u,e]}close(e,t,i,r){let a;if(void 0===e)a=d;else if("number"==typeof e&&h(e)){if(void 0!==t&&t.length){let i=Buffer.byteLength(t);if(i>123)throw RangeError("The message must not be greater than 123 bytes");(a=Buffer.allocUnsafe(2+i)).writeUInt16BE(e,0),"string"==typeof t?a.write(t,2):a.set(t,2)}else(a=Buffer.allocUnsafe(2)).writeUInt16BE(e,0)}else throw TypeError("First argument must be a valid error code number");let o={[y]:a.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==_?this.enqueue([this.dispatch,a,!1,o,r]):this.sendFrame(E.frame(a,o),r)}ping(e,t,i){let r,a;if("string"==typeof e?(r=Buffer.byteLength(e),a=!1):u(e)?(r=e.size,a=!1):(r=(e=g(e)).length,a=g.readOnly),r>125)throw RangeError("The data size must not be greater than 125 bytes");let o={[y]:r,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:a,rsv1:!1};u(e)?this._state!==_?this.enqueue([this.getBlobData,e,!1,o,i]):this.getBlobData(e,!1,o,i):this._state!==_?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(E.frame(e,o),i)}pong(e,t,i){let r,a;if("string"==typeof e?(r=Buffer.byteLength(e),a=!1):u(e)?(r=e.size,a=!1):(r=(e=g(e)).length,a=g.readOnly),r>125)throw RangeError("The data size must not be greater than 125 bytes");let o={[y]:r,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:a,rsv1:!1};u(e)?this._state!==_?this.enqueue([this.getBlobData,e,!1,o,i]):this.getBlobData(e,!1,o,i):this._state!==_?this.enqueue([this.dispatch,e,!1,o,i]):this.sendFrame(E.frame(e,o),i)}send(e,t,i){let r,a;let o=this._extensions[l.extensionName],d=t.binary?2:1,p=t.compress;"string"==typeof e?(r=Buffer.byteLength(e),a=!1):u(e)?(r=e.size,a=!1):(r=(e=g(e)).length,a=g.readOnly),this._firstFragment?(this._firstFragment=!1,p&&o&&o.params[o._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(p=r>=o._threshold),this._compress=p):(p=!1,d=0),t.fin&&(this._firstFragment=!0);let c={[y]:r,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:d,readOnly:a,rsv1:p};u(e)?this._state!==_?this.enqueue([this.getBlobData,e,this._compress,c,i]):this.getBlobData(e,this._compress,c,i):this._state!==_?this.enqueue([this.dispatch,e,this._compress,c,i]):this.dispatch(e,this._compress,c,i)}getBlobData(e,t,i,r){this._bufferedBytes+=i[y],this._state=S,e.arrayBuffer().then(e=>{if(this._socket.destroyed){let e=Error("The socket was closed while the blob was being read");process.nextTick(k,this,e,r);return}this._bufferedBytes-=i[y];let a=g(e);t?this.dispatch(a,t,i,r):(this._state=_,this.sendFrame(E.frame(a,i),r),this.dequeue())}).catch(e=>{process.nextTick(T,this,e,r)})}dispatch(e,t,i,r){if(!t){this.sendFrame(E.frame(e,i),r);return}let a=this._extensions[l.extensionName];this._bufferedBytes+=i[y],this._state=x,a.compress(e,i.fin,(e,t)=>{if(this._socket.destroyed){k(this,Error("The socket was closed while data was being compressed"),r);return}this._bufferedBytes-=i[y],this._state=_,i.readOnly=!1,this.sendFrame(E.frame(t,i),r),this.dequeue()})}dequeue(){for(;this._state===_&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][y],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][y],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}function k(e,t,i){"function"==typeof i&&i(t);for(let i=0;i<e._queue.length;i++){let r=e._queue[i],a=r[r.length-1];"function"==typeof a&&a(t)}}function T(e,t,i){k(e,t,i),e.onerror(t)}e.exports=E},8826:(e,t,i)=>{"use strict";i(9936);let{Duplex:r}=i(12781);function a(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function l(e){this.removeListener("error",l),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}function d(e,t){let i=!0,d=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",function(t,i){let r=!i&&d._readableState.objectMode?t.toString():t;d.push(r)||e.pause()}),e.once("error",function(e){d.destroyed||(i=!1,d.destroy(e))}),e.once("close",function(){d.destroyed||d.push(null)}),d._destroy=function(t,r){if(e.readyState===e.CLOSED){r(t),process.nextTick(a,d);return}let o=!1;e.once("error",function(e){o=!0,r(e)}),e.once("close",function(){o||r(t),process.nextTick(a,d)}),i&&e.terminate()},d._final=function(t){if(e.readyState===e.CONNECTING){e.once("open",function(){d._final(t)});return}null!==e._socket&&(e._socket._writableState.finished?(t(),d._readableState.endEmitted&&d.destroy()):(e._socket.once("finish",function(){t()}),e.close()))},d._read=function(){e.isPaused&&e.resume()},d._write=function(t,i,r){if(e.readyState===e.CONNECTING){e.once("open",function(){d._write(t,i,r)});return}e.send(t,r)},d.on("end",o),d.on("error",l),d}e.exports=d},35931:(e,t,i)=>{"use strict";let{tokenChars:r}=i(71187);function a(e){let t=new Set,i=-1,a=-1,o=0;for(;o<e.length;o++){let l=e.charCodeAt(o);if(-1===a&&1===r[l])-1===i&&(i=o);else if(0!==o&&(32===l||9===l))-1===a&&-1!==i&&(a=o);else if(44===l){if(-1===i)throw SyntaxError(`Unexpected character at index ${o}`);-1===a&&(a=o);let r=e.slice(i,a);if(t.has(r))throw SyntaxError(`The "${r}" subprotocol is duplicated`);t.add(r),i=a=-1}else throw SyntaxError(`Unexpected character at index ${o}`)}if(-1===i||-1!==a)throw SyntaxError("Unexpected end of input");let l=e.slice(i,o);if(t.has(l))throw SyntaxError(`The "${l}" subprotocol is duplicated`);return t.add(l),t}e.exports={parse:a}},71187:(e,t,i)=>{"use strict";let{isUtf8:r}=i(14300),{hasBlob:a}=i(69030),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function l(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function d(e){let t=e.length,i=0;for(;i<t;)if((128&e[i])==0)i++;else if((224&e[i])==192){if(i+1===t||(192&e[i+1])!=128||(254&e[i])==192)return!1;i+=2}else if((240&e[i])==224){if(i+2>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||224===e[i]&&(224&e[i+1])==128||237===e[i]&&(224&e[i+1])==160)return!1;i+=3}else{if((248&e[i])!=240||i+3>=t||(192&e[i+1])!=128||(192&e[i+2])!=128||(192&e[i+3])!=128||240===e[i]&&(240&e[i+1])==128||244===e[i]&&e[i+1]>143||e[i]>244)return!1;i+=4}return!0}function p(e){return a&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&("Blob"===e[Symbol.toStringTag]||"File"===e[Symbol.toStringTag])}if(e.exports={isBlob:p,isValidStatusCode:l,isValidUTF8:d,tokenChars:o},r)e.exports.isValidUTF8=function(e){return e.length<24?d(e):r(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=i(42594);e.exports.isValidUTF8=function(e){return e.length<32?d(e):t(e)}}catch(e){}},20183:(e,t,i)=>{"use strict";let r=i(82361),a=i(13685),{Duplex:o}=i(12781),{createHash:l}=i(6113),d=i(68718),p=i(27767),c=i(35931),u=i(9936),{GUID:h,kWebSocket:m}=i(69030),g=/^[+/0-9A-Za-z]{22}==$/,y=0,v=1,b=2;class w extends r{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:u,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=a.createServer((e,t)=>{let i=a.STATUS_CODES[426];t.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),t.end(i)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let e=this.emit.bind(this,"connection");this._removeListeners=_(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,i,r)=>{this.handleUpgrade(t,i,r,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=y}address(){if(this.options.noServer)throw Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===b){e&&this.once("close",()=>{e(Error("The server is not running"))}),process.nextTick(x,this);return}if(e&&this.once("close",e),this._state!==v){if(this._state=v,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(x,this);else{let e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close(()=>{x(this)})}}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,i,r){t.on("error",S);let a=e.headers["sec-websocket-key"],o=e.headers.upgrade,l=+e.headers["sec-websocket-version"];if("GET"!==e.method){k(this,e,t,405,"Invalid HTTP method");return}if(void 0===o||"websocket"!==o.toLowerCase()){k(this,e,t,400,"Invalid Upgrade header");return}if(void 0===a||!g.test(a)){k(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(8!==l&&13!==l){k(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){E(t,400);return}let u=e.headers["sec-websocket-protocol"],h=new Set;if(void 0!==u)try{h=c.parse(u)}catch(i){k(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let m=e.headers["sec-websocket-extensions"],y={};if(this.options.perMessageDeflate&&void 0!==m){let i=new p(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let e=d.parse(m);e[p.extensionName]&&(i.accept(e[p.extensionName]),y[p.extensionName]=i)}catch(i){k(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let o={origin:e.headers[`${8===l?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(2===this.options.verifyClient.length){this.options.verifyClient(o,(o,l,d,p)=>{if(!o)return E(t,l||401,d,p);this.completeUpgrade(y,a,h,e,t,i,r)});return}if(!this.options.verifyClient(o))return E(t,401)}this.completeUpgrade(y,a,h,e,t,i,r)}completeUpgrade(e,t,i,r,a,o,c){if(!a.readable||!a.writable)return a.destroy();if(a[m])throw Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>y)return E(a,503);let u=l("sha1").update(t+h).digest("base64"),g=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${u}`],v=new this.options.WebSocket(null,void 0,this.options);if(i.size){let e=this.options.handleProtocols?this.options.handleProtocols(i,r):i.values().next().value;e&&(g.push(`Sec-WebSocket-Protocol: ${e}`),v._protocol=e)}if(e[p.extensionName]){let t=e[p.extensionName].params,i=d.format({[p.extensionName]:[t]});g.push(`Sec-WebSocket-Extensions: ${i}`),v._extensions=e}this.emit("headers",g,r),a.write(g.concat("\r\n").join("\r\n")),a.removeListener("error",S),v.setSocket(a,o,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(v),v.on("close",()=>{this.clients.delete(v),this._shouldEmitClose&&!this.clients.size&&process.nextTick(x,this)})),c(v,r)}}function _(e,t){for(let i of Object.keys(t))e.on(i,t[i]);return function(){for(let i of Object.keys(t))e.removeListener(i,t[i])}}function x(e){e._state=b,e.emit("close")}function S(){this.destroy()}function E(e,t,i,r){i=i||a.STATUS_CODES[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(i),...r},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${a.STATUS_CODES[t]}\r
`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+i)}function k(e,t,i,r,a){if(e.listenerCount("wsClientError")){let r=Error(a);Error.captureStackTrace(r,k),e.emit("wsClientError",r,i,t)}else E(i,r,a)}e.exports=w},9936:(e,t,i)=>{"use strict";let r=i(82361),a=i(95687),o=i(13685),l=i(41808),d=i(24404),{randomBytes:p,createHash:c}=i(6113),{Duplex:u,Readable:h}=i(12781),{URL:m}=i(57310),g=i(27767),y=i(90263),v=i(22404),{isBlob:b}=i(71187),{BINARY_TYPES:w,EMPTY_BUFFER:_,GUID:x,kForOnEventAttribute:S,kListener:E,kStatusCode:k,kWebSocket:T,NOOP:C}=i(69030),{EventTarget:{addEventListener:N,removeEventListener:O}}=i(65767),{format:P,parse:I}=i(68718),{toBuffer:L}=i(88098),D=3e4,R=Symbol("kAborted"),$=[8,13],j=["CONNECTING","OPEN","CLOSING","CLOSED"],M=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class U extends r{constructor(e,t,i){super(),this._binaryType=w[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=_,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=U.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(i=t,t=[]):t=[t]),F(this,e,t,i)):(this._autoPong=i.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){w.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,i){let r=new y({allowSynchronousEvents:i.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation}),a=new v(e,this._extensions,i.generateMask);this._receiver=r,this._sender=a,this._socket=e,r[T]=this,a[T]=this,e[T]=this,r.on("conclude",W),r.on("drain",G),r.on("error",K),r.on("message",Q),r.on("ping",Y),r.on("pong",Z),a.onerror=ee,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",ei),e.on("data",er),e.on("end",ea),e.on("error",en),this._readyState=U.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=U.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[g.extensionName]&&this._extensions[g.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=U.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==U.CLOSED){if(this.readyState===U.CONNECTING){let e="WebSocket was closed before the connection was established";V(this,this._req,e);return}if(this.readyState===U.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=U.CLOSING,this._sender.close(e,t,!this._isServer,e=>{!e&&(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),et(this)}}pause(){this.readyState!==U.CONNECTING&&this.readyState!==U.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,i){if(this.readyState===U.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==U.OPEN){H(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.ping(e||_,t,i)}pong(e,t,i){if(this.readyState===U.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof e?(i=e,e=t=void 0):"function"==typeof t&&(i=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState!==U.OPEN){H(this,e,i);return}void 0===t&&(t=!this._isServer),this._sender.pong(e||_,t,i)}resume(){this.readyState!==U.CONNECTING&&this.readyState!==U.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,i){if(this.readyState===U.CONNECTING)throw Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(i=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==U.OPEN){H(this,e,i);return}let r={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[g.extensionName]||(r.compress=!1),this._sender.send(e||_,r,i)}terminate(){if(this.readyState!==U.CLOSED){if(this.readyState===U.CONNECTING){let e="WebSocket was closed before the connection was established";V(this,this._req,e);return}this._socket&&(this._readyState=U.CLOSING,this._socket.destroy())}}}function F(e,t,i,r){let l,d,u,h;let y={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:$[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=y.autoPong,!$.includes(y.protocolVersion))throw RangeError(`Unsupported protocol version: ${y.protocolVersion} (supported versions: ${$.join(", ")})`);if(t instanceof m)l=t;else try{l=new m(t)}catch(e){throw SyntaxError(`Invalid URL: ${t}`)}"http:"===l.protocol?l.protocol="ws:":"https:"===l.protocol&&(l.protocol="wss:"),e._url=l.href;let v="wss:"===l.protocol,b="ws+unix:"===l.protocol;if("ws:"===l.protocol||v||b?b&&!l.pathname?d="The URL's pathname is empty":l.hash&&(d="The URL contains a fragment identifier"):d='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"',d){let t=SyntaxError(d);if(0===e._redirects)throw t;B(e,t);return}let w=v?443:80,_=p(16).toString("base64"),S=v?a.request:o.request,E=new Set;if(y.createConnection=y.createConnection||(v?q:z),y.defaultPort=y.defaultPort||w,y.port=l.port||w,y.host=l.hostname.startsWith("[")?l.hostname.slice(1,-1):l.hostname,y.headers={...y.headers,"Sec-WebSocket-Version":y.protocolVersion,"Sec-WebSocket-Key":_,Connection:"Upgrade",Upgrade:"websocket"},y.path=l.pathname+l.search,y.timeout=y.handshakeTimeout,y.perMessageDeflate&&(u=new g(!0!==y.perMessageDeflate?y.perMessageDeflate:{},!1,y.maxPayload),y.headers["Sec-WebSocket-Extensions"]=P({[g.extensionName]:u.offer()})),i.length){for(let e of i){if("string"!=typeof e||!M.test(e)||E.has(e))throw SyntaxError("An invalid or duplicated subprotocol was specified");E.add(e)}y.headers["Sec-WebSocket-Protocol"]=i.join(",")}if(y.origin&&(y.protocolVersion<13?y.headers["Sec-WebSocket-Origin"]=y.origin:y.headers.Origin=y.origin),(l.username||l.password)&&(y.auth=`${l.username}:${l.password}`),b){let e=y.path.split(":");y.socketPath=e[0],y.path=e[1]}if(y.followRedirects){if(0===e._redirects){e._originalIpc=b,e._originalSecure=v,e._originalHostOrSocketPath=b?y.socketPath:l.host;let t=r&&r.headers;if(r={...r,headers:{}},t)for(let[e,i]of Object.entries(t))r.headers[e.toLowerCase()]=i}else if(0===e.listenerCount("redirect")){let t=b?!!e._originalIpc&&y.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&l.host===e._originalHostOrSocketPath;t&&(!e._originalSecure||v)||(delete y.headers.authorization,delete y.headers.cookie,t||delete y.headers.host,y.auth=void 0)}y.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(y.auth).toString("base64")),h=e._req=S(y),e._redirects&&e.emit("redirect",e.url,h)}else h=e._req=S(y);y.timeout&&h.on("timeout",()=>{V(e,h,"Opening handshake has timed out")}),h.on("error",t=>{null===h||h[R]||(h=e._req=null,B(e,t))}),h.on("response",a=>{let o=a.headers.location,l=a.statusCode;if(o&&y.followRedirects&&l>=300&&l<400){let a;if(++e._redirects>y.maxRedirects){V(e,h,"Maximum redirects exceeded");return}h.abort();try{a=new m(o,t)}catch(t){B(e,SyntaxError(`Invalid URL: ${o}`));return}F(e,a,i,r)}else e.emit("unexpected-response",h,a)||V(e,h,`Unexpected server response: ${a.statusCode}`)}),h.on("upgrade",(t,i,r)=>{let a;if(e.emit("upgrade",t),e.readyState!==U.CONNECTING)return;h=e._req=null;let o=t.headers.upgrade;if(void 0===o||"websocket"!==o.toLowerCase()){V(e,i,"Invalid Upgrade header");return}let l=c("sha1").update(_+x).digest("base64");if(t.headers["sec-websocket-accept"]!==l){V(e,i,"Invalid Sec-WebSocket-Accept header");return}let d=t.headers["sec-websocket-protocol"];if(void 0!==d?E.size?E.has(d)||(a="Server sent an invalid subprotocol"):a="Server sent a subprotocol but none was requested":E.size&&(a="Server sent no subprotocol"),a){V(e,i,a);return}d&&(e._protocol=d);let p=t.headers["sec-websocket-extensions"];if(void 0!==p){let t;if(!u){V(e,i,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}try{t=I(p)}catch(t){V(e,i,"Invalid Sec-WebSocket-Extensions header");return}let r=Object.keys(t);if(1!==r.length||r[0]!==g.extensionName){V(e,i,"Server indicated an extension that was not requested");return}try{u.accept(t[g.extensionName])}catch(t){V(e,i,"Invalid Sec-WebSocket-Extensions header");return}e._extensions[g.extensionName]=u}e.setSocket(i,r,{allowSynchronousEvents:y.allowSynchronousEvents,generateMask:y.generateMask,maxPayload:y.maxPayload,skipUTF8Validation:y.skipUTF8Validation})}),y.finishRequest?y.finishRequest(h,e):h.end()}function B(e,t){e._readyState=U.CLOSING,e._errorEmitted=!0,e.emit("error",t),e.emitClose()}function z(e){return e.path=e.socketPath,l.connect(e)}function q(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=l.isIP(e.host)?"":e.host),d.connect(e)}function V(e,t,i){e._readyState=U.CLOSING;let r=Error(i);Error.captureStackTrace(r,V),t.setHeader?(t[R]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(B,e,r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function H(e,t,i){if(t){let i=b(t)?t.size:L(t).length;e._socket?e._sender._bufferedBytes+=i:e._bufferedAmount+=i}if(i){let t=Error(`WebSocket is not open: readyState ${e.readyState} (${j[e.readyState]})`);process.nextTick(i,t)}}function W(e,t){let i=this[T];i._closeFrameReceived=!0,i._closeMessage=t,i._closeCode=e,void 0!==i._socket[T]&&(i._socket.removeListener("data",er),process.nextTick(X,i._socket),1005===e?i.close():i.close(e,t))}function G(){let e=this[T];e.isPaused||e._socket.resume()}function K(e){let t=this[T];void 0!==t._socket[T]&&(t._socket.removeListener("data",er),process.nextTick(X,t._socket),t.close(e[k])),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e))}function J(){this[T].emitClose()}function Q(e,t){this[T].emit("message",e,t)}function Y(e){let t=this[T];t._autoPong&&t.pong(e,!this._isServer,C),t.emit("ping",e)}function Z(e){this[T].emit("pong",e)}function X(e){e.resume()}function ee(e){let t=this[T];t.readyState===U.CLOSED||(t.readyState===U.OPEN&&(t._readyState=U.CLOSING,et(t)),this._socket.end(),t._errorEmitted||(t._errorEmitted=!0,t.emit("error",e)))}function et(e){e._closeTimer=setTimeout(e._socket.destroy.bind(e._socket),D)}function ei(){let e;let t=this[T];this.removeListener("close",ei),this.removeListener("data",er),this.removeListener("end",ea),t._readyState=U.CLOSING,this._readableState.endEmitted||t._closeFrameReceived||t._receiver._writableState.errorEmitted||null===(e=t._socket.read())||t._receiver.write(e),t._receiver.end(),this[T]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",J),t._receiver.on("finish",J))}function er(e){this[T]._receiver.write(e)||this.pause()}function ea(){let e=this[T];e._readyState=U.CLOSING,e._receiver.end(),this.end()}function en(){let e=this[T];this.removeListener("error",en),this.on("error",C),e&&(e._readyState=U.CLOSING,this.destroy())}Object.defineProperty(U,"CONNECTING",{enumerable:!0,value:j.indexOf("CONNECTING")}),Object.defineProperty(U.prototype,"CONNECTING",{enumerable:!0,value:j.indexOf("CONNECTING")}),Object.defineProperty(U,"OPEN",{enumerable:!0,value:j.indexOf("OPEN")}),Object.defineProperty(U.prototype,"OPEN",{enumerable:!0,value:j.indexOf("OPEN")}),Object.defineProperty(U,"CLOSING",{enumerable:!0,value:j.indexOf("CLOSING")}),Object.defineProperty(U.prototype,"CLOSING",{enumerable:!0,value:j.indexOf("CLOSING")}),Object.defineProperty(U,"CLOSED",{enumerable:!0,value:j.indexOf("CLOSED")}),Object.defineProperty(U.prototype,"CLOSED",{enumerable:!0,value:j.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(e=>{Object.defineProperty(U.prototype,e,{enumerable:!0})}),["open","error","close","message"].forEach(e=>{Object.defineProperty(U.prototype,`on${e}`,{enumerable:!0,get(){for(let t of this.listeners(e))if(t[S])return t[E];return null},set(t){for(let t of this.listeners(e))if(t[S]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[S]:!0})}})}),U.prototype.addEventListener=N,U.prototype.removeEventListener=O,e.exports=U},93119:(e,t,i)=>{"use strict";let r=i(19321),a=process.env;function o(e){return"string"==typeof e?!!a[e]:"env"in e?a[e.env]&&a[e.env].includes(e.includes):"any"in e?e.any.some(function(e){return!!a[e]}):Object.keys(e).every(function(t){return a[t]===e[t]})}function l(e){switch(typeof e.pr){case"string":return!!a[e.pr];case"object":if("env"in e.pr){if("any"in e.pr)return e.pr.any.some(function(t){return a[e.pr.env]===t});return e.pr.env in a&&a[e.pr.env]!==e.pr.ne}if("any"in e.pr)return e.pr.any.some(function(e){return!!a[e]});return o(e.pr);default:return null}}Object.defineProperty(t,"_vendors",{value:r.map(function(e){return e.constant})}),t.name=null,t.isPR=null,t.id=null,r.forEach(function(e){let i=(Array.isArray(e.env)?e.env:[e.env]).every(function(e){return o(e)});t[e.constant]=i,i&&(t.name=e.name,t.isPR=l(e),t.id=e.constant)}),t.isCI=!!("false"!==a.CI&&(a.BUILD_ID||a.BUILD_NUMBER||a.CI||a.CI_APP_ID||a.CI_BUILD_ID||a.CI_BUILD_NUMBER||a.CI_NAME||a.CONTINUOUS_INTEGRATION||a.RUN_ID||t.name))},20046:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(i){if("default"!==i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}}),t.default=e,Object.freeze(t)}(i(76224));let{env:a={},argv:o=[],platform:l=""}="undefined"==typeof process?{}:process,d="NO_COLOR"in a||o.includes("--no-color"),p="FORCE_COLOR"in a||o.includes("--color"),c="win32"===l,u="dumb"===a.TERM,h=r&&r.isatty&&r.isatty(1)&&a.TERM&&!u,m="CI"in a&&("GITHUB_ACTIONS"in a||"GITLAB_CI"in a||"CIRCLECI"in a),g=!d&&(p||c&&!u||h||m),y=(e,t,i,r,a=t.substring(0,e)+r,o=t.substring(e+i.length),l=o.indexOf(i))=>a+(l<0?o:y(l,o,i,r)),v=(e,t,i,r,a)=>e<0?i+t+r:i+y(e,t,r,a)+r,b=(e,t,i=e,r=e.length+1)=>a=>a||!(""===a||void 0===a)?v((""+a).indexOf(t,r),a,e,t,i):"",w=(e,t,i)=>b(`\x1b[${e}m`,`\x1b[${t}m`,i),_={reset:w(0,0),bold:w(1,22,"\x1b[22m\x1b[1m"),dim:w(2,22,"\x1b[22m\x1b[2m"),italic:w(3,23),underline:w(4,24),inverse:w(7,27),hidden:w(8,28),strikethrough:w(9,29),black:w(30,39),red:w(31,39),green:w(32,39),yellow:w(33,39),blue:w(34,39),magenta:w(35,39),cyan:w(36,39),white:w(37,39),gray:w(90,39),bgBlack:w(40,49),bgRed:w(41,49),bgGreen:w(42,49),bgYellow:w(43,49),bgBlue:w(44,49),bgMagenta:w(45,49),bgCyan:w(46,49),bgWhite:w(47,49),blackBright:w(90,39),redBright:w(91,39),greenBright:w(92,39),yellowBright:w(93,39),blueBright:w(94,39),magentaBright:w(95,39),cyanBright:w(96,39),whiteBright:w(97,39),bgBlackBright:w(100,49),bgRedBright:w(101,49),bgGreenBright:w(102,49),bgYellowBright:w(103,49),bgBlueBright:w(104,49),bgMagentaBright:w(105,49),bgCyanBright:w(106,49),bgWhiteBright:w(107,49)},x=({useColor:e=g}={})=>e?_:Object.keys(_).reduce((e,t)=>({...e,[t]:String}),{}),{reset:S,bold:E,dim:k,italic:T,underline:C,inverse:N,hidden:O,strikethrough:P,black:I,red:L,green:D,yellow:R,blue:$,magenta:j,cyan:M,white:U,gray:F,bgBlack:B,bgRed:z,bgGreen:q,bgYellow:V,bgBlue:H,bgMagenta:W,bgCyan:G,bgWhite:K,blackBright:J,redBright:Q,greenBright:Y,yellowBright:Z,blueBright:X,magentaBright:ee,cyanBright:et,whiteBright:ei,bgBlackBright:er,bgRedBright:ea,bgGreenBright:en,bgYellowBright:es,bgBlueBright:eo,bgMagentaBright:el,bgCyanBright:ed,bgWhiteBright:ep}=x();t.bgBlack=B,t.bgBlackBright=er,t.bgBlue=H,t.bgBlueBright=eo,t.bgCyan=G,t.bgCyanBright=ed,t.bgGreen=q,t.bgGreenBright=en,t.bgMagenta=W,t.bgMagentaBright=el,t.bgRed=z,t.bgRedBright=ea,t.bgWhite=K,t.bgWhiteBright=ep,t.bgYellow=V,t.bgYellowBright=es,t.black=I,t.blackBright=J,t.blue=$,t.blueBright=X,t.bold=E,t.createColors=x,t.cyan=M,t.cyanBright=et,t.dim=k,t.gray=F,t.green=D,t.greenBright=Y,t.hidden=O,t.inverse=N,t.isColorSupported=g,t.italic=T,t.magenta=j,t.magentaBright=ee,t.red=L,t.redBright=Q,t.reset=S,t.strikethrough=P,t.underline=C,t.white=U,t.whiteBright=ei,t.yellow=R,t.yellowBright=Z},90671:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Function.prototype.toString,r=Object.create,a=Object.prototype.toString,o=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(e){return!!~this._keys.indexOf(e)},e.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},e.prototype.set=function(e,t){this._keys.push(e),this._values.push(t)},e}();function l(){return new o}function d(){return new WeakMap}var p="undefined"!=typeof WeakMap?d:l;function c(e){if(!e)return r(null);var t=e.constructor;if(t===Object)return e===Object.prototype?{}:r(e);if(t&&~i.call(t).indexOf("[native code]"))try{return new t}catch(e){}return r(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}function h(e){return e.flags}var m="g"===/test/g.flags?h:u;function g(e){var t=a.call(e);return t.substring(8,t.length-1)}function y(e){return e[Symbol.toStringTag]||g(e)}var v="undefined"!=typeof Symbol?y:g,b=Object.defineProperty,w=Object.getOwnPropertyDescriptor,_=Object.getOwnPropertyNames,x=Object.getOwnPropertySymbols,S=Object.prototype,E=S.hasOwnProperty,k=S.propertyIsEnumerable,T="function"==typeof x;function C(e){return _(e).concat(x(e))}var N=T?C:_;function O(e,t,i){for(var r=N(e),a=0,o=r.length,l=void 0,d=void 0;a<o;++a)if("callee"!==(l=r[a])&&"caller"!==l){if(!(d=w(e,l))){t[l]=i.copier(e[l],i);continue}d.get||d.set||(d.value=i.copier(d.value,i));try{b(t,l,d)}catch(e){t[l]=d.value}}return t}function P(e,t){return e.slice(0)}function I(e,t){return new t.Constructor(P(e.buffer))}function L(e,t){var i=new t.Constructor;return t.cache.set(e,i),e.forEach(function(e,r){i.set(r,t.copier(e,t))}),i}function D(e,t){return O(e,L(e,t),t)}function R(e,t){var i=c(t.prototype);for(var r in t.cache.set(e,i),e)E.call(e,r)&&(i[r]=t.copier(e[r],t));return i}function $(e,t){var i=c(t.prototype);for(var r in t.cache.set(e,i),e)E.call(e,r)&&(i[r]=t.copier(e[r],t));for(var a=x(e),o=0,l=a.length,d=void 0;o<l;++o)d=a[o],k.call(e,d)&&(i[d]=t.copier(e[d],t));return i}function j(e,t){return new t.Constructor(e.valueOf())}function M(e,t){return e}function U(e,t){var i=new t.Constructor;return t.cache.set(e,i),e.forEach(function(e){i.add(t.copier(e,t))}),i}function F(e,t){return O(e,U(e,t),t)}var B=Array.isArray,z=Object.assign,q=Object.getPrototypeOf||function(e){return e.__proto__},V={array:function(e,t){var i=new t.Constructor;t.cache.set(e,i);for(var r=0,a=e.length;r<a;++r)i[r]=t.copier(e[r],t);return i},arrayBuffer:P,blob:function(e,t){return e.slice(0,e.size,e.type)},dataView:I,date:function(e,t){return new t.Constructor(e.getTime())},error:M,map:L,object:T?$:R,regExp:function(e,t){var i=new t.Constructor(e.source,m(e));return i.lastIndex=e.lastIndex,i},set:U},H=z({},V,{array:function(e,t){var i=new t.Constructor;return t.cache.set(e,i),O(e,i,t)},map:D,object:function(e,t){var i=c(t.prototype);return t.cache.set(e,i),O(e,i,t)},set:F});function W(e){return{Arguments:e.object,Array:e.array,ArrayBuffer:e.arrayBuffer,Blob:e.blob,Boolean:j,DataView:e.dataView,Date:e.date,Error:e.error,Float32Array:e.arrayBuffer,Float64Array:e.arrayBuffer,Int8Array:e.arrayBuffer,Int16Array:e.arrayBuffer,Int32Array:e.arrayBuffer,Map:e.map,Number:j,Object:e.object,Promise:M,RegExp:e.regExp,Set:e.set,String:j,WeakMap:M,WeakSet:M,Uint8Array:e.arrayBuffer,Uint8ClampedArray:e.arrayBuffer,Uint16Array:e.arrayBuffer,Uint32Array:e.arrayBuffer,Uint64Array:e.arrayBuffer}}function G(e){var t=W(z({},V,e)),i=t.Array,r=t.Object;function a(e,a){if(a.prototype=a.Constructor=void 0,!e||"object"!=typeof e)return e;if(a.cache.has(e))return a.cache.get(e);if(a.prototype=q(e),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return r(e,a);if(B(e))return i(e,a);var o=t[v(e)];return o?o(e,a):"function"==typeof e.then?e:r(e,a)}return function(e){return a(e,{Constructor:void 0,cache:p(),copier:a,prototype:void 0})}}function K(e){return G(z({},H,e))}var J=K({}),Q=G({});t.copyStrict=J,t.createCopier=G,t.createStrictCopier=K,t.default=Q},30010:(e,t,i)=>{"use strict";let{normalizeIPv6:r,normalizeIPv4:a,removeDotSegments:o,recomposeAuthority:l,normalizeComponentEncoding:d}=i(78251),p=i(42674);function c(e,t){return"string"==typeof e?e=g(w(e,t),t):"object"==typeof e&&(e=w(g(e,t),t)),e}function u(e,t,i){let r=Object.assign({scheme:"null"},i);return g(h(w(e,r),w(t,r),r,!0),{...r,skipEscape:!0})}function h(e,t,i,r){let a={};return r||(e=w(g(e,i),i),t=w(g(t,i),i)),!(i=i||{}).tolerant&&t.scheme?(a.scheme=t.scheme,a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=o(t.path||""),a.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(a.userinfo=t.userinfo,a.host=t.host,a.port=t.port,a.path=o(t.path||""),a.query=t.query):(t.path?("/"===t.path.charAt(0)?a.path=o(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?a.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:a.path=t.path:a.path="/"+t.path,a.path=o(a.path)),a.query=t.query):(a.path=e.path,void 0!==t.query?a.query=t.query:a.query=e.query),a.userinfo=e.userinfo,a.host=e.host,a.port=e.port),a.scheme=e.scheme),a.fragment=t.fragment,a}function m(e,t,i){return"string"==typeof e?e=g(d(w(e=unescape(e),i),!0),{...i,skipEscape:!0}):"object"==typeof e&&(e=g(d(e,!0),{...i,skipEscape:!0})),"string"==typeof t?t=g(d(w(t=unescape(t),i),!0),{...i,skipEscape:!0}):"object"==typeof t&&(t=g(d(t,!0),{...i,skipEscape:!0})),e.toLowerCase()===t.toLowerCase()}function g(e,t){let i={host:e.host,scheme:e.scheme,userinfo:e.userinfo,port:e.port,path:e.path,query:e.query,nid:e.nid,nss:e.nss,uuid:e.uuid,fragment:e.fragment,reference:e.reference,resourceName:e.resourceName,secure:e.secure,error:""},r=Object.assign({},t),a=[],d=p[(r.scheme||i.scheme||"").toLowerCase()];d&&d.serialize&&d.serialize(i,r),void 0!==i.path&&(r.skipEscape?i.path=unescape(i.path):(i.path=escape(i.path),void 0!==i.scheme&&(i.path=i.path.split("%3A").join(":")))),"suffix"!==r.reference&&i.scheme&&a.push(i.scheme,":");let c=l(i);if(void 0!==c&&("suffix"!==r.reference&&a.push("//"),a.push(c),i.path&&"/"!==i.path.charAt(0)&&a.push("/")),void 0!==i.path){let e=i.path;r.absolutePath||d&&d.absolutePath||(e=o(e)),void 0===c&&(e=e.replace(/^\/\//u,"/%2F")),a.push(e)}return void 0!==i.query&&a.push("?",i.query),void 0!==i.fragment&&a.push("#",i.fragment),a.join("")}let y=Array.from({length:127},(e,t)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(t)));function v(e){let t=0;for(let i=0,r=e.length;i<r;++i)if((t=e.charCodeAt(i))>126||y[t])return!0;return!1}let b=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function w(e,t){let i=Object.assign({},t),o={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},l=-1!==e.indexOf("%"),d=!1;"suffix"===i.reference&&(e=(i.scheme?i.scheme+":":"")+"//"+e);let c=e.match(b);if(c){if(o.scheme=c[1],o.userinfo=c[3],o.host=c[4],o.port=parseInt(c[5],10),o.path=c[6]||"",o.query=c[7],o.fragment=c[8],isNaN(o.port)&&(o.port=c[5]),o.host){let e=a(o.host);if(!1===e.isIPV4){let t=r(e.host);o.host=t.host.toLowerCase(),d=t.isIPV6}else o.host=e.host,d=!0}void 0!==o.scheme||void 0!==o.userinfo||void 0!==o.host||void 0!==o.port||void 0!==o.query||o.path?void 0===o.scheme?o.reference="relative":void 0===o.fragment?o.reference="absolute":o.reference="uri":o.reference="same-document",i.reference&&"suffix"!==i.reference&&i.reference!==o.reference&&(o.error=o.error||"URI is not a "+i.reference+" reference.");let e=p[(i.scheme||o.scheme||"").toLowerCase()];if(!i.unicodeSupport&&(!e||!e.unicodeSupport)&&o.host&&(i.domainHost||e&&e.domainHost)&&!1===d&&v(o.host))try{o.host=URL.domainToASCII(o.host.toLowerCase())}catch(e){o.error=o.error||"Host's domain name can not be converted to ASCII: "+e}(!e||e&&!e.skipNormalize)&&(l&&void 0!==o.scheme&&(o.scheme=unescape(o.scheme)),l&&void 0!==o.host&&(o.host=unescape(o.host)),o.path&&(o.path=escape(unescape(o.path))),o.fragment&&(o.fragment=encodeURI(decodeURIComponent(o.fragment)))),e&&e.parse&&e.parse(o,i)}else o.error=o.error||"URI can not be parsed.";return o}let _={SCHEMES:p,normalize:c,resolve:u,resolveComponents:h,equal:m,serialize:g,parse:w};e.exports=_,e.exports.default=_,e.exports.fastUri=_},42674:e=>{"use strict";let t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,i=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}function a(e){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e}function o(e){let t="https"===String(e.scheme).toLowerCase();return(e.port===(t?443:80)||""===e.port)&&(e.port=void 0),e.path||(e.path="/"),e}function l(e){return e.secure=r(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e}function d(e){if((e.port===(r(e)?443:80)||""===e.port)&&(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){let[t,i]=e.resourceName.split("?");e.path=t&&"/"!==t?t:void 0,e.query=i,e.resourceName=void 0}return e.fragment=void 0,e}function p(e,t){if(!e.path)return e.error="URN can not be parsed",e;let r=e.path.match(i);if(r){let i=t.scheme||e.scheme||"urn";e.nid=r[1].toLowerCase(),e.nss=r[2];let a=b[`${i}:${t.nid||e.nid}`];e.path=void 0,a&&(e=a.parse(e,t))}else e.error=e.error||"URN can not be parsed.";return e}function c(e,t){let i=t.scheme||e.scheme||"urn",r=e.nid.toLowerCase(),a=b[`${i}:${t.nid||r}`];a&&(e=a.serialize(e,t));let o=e,l=e.nss;return o.path=`${r||t.nid}:${l}`,t.skipEscape=!0,o}function u(e,i){let r=e;return r.uuid=r.nss,r.nss=void 0,i.tolerant||r.uuid&&t.test(r.uuid)||(r.error=r.error||"UUID is not valid."),r}function h(e){let t=e;return t.nss=(e.uuid||"").toLowerCase(),t}let m={scheme:"http",domainHost:!0,parse:a,serialize:o},g={scheme:"https",domainHost:m.domainHost,parse:a,serialize:o},y={scheme:"ws",domainHost:!0,parse:l,serialize:d},v={scheme:"wss",domainHost:y.domainHost,parse:y.parse,serialize:y.serialize},b={http:m,https:g,ws:y,wss:v,urn:{scheme:"urn",parse:p,serialize:c,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:h,skipNormalize:!0}};e.exports=b},87571:e=>{"use strict";let t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};e.exports={HEX:t}},78251:(e,t,i)=>{"use strict";let{HEX:r}=i(87571),a=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function o(e){if(3>u(e,"."))return{host:e,isIPV4:!1};let[t]=e.match(a)||[];return t?{host:c(t,"."),isIPV4:!0}:{host:e,isIPV4:!1}}function l(e,t=!1){let i="",a=!0;for(let t of e){if(void 0===r[t])return;"0"!==t&&!0===a&&(a=!1),a||(i+=t)}return t&&0===i.length&&(i="0"),i}function d(e){let t=0,i={error:!1,address:"",zone:""},r=[],a=[],o=!1,d=!1,p=!1;function c(){if(a.length){if(!1===o){let e=l(a);if(void 0===e)return i.error=!0,!1;r.push(e)}a.length=0}return!0}for(let l=0;l<e.length;l++){let u=e[l];if("["!==u&&"]"!==u){if(":"===u){if(!0===d&&(p=!0),!c())break;if(t++,r.push(":"),t>7){i.error=!0;break}l-1>=0&&":"===e[l-1]&&(d=!0);continue}if("%"===u){if(!c())break;o=!0}else{a.push(u);continue}}}return a.length&&(o?i.zone=a.join(""):p?r.push(a.join("")):r.push(l(a))),i.address=r.join(""),i}function p(e){if(2>u(e,":"))return{host:e,isIPV6:!1};let t=d(e);if(t.error)return{host:e,isIPV6:!1};{let e=t.address,i=t.address;return t.zone&&(e+="%"+t.zone,i+="%25"+t.zone),{host:e,escapedHost:i,isIPV6:!0}}}function c(e,t){let i="",r=!0,a=e.length;for(let o=0;o<a;o++){let l=e[o];"0"===l&&r?(o+1<=a&&e[o+1]===t||o+1===a)&&(i+=l,r=!1):(r=l===t,i+=l)}return i}function u(e,t){let i=0;for(let r=0;r<e.length;r++)e[r]===t&&i++;return i}let h=/^\.\.?\//u,m=/^\/\.(?:\/|$)/u,g=/^\/\.\.(?:\/|$)/u,y=/^\/?(?:.|\n)*?(?=\/|$)/u;function v(e){let t=[];for(;e.length;)if(e.match(h))e=e.replace(h,"");else if(e.match(m))e=e.replace(m,"/");else if(e.match(g))e=e.replace(g,"/"),t.pop();else if("."===e||".."===e)e="";else{let i=e.match(y);if(i){let r=i[0];e=e.slice(r.length),t.push(r)}else throw Error("Unexpected dot segment condition")}return t.join("")}function b(e,t){let i=!0!==t?escape:unescape;return void 0!==e.scheme&&(e.scheme=i(e.scheme)),void 0!==e.userinfo&&(e.userinfo=i(e.userinfo)),void 0!==e.host&&(e.host=i(e.host)),void 0!==e.path&&(e.path=i(e.path)),void 0!==e.query&&(e.query=i(e.query)),void 0!==e.fragment&&(e.fragment=i(e.fragment)),e}function w(e){let t=[];if(void 0!==e.userinfo&&(t.push(e.userinfo),t.push("@")),void 0!==e.host){let i=unescape(e.host),r=o(i);if(r.isIPV4)i=r.host;else{let t=p(r.host);i=!0===t.isIPV6?`[${t.escapedHost}]`:e.host}t.push(i)}return("number"==typeof e.port||"string"==typeof e.port)&&(t.push(":"),t.push(String(e.port))),t.length?t.join(""):void 0}e.exports={recomposeAuthority:w,normalizeComponentEncoding:b,removeDotSegments:v,normalizeIPv4:o,normalizeIPv6:p,stringArrayToHexStripped:l}},63859:(e,t,i)=>{"use strict";let{isColorSupported:r}=i(20046),a=i(98597),{Transform:o}=i(12781),l=i(64507),d=i(60310),{ERROR_LIKE_KEYS:p,LEVEL_KEY:c,LEVEL_LABEL:u,MESSAGE_KEY:h,TIMESTAMP_KEY:m}=i(28905),{buildSafeSonicBoom:g,parseFactoryOptions:y}=i(45638),v=i(35643),b={colorize:r,colorizeObjects:!0,crlf:!1,customColors:null,customLevels:null,customPrettifiers:{},errorLikeObjectKeys:p,errorProps:"",hideObject:!1,ignore:"hostname",include:void 0,levelFirst:!1,levelKey:c,levelLabel:u,messageFormat:null,messageKey:h,minimumLevel:void 0,outputStream:process.stdout,singleLine:!1,timestampKey:m,translateTime:!0,useOnlyCustomProps:!0};function w(e){let t=y(Object.assign({},b,e));return v.bind({...t,context:t})}function _(e={}){let t,i=w(e);return l(function(r){r.on("message",function t(a){a&&"PINO_CONFIG"===a.code&&(Object.assign(e,{messageKey:a.config.messageKey,errorLikeObjectKeys:Array.from(new Set([...e.errorLikeObjectKeys||p,a.config.errorKey])),customLevels:a.config.levels.values}),i=w(e),r.off("message",t))});let l=new o({objectMode:!0,autoDestroy:!0,transform(e,t,r){r(null,i(e))}});return t="object"==typeof e.destination&&"function"==typeof e.destination.write?e.destination:g({dest:e.destination||1,append:e.append,mkdir:e.mkdir,sync:e.sync}),r.on("unknown",function(e){t.write(e+"\n")}),a(r,l,t),l},{parse:"lines",close(e,i){t.on("close",()=>{i(e)})}})}e.exports=_,e.exports.build=_,e.exports.PinoPretty=_,e.exports.prettyFactory=w,e.exports.colorizerFactory=d,e.exports.isColorSupported=r,e.exports.default=_},60310:(e,t,i)=>{"use strict";let r=e=>e,a={default:r,60:r,50:r,40:r,30:r,20:r,10:r,message:r,greyMessage:r},{createColors:o}=i(20046),l=i(34326),d=o({useColor:!0}),{white:p,bgRed:c,red:u,yellow:h,green:m,blue:g,gray:y,cyan:v}=d,b={default:p,60:c,50:u,40:h,30:m,20:g,10:y,message:v,greyMessage:y};function w(e){return e.reduce(function(e,[t,i]){return e[t]="function"==typeof d[i]?d[i]:p,e},{default:p,message:v,greyMessage:y})}function _(e){return function(t,i,{customLevels:r,customLevelNames:a}={}){let[o,d]=l(e,r,a)(t);return Object.prototype.hasOwnProperty.call(i,d)?i[d](o):i.default(o)}}function x(e){let t=_(e),i=function(e,i){return t(e,a,i)};return i.message=a.message,i.greyMessage=a.greyMessage,i.colors=o({useColor:!1}),i}function S(e){let t=_(e),i=function(e,i){return t(e,b,i)};return i.message=b.message,i.greyMessage=b.greyMessage,i.colors=d,i}function E(e,t){let i=w(e),r=t?i:Object.assign({},b,i),a=_(t),o=function(e,t){return a(e,r,t)};return o.colors=d,o.message=o.message||r.message,o.greyMessage=o.greyMessage||r.greyMessage,o}e.exports=function(e=!1,t,i){return e&&void 0!==t?E(t,i):e?S(i):x(i)}},28905:e=>{"use strict";e.exports={DATE_FORMAT:"yyyy-mm-dd HH:MM:ss.l o",DATE_FORMAT_SIMPLE:"HH:MM:ss.l",ERROR_LIKE_KEYS:["err","error"],MESSAGE_KEY:"msg",LEVEL_KEY:"level",LEVEL_LABEL:"levelLabel",TIMESTAMP_KEY:"time",LEVELS:{default:"USERLVL",60:"FATAL",50:"ERROR",40:"WARN",30:"INFO",20:"DEBUG",10:"TRACE"},LEVEL_NAMES:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},LOGGER_KEYS:["pid","hostname","name","level","time","timestamp","caller"]}},35643:(e,t,i)=>{"use strict";e.exports=b;let r=i(45762),a=i(67600),o=i(91985),l=i(18586),d=i(5395),p=i(57567),c=i(96034),u=i(31765),h=i(52358),{LEVELS:m,LEVEL_KEY:g,LEVEL_NAMES:y}=i(28905),v=e=>{try{return{value:r.parse(e,{protoAction:"remove"})}}catch(e){return{err:e}}};function b(e){let t;if(a(e))t=e;else{let i=v(e);if(i.err||!a(i.value))return e+this.EOL;t=i.value}if(this.minimumLevel){let e,i;if((i=(e=this.useOnlyCustomProps?this.customLevels:void 0!==this.customLevelNames[this.minimumLevel])?this.customLevelNames[this.minimumLevel]:y[this.minimumLevel])||(i="string"==typeof this.minimumLevel?y[this.minimumLevel]:y[m[this.minimumLevel].toLowerCase()]),t[void 0===this.levelKey?g:this.levelKey]<i)return}let i=d({log:t,context:this.context});(this.ignoreKeys||this.includeKeys)&&(t=h({log:t,context:this.context}));let r=l({log:t,context:{...this.context,...this.context.customProperties}}),b=p({log:t,context:this.context}),w=u({log:t,context:this.context}),_="";if(this.levelFirst&&r&&(_=`${r}`),w&&""===_?_=`${w}`:w&&(_=`${_} ${w}`),!this.levelFirst&&r&&(_=_.length>0?`${_} ${r}`:r),b&&(_=_.length>0?`${_} ${b}:`:b),!1===_.endsWith(":")&&""!==_&&(_+=":"),void 0!==i&&(_=_.length>0?`${_} ${i}`:i),_.length>0&&!this.singleLine&&(_+=this.EOL),"Error"===t.type&&"string"==typeof t.stack){let e=o({log:t,context:this.context});this.singleLine&&(_+=this.EOL),_+=e}else if(!1===this.hideObject){let e=[this.messageKey,this.levelKey,this.timestampKey].map(e=>e.replaceAll(/\\/g,"")).filter(e=>"string"==typeof t[e]||"number"==typeof t[e]||"boolean"==typeof t[e]),i=c({log:t,skipKeys:e,context:this.context});this.singleLine&&!/^\s$/.test(i)&&(_+=" "),_+=i}return _}},95420:(e,t,i)=>{"use strict";e.exports=l;let{isMainThread:r}=i(71267),a=i(19494),o=i(11089);function l(e){let t=new a(e);return t.on("error",i),process.env.NODE_V8_COVERAGE||e.sync||!r||d(t),t;function i(e){if("EPIPE"===e.code){t.write=o,t.end=o,t.flushSync=o,t.destroy=o;return}t.removeListener("error",i)}}function d(e){if(global.WeakRef&&global.WeakMap&&global.FinalizationRegistry){let t=i(77343);t.register(e,p),e.on("close",function(){t.unregister(e)})}}function p(e,t){e.destroyed||("beforeExit"===t?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}},35037:(e,t,i)=>{"use strict";e.exports=a;let r=i(60498);function a(e){let t=new Date(e);return r(t)?t:t=new Date(+e)}},68052:(e,t,i)=>{"use strict";e.exports=o;let r=i(57302),a=i(90857);function o(e,t){let i=a(t),o=i.pop();null!==(e=r(e,i))&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,o)&&delete e[o]}},52358:(e,t,i)=>{"use strict";e.exports=l;let{createCopier:r}=i(90671),a=r({}),o=i(68052);function l({log:e,context:t}){let{ignoreKeys:i,includeKeys:r}=t,l=a(e);if(r){let e={};return r.forEach(t=>{e[t]=l[t]}),e}return i.forEach(e=>{o(l,e)}),l}},12801:(e,t,i)=>{"use strict";e.exports=p;let{DATE_FORMAT:r,DATE_FORMAT_SIMPLE:a}=i(28905),o=i(71593),l=i(35037),d=i(60498);function p(e,t=!1){if(!1===t)return e;let i=l(e);if(!d(i))return e;if(!0===t)return o(i,a);let p=t.toUpperCase();if("SYS:STANDARD"===p)return o(i,r);let c=p.substr(0,4);return"SYS:"===c||"UTC:"===c?"UTC:"===c?o(i,t):o(i,t.slice(4)):o(i,`UTC:${t}`)}},34326:(e,t,i)=>{"use strict";e.exports=o;let{LEVELS:r,LEVEL_NAMES:a}=i(28905);function o(e,t,i){let o=e?t||r:Object.assign({},r,t),l=e?i||a:Object.assign({},a,i);return function(e){let t="default";return t=Number.isInteger(+e)?Object.prototype.hasOwnProperty.call(o,e)?e:t:Object.prototype.hasOwnProperty.call(l,e.toLowerCase())?l[e.toLowerCase()]:t,[o[t],t]}}},57302:(e,t,i)=>{"use strict";e.exports=a;let r=i(90857);function a(e,t){for(let i of Array.isArray(t)?t:r(t)){if(!Object.prototype.hasOwnProperty.call(e,i))return;e=e[i]}return e}},487:e=>{"use strict";function t(e){return e?"string"==typeof e?e.split(",").reduce((e,t,i)=>{let[r,a=i]=t.split(":");return e[r.toLowerCase()]=a,e},{}):"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).reduce((t,i)=>(t[i.toLowerCase()]=e[i],t),{}):{}:{}}e.exports=t},96139:e=>{"use strict";function t(e){return e?"string"==typeof e?e.split(",").reduce((e,t,i)=>{let[r,a=i]=t.split(":");return e[a]=r.toUpperCase(),e},{default:"USERLVL"}):"[object Object]"===Object.prototype.toString.call(e)?Object.keys(e).reduce((t,i)=>(t[e[i]]=i.toUpperCase(),t),{default:"USERLVL"}):{}:{}}e.exports=t},45638:(e,t,i)=>{"use strict";e.exports={buildSafeSonicBoom:i(95420),createDate:i(35037),deleteLogProperty:i(68052),filterLog:i(52358),formatTime:i(12801),getPropertyValue:i(57302),handleCustomLevelsNamesOpts:i(487),handleCustomLevelsOpts:i(96139),interpretConditionals:i(56702),isObject:i(67600),isValidDate:i(60498),joinLinesWithIndentation:i(57981),noop:i(11089),parseFactoryOptions:i(17086),prettifyErrorLog:i(91985),prettifyError:i(39744),prettifyLevel:i(18586),prettifyMessage:i(5395),prettifyMetadata:i(57567),prettifyObject:i(96034),prettifyTime:i(31765),splitPropertyKey:i(90857),getLevelLabelData:i(34326)}},56702:(e,t,i)=>{"use strict";e.exports=a;let r=i(57302);function a(e,t){return(e=(e=(e=e.replace(/{if (.*?)}(.*?){end}/g,i)).replace(/{if (.*?)}/g,"")).replace(/{end}/g,"")).replace(/\s+/g," ").trim();function i(e,i,a){let o=r(t,i);return o&&a.includes(i)?a.replace(RegExp("{"+i+"}","g"),o):""}}},67600:e=>{"use strict";function t(e){return"[object Object]"===Object.prototype.toString.apply(e)}e.exports=t},60498:e=>{"use strict";function t(e){return e instanceof Date&&!Number.isNaN(e.getTime())}e.exports=t},57981:e=>{"use strict";function t({input:e,ident:t="    ",eol:i="\n"}){let r=e.split(/\r?\n/);for(let e=1;e<r.length;e+=1)r[e]=t+r[e];return r.join(i)}e.exports=t},11089:e=>{"use strict";e.exports=function(){}},17086:(e,t,i)=>{"use strict";e.exports=p;let{LEVEL_NAMES:r}=i(28905),a=i(60310),o=i(96139),l=i(487),d=i(34326);function p(e){let t;let i=e.crlf?"\r\n":"\n",p="    ",{customPrettifiers:c,errorLikeObjectKeys:u,hideObject:h,levelFirst:m,levelKey:g,levelLabel:y,messageFormat:v,messageKey:b,minimumLevel:w,singleLine:_,timestampKey:x,translateTime:S}=e,E=e.errorProps.split(","),k="boolean"==typeof e.useOnlyCustomProps?e.useOnlyCustomProps:"true"===e.useOnlyCustomProps,T=o(e.customLevels),C=l(e.customLevels),N=d(k,T,C);if(e.customColors){if("string"==typeof e.customColors)t=e.customColors.split(",").reduce((t,i)=>{let[a,o]=i.split(":"),l=(k?e.customLevels:void 0!==C[a])?C[a]:r[a],d=void 0!==l?l:a;return t.push([d,o]),t},[]);else if("object"==typeof e.customColors)t=Object.keys(e.customColors).reduce((t,i)=>{let[a,o]=[i,e.customColors[i]],l=(k?e.customLevels:void 0!==C[a])?C[a]:r[a],d=void 0!==l?l:a;return t.push([d,o]),t},[]);else throw Error("options.customColors must be of type string or object.")}let O={customLevels:T,customLevelNames:C};!0!==k||e.customLevels||(O.customLevels=void 0,O.customLevelNames=void 0);let P=void 0!==e.include?new Set(e.include.split(",")):void 0,I=!P&&e.ignore?new Set(e.ignore.split(",")):void 0,L=a(e.colorize,t,k),D=e.colorizeObjects?L:a(!1,[],!1);return{EOL:i,IDENT:p,colorizer:L,customColors:t,customLevelNames:C,customLevels:T,customPrettifiers:c,customProperties:O,errorLikeObjectKeys:u,errorProps:E,getLevelLabelData:N,hideObject:h,ignoreKeys:I,includeKeys:P,levelFirst:m,levelKey:g,levelLabel:y,messageFormat:v,messageKey:b,minimumLevel:w,objectColorizer:D,singleLine:_,timestampKey:x,translateTime:S,useOnlyCustomProps:k}}},91985:(e,t,i)=>{"use strict";e.exports=d;let{LOGGER_KEYS:r}=i(28905),a=i(67600),o=i(57981),l=i(96034);function d({log:e,context:t}){let{EOL:i,IDENT:d,errorProps:p,messageKey:c}=t,u=o({input:e.stack,ident:d,eol:i}),h=`${d}${u}${i}`;if(p.length>0){let o;let u=r.concat(c,"type","stack");o="*"===p[0]?Object.keys(e).filter(e=>!1===u.includes(e)):p.filter(e=>!1===u.includes(e));for(let r=0;r<o.length;r+=1){let p=o[r];if(p in e!=!1){if(a(e[p])){let r=l({log:e[p],excludeLoggerKeys:!1,context:{...t,IDENT:d+d}});h=`${h}${d}${p}: {${i}${r}${d}}${i}`;continue}h=`${h}${d}${p}: ${e[p]}${i}`}}}return h}},39744:(e,t,i)=>{"use strict";e.exports=a;let r=i(57981);function a({keyName:e,lines:t,eol:i,ident:a}){let o="",l=r({input:t,ident:a,eol:i}),d=`${a}${e}: ${l}${i}`.split(i);for(let e=0;e<d.length;e+=1){0!==e&&(o+=i);let t=d[e];if(/^\s*"stack"/.test(t)){let e=/^(\s*"stack":)\s*(".*"),?$/.exec(t);if(e&&3===e.length){let r=/^\s*/.exec(t)[0].length+4,a=" ".repeat(r),l=e[2];o+=e[1]+i+a+JSON.parse(l).replace(/\n/g,i+a)}else o+=t}else o+=t}return o}},18586:(e,t,i)=>{"use strict";e.exports=a;let r=i(57302);function a({log:e,context:t}){let{colorizer:i,customLevels:a,customLevelNames:o,levelKey:l,getLevelLabelData:d}=t,p=t.customPrettifiers?.level,c=r(e,l);if(void 0===c)return;let u=i(c,{customLevels:a,customLevelNames:o});if(p){let[t]=d(c);return p(c,l,e,{label:t,labelColorized:u,colors:i.colors})}return u}},5395:(e,t,i)=>{"use strict";e.exports=l;let{LEVELS:r}=i(28905),a=i(57302),o=i(56702);function l({log:e,context:t}){let{colorizer:i,customLevels:l,levelKey:d,levelLabel:p,messageFormat:c,messageKey:u,useOnlyCustomProps:h}=t;if(c&&"string"==typeof c){let t=String(o(c,e)).replace(/{([^{}]+)}/g,function(t,i){let o;return i===p&&void 0!==(o=a(e,d))?(h?void 0===l:void 0===l[o])?r[o]:l[o]:a(e,i)||""});return i.message(t)}if(c&&"function"==typeof c){let t=c(e,u,p,{colors:i.colors});return i.message(t)}if(u in e!=!1&&("string"==typeof e[u]||"number"==typeof e[u]||"boolean"==typeof e[u]))return i.message(e[u])}},57567:e=>{"use strict";function t({log:e,context:t}){let{customPrettifiers:i,colorizer:r}=t,a="";if(e.name||e.pid||e.hostname){if(a+="(",e.name&&(a+=i.name?i.name(e.name,"name",e,{colors:r.colors}):e.name),e.pid){let t=i.pid?i.pid(e.pid,"pid",e,{colors:r.colors}):e.pid;e.name&&e.pid?a+="/"+t:a+=t}if(e.hostname){let t=i.hostname?i.hostname(e.hostname,"hostname",e,{colors:r.colors}):e.hostname;a+=`${"("===a?"on":" on"} ${t}`}a+=")"}if(e.caller){let t=i.caller?i.caller(e.caller,"caller",e,{colors:r.colors}):e.caller;a+=`${""===a?"":" "}<${t}>`}if(""!==a)return a}e.exports=t},96034:(e,t,i)=>{"use strict";e.exports=d;let{LOGGER_KEYS:r}=i(28905),a=i(72606),o=i(57981),l=i(39744);function d({log:e,excludeLoggerKeys:t=!0,skipKeys:i=[],context:d}){let{EOL:p,IDENT:c,customPrettifiers:u,errorLikeObjectKeys:h,objectColorizer:m,singleLine:g,colorizer:y}=d,v=[].concat(i);!0===t&&Array.prototype.push.apply(v,r);let b="",{plain:w,errors:_}=Object.entries(e).reduce(({plain:t,errors:i},[r,a])=>{if(!1===v.includes(r)){let o="function"==typeof u[r]?u[r](a,r,e,{colors:y.colors}):a;h.includes(r)?i[r]=o:t[r]=o}return{plain:t,errors:i}},{plain:{},errors:{}});return g?(Object.keys(w).length>0&&(b+=m.greyMessage(a(w))),b+=p,b=b.replace(/\\\\/gi,"\\")):Object.entries(w).forEach(([e,t])=>{let i="function"==typeof u[e]?t:a(t,null,2);if(void 0===i)return;let r=o({input:i=i.replace(/\\\\/gi,"\\"),ident:c,eol:p});b+=`${c}${e}:${r.startsWith(p)?"":" "}${r}${p}`}),Object.entries(_).forEach(([e,t])=>{let i="function"==typeof u[e]?t:a(t,null,2);void 0!==i&&(b+=l({keyName:e,lines:i,eol:p,ident:c}))}),b}},31765:(e,t,i)=>{"use strict";e.exports=a;let r=i(12801);function a({log:e,context:t}){let{timestampKey:i,translateTime:a}=t,o=t.customPrettifiers?.time,l=null;if(i in e?l=e[i]:"timestamp"in e&&(l=e.timestamp),null===l)return;let d=a?r(l,a):l;return o?o(d):`[${d}]`}},90857:e=>{"use strict";function t(e){let t=[],i=!1,r="";for(let a=0;a<e.length;a++){let o=e.charAt(a);if("\\"===o){i=!0;continue}if(i){i=!1,r+=o;continue}if("."===o){t.push(r),r="";continue}r+=o}return r.length&&t.push(r),t}e.exports=t},28111:(e,t,i)=>{"use strict";let r=i(1525),a=i(1545),o=i(35807),l=i(73107);e.exports={err:r,errWithCause:a,mapHttpRequest:o.mapHttpRequest,mapHttpResponse:l.mapHttpResponse,req:o.reqSerializer,res:l.resSerializer,wrapErrorSerializer:function(e){return e===r?e:function(t){return e(r(t))}},wrapRequestSerializer:function(e){return e===o.reqSerializer?e:function(t){return e(o.reqSerializer(t))}},wrapResponseSerializer:function(e){return e===l.resSerializer?e:function(t){return e(l.resSerializer(t))}}}},60271:e=>{"use strict";let t=e=>e&&"string"==typeof e.message,i=e=>{if(!e)return;let i=e.cause;if("function"!=typeof i)return t(i)?i:void 0;{let i=e.cause();return t(i)?i:void 0}},r=(e,a)=>{if(!t(e))return"";let o=e.stack||"";if(a.has(e))return o+"\ncauses have become circular...";let l=i(e);return l?(a.add(e),o+"\ncaused by: "+r(l,a)):o},a=e=>r(e,new Set),o=(e,r,a)=>{if(!t(e))return"";let l=a?"":e.message||"";if(r.has(e))return l+": ...";let d=i(e);if(!d)return l;{r.add(e);let t="function"==typeof e.cause;return l+(t?"":": ")+o(d,r,t)}},l=e=>o(e,new Set);e.exports={isErrorLike:t,getErrorCause:i,stackWithCauses:a,messageWithCauses:l}},25113:e=>{"use strict";let t=Symbol("circular-ref-tag"),i=Symbol("pino-raw-err-ref"),r=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},aggregateErrors:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[i]},set:function(e){this[i]=e}}});Object.defineProperty(r,i,{writable:!0,value:{}}),e.exports={pinoErrProto:r,pinoErrorSymbols:{seen:t,rawSymbol:i}}},1545:(e,t,i)=>{"use strict";e.exports=p;let{isErrorLike:r}=i(60271),{pinoErrProto:a,pinoErrorSymbols:o}=i(25113),{seen:l}=o,{toString:d}=Object.prototype;function p(e){if(!r(e))return e;e[l]=void 0;let t=Object.create(a);for(let i in t.type="[object Function]"===d.call(e.constructor)?e.constructor.name:e.name,t.message=e.message,t.stack=e.stack,Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(e=>p(e))),r(e.cause)&&!Object.prototype.hasOwnProperty.call(e.cause,l)&&(t.cause=p(e.cause)),e)if(void 0===t[i]){let a=e[i];r(a)?Object.prototype.hasOwnProperty.call(a,l)||(t[i]=p(a)):t[i]=a}return delete e[l],t.raw=e,t}},1525:(e,t,i)=>{"use strict";e.exports=u;let{messageWithCauses:r,stackWithCauses:a,isErrorLike:o}=i(60271),{pinoErrProto:l,pinoErrorSymbols:d}=i(25113),{seen:p}=d,{toString:c}=Object.prototype;function u(e){if(!o(e))return e;e[p]=void 0;let t=Object.create(l);for(let i in t.type="[object Function]"===c.call(e.constructor)?e.constructor.name:e.name,t.message=r(e),t.stack=a(e),Array.isArray(e.errors)&&(t.aggregateErrors=e.errors.map(e=>u(e))),e)if(void 0===t[i]){let r=e[i];o(r)?"cause"===i||Object.prototype.hasOwnProperty.call(r,p)||(t[i]=u(r)):t[i]=r}return delete e[p],t.raw=e,t}},35807:e=>{"use strict";e.exports={mapHttpRequest:a,reqSerializer:r};let t=Symbol("pino-raw-req-ref"),i=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},query:{enumerable:!0,writable:!0,value:""},params:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[t]},set:function(e){this[t]=e}}});function r(e){let t=e.info||e.socket,r=Object.create(i);if(r.id="function"==typeof e.id?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl)r.url=e.originalUrl;else{let t=e.path;r.url="string"==typeof t?t:e.url?e.url.path||e.url:void 0}return e.query&&(r.query=e.query),e.params&&(r.params=e.params),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}function a(e){return{req:r(e)}}Object.defineProperty(i,t,{writable:!0,value:{}})},73107:e=>{"use strict";e.exports={mapHttpResponse:a,resSerializer:r};let t=Symbol("pino-raw-res-ref"),i=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[t]},set:function(e){this[t]=e}}});function r(e){let t=Object.create(i);return t.statusCode=e.headersSent?e.statusCode:null,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}function a(e){return{res:r(e)}}Object.defineProperty(i,t,{writable:!0,value:{}})},30257:e=>{"use strict";function t(e,t){return t}e.exports=function(){let e=Error.prepareStackTrace;Error.prepareStackTrace=t;let i=Error().stack;if(Error.prepareStackTrace=e,!Array.isArray(i))return;let r=i.slice(2),a=[];for(let e of r)e&&a.push(e.getFileName());return a}},98901:e=>{let t={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},i={ASC:"ASC",DESC:"DESC"};e.exports={DEFAULT_LEVELS:t,SORTING_ORDER:i}},98746:(e,t,i)=>{"use strict";let{lsCacheSym:r,levelValSym:a,useOnlyCustomLevelsSym:o,streamSym:l,formattersSym:d,hooksSym:p,levelCompSym:c}=i(19252),{noop:u,genLog:h}=i(3417),{DEFAULT_LEVELS:m,SORTING_ORDER:g}=i(98901),y={fatal:e=>{let t=h(m.fatal,e);return function(...e){let i=this[l];if(t.call(this,...e),"function"==typeof i.flushSync)try{i.flushSync()}catch(e){}}},error:e=>h(m.error,e),warn:e=>h(m.warn,e),info:e=>h(m.info,e),debug:e=>h(m.debug,e),trace:e=>h(m.trace,e)},v=Object.keys(m).reduce((e,t)=>(e[m[t]]=t,e),{}),b=Object.keys(v).reduce((e,t)=>(e[t]='{"level":'+Number(t),e),{});function w(e){let t=e[d].level,{labels:i}=e.levels,a={};for(let e in i){let r=t(i[e],Number(e));a[e]=JSON.stringify(r).slice(0,-1)}return e[r]=a,e}function _(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}function x(e){let{labels:t,values:i}=this.levels;if("number"==typeof e){if(void 0===t[e])throw Error("unknown level value"+e);e=t[e]}if(void 0===i[e])throw Error("unknown level "+e);let r=this[a],l=this[a]=i[e],d=this[o],m=this[c],g=this[p].logMethod;for(let e in i){if(!1===m(i[e],l)){this[e]=u;continue}this[e]=_(e,d)?y[e](g):h(i[e],g)}this.emit("level-change",e,l,t[r],r,this)}function S(e){let{levels:t,levelVal:i}=this;return t&&t.labels?t.labels[i]:""}function E(e){let{values:t}=this.levels,i=t[e];return void 0!==i&&this[c](i,this[a])}function k(e,t,i){return e===g.DESC?t<=i:t>=i}function T(e){return"string"==typeof e?k.bind(null,e):e}function C(e=null,t=!1){let i=e?Object.keys(e).reduce((t,i)=>(t[e[i]]=i,t),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:v,i),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:m,e)}}function N(e,t,i){if("number"==typeof e){if(![].concat(Object.keys(t||{}).map(e=>t[e]),i?[]:Object.keys(v).map(e=>+e),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}if(!(e in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),i?null:m,t)))throw Error(`default level:${e} must be included in custom levels`)}function O(e,t){let{labels:i,values:r}=e;for(let e in t){if(e in r)throw Error("levels cannot be overridden");if(t[e]in i)throw Error("pre-existing level values cannot be used for new levels")}}function P(e){if(!("function"==typeof e||"string"==typeof e&&Object.values(g).includes(e)))throw Error('Levels comparison should be one of "ASC", "DESC" or "function" type')}e.exports={initialLsCache:b,genLsCache:w,levelMethods:y,getLevel:S,setLevel:x,isLevelEnabled:E,mappings:C,assertNoLevelCollisions:O,assertDefaultLevelFound:N,genLevelComparison:T,assertLevelComparison:P}},36598:e=>{"use strict";e.exports={version:"9.5.0"}},36359:(e,t,i)=>{"use strict";let r=Symbol.for("pino.metadata"),{DEFAULT_LEVELS:a}=i(98901),o=a.info;function l(e,t){let i=0;e=e||[],t=t||{dedupe:!1};let l=Object.create(a);l.silent=1/0,t.levels&&"object"==typeof t.levels&&Object.keys(t.levels).forEach(e=>{l[e]=t.levels[e]});let h={write:m,add:v,emit:g,flushSync:y,end:b,minLevel:0,streams:[],clone:w,[r]:!0,streamLevels:l};return Array.isArray(e)?e.forEach(v,h):v.call(h,e),e=null,h;function m(e){let i,a;let o=this.lastLevel,{streams:l}=this,d=0;for(let h=p(l.length,t.dedupe);u(h,l.length,t.dedupe);h=c(h,t.dedupe))if((i=l[h]).level<=o){if(0!==d&&d!==i.level)break;if((a=i.stream)[r]){let{lastTime:e,lastMsg:t,lastObj:i,lastLogger:r}=this;a.lastLevel=o,a.lastTime=e,a.lastMsg=t,a.lastObj=i,a.lastLogger=r}a.write(e),t.dedupe&&(d=i.level)}else if(!t.dedupe)break}function g(...e){for(let{stream:t}of this.streams)"function"==typeof t.emit&&t.emit(...e)}function y(){for(let{stream:e}of this.streams)"function"==typeof e.flushSync&&e.flushSync()}function v(e){let t;if(!e)return h;let r="function"==typeof e.write||e.stream,a=e.write?e:e.stream;if(!r)throw Error("stream object needs to implement either StreamEntry or DestinationStream interface");let{streams:l,streamLevels:p}=this,c={stream:a,level:t="number"==typeof e.levelVal?e.levelVal:"string"==typeof e.level?p[e.level]:"number"==typeof e.level?e.level:o,levelVal:void 0,id:i++};return l.unshift(c),l.sort(d),this.minLevel=l[0].level,h}function b(){for(let{stream:e}of this.streams)"function"==typeof e.flushSync&&e.flushSync(),e.end()}function w(e){let t=Array(this.streams.length);for(let i=0;i<t.length;i++)t[i]={level:e,stream:this.streams[i].stream};return{write:m,add:v,minLevel:e,streams:t,clone:w,emit:g,flushSync:y,[r]:!0}}}function d(e,t){return e.level-t.level}function p(e,t){return t?e-1:0}function c(e,t){return t?e-1:e+1}function u(e,t,i){return i?e>=0:e<t}e.exports=l},6364:(e,t,i)=>{"use strict";let{EventEmitter:r}=i(15673),{lsCacheSym:a,levelValSym:o,setLevelSym:l,getLevelSym:d,chindingsSym:p,parsedChindingsSym:c,mixinSym:u,asJsonSym:h,writeSym:m,mixinMergeStrategySym:g,timeSym:y,timeSliceIndexSym:v,streamSym:b,serializersSym:w,formattersSym:_,errorKeySym:x,messageKeySym:S,useOnlyCustomLevelsSym:E,needsMetadataGsym:k,redactFmtSym:T,stringifySym:C,formatOptsSym:N,stringifiersSym:O,msgPrefixSym:P}=i(19252),{getLevel:I,setLevel:L,isLevelEnabled:D,mappings:R,initialLsCache:$,genLsCache:j,assertNoLevelCollisions:M}=i(98746),{asChindings:U,asJson:F,buildFormatters:B,stringify:z}=i(3417),{version:q}=i(36598),V=i(61558),H={constructor:class{},child:G,bindings:K,setBindings:J,flush:X,isLevelEnabled:D,version:q,get level(){return this[d]()},set level(lvl){this[l](lvl)},get levelVal(){return this[o]},set levelVal(n){throw Error("levelVal is read-only")},[a]:$,[m]:Y,[h]:F,[d]:I,[l]:L};Object.setPrototypeOf(H,r.prototype),e.exports=function(){return Object.create(H)};let W=e=>e;function G(e,t){if(!e)throw Error("missing bindings for child Pino");t=t||{};let i=this[w],r=this[_],a=Object.create(this);if(!0===t.hasOwnProperty("serializers")){for(let e in a[w]=Object.create(null),i)a[w][e]=i[e];let e=Object.getOwnPropertySymbols(i);for(var o=0;o<e.length;o++){let t=e[o];a[w][t]=i[t]}for(let e in t.serializers)a[w][e]=t.serializers[e];let r=Object.getOwnPropertySymbols(t.serializers);for(var d=0;d<r.length;d++){let e=r[d];a[w][e]=t.serializers[e]}}else a[w]=i;if(t.hasOwnProperty("formatters")){let{level:e,bindings:i,log:o}=t.formatters;a[_]=B(e||r.level,i||W,o||r.log)}else a[_]=B(r.level,W,r.log);if(!0===t.hasOwnProperty("customLevels")&&(M(this.levels,t.customLevels),a.levels=R(t.customLevels,a[E]),j(a)),"object"==typeof t.redact&&null!==t.redact||Array.isArray(t.redact)){a.redact=t.redact;let e=V(a.redact,z),i={stringify:e[T]};a[C]=z,a[O]=e,a[N]=i}"string"==typeof t.msgPrefix&&(a[P]=(this[P]||"")+t.msgPrefix),a[p]=U(a,e);let c=t.level||this.level;return a[l](c),this.onChild(a),a}function K(){let e=this[p],t=JSON.parse(`{${e.substr(1)}}`);return delete t.pid,delete t.hostname,t}function J(e){let t=U(this,e);this[p]=t,delete this[c]}function Q(e,t){return Object.assign(t,e)}function Y(e,t,i){let r;let a=this[y](),o=this[u],l=this[x],d=this[S],p=this[g]||Q;null==e?r={}:e instanceof Error?(r={[l]:e},void 0===t&&(t=e.message)):(r=e,void 0===t&&void 0===e[d]&&e[l]&&(t=e[l].message)),o&&(r=p(r,o(r,i,this)));let c=this[h](r,t,i,a),m=this[b];!0===m[k]&&(m.lastLevel=i,m.lastObj=r,m.lastMsg=t,m.lastTime=a.slice(this[v]),m.lastLogger=this),m.write(c)}function Z(){}function X(e){if(null!=e&&"function"!=typeof e)throw Error("callback must be a function");let t=this[b];"function"==typeof t.flush?t.flush(e||Z):e&&e()}},61558:(e,t,i)=>{"use strict";let r=i(44656),{redactFmtSym:a,wildcardFirstSym:o}=i(19252),{rx:l,validator:d}=r,p=d({ERR_PATHS_MUST_BE_STRINGS:()=>"pino  redacted paths must be strings",ERR_INVALID_PATH:e=>`pino  redact paths array contains an invalid path (${e})`}),c="[Redacted]",u=!1;function h(e,t){let{paths:i,censor:d}=m(e),p=i.reduce((e,t)=>{l.lastIndex=0;let i=l.exec(t),r=l.exec(t),a=void 0!==i[1]?i[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):i[0];if("*"===a&&(a=o),null===r)return e[a]=null,e;if(null===e[a])return e;let{index:d}=r,p=`${t.substr(d,t.length-1)}`;return e[a]=e[a]||[],a!==o&&0===e[a].length&&e[a].push(...e[o]||[]),a===o&&Object.keys(e).forEach(function(t){e[t]&&e[t].push(p)}),e[a].push(p),e},{}),c={[a]:r({paths:i,censor:d,serialize:t,strict:u})},h=(...e)=>"function"==typeof d?t(d(...e)):t(d);return[...Object.keys(p),...Object.getOwnPropertySymbols(p)].reduce((e,i)=>{if(null===p[i])e[i]=e=>h(e,[i]);else{let a="function"==typeof d?(e,t)=>d(e,[i,...t]):d;e[i]=r({paths:p[i],censor:a,serialize:t,strict:u})}return e},c)}function m(e){if(Array.isArray(e))return p(e={paths:e,censor:c}),e;let{paths:t,censor:i=c,remove:r}=e;if(!1===Array.isArray(t))throw Error("pino  redact must contain an array of strings");return!0===r&&(i=void 0),p({paths:t,censor:i}),{paths:t,censor:i}}e.exports=h},19252:e=>{"use strict";let t=Symbol("pino.setLevel"),i=Symbol("pino.getLevel"),r=Symbol("pino.levelVal"),a=Symbol("pino.levelComp"),o=Symbol("pino.useLevelLabels"),l=Symbol("pino.useOnlyCustomLevels"),d=Symbol("pino.mixin"),p=Symbol("pino.lsCache"),c=Symbol("pino.chindings"),u=Symbol("pino.asJson"),h=Symbol("pino.write"),m=Symbol("pino.redactFmt"),g=Symbol("pino.time"),y=Symbol("pino.timeSliceIndex"),v=Symbol("pino.stream"),b=Symbol("pino.stringify"),w=Symbol("pino.stringifySafe"),_=Symbol("pino.stringifiers"),x=Symbol("pino.end"),S=Symbol("pino.formatOpts"),E=Symbol("pino.messageKey"),k=Symbol("pino.errorKey"),T=Symbol("pino.nestedKey"),C=Symbol("pino.nestedKeyStr"),N=Symbol("pino.mixinMergeStrategy"),O=Symbol("pino.msgPrefix"),P=Symbol("pino.wildcardFirst"),I=Symbol.for("pino.serializers"),L=Symbol.for("pino.formatters"),D=Symbol.for("pino.hooks"),R=Symbol.for("pino.metadata");e.exports={setLevelSym:t,getLevelSym:i,levelValSym:r,levelCompSym:a,useLevelLabelsSym:o,mixinSym:d,lsCacheSym:p,chindingsSym:c,asJsonSym:u,writeSym:h,serializersSym:I,redactFmtSym:m,timeSym:g,timeSliceIndexSym:y,streamSym:v,stringifySym:b,stringifySafeSym:w,stringifiersSym:_,endSym:x,formatOptsSym:S,messageKeySym:E,errorKeySym:k,nestedKeySym:T,wildcardFirstSym:P,needsMetadataGsym:R,useOnlyCustomLevelsSym:l,formattersSym:L,hooksSym:D,nestedKeyStrSym:C,mixinMergeStrategySym:N,msgPrefixSym:O}},50015:e=>{"use strict";let t=()=>"",i=()=>`,"time":${Date.now()}`,r=()=>`,"time":${Math.round(Date.now()/1e3)}`,a=()=>`,"time":"${new Date(Date.now()).toISOString()}"`;e.exports={nullTime:t,epochTime:i,unixTime:r,isoTime:a}},3417:(e,t,i)=>{"use strict";let r=i(80840),{mapHttpRequest:a,mapHttpResponse:o}=i(28111),l=i(19494),d=i(77343),{lsCacheSym:p,chindingsSym:c,writeSym:u,serializersSym:h,formatOptsSym:m,endSym:g,stringifiersSym:y,stringifySym:v,stringifySafeSym:b,wildcardFirstSym:w,nestedKeySym:_,formattersSym:x,messageKeySym:S,errorKeySym:E,nestedKeyStrSym:k,msgPrefixSym:T}=i(19252),{isMainThread:C}=i(71267),N=i(62039);function O(){}function P(e,t){if(!t)return i;return function(...r){t.call(this,r,i,e)};function i(t,...l){if("object"==typeof t){let i,d=t;null!==t&&(t.method&&t.headers&&t.socket?t=a(t):"function"==typeof t.setHeader&&(t=o(t))),null===d&&0===l.length?i=[null]:(d=l.shift(),i=l),"string"==typeof this[T]&&null!=d&&(d=this[T]+d),this[u](t,r(d,i,this[m]),e)}else{let i=void 0===t?l.shift():t;"string"==typeof this[T]&&null!=i&&(i=this[T]+i),this[u](null,r(i,l,this[m]),e)}}}function I(e){let t="",i=0,r=!1,a=255,o=e.length;if(o>100)return JSON.stringify(e);for(var l=0;l<o&&a>=32;l++)(34===(a=e.charCodeAt(l))||92===a)&&(t+=e.slice(i,l)+"\\",i=l,r=!0);return r?t+=e.slice(i):t=e,a<32?JSON.stringify(e):'"'+t+'"'}function L(e,t,i,r){let a;let o=this[v],l=this[b],d=this[y],u=this[g],m=this[c],T=this[h],C=this[x],N=this[S],O=this[E],P=this[p][i]+r;P+=m,C.log&&(e=C.log(e));let L=d[w],D="";for(let t in e)if(a=e[t],Object.prototype.hasOwnProperty.call(e,t)&&void 0!==a){T[t]?a=T[t](a):t===O&&T.err&&(a=T.err(a));let e=d[t]||L;switch(typeof a){case"undefined":case"function":continue;case"number":!1===Number.isFinite(a)&&(a=null);case"boolean":e&&(a=e(a));break;case"string":a=(e||I)(a);break;default:a=(e||o)(a,l)}if(void 0===a)continue;D+=","+I(t)+":"+a}let R="";if(void 0!==t){a=T[N]?T[N](t):t;let e=d[N]||L;switch(typeof a){case"function":break;case"number":!1===Number.isFinite(a)&&(a=null);case"boolean":e&&(a=e(a)),R=',"'+N+'":'+a;break;case"string":R=',"'+N+'":'+(a=(e||I)(a));break;default:R=',"'+N+'":'+(a=(e||o)(a,l))}}return this[_]&&D?P+this[k]+D.slice(1)+"}"+R+u:P+D+R+u}function D(e,t){let i;let r=e[c],a=e[v],o=e[b],l=e[y],d=l[w],p=e[h];for(let c in t=(0,e[x].bindings)(t))if(i=t[c],!0===("level"!==c&&"serializers"!==c&&"formatters"!==c&&"customLevels"!==c&&t.hasOwnProperty(c)&&void 0!==i)){if(i=p[c]?p[c](i):i,void 0===(i=(l[c]||d||a)(i,o)))continue;r+=',"'+c+'":'+i}return r}function R(e){return e.write!==e.constructor.prototype.write}let $=process.env.NODE_V8_COVERAGE||process.env.V8_COVERAGE;function j(e){let t=new l(e);return t.on("error",i),$||e.sync||!C||(d.register(t,M),t.on("close",function(){d.unregister(t)})),t;function i(e){if("EPIPE"===e.code){t.write=O,t.end=O,t.flushSync=O,t.destroy=O;return}t.removeListener("error",i),t.emit("error",e)}}function M(e,t){e.destroyed||("beforeExit"===t?(e.flush(),e.on("drain",function(){e.end()})):e.flushSync())}function U(e){return function(t,i,r={},a){if("string"==typeof r)a=j({dest:r}),r={};else if("string"==typeof a){if(r&&r.transport)throw Error("only one of option.transport or stream can be specified");a=j({dest:a})}else if(r instanceof l||r.writable||r._writableState)a=r,r={};else if(r.transport){let e;if(r.transport instanceof l||r.transport.writable||r.transport._writableState)throw Error("option.transport do not allow stream, please pass to option directly. e.g. pino(transport)");if(r.transport.targets&&r.transport.targets.length&&r.formatters&&"function"==typeof r.formatters.level)throw Error("option.transport.targets do not allow custom level formatters");r.customLevels&&(e=r.useOnlyCustomLevels?r.customLevels:Object.assign({},r.levels,r.customLevels)),a=N({caller:i,...r.transport,levels:e})}if((r=Object.assign({},e,r)).serializers=Object.assign({},e.serializers,r.serializers),r.formatters=Object.assign({},e.formatters,r.formatters),r.prettyPrint)throw Error("prettyPrint option is no longer supported, see the pino-pretty package (https://github.com/pinojs/pino-pretty)");let{enabled:o,onChild:d}=r;return!1===o&&(r.level="silent"),d||(r.onChild=O),a||(R(process.stdout)?a=process.stdout:a=j({fd:process.stdout.fd||1})),{opts:r,stream:a}}}function F(e,t){try{return JSON.stringify(e)}catch(i){try{return(t||this[b])(e)}catch(e){return'"[unable to serialize, circular reference is too complex to analyze]"'}}}function B(e,t,i){return{level:e,bindings:t,log:i}}function z(e){let t=Number(e);return"string"==typeof e&&Number.isFinite(t)?t:void 0===e?1:e}e.exports={noop:O,buildSafeSonicBoom:j,asChindings:D,asJson:L,genLog:P,createArgsNormalizer:U,stringify:F,buildFormatters:B,normalizeDestFileDescriptor:z}},62039:(e,t,i)=>{"use strict";let{createRequire:r}=i(98188),a=i(30257),{join:o,isAbsolute:l,sep:d}=i(49411),p=i(57924),c=i(77343),u=i(20912);function h(e){c.register(e,g),c.registerBeforeExit(e,y),e.on("close",function(){c.unregister(e)})}function m(e,t,i,r){let a=new u({filename:e,workerData:t,workerOpts:i,sync:r});function o(){process.removeListener("exit",l),a.unref(),!1!==i.autoEnd&&h(a)}function l(){a.closed||(a.flushSync(),p(100),a.end())}return a.on("ready",o),a.on("close",function(){process.removeListener("exit",l)}),process.on("exit",l),a}function g(e){e.ref(),e.flushSync(),e.end(),e.once("close",function(){e.unref()})}function y(e){e.flushSync()}function v(e){let{pipeline:t,targets:i,levels:p,dedupe:c,worker:u={},caller:h=a(),sync:g=!1}=e,y={...e.options},v="string"==typeof h?[h]:h,b="__bundlerPathsOverrides"in globalThis?globalThis.__bundlerPathsOverrides:{},w=e.target;if(w&&i)throw Error("only one of target or targets can be specified");return i?(w=b["pino-worker"]||o(__dirname,"worker.js"),y.targets=i.filter(e=>e.target).map(e=>({...e,target:_(e.target)})),y.pipelines=i.filter(e=>e.pipeline).map(e=>e.pipeline.map(t=>({...t,level:e.level,target:_(t.target)})))):t&&(w=b["pino-worker"]||o(__dirname,"worker.js"),y.pipelines=[t.map(e=>({...e,target:_(e.target)}))]),p&&(y.levels=p),c&&(y.dedupe=c),y.pinoWillSendConfig=!0,m(_(w),y,u,g);function _(e){let t;if(l(e=b[e]||e)||0===e.indexOf("file://"))return e;if("pino/file"===e)return o(__dirname,"..","file.js");for(let i of v)try{let a="node:repl"===i?process.cwd()+d:i;t=r(a).resolve(e);break}catch(e){continue}if(!t)throw Error(`unable to determine transport target for "${e}"`);return t}}e.exports=v},99557:(e,t,i)=>{"use strict";let r=i(70612),a=i(28111),o=i(30257),l=i(61558),d=i(50015),p=i(6364),c=i(19252),{configure:u}=i(48986),{assertDefaultLevelFound:h,mappings:m,genLsCache:g,genLevelComparison:y,assertLevelComparison:v}=i(98746),{DEFAULT_LEVELS:b,SORTING_ORDER:w}=i(98901),{createArgsNormalizer:_,asChindings:x,buildSafeSonicBoom:S,buildFormatters:E,stringify:k,normalizeDestFileDescriptor:T,noop:C}=i(3417),{version:N}=i(36598),{chindingsSym:O,redactFmtSym:P,serializersSym:I,timeSym:L,timeSliceIndexSym:D,streamSym:R,stringifySym:$,stringifySafeSym:j,stringifiersSym:M,setLevelSym:U,endSym:F,formatOptsSym:B,messageKeySym:z,errorKeySym:q,nestedKeySym:V,mixinSym:H,levelCompSym:W,useOnlyCustomLevelsSym:G,formattersSym:K,hooksSym:J,nestedKeyStrSym:Q,mixinMergeStrategySym:Y,msgPrefixSym:Z}=c,{epochTime:X,nullTime:ee}=d,{pid:et}=process,ei=r.hostname(),er=a.err,ea=_({level:"info",levelComparison:w.ASC,levels:b,messageKey:"msg",errorKey:"err",nestedKey:null,enabled:!0,base:{pid:et,hostname:ei},serializers:Object.assign(Object.create(null),{err:er}),formatters:Object.assign(Object.create(null),{bindings:e=>e,level:(e,t)=>({level:t})}),hooks:{logMethod:void 0},timestamp:X,name:void 0,redact:null,customLevels:null,useOnlyCustomLevels:!1,depthLimit:5,edgeLimit:100}),en=Object.assign(Object.create(null),a);function es(...e){let t={},{opts:i,stream:r}=ea(t,o(),...e);i.level&&"string"==typeof i.level&&void 0!==b[i.level.toLowerCase()]&&(i.level=i.level.toLowerCase());let{redact:a,crlf:d,serializers:c,timestamp:w,messageKey:_,errorKey:S,nestedKey:T,base:N,name:et,level:ei,customLevels:er,levelComparison:en,mixin:eo,mixinMergeStrategy:el,useOnlyCustomLevels:ed,formatters:ep,hooks:ec,depthLimit:eu,edgeLimit:eh,onChild:ef,msgPrefix:em}=i,eg=u({maximumDepth:eu,maximumBreadth:eh}),ey=E(ep.level,ep.bindings,ep.log),ev=k.bind({[j]:eg}),eb=a?l(a,ev):{},ew=a?{stringify:eb[P]}:{stringify:ev},e_="}"+(d?"\r\n":"\n"),ex=x.bind(null,{[O]:"",[I]:c,[M]:eb,[$]:k,[j]:eg,[K]:ey}),eS="";null!==N&&(eS=ex(void 0===et?N:Object.assign({},N,{name:et})));let eE=w instanceof Function?w:w?X:ee,ek=eE().indexOf(":")+1;if(ed&&!er)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(eo&&"function"!=typeof eo)throw Error(`Unknown mixin type "${typeof eo}" - expected "function"`);if(em&&"string"!=typeof em)throw Error(`Unknown msgPrefix type "${typeof em}" - expected "string"`);h(ei,er,ed);let eT=m(er,ed);return"function"==typeof r.emit&&r.emit("message",{code:"PINO_CONFIG",config:{levels:eT,messageKey:_,errorKey:S}}),v(en),Object.assign(t,{levels:eT,[W]:y(en),[G]:ed,[R]:r,[L]:eE,[D]:ek,[$]:k,[j]:eg,[M]:eb,[F]:e_,[B]:ew,[z]:_,[q]:S,[V]:T,[Q]:T?`,${JSON.stringify(T)}:{`:"",[I]:c,[H]:eo,[Y]:el,[O]:eS,[K]:ey,[J]:ec,silent:C,onChild:ef,[Z]:em}),Object.setPrototypeOf(t,p()),g(t),t[U](ei),t}e.exports=es,e.exports.destination=(e=process.stdout.fd)=>"object"==typeof e?(e.dest=T(e.dest||process.stdout.fd),S(e)):S({dest:T(e),minLength:0}),e.exports.transport=i(62039),e.exports.multistream=i(36359),e.exports.levels=m(),e.exports.stdSerializers=en,e.exports.stdTimeFunctions=Object.assign({},d),e.exports.symbols=c,e.exports.version=N,e.exports.default=es,e.exports.pino=es},19494:(e,t,i)=>{"use strict";let r=i(57147),a=i(82361),o=i(73837).inherits,l=i(71017),d=i(57924),p=i(39491),c=100,u=Buffer.allocUnsafe(0),h=16384,m="buffer",g="utf8",[y,v]=(process.versions.node||"0.0").split(".").map(Number),b=y>=22&&v>=7;function w(e,t){function i(i,r){if(i){t._reopening=!1,t._writing=!1,t._opening=!1,t.sync?process.nextTick(()=>{t.listenerCount("error")>0&&t.emit("error",i)}):t.emit("error",i);return}let a=t._reopening;t.fd=r,t.file=e,t._reopening=!1,t._opening=!1,t._writing=!1,t.sync?process.nextTick(()=>t.emit("ready")):t.emit("ready"),!t.destroyed&&(!t._writing&&t._len>t.minLength||t._flushPending?t._actualWrite():a&&process.nextTick(()=>t.emit("drain")))}t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1;let a=t.append?"a":"w",o=t.mode;if(t.sync)try{t.mkdir&&r.mkdirSync(l.dirname(e),{recursive:!0});let d=r.openSync(e,a,o);i(null,d)}catch(e){throw i(e),e}else t.mkdir?r.mkdir(l.dirname(e),{recursive:!0},t=>{if(t)return i(t);r.open(e,a,o,i)}):r.open(e,a,o,i)}function _(e){let t,i;if(!(this instanceof _))return new _(e);let{fd:a,dest:o,minLength:l,maxLength:p,maxWrite:y,periodicFlush:v,sync:b,append:E=!0,mkdir:C,retryEAGAIN:$,fsync:j,contentMode:M,mode:U}=e||{};if(a=a||o,this._len=0,this.fd=-1,this._bufs=[],this._lens=[],this._writing=!1,this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this._flushPending=!1,this._hwm=Math.max(l||0,16387),this.file=null,this.destroyed=!1,this.minLength=l||0,this.maxLength=p||0,this.maxWrite=y||h,this._periodicFlush=v||0,this._periodicFlushTimer=void 0,this.sync=b||!1,this.writable=!0,this._fsync=j||!1,this.append=E||!1,this.mode=U,this.retryEAGAIN=$||(()=>!0),this.mkdir=C||!1,M===m)this._writingBuf=u,this.write=T,this.flush=O,this.flushSync=I,this._actualWrite=D,t=()=>r.writeSync(this.fd,this._writingBuf),i=()=>r.write(this.fd,this._writingBuf,this.release);else if(void 0===M||M===g)this._writingBuf="",this.write=k,this.flush=N,this.flushSync=P,this._actualWrite=L,t=()=>r.writeSync(this.fd,this._writingBuf,"utf8"),i=()=>r.write(this.fd,this._writingBuf,"utf8",this.release);else throw Error(`SonicBoom supports "${g}" and "${m}", but passed ${M}`);if("number"==typeof a)this.fd=a,process.nextTick(()=>this.emit("ready"));else if("string"==typeof a)w(a,this);else throw Error("SonicBoom supports only file descriptors and files");if(this.minLength>=this.maxWrite)throw Error(`minLength should be smaller than maxWrite (${this.maxWrite})`);this.release=(e,a)=>{if(e){if(("EAGAIN"===e.code||"EBUSY"===e.code)&&this.retryEAGAIN(e,this._writingBuf.length,this._len-this._writingBuf.length)){if(this.sync)try{d(c),this.release(void 0,0)}catch(e){this.release(e)}else setTimeout(i,c)}else this._writing=!1,this.emit("error",e);return}this.emit("write",a);let o=x(this._writingBuf,this._len,a);if(this._len=o.len,this._writingBuf=o.writingBuf,this._writingBuf.length){if(!this.sync){i();return}try{do{let e=t(),i=x(this._writingBuf,this._len,e);this._len=i.len,this._writingBuf=i.writingBuf}while(this._writingBuf.length)}catch(e){this.release(e);return}}this._fsync&&r.fsyncSync(this.fd);let l=this._len;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):l>this.minLength?this._actualWrite():this._ending?l>0?this._actualWrite():(this._writing=!1,R(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(S,this)):this.emit("drain"))},this.on("newListener",function(e){"drain"===e&&(this._asyncDrainScheduled=!1)}),0!==this._periodicFlush&&(this._periodicFlushTimer=setInterval(()=>this.flush(null),this._periodicFlush),this._periodicFlushTimer.unref())}function x(e,t,i){return"string"==typeof e&&Buffer.byteLength(e)!==i&&(i=Buffer.from(e).subarray(0,i).toString().length),t=Math.max(t-i,0),{writingBuf:e=e.slice(i),len:t}}function S(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}function E(e,t){return 0===e.length?u:1===e.length?e[0]:Buffer.concat(e,t)}function k(e){if(this.destroyed)throw Error("SonicBoom destroyed");let t=this._len+e.length,i=this._bufs;return this.maxLength&&t>this.maxLength?this.emit("drop",e):(0===i.length||i[i.length-1].length+e.length>this.maxWrite?i.push(""+e):i[i.length-1]+=e,this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function T(e){if(this.destroyed)throw Error("SonicBoom destroyed");let t=this._len+e.length,i=this._bufs,r=this._lens;return this.maxLength&&t>this.maxLength?this.emit("drop",e):(0===i.length||r[r.length-1]+e.length>this.maxWrite?(i.push([e]),r.push(e.length)):(i[i.length-1].push(e),r[r.length-1]+=e.length),this._len=t,!this._writing&&this._len>=this.minLength&&this._actualWrite()),this._len<this._hwm}function C(e){this._flushPending=!0;let t=()=>{if(this._fsync)this._flushPending=!1,e();else try{r.fsync(this.fd,t=>{this._flushPending=!1,e(t)})}catch(t){e(t)}this.off("error",i)},i=i=>{this._flushPending=!1,e(i),this.off("drain",t)};this.once("drain",t),this.once("error",i)}function N(e){if(null!=e&&"function"!=typeof e)throw Error("flush cb must be a function");if(this.destroyed){let t=Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&C.call(this,e),this._writing||(0===this._bufs.length&&this._bufs.push(""),this._actualWrite())}function O(e){if(null!=e&&"function"!=typeof e)throw Error("flush cb must be a function");if(this.destroyed){let t=Error("SonicBoom destroyed");if(e){e(t);return}throw t}if(this.minLength<=0){e?.();return}e&&C.call(this,e),this._writing||(0===this._bufs.length&&(this._bufs.push([]),this._lens.push(0)),this._actualWrite())}function P(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift(this._writingBuf),this._writingBuf="");let e="";for(;this._bufs.length||e;){e.length<=0&&(e=this._bufs[0]);try{let t=r.writeSync(this.fd,e,"utf8"),i=x(e,this._len,t);e=i.writingBuf,this._len=i.len,e.length<=0&&this._bufs.shift()}catch(t){if(("EAGAIN"===t.code||"EBUSY"===t.code)&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;d(c)}}try{r.fsyncSync(this.fd)}catch{}}function I(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this.fd<0)throw Error("sonic boom is not ready yet");!this._writing&&this._writingBuf.length>0&&(this._bufs.unshift([this._writingBuf]),this._writingBuf=u);let e=u;for(;this._bufs.length||e.length;){e.length<=0&&(e=E(this._bufs[0],this._lens[0]));try{let t=r.writeSync(this.fd,e);e=e.subarray(t),this._len=Math.max(this._len-t,0),e.length<=0&&(this._bufs.shift(),this._lens.shift())}catch(t){if(("EAGAIN"===t.code||"EBUSY"===t.code)&&!this.retryEAGAIN(t,e.length,this._len-e.length))throw t;d(c)}}}function L(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf||this._bufs.shift()||"",this.sync)try{let t=r.writeSync(this.fd,this._writingBuf,"utf8");e(null,t)}catch(t){e(t)}else r.write(this.fd,this._writingBuf,"utf8",e)}function D(){let e=this.release;if(this._writing=!0,this._writingBuf=this._writingBuf.length?this._writingBuf:E(this._bufs.shift(),this._lens.shift()),this.sync)try{let t=r.writeSync(this.fd,this._writingBuf);e(null,t)}catch(t){e(t)}else b&&(this._writingBuf=Buffer.from(this._writingBuf)),r.write(this.fd,this._writingBuf,e)}function R(e){if(-1===e.fd){e.once("ready",R.bind(null,e));return}void 0!==e._periodicFlushTimer&&clearInterval(e._periodicFlushTimer),e.destroyed=!0,e._bufs=[],e._lens=[],p("number"==typeof e.fd,`sonic.fd must be a number, got ${typeof e.fd}`);try{r.fsync(e.fd,t)}catch{}function t(){1!==e.fd&&2!==e.fd?r.close(e.fd,i):i()}function i(t){if(t){e.emit("error",t);return}e._ending&&!e._writing&&e.emit("finish"),e.emit("close")}}o(_,a),_.prototype.reopen=function(e){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.reopen(e)});return}if(this._ending)return;if(!this.file)throw Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");if(e&&(this.file=e),this._reopening=!0,this._writing)return;let t=this.fd;this.once("ready",()=>{t!==this.fd&&r.close(t,e=>{if(e)return this.emit("error",e)})}),w(this.file,this)},_.prototype.end=function(){if(this.destroyed)throw Error("SonicBoom destroyed");if(this._opening){this.once("ready",()=>{this.end()});return}!this._ending&&(this._ending=!0,this._writing||(this._len>0&&this.fd>=0?this._actualWrite():R(this)))},_.prototype.destroy=function(){this.destroyed||R(this)},_.SonicBoom=_,_.default=_,e.exports=_},71211:(e,t,i)=>{"use strict";i.d(t,{oU:()=>T,FH:()=>D,QG:()=>C,I3:()=>R,NK:()=>_,EG:()=>N});var r=i(56983),a=i(87650);let o=new Map;function l(e){let t={};if(!e)return t;for(let i of e.split(";"))if(""!==i){let[e,r]=i.split(/:([^]+)/);e&&r&&(t[e.trim()]=r.trim())}return t}function d(e){let t=o.get(e);return void 0===t&&(t=l(e),o.set(e,t)),t}function p(e,...t){let i=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let i of(r.append("code",e),t))r.append("v",i);throw i.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function c(e){let t=1,i=e.getParent();for(;null!=i;){if(C(i)){let e=i.getParent();if(R(e)){t++,i=e.getParent();continue}p(40)}break}return t}function u(e){return C(e)&&R(e.getFirstChild())}function h(e){return T().append(e)}function m(e,t){e.splice(e.getChildrenSize(),0,t)}function g(e,t){let i=e.getLastChild(),r=t.getFirstChild();i&&r&&u(i)&&u(r)&&(g(i.getFirstChild(),r.getFirstChild()),r.remove());let a=t.getChildren();a.length>0&&e.append(...a),t.remove()}function y(e){let t=new Set;if(u(e)||t.has(e.getKey()))return;let i=e.getParent(),r=e.getNextSibling(),a=e.getPreviousSibling();if(u(r)&&u(a)){let i=a.getFirstChild();if(R(i)){i.append(e);let a=r.getFirstChild();R(a)&&(m(i,a.getChildren()),r.remove(),t.add(r.getKey()))}}else if(u(r)){let t=r.getFirstChild();if(R(t)){let i=t.getFirstChild();null!==i&&i.insertBefore(e)}}else if(u(a)){let t=a.getFirstChild();R(t)&&t.append(e)}else if(R(i)){let t=T().setTextFormat(i.getTextFormat()).setTextStyle(i.getTextStyle()),o=D(i.getListType()).setTextFormat(i.getTextFormat()).setTextStyle(i.getTextStyle());t.append(o),o.append(e),a?a.insertAfter(t):r?r.insertBefore(t):i.append(t)}}function v(e){if(u(e))return;let t=e.getParent(),i=t?t.getParent():void 0;if(R(i?i.getParent():void 0)&&C(i)&&R(t)){let r=t?t.getFirstChild():void 0,a=t?t.getLastChild():void 0;if(e.is(r))i.insertBefore(e),t.isEmpty()&&i.remove();else if(e.is(a))i.insertAfter(e),t.isEmpty()&&i.remove();else{let r=t.getListType(),a=T(),o=D(r);a.append(o),e.getPreviousSiblings().forEach(e=>o.append(e));let l=T(),d=D(r);l.append(d),m(d,e.getNextSiblings()),i.insertBefore(a),i.insertAfter(l),i.replace(e)}}}function b(...e){let t=[];for(let i of e)if(i&&"string"==typeof i)for(let[e]of i.matchAll(/\S+/g))t.push(e);return t}function w(e,t,i){let r=d(t.__textStyle);for(let t in r)e.style.setProperty(`--listitem-marker-${t}`,r[t]);if(i)for(let t in d(i.__textStyle))t in r||e.style.removeProperty(`--listitem-marker-${t}`)}class _ extends a.HX${static getType(){return"listitem"}static clone(e){return new _(e.__value,e.__checked,e.__key)}constructor(e,t,i){super(i),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){let t=document.createElement("li"),i=this.getParent();R(i)&&"check"===i.getListType()&&S(t,this,null),t.value=this.__value,x(t,e.theme,this);let r=this.__style;return r&&(t.style.cssText=r),w(t,this,null),t}updateDOM(e,t,i){let r=this.getParent();R(r)&&"check"===r.getListType()&&S(t,this,e),t.value=this.__value,x(t,i.theme,this);let a=e.__style,o=this.__style;return a!==o&&(""===o?t.removeAttribute("style"):t.style.cssText=o),w(t,this,e),!1}static transform(){return e=>{if(C(e)||p(144),null==e.__checked)return;let t=e.getParent();R(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:E,priority:0})}}static importJSON(e){return T().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setValue(e.value).setChecked(e.checked)}exportDOM(e){let t=this.createDOM(e._config);t.style.textAlign=this.getFormatType();let i=this.getDirection();return i&&(t.dir=i),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),value:this.getValue()}}append(...e){for(let t=0;t<e.length;t++){let i=e[t];if((0,a.F7b)(i)&&this.canMergeWith(i)){let e=i.getChildren();this.append(...e),i.remove()}else super.append(i)}return this}replace(e,t){if(C(e))return super.replace(e);this.setIndent(0);let i=this.getParentOrThrow();if(!R(i))return e;if(i.__first===this.getKey())i.insertBefore(e);else if(i.__last===this.getKey())i.insertAfter(e);else{let t=D(i.getListType()),r=this.getNextSibling();for(;r;){let e=r;r=r.getNextSibling(),t.append(e)}i.insertAfter(e),e.insertAfter(t)}return t&&((0,a.F7b)(e)||p(139),this.getChildren().forEach(t=>{e.append(t)})),this.remove(),0===i.getChildrenSize()&&i.remove(),e}insertAfter(e,t=!0){let i=this.getParentOrThrow();if(R(i)||p(39),C(e))return super.insertAfter(e,t);let r=this.getNextSiblings();if(i.insertAfter(e,t),0!==r.length){let a=D(i.getListType());r.forEach(e=>a.append(e)),e.insertAfter(a,t)}return e}remove(e){let t=this.getPreviousSibling(),i=this.getNextSibling();super.remove(e),t&&i&&u(t)&&u(i)&&(g(t.getFirstChild(),i.getFirstChild()),i.remove())}insertNewAfter(e,t=!0){let i=T().updateFromJSON(this.exportJSON()).setChecked(!this.getChecked()&&void 0);return this.insertAfter(i,t),i}collapseAtStart(e){let t=(0,a.BEw)();this.getChildren().forEach(e=>t.append(e));let i=this.getParentOrThrow(),r=i.getParentOrThrow(),o=C(r);if(1===i.getChildrenSize()){if(o)i.remove(),r.select();else{i.insertBefore(t),i.remove();let r=e.anchor,a=e.focus,o=t.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(o,r.offset,"element"),"element"===a.type&&a.getNode().is(this)&&a.set(o,a.offset,"element")}}else i.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){let t=this.getWritable();return t.__value=e,t}getChecked(){let e;let t=this.getLatest(),i=this.getParent();return R(i)&&(e=i.getListType()),"check"===e?!!t.__checked:void 0}setChecked(e){let t=this.getWritable();return t.__checked=e,t}toggleChecked(){let e=this.getWritable();return e.setChecked(!e.__checked)}getIndent(){let e=this.getParent();if(null===e||!this.isAttached())return this.getLatest().__indent;let t=e.getParentOrThrow(),i=0;for(;C(t);)t=t.getParentOrThrow().getParentOrThrow(),i++;return i}setIndent(e){"number"!=typeof e&&p(117),(e=Math.floor(e))>=0||p(199);let t=this.getIndent();for(;t!==e;)t<e?(y(this),t++):(v(this),t--);return this}canInsertAfter(e){return C(e)}canReplaceWith(e){return C(e)}canMergeWith(e){return C(e)||(0,a.Rlh)(e)}extractWithChild(e,t){if(!(0,a.OPZ)(t))return!1;let i=t.anchor.getNode(),r=t.focus.getNode();return this.isParentOf(i)&&this.isParentOf(r)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return D("bullet")}canMergeWhenEmpty(){return!0}}function x(e,t,i){let a;let o=[],l=[],d=t.list,p=d?d.listitem:void 0;if(d&&d.nested&&(a=d.nested.listitem),void 0!==p&&o.push(...b(p)),d){let e=i.getParent(),t=R(e)&&"check"===e.getListType(),r=i.getChecked();t&&!r||l.push(d.listitemUnchecked),t&&r||l.push(d.listitemChecked),t&&o.push(r?d.listitemChecked:d.listitemUnchecked)}if(void 0!==a){let e=b(a);i.getChildren().some(e=>R(e))?o.push(...e):l.push(...e)}l.length>0&&(0,r.PS)(e,...l),o.length>0&&(0,r.Yo)(e,...o)}function S(e,t,i,r){R(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),i&&t.__checked===i.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function E(e){if(e.classList.contains("task-list-item")){for(let t of e.children)if("INPUT"===t.tagName)return k(t)}let t=e.getAttribute("aria-checked");return{node:T("true"===t||"false"!==t&&void 0)}}function k(e){return"checkbox"!==e.getAttribute("type")?{node:null}:{node:T(e.hasAttribute("checked"))}}function T(e){return(0,a.U2B)(new _(void 0,e))}function C(e){return e instanceof _}class N extends a.HX${static getType(){return"list"}static clone(e){return new N(e.__listType||L[e.__tag],e.__start,e.__key)}constructor(e="number",t=1,i){super(i);let r=L[e]||e;this.__listType=r,this.__tag="number"===r?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){let t=this.getWritable();return t.__listType=e,t.__tag="number"===e?"ol":"ul",t}getListType(){return this.__listType}getStart(){return this.__start}setStart(e){let t=this.getWritable();return t.__start=e,t}createDOM(e,t){let i=this.__tag,r=document.createElement(i);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,O(r,e.theme,this),r}updateDOM(e,t,i){return e.__tag!==this.__tag||(O(t,i.theme,this),!1)}static transform(){return e=>{R(e)||p(163),function(e){let t=e.getNextSibling();R(t)&&e.getListType()===t.getListType()&&g(e,t)}(e),function(e){let t="check"!==e.getListType(),i=e.getStart();for(let r of e.getChildren())C(r)&&(r.getValue()!==i&&r.setValue(i),t&&null!=r.getLatest().__checked&&r.setChecked(void 0),R(r.getFirstChild())||i++)}(e)}}static importDOM(){return{ol:()=>({conversion:I,priority:0}),ul:()=>({conversion:I,priority:0})}}static importJSON(e){return D().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setListType(e.listType).setStart(e.start)}exportDOM(e){let t=this.createDOM(e._config,e);return(0,a.Ret)(t)&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag()}}canBeEmpty(){return!1}canIndent(){return!1}splice(e,t,i){let r=i;for(let e=0;e<i.length;e++){let t=i[e];C(t)||(r===i&&(r=[...i]),r[e]=T().append(!(0,a.F7b)(t)||R(t)||t.isInline()?t:(0,a.MXo)(t.getTextContent())))}return super.splice(e,t,r)}extractWithChild(e){return C(e)}}function O(e,t,i){let a=[],o=[],l=t.list;if(void 0!==l){let e;let t=l[`${i.__tag}Depth`]||[],r=c(i)-1,d=r%t.length,p=t[d],u=l[i.__tag],h=l.nested,m=l.checklist;if(void 0!==h&&h.list&&(e=h.list),void 0!==u&&a.push(u),void 0!==m&&"check"===i.__listType&&a.push(m),void 0!==p){a.push(...b(p));for(let e=0;e<t.length;e++)e!==d&&o.push(i.__tag+e)}if(void 0!==e){let t=b(e);r>1?a.push(...t):o.push(...t)}}o.length>0&&(0,r.PS)(e,...o),a.length>0&&(0,r.Yo)(e,...a)}function P(e){let t=[];for(let i=0;i<e.length;i++){let r=e[i];if(C(r)){t.push(r);let e=r.getChildren();e.length>1&&e.forEach(e=>{R(e)&&t.push(h(e))})}else t.push(h(r))}return t}function I(e){let t=e.nodeName.toLowerCase(),i=null;return"ol"===t?i=D("number",e.start):"ul"===t&&(i=!function(e){if("check"===e.getAttribute("__lexicallisttype")||e.classList.contains("contains-task-list"))return!0;for(let t of e.childNodes)if((0,a.Ret)(t)&&t.hasAttribute("aria-checked"))return!0;return!1}(e)?D("bullet"):D("check")),{after:P,node:i}}let L={ol:"number",ul:"bullet"};function D(e="number",t=1){return(0,a.U2B)(new N(e,t))}function R(e){return e instanceof N}(0,a.fAf)("INSERT_UNORDERED_LIST_COMMAND"),(0,a.fAf)("INSERT_ORDERED_LIST_COMMAND"),(0,a.fAf)("INSERT_CHECK_LIST_COMMAND"),(0,a.fAf)("REMOVE_LIST_COMMAND")},38200:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var r=i(87650);class a extends r.Ijf{constructor(e,t){super(t),this.__format=e||""}exportJSON(){return{...super.exportJSON(),format:this.__format||""}}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format||"")}canIndent(){return!1}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(e){let t=this.getWritable();return t.__format=e,t}isInline(){return!1}}},8964:(e,t,i)=>{"use strict";i.d(t,{O:()=>c,V1:()=>y,Z1:()=>p,c2:()=>u,rT:()=>d,rc:()=>v});var r=i(56983),a=i(87650);let o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,l=o&&"documentMode"in document?document.documentMode:null;o&&"InputEvent"in window&&!l&&new window.InputEvent("input"),o&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),o&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,o&&/^(?=.*Chrome).*/i.test(navigator.userAgent),o&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent),(0,a.fAf)("DRAG_DROP_PASTE_FILE");class d extends a.HX${static getType(){return"quote"}static clone(e){return new d(e.__key)}createDOM(e){let t=document.createElement("blockquote");return(0,r.Yo)(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:g,priority:0})}}exportDOM(e){let{element:t}=super.exportDOM(e);if((0,a.Ret)(t)){this.isEmpty()&&t.append(document.createElement("br"));let e=this.getFormatType();t.style.textAlign=e;let i=this.getDirection();i&&(t.dir=i)}return{element:t}}static importJSON(e){return p().updateFromJSON(e)}insertNewAfter(e,t){let i=(0,a.BEw)(),r=this.getDirection();return i.setDirection(r),this.insertAfter(i,t),i}collapseAtStart(){let e=(0,a.BEw)();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function p(){return(0,a.U2B)(new d)}function c(e){return e instanceof d}class u extends a.HX${static getType(){return"heading"}static clone(e){return new u(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}setTag(e){let t=this.getWritable();return this.__tag=e,t}createDOM(e){let t=this.__tag,i=document.createElement(t),a=e.theme.heading;if(void 0!==a){let e=a[t];(0,r.Yo)(i,e)}return i}updateDOM(e,t,i){return e.__tag!==this.__tag}static importDOM(){return{h1:e=>({conversion:m,priority:0}),h2:e=>({conversion:m,priority:0}),h3:e=>({conversion:m,priority:0}),h4:e=>({conversion:m,priority:0}),h5:e=>({conversion:m,priority:0}),h6:e=>({conversion:m,priority:0}),p:e=>{let t=e.firstChild;return null!==t&&h(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>h(e)?{conversion:e=>({node:y("h1")}),priority:3}:null}}exportDOM(e){let{element:t}=super.exportDOM(e);if((0,a.Ret)(t)){this.isEmpty()&&t.append(document.createElement("br"));let e=this.getFormatType();t.style.textAlign=e;let i=this.getDirection();i&&(t.dir=i)}return{element:t}}static importJSON(e){return y(e.tag).updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTag(e.tag)}exportJSON(){return{...super.exportJSON(),tag:this.getTag()}}insertNewAfter(e,t=!0){let i=e?e.anchor.offset:0,r=this.getLastDescendant(),o=r&&(!e||e.anchor.key!==r.getKey()||i!==r.getTextContentSize())&&e?y(this.getTag()):(0,a.BEw)(),l=this.getDirection();if(o.setDirection(l),this.insertAfter(o,t),0===i&&!this.isEmpty()&&e){let e=(0,a.BEw)();e.select(),this.replace(e,!0)}return o}collapseAtStart(){let e=this.isEmpty()?(0,a.BEw)():y(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function h(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function m(e){let t=e.nodeName.toLowerCase(),i=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(i=y(t),null!==e.style&&((0,a.WAA)(e,i),i.setFormat(e.style.textAlign))),{node:i}}function g(e){let t=p();return null!==e.style&&(t.setFormat(e.style.textAlign),(0,a.WAA)(e,t)),{node:t}}function y(e="h1"){return(0,a.U2B)(new u(e))}function v(e){return e instanceof u}},56983:(e,t,i)=>{"use strict";i.d(t,{$s:()=>y,PS:()=>m,Yo:()=>h});var r=i(87650);function a(e,...t){let i=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;for(let i of(r.append("code",e),t))r.append("v",i);throw i.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,l=o&&"documentMode"in document?document.documentMode:null,d=(o&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),o&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent));function p(...e){let t=[];for(let i of e)if(i&&"string"==typeof i)for(let[e]of i.matchAll(/\S+/g))t.push(e);return t}function c(e){return`${e}px`}o&&"InputEvent"in window&&!l&&new window.InputEvent("input"),o&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),o&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,o&&/Android/.test(navigator.userAgent),o&&/^(?=.*Chrome).*/i.test(navigator.userAgent),o&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);let u={attributes:!0,characterData:!0,childList:!0,subtree:!0};function h(e,...t){let i=p(...t);i.length>0&&e.classList.add(...i)}function m(e,...t){let i=p(...t);i.length>0&&e.classList.remove(...i)}function g(e){let t=-1;for(let i=e;null!==i;i=i.getParent())t++;return t}let y=(e,t)=>{let i=e;for(;i!==(0,r.GvG)()&&null!=i;){if(t(i))return i;i=i.getParent()}return null};function v(e){return f({hasNext:A,initial:e.getAdjacentCaret(),map:e=>e.origin.getLatest(),step:e=>e.getAdjacentCaret()})}function b(e,t="root"){let i=0,r=e,a=s(r);for(;null===a;){if(i--,!(a=r.getParentCaret(t)))return null;a=s(r=a)}return a&&[a,i]}},24144:(e,t,i)=>{"use strict";let r,a,o;i.d(t,{zt:()=>pW});var l,d=i(57147),p=i(71017);function c(e){let t=process.cwd(),i=p.resolve(t,"src/migrations"),r=p.resolve(t,"dist/migrations"),a=p.resolve(t,"migrations");return e||(d.existsSync(i)?i:d.existsSync(r)?r:d.existsSync(a)?a:i)}var u=i(73292);let h=e=>/^[a-z_$][\w$]*$/i.test(e)?e:`'${e}'`,m=(e,t)=>{let i=h(t);return i.startsWith("'")?`${e}[${i}]`:`${e}.${t}`},g=({columnToCodeConverter:e,corePackageSuffix:t,defaultOutputFile:r,enumImport:a,schemaImport:o,tableImport:l})=>async function({log:c=!0,outputFile:g=r,prettify:y=!0}={}){let v={},b=[],w=[],_=[],x=(e,t)=>{v[e]||(v[e]=new Set),v[e].add(t)},S=`${this.packageName}/drizzle/${t}`,E=null;this.schemaName&&(x(S,o),E=`export const db_schema = ${o}('${this.schemaName}')`);let k=this.schemaName?"db_schema.enum":a,T=[],C=(e,t)=>{T.some(t=>t===e)||(T.push(e),w.push(`export const ${e} = ${k}('${e}', [${t.map(e=>`'${e}'`).join(", ")}])`))};this.payload.config.localization&&a&&C("enum__locales",this.payload.config.localization.localeCodes);let N=this.schemaName?"db_schema.table":l;for(let t in this.schemaName||x(S,l),x(S,"index"),x(S,"uniqueIndex"),x(S,"foreignKey"),x(`${this.packageName}/drizzle`,"sql"),x(`${this.packageName}/drizzle`,"relations"),this.rawTables){let i=this.rawTables[t],r=[];if(i.indexes)for(let e in i.indexes){let t=i.indexes[e],a=`${h(e)}: ${t.unique?"uniqueIndex":"index"}('${t.name}')`;a+=`.on(${"string"==typeof t.on?`${m("columns",t.on)}`:`${t.on.map(e=>`${m("columns",e)}`).join(", ")}`}),`,r.push(a)}if(i.foreignKeys)for(let e in i.foreignKeys){let t=i.foreignKeys[e],a=`${h(e)}: foreignKey({
      columns: [${t.columns.map(e=>`columns['${e}']`).join(", ")}],
      foreignColumns: [${t.foreignColumns.map(e=>`${m(e.table,e.name)}`).join(", ")}],
      name: '${t.name}'
    })`;t.onDelete&&(a+=`.onDelete('${t.onDelete}')`),t.onUpdate&&(a+=`.onUpdate('${t.onDelete}')`),a+=",",r.push(a)}let a=`
export const ${t} = ${N}('${t}', {
${Object.entries(i.columns).map(([i,r])=>`  ${h(i)}: ${e({adapter:this,addEnum:C,addImport:x,column:r,locales:this.payload.config.localization?this.payload.config.localization.localeCodes:void 0,tableKey:t})},`).join("\n")}
}${r.length?`, (columns) => ({
    ${r.join("\n    ")}
  })`:""}
)
`;b.push(a)}for(let e in this.rawRelations){let t=this.rawRelations[e],i=[];for(let r in t){let a;let o=t[r];a="one"===o.type?`${h(r)}: one(${o.to}, {
    ${o.fields.some(t=>t.table!==e)?"// @ts-expect-error Drizzle TypeScript bug for ONE relationships with a field in different table":""}
    fields: [${o.fields.map(e=>`${m(e.table,e.name)}`).join(", ")}],
    references: [${o.references.map(e=>`${m(o.to,e)}`).join(", ")}],
    ${o.relationName?`relationName: '${o.relationName}',`:""}
    }),`:`${h(r)}: many(${o.to}, {
            ${o.relationName?`relationName: '${o.relationName}',`:""}
    }),`,i.push(a)}let r=[];Object.values(t).some(e=>"one"===e.type)&&r.push("one"),Object.values(t).some(e=>"many"===e.type)&&r.push("many");let a=r.length?`{ ${r.join(", ")} }`:"",o=`export const relations_${e} = relations(${e}, (${a}) => ({
  ${i.join("\n    ")}
      }))`;_.push(o)}w.length&&!this.schemaName&&x(S,a);let O=[];for(let e in v){let t=v[e];O.push(`import { ${Array.from(t).join(", ")} } from '${e}'`)}let P=`
type DatabaseSchema = {
  ${[this.schemaName?"db_schema":null,...T,...Object.keys(this.rawTables),...Object.keys(this.rawRelations).map(e=>`relations_${e}`)].filter(Boolean).map(e=>`${e}: typeof ${e}`).join("\n  ")}
}
    `,I=`
declare module '${this.packageName}' {
  export interface GeneratedDatabaseSchema {
    schema: DatabaseSchema
  }
}
    `,L=[`
/* tslint:disable */
/* eslint-disable */
/**
 * This file was automatically generated by Payload.
 * DO NOT MODIFY IT BY HAND. Instead, modify your source Payload config,
 * and re-run \`payload generate:db-schema\` to regenerate this file.
 */
`,`import type {} from '${this.packageName}'`,...O,E,...w,...b,..._,P,I].filter(Boolean).join("\n");if(!g){let e=process.cwd(),t=p.resolve(e,"src");g=(0,d.existsSync)(t)?p.resolve(t,"payload-generated-schema.ts"):p.resolve(e,"payload-generated-schema.ts")}if(y)try{let e=await Promise.resolve().then(i.t.bind(i,63920,19)),t=await e.resolveConfigFile(),r=t?await e.resolveConfig(t):{};L=await e.format(L,{...r,parser:"typescript"})}catch{}await (0,u.writeFile)(g,L,"utf-8"),c&&this.payload.logger.info(`Written ${g}`)},y=Symbol.for("drizzle:entityKind");function v(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,y))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let i=Object.getPrototypeOf(e).constructor;if(i)for(;i;){if(y in i&&i[y]===t[y])return!0;i=Object.getPrototypeOf(i)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class b{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [y]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}let w=Symbol.for("drizzle:Name"),_=Symbol.for("drizzle:Schema"),x=Symbol.for("drizzle:Columns"),S=Symbol.for("drizzle:ExtraConfigColumns"),E=Symbol.for("drizzle:OriginalName"),k=Symbol.for("drizzle:BaseName"),T=Symbol.for("drizzle:IsAlias"),C=Symbol.for("drizzle:ExtraConfigBuilder"),N=Symbol.for("drizzle:IsDrizzleTable");class O{static [y]="Table";static Symbol={Name:w,Schema:_,OriginalName:E,Columns:x,ExtraConfigColumns:S,BaseName:k,IsAlias:T,ExtraConfigBuilder:C};[w];[E];[_];[x];[S];[k];[T]=!1;[N]=!0;[C]=void 0;constructor(e,t,i){this[w]=this[E]=e,this[_]=t,this[k]=i}}function P(e){return e[w]}function I(e){return`${e[_]??"public"}.${e[w]}`}class L{static [y]="ColumnBuilder";config;constructor(e,t,i){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}class D{static [y]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:i,foreignColumns:r}=e();return{name:t,columns:i,foreignTable:r[0].table,foreignColumns:r}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new R(e,this)}}class R{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [y]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:i}=this.reference(),r=t.map(e=>e.name),a=i.map(e=>e.name),o=[this.table[w],...r,i[0].table[w],...a];return e??`${o.join("_")}_fk`}}function $(e){return new D(function(){let{name:t,columns:i,foreignColumns:r}=e;return{name:t,columns:i,foreignColumns:r}})}function j(e,...t){return e(...t)}function M(e,t){return`${e[w]}_${t.join("_")}_unique`}class U{constructor(e,t){this.name=t,this.columns=e}static [y]=null;columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new B(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class F{static [y]=null;name;constructor(e){this.name=e}on(...e){return new U(e,this.name)}}class B{constructor(e,t,i,r){this.table=e,this.columns=t,this.name=r??M(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=i}static [y]=null;columns;name;nullsNotDistinct=!1;getName(){return this.name}}function z(e,t,i){for(let r=t;r<e.length;r++){let a=e[r];if("\\"===a){r++;continue}if('"'===a)return[e.slice(t,r).replace(/\\/g,""),r+1];if(!i&&(","===a||"}"===a))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function q(e,t=0){let i=[],r=t,a=!1;for(;r<e.length;){let o=e[r];if(","===o){(a||r===t)&&i.push(""),a=!0,r++;continue}if(a=!1,"\\"===o){r+=2;continue}if('"'===o){let[t,a]=z(e,r+1,!0);i.push(t),r=a;continue}if("}"===o)return[i,r+1];if("{"===o){let[t,a]=q(e,r+1);i.push(t),r=a;continue}let[l,d]=z(e,r,!1);i.push(l),r=d}return[i,r]}function V(e){let[t]=q(e,1);return t}function H(e){return`{${e.map(e=>Array.isArray(e)?H(e):"string"==typeof e?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class W extends L{foreignKeyConfigs=[];static [y]="PgColumnBuilder";array(e){return new Q(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:i,actions:r})=>j((i,r)=>{let a=new D(()=>({columns:[e],foreignColumns:[i()]}));return r.onUpdate&&a.onUpdate(r.onUpdate),r.onDelete&&a.onDelete(r.onDelete),a.build(t)},i,r))}buildExtraConfigColumn(e){return new K(e,this.config)}}class G extends b{constructor(e,t){t.uniqueName||(t.uniqueName=M(e,[t.name])),super(e,t),this.table=e}static [y]="PgColumn"}class K extends G{static [y]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class J{static [y]="IndexedColumn";constructor(e,t,i,r){this.name=e,this.keyAsName=t,this.type=i,this.indexConfig=r}name;keyAsName;type;indexConfig}class Q extends W{static [y]="PgArrayBuilder";constructor(e,t,i){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=i}build(e){let t=this.config.baseBuilder.build(e);return new Y(e,this.config,t)}}class Y extends G{constructor(e,t,i,r){super(e,t),this.baseColumn=i,this.range=r,this.size=t.size}size;static [y]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=V(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let i=e.map(e=>null===e?null:v(this.baseColumn,Y)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?i:H(i)}}class Z extends W{static [y]="PgEnumObjectColumnBuilder";constructor(e,t){super(e,"string","PgEnumObjectColumn"),this.config.enum=t}build(e){return new X(e,this.config)}}class X extends G{static [y]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}let ee=Symbol.for("drizzle:isPgEnum");function et(e){return!!e&&"function"==typeof e&&ee in e&&!0===e[ee]}class ei extends W{static [y]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new er(e,this.config)}}class er extends G{static [y]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}function ea(e,t){return Array.isArray(t)?en(e,[...t],void 0):es(e,t,void 0)}function en(e,t,i){let r=Object.assign(e=>new ei(e??"",r),{enumName:e,enumValues:t,schema:i,[ee]:!0});return r}function es(e,t,i){let r=Object.assign(e=>new Z(e??"",r),{enumName:e,enumValues:Object.values(t),schema:i,[ee]:!0});return r}class eo{static [y]="Subquery";constructor(e,t,i,r=!1,a=[]){this._={brand:"Subquery",sql:e,selectedFields:t,alias:i,isWith:r,usedTables:a}}}class el extends eo{static [y]="WithSubquery"}var ed="0.44.2";let ep={startActiveSpan:(e,t)=>r?(a||(a=r.trace.getTracer("drizzle-orm",ed)),j((i,r)=>r.startActiveSpan(e,e=>{try{return t(e)}catch(t){throw e.setStatus({code:i.SpanStatusCode.ERROR,message:t instanceof Error?t.message:"Unknown error"}),t}finally{e.end()}}),r,a)):t()},ec=Symbol.for("drizzle:ViewBaseConfig");class eu{static [y]=null}function eh(e){return null!=e&&"function"==typeof e.getSQL}function ef(e){let t={sql:"",params:[]};for(let i of e)t.sql+=i.sql,t.params.push(...i.params),i.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...i.typings));return t}class em{static [y]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new eg([this])}}class eg{constructor(e){for(let t of(this.queryChunks=e,e))if(v(t,O)){let e=t[O.Symbol.Schema];this.usedTables.push(void 0===e?t[O.Symbol.Name]:e+"."+t[O.Symbol.Name])}}static [y]="SQL";decoder=eb;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return ep.startActiveSpan("drizzle.buildSQL",t=>{let i=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(e,t){let i=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:r,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:d,paramStartIndex:p}=i;return ef(e.map(e=>{if(v(e,em))return{sql:e.value.join(""),params:[]};if(v(e,ey))return{sql:a(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new em("(")];for(let[i,r]of e.entries())t.push(r),i<e.length-1&&t.push(new em(", "));return t.push(new em(")")),this.buildQueryFromSourceParams(t,i)}if(v(e,eg))return this.buildQueryFromSourceParams(e.queryChunks,{...i,inlineParams:d||e.shouldInlineParams});if(v(e,O)){let t=e[O.Symbol.Schema],i=e[O.Symbol.Name];return{sql:void 0===t||e[T]?a(i):a(t)+"."+a(i),params:[]}}if(v(e,b)){let i=r.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:a(i),params:[]};let o=e.table[O.Symbol.Schema];return{sql:e.table[T]||void 0===o?a(e.table[O.Symbol.Name])+"."+a(i):a(o)+"."+a(e.table[O.Symbol.Name])+"."+a(i),params:[]}}if(v(e,eT)){let t=e[ec].schema,i=e[ec].name;return{sql:void 0===t||e[ec].isAlias?a(i):a(t)+"."+a(i),params:[]}}if(v(e,e_)){if(v(e.value,eS))return{sql:o(p.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if(v(t,eg))return this.buildQueryFromSourceParams([t],i);if(d)return{sql:this.mapInlineParam(t,i),params:[]};let r=["none"];return l&&(r=[l(e.encoder)]),{sql:o(p.value++,t),params:[t],typings:r}}return v(e,eS)?{sql:o(p.value++,e),params:[e],typings:["none"]}:v(e,eg.Aliased)&&void 0!==e.fieldAlias?{sql:a(e.fieldAlias),params:[]}:v(e,eo)?e._.isWith?{sql:a(e._.alias),params:[]}:this.buildQueryFromSourceParams([new em("("),e._.sql,new em(") "),new ey(e._.alias)],i):et(e)?e.schema?{sql:a(e.schema)+"."+a(e.enumName),params:[]}:{sql:a(e.enumName),params:[]}:eh(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],i):this.buildQueryFromSourceParams([new em("("),e.getSQL(),new em(")")],i):d?{sql:this.mapInlineParam(e,i),params:[]}:{sql:o(p.value++,e),params:[e],typings:["none"]}}))}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let i=e.toString();return"[object Object]"===i?t(JSON.stringify(e)):t(i)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new eg.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class ey{constructor(e){this.value=e}static [y]="Name";brand;getSQL(){return new eg([this])}}function ev(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let eb={mapFromDriverValue:e=>e},ew={mapToDriverValue:e=>e};({...eb,...ew});class e_{constructor(e,t=ew){this.value=e,this.encoder=t}static [y]="Param";brand;getSQL(){return new eg([this])}}function ex(e,...t){let i=[];for(let[r,a]of((t.length>0||e.length>0&&""!==e[0])&&i.push(new em(e[0])),t.entries()))i.push(a,new em(e[r+1]));return new eg(i)}(e=>{function t(){return new eg([])}function i(e){return new eg(e)}function r(e){return new eg([new em(e)])}function a(e,t){let i=[];for(let[r,a]of e.entries())r>0&&void 0!==t&&i.push(t),i.push(a);return new eg(i)}function o(e){return new ey(e)}function l(e){return new eS(e)}function d(e,t){return new e_(e,t)}e.empty=t,e.fromList=i,e.raw=r,e.join=a,e.identifier=o,e.placeholder=l,e.param=d})(ex||(ex={})),(e=>{class t{constructor(e,t){this.sql=e,this.fieldAlias=t}static [y]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(eg||(eg={}));class eS{constructor(e){this.name=e}static [y]="Placeholder";getSQL(){return new eg([this])}}function eE(e,t){return e.map(e=>{if(v(e,eS)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if(v(e,e_)&&v(e.value,eS)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}let ek=Symbol.for("drizzle:IsDrizzleView");class eT{static [y]="View";[ec];[ek]=!0;constructor({name:e,schema:t,selectedFields:i,query:r}){this[ec]={name:e,originalName:e,schema:t,selectedFields:i,query:r,isExisting:!r,isAlias:!1}}getSQL(){return new eg([this])}}function eA(e,t){return!ev(t)||eh(e)||v(e,e_)||v(e,eS)||v(e,b)||v(e,O)||v(e,eT)?e:new e_(e,t)}b.prototype.getSQL=function(){return new eg([this])},O.prototype.getSQL=function(){return new eg([this])},eo.prototype.getSQL=function(){return new eg([this])};let eC=(e,t)=>ex`${e} = ${eA(t,e)}`,eN=(e,t)=>ex`${e} <> ${eA(t,e)}`;function eO(...e){let t=e.filter(e=>void 0!==e);return 0===t.length?void 0:new eg(1===t.length?t:[new em("("),ex.join(t,new em(" and ")),new em(")")])}function eP(...e){let t=e.filter(e=>void 0!==e);return 0===t.length?void 0:new eg(1===t.length?t:[new em("("),ex.join(t,new em(" or ")),new em(")")])}function eI(e){return ex`not ${e}`}let eL=(e,t)=>ex`${e} > ${eA(t,e)}`,eD=(e,t)=>ex`${e} >= ${eA(t,e)}`,eR=(e,t)=>ex`${e} < ${eA(t,e)}`,e$=(e,t)=>ex`${e} <= ${eA(t,e)}`;function ej(e,t){return Array.isArray(t)?0===t.length?ex`false`:ex`${e} in ${t.map(t=>eA(t,e))}`:ex`${e} in ${eA(t,e)}`}function eM(e,t){return Array.isArray(t)?0===t.length?ex`true`:ex`${e} not in ${t.map(t=>eA(t,e))}`:ex`${e} not in ${eA(t,e)}`}function eU(e){return ex`${e} is null`}function eF(e){return ex`${e} is not null`}function eB(e){return ex`exists ${e}`}function ez(e){return ex`not exists ${e}`}function eq(e,t,i){return ex`${e} between ${eA(t,e)} and ${eA(i,e)}`}function eV(e,t,i){return ex`${e} not between ${eA(t,e)} and ${eA(i,e)}`}function eH(e,t){return ex`${e} like ${t}`}function eW(e,t){return ex`${e} not like ${t}`}function eG(e,t){return ex`${e} ilike ${t}`}function eK(e,t){return ex`${e} not ilike ${t}`}let eJ={and:eO,contains:eG,equals:eC,exists:eF,greater_than:eL,greater_than_equal:eD,in:ej,isNull:eU,less_than:eR,less_than_equal:e$,like:eG,not_equals:eN,not_like:eK,not_in:eM,or:eP};var eQ=i(25200);function eY(e){return ex`${e} asc`}function eZ(e){return ex`${e} desc`}let eX=e=>{let t=Object.getOwnPropertySymbols(e).find(e=>e.description.includes("Name"));return e[t]};var e1=i(71207),e0=i(62570),e2=i(32017);let e6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,e4=function(e){return"string"==typeof e&&e6.test(e)},e3=e=>e&&"object"==typeof e&&"relationTo"in e&&"string"==typeof e.relationTo&&"value"in e,e5=e=>{let{fields:t,parentIsLocalized:i,prefix:r=""}=e;return t.reduce((e,t)=>{let a=r;return["array","blocks","relationship","upload"].includes(t.type)||"hasMany"in t&&!0===t.hasMany?e:(0,e2.uV)(t)?(a="name"in t?`${r}${t.name}_`:r,[...e,...e5({fields:t.fields,parentIsLocalized:i||"localized"in t&&t.localized,prefix:a})]):"tabs"===t.type?[...e,...t.tabs.reduce((e,t)=>(a="name"in t?`${r}_${t.name}`:r,[...e,...(0,e2.JC)(t)?[{...t,type:"tab"}]:e5({fields:t.fields,parentIsLocalized:i||t.localized,prefix:a})]),[])]:(0,e2.j7)(t)?[...e,{name:`${a}${t.name}`,localized:(0,e2.iD)({field:t,parentIsLocalized:i})}]:e},[])},e8=({block:e,localized:t,parentIsLocalized:i,table:r,tableLocales:a})=>{let o=e5({fields:e.fields,parentIsLocalized:i||t});return!(o.find(({name:e,localized:t})=>-1===Object.keys((t&&a?a:r).columns).indexOf(e))||Object.keys(r).find(e=>{if(!["_locale","_order","_parentID","_path","_uuid"].includes(e))return -1===o.findIndex(e=>e.name)}))&&!!t==!!r.columns._locale},e9=Symbol("InternalBlockTableNameIndex"),e7=(e,t)=>{e[e9]=t},te=(e,t)=>e[e9]?`${t}_${e[e9]}`:t,tt=({type:e,condition:t,joins:i,queryPath:r,table:a})=>{let o=eX(a);i.some(e=>eX(e.table)===o)||i.push({type:e,condition:t,queryPath:r,table:a})};class ti{constructor(e){this.table=e}static [y]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class tr{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [y]="TableAliasProxyHandler";get(e,t){if(t===O.Symbol.IsAlias)return!0;if(t===O.Symbol.Name||this.replaceOriginalName&&t===O.Symbol.OriginalName)return this.alias;if(t===ec)return{...e[ec],name:this.alias,isAlias:!0};if(t===O.Symbol.Columns){let t=e[O.Symbol.Columns];if(!t)return t;let i={};return Object.keys(t).map(r=>{i[r]=new Proxy(t[r],new ti(new Proxy(e,this)))}),i}let i=e[t];return v(i,b)?new Proxy(i,new ti(new Proxy(e,this))):i}}class ta{constructor(e){this.alias=e}static [y]=null;get(e,t){return"sourceTable"===t?tn(e.sourceTable,this.alias):e[t]}}function tn(e,t){return new Proxy(e,new tr(t,!1))}function ts(e,t){return new Proxy(e,new ti(new Proxy(e.table,new tr(t,!1))))}function to(e,t){return new eg.Aliased(tl(e.sql,t),e.fieldAlias)}function tl(e,t){return ex.join(e.queryChunks.map(e=>v(e,b)?ts(e,t):v(e,eg)?tl(e,t):v(e,eg.Aliased)?to(e,t):e))}function td(e,t){return new Proxy(e,new tr(t,!1))}function tp(e,t){return new Proxy(e,new tr(t,!1))}var tc=i(6113),tu=i.n(tc);let th={randomUUID:tu().randomUUID},tf=new Uint8Array(256),tm=tf.length;function tg(){return tm>tf.length-16&&(tu().randomFillSync(tf),tm=0),tf.slice(tm,tm+=16)}let ty=[];for(let e=0;e<256;++e)ty.push((e+256).toString(16).slice(1));function tv(e,t=0){return(ty[e[t+0]]+ty[e[t+1]]+ty[e[t+2]]+ty[e[t+3]]+"-"+ty[e[t+4]]+ty[e[t+5]]+"-"+ty[e[t+6]]+ty[e[t+7]]+"-"+ty[e[t+8]]+ty[e[t+9]]+"-"+ty[e[t+10]]+ty[e[t+11]]+ty[e[t+12]]+ty[e[t+13]]+ty[e[t+14]]+ty[e[t+15]]).toLowerCase()}let tb=function(e,t,i){if(th.randomUUID&&!t&&!e)return th.randomUUID();let r=(e=e||{}).random||(e.rng||tg)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=r[e];return t}return tv(r)},tw=({adapter:e,tableName:t})=>{let i;let r=eQ(tb());return"postgres"===e.name&&(i=td(e.tables[t],r)),"sqlite"===e.name&&(i=tp(e.tables[t],r)),{newAliasTable:i,newAliasTableName:r}},t_=({adapter:e,aliasTable:t,collectionPath:i,columnPrefix:r="",constraintPath:a,constraints:o=[],fields:l,joins:d,locale:p,parentAliasTable:c,parentIsLocalized:u,pathSegments:h,rootTableName:m,selectFields:g,selectLocale:y,tableName:v,tableNameSuffix:b="",value:w})=>{let _=h[0],x=p,S=m||v,E=a||"",k=l.find(e=>e.name===_),T=v;if(!k&&"id"===_)return g.id=e.tables[T].id,{columnName:"id",constraints:o,field:{name:"id",type:"uuid"===e.idType?"text":"number"},table:e.tables[T]};if(k){let a=[...h],l=(0,e2.iD)({field:k,parentIsLocalized:u});if(l&&e.payload.config.localization){let t=e.payload.config.localization.localeCodes.find(e=>e===a[1]);t&&(x=t,a.splice(1,1))}switch(k.type){case"array":{T=e.tableNameMap.get(`${v}_${b}${eQ(k.name)}`);let r=t||e.tables[v];if(E=`${E}${k.name}.%.`,x&&l&&e.payload.config.localization){let t=[eC(r.id,e.tables[T]._parentID)];y&&(g._locale=e.tables[T]._locale),"all"!==x&&t.push(eC(e.tables[T]._locale,x)),tt({condition:eO(...t),joins:d,table:e.tables[T]})}else tt({condition:eC(r.id,e.tables[T]._parentID),joins:d,table:e.tables[T]});return t_({adapter:e,collectionPath:i,constraintPath:E,constraints:o,fields:k.flattenedFields,joins:d,locale:x,parentAliasTable:t,parentIsLocalized:u||k.localized,pathSegments:a.slice(1),rootTableName:S,selectFields:g,selectLocale:y,tableName:T,value:w})}case"blocks":{let r,p;if(e.blocksAsJSON)break;if("blockType"===a[1])return(Array.isArray(w)?w:[w]).forEach(t=>{let i=e.payload.blocks[t]??(k.blockReferences??k.blocks).find(e=>"string"!=typeof e&&e.slug===t);p=te(i,e.tableNameMap.get(`${v}_blocks_${eQ(i.slug)}`));let{newAliasTable:r}=tw({adapter:e,tableName:p});d.push({condition:eC(e.tables[v].id,r._parentID),table:r}),o.push({columnName:"_path",table:r,value:a[0]})}),{constraints:o,field:k,getNotNullColumnByValue:()=>"id",table:e.tables[v]};if((k.blockReferences??k.blocks).some(c=>{let h,m;let b="string"==typeof c?e.payload.blocks[c]:c;p=te(b,e.tableNameMap.get(`${v}_blocks_${eQ(b.slug)}`)),E=`${E}${k.name}.%.`;let _=[],T={};if(l&&e.payload.config.localization){let i=[eC((t||e.tables[v]).id,e.tables[p]._parentID)];"all"!==x&&i.push(eC(e.tables[p]._locale,x)),m={condition:eO(...i),table:e.tables[p]}}else m={condition:eC((t||e.tables[v]).id,e.tables[p]._parentID),table:e.tables[p]};let C=[...d];try{h=t_({adapter:e,collectionPath:i,constraintPath:E,constraints:_,fields:b.flattenedFields,joins:C,locale:x,parentIsLocalized:u||k.localized,pathSegments:a.slice(1),rootTableName:S,selectFields:T,selectLocale:y,tableName:p,value:w})}catch(e){}if(!h)return;r=h,o=o.concat(_),g={...g,...T};let N=d.length;if(d.push(m),C.length>N)for(let e=N;e<C.length;e++)d.push(C[e]);return!0}))return{columnName:r.columnName,constraints:o,field:r.field,pathSegments:a.slice(1),rawColumn:r.rawColumn,table:r.table};break}case"group":if(x&&l&&e.payload.config.localization){T=`${v}${e.localesSuffix}`;let t=eC(e.tables[v].id,e.tables[T]._parentID);"all"!==x&&(t=eO(t,eC(e.tables[T]._locale,x))),tt({condition:t,joins:d,table:e.tables[T]})}return t_({adapter:e,aliasTable:t,collectionPath:i,columnPrefix:`${r}${k.name}_`,constraintPath:`${E}${k.name}.`,constraints:o,fields:k.flattenedFields,joins:d,locale:x,parentIsLocalized:u||k.localized,pathSegments:a.slice(1),rootTableName:S,selectFields:g,selectLocale:y,tableName:T,tableNameSuffix:`${b}${eQ(k.name)}_`,value:w});case"join":{if(Array.isArray(k.collection))throw new e1.H("Not supported");let i=a.slice(1).join(".");if(k.hasMany){let t=`${e.tableNameMap.get(eQ(k.collection))}${e.relationshipsSuffix}`,{newAliasTable:r}=tw({adapter:e,tableName:t}),l=(0,e0.w)({fields:e.payload.collections[k.collection].config.flattenedFields,path:k.on});if(!l)throw new e1.H("Relationship was not found");if(tt({condition:eO(eC(e.tables[S].id,r[`${l.field.relationTo}ID`]),eH(r.path,k.on)),joins:d,queryPath:k.on,table:r}),"id"===i)return{columnName:"parent",constraints:o,field:{name:"id",type:"uuid"===e.idType?"text":"number"},table:r};let p=e.payload.collections[k.collection].config,c=e.tableNameMap.get(eQ(p.slug)),u=p.flattenedFields,{newAliasTable:h}=tw({adapter:e,tableName:c});return d.push({condition:eC(r.parent,h.id),table:h}),t_({adapter:e,aliasTable:h,collectionPath:i,constraints:o,fields:u,joins:d,locale:x,parentIsLocalized:!1,pathSegments:a.slice(1),rootTableName:c,selectFields:g,selectLocale:y,tableName:c,value:w})}let r=e.tableNameMap.get(eQ(e.payload.collections[k.collection].config.slug)),{newAliasTable:l}=tw({adapter:e,tableName:r});if(d.push({condition:eC(l[k.on.replaceAll(".","_")],t?t.id:e.tables[v].id),table:l}),"id"===i)return{columnName:"id",constraints:o,field:{name:"id",type:"uuid"===e.idType?"text":"number"},table:l};return t_({adapter:e,aliasTable:l,collectionPath:i,constraintPath:"",constraints:o,fields:e.payload.collections[k.collection].config.flattenedFields,joins:d,locale:x,parentIsLocalized:u||k.localized,pathSegments:a.slice(1),selectFields:g,tableName:r,value:w})}case"number":case"text":if(k.hasMany){let t="texts",i="text";"number"===k.type&&(t="numbers",i="number"),T=`${S}_${t}`;let r=[eC(e.tables[S].id,e.tables[T].parent),eH(e.tables[T].path,`${E}${k.name}`)];if(x&&l&&e.payload.config.localization){let t=[...r];"all"!==x&&t.push(eC(e.tables[T]._locale,x)),tt({condition:eO(...t),joins:d,table:e.tables[T]})}else tt({condition:eO(...r),joins:d,table:e.tables[T]});return{columnName:i,constraints:o,field:k,table:e.tables[T]}}break;case"relationship":case"upload":{let i=a.slice(1).join(".");if(Array.isArray(k.relationTo)||k.hasMany){let r,p;let u=`${S}${e.relationshipsSuffix}`,{newAliasTable:h,newAliasTableName:m}=tw({adapter:e,tableName:u});if(y&&l&&e.payload.config.localization&&(g._locale=h.locale),x&&l&&e.payload.config.localization){let i=[eC((c||t||e.tables[S]).id,h.parent),eH(h.path,`${E}${k.name}`)];"all"!==x&&i.push(eC(h.locale,x)),tt({condition:eO(...i),joins:d,queryPath:`${E}.${k.name}`,table:h})}else tt({condition:eO(eC((c||t||e.tables[S]).id,h.parent),eH(h.path,`${E}${k.name}`)),joins:d,queryPath:`${E}.${k.name}`,table:h});if(g[`${u}.path`]=h.path,"string"==typeof k.relationTo){let t=e.payload.collections[k.relationTo].config;if(T=e.tableNameMap.get(eQ(t.slug)),r=t.flattenedFields,{newAliasTable:p}=tw({adapter:e,tableName:T}),d.push({condition:eC(p.id,h[`${k.relationTo}ID`]),table:p}),""===i||"id"===i)return{columnName:`${k.relationTo}ID`,constraints:o,field:k,table:h}}else if("value"===i){let t=k.relationTo.some(t=>!!e.payload.collections[t].customIDType);return{columns:k.relationTo.map(i=>{let r="uuid"===e.idType?"uuid":"number",{customIDType:a}=e.payload.collections[i];a&&(r=a);let o="text"===r||"uuid"===r;if("number"==typeof w&&o||Array.isArray(w)&&w.every(e=>"number"==typeof e)&&o||w&&!Array.isArray(w)&&"uuid"===r&&t&&!e4(w)||Array.isArray(w)&&"uuid"===r&&t&&!w.some(e=>e4(e)))return null;let l=e.tableNameMap.get(eQ(e.payload.collections[i].config.slug));return{idType:r,rawColumn:ex.raw(`"${m}"."${l}_id"`)}}).filter(Boolean),constraints:o,field:k,table:h}}else if("relationTo"===i){let e=Array.isArray(k.relationTo)?k.relationTo:[k.relationTo];return{constraints:o,field:k,getNotNullColumnByValue:t=>{let i=e.find(e=>e===t);if(i)return`${i}ID`},table:h}}else if(e3(w)){let{relationTo:t}=w,i=e.tableNameMap.get(eQ(e.payload.collections[t].config.slug));return{constraints:o,field:k,rawColumn:ex.raw(`"${m}"."${i}_id"`),table:h}}else throw new e1.H("Not supported");return t_({adapter:e,aliasTable:p,collectionPath:i,constraints:o,fields:r,joins:d,locale:x,parentIsLocalized:!1,pathSegments:a.slice(1),rootTableName:T,selectFields:g,selectLocale:y,tableName:T,value:w})}if(a.length>1&&!(2===a.length&&"id"===a[1])){let p=`${r}${k.name}`,c=e.tableNameMap.get(eQ(e.payload.collections[k.relationTo].config.slug)),{newAliasTable:h}=tw({adapter:e,tableName:c});if(l&&e.payload.config.localization){let{newAliasTable:t}=tw({adapter:e,tableName:`${S}${e.localesSuffix}`}),i=[eC(t._parentID,e.tables[S].id)];y&&(g._locale=t._locale),"all"!==x&&i.push(eC(t._locale,x));let r=e.tables[`${S}${e.localesSuffix}`];tt({condition:eO(...i),joins:d,table:r}),d.push({condition:eC(r[p],h.id),table:h})}else d.push({condition:eC(h.id,t?t[p]:e.tables[v][p]),table:h});return t_({adapter:e,aliasTable:h,collectionPath:i,constraintPath:"",constraints:o,fields:e.payload.collections[k.relationTo].config.flattenedFields,joins:d,locale:x,parentIsLocalized:u||k.localized,pathSegments:a.slice(1),selectFields:g,tableName:c,value:w})}break}case"select":if(k.hasMany){let i=e.tableNameMap.get(`${v}_${b}${eQ(k.name)}`),r=(t??e.tables[v]).id;if(x&&l&&e.payload.config.localization){let t=[eC(r,e.tables[i].parent),eC(e.tables[i]._locale,x)];"all"!==x&&t.push(eC(e.tables[i]._locale,x)),tt({condition:eO(...t),joins:d,table:e.tables[i]})}else tt({condition:eC(r,e.tables[i].parent),joins:d,table:e.tables[i]});return{columnName:"value",constraints:o,field:k,table:e.tables[i]}}break;case"tab":if((0,e2.JC)(k))return t_({adapter:e,aliasTable:t,collectionPath:i,columnPrefix:`${r}${k.name}_`,constraintPath:`${E}${k.name}.`,constraints:o,fields:k.flattenedFields,joins:d,locale:x,parentIsLocalized:u||k.localized,pathSegments:a.slice(1),rootTableName:S,selectFields:g,selectLocale:y,tableName:T,tableNameSuffix:`${b}${eQ(k.name)}_`,value:w});return t_({adapter:e,aliasTable:t,collectionPath:i,columnPrefix:r,constraintPath:E,constraints:o,fields:k.flattenedFields,joins:d,locale:x,parentIsLocalized:u||k.localized,pathSegments:a.slice(1),rootTableName:S,selectFields:g,selectLocale:y,tableName:T,tableNameSuffix:b,value:w})}let p=e.tables[T];if(l&&e.payload.config.localization){let i=t||e.tables[v];T=`${v}${e.localesSuffix}`,p=e.tables[T];let r=eC(i.id,p._parentID);"all"!==x&&(r=eO(r,eC(p._locale,x))),y&&(g._locale=p._locale),tt({condition:r,joins:d,table:p}),t=void 0}let m=t||p;return g[`${T}.${r}${k.name}`]=m[`${r}${k.name}`],{columnName:`${r}${k.name}`,constraints:o,field:k,pathSegments:a,table:m}}throw new e1.H(`Cannot find field for path at ${_}`)},tx=({adapter:e,aliasTable:t,fields:i,joins:r,locale:a,parentIsLocalized:o,rawSort:l,selectFields:d,sort:p,tableName:c})=>{let u=[],h=e.tables[c]?.createdAt;p||(p=h?"-createdAt":"-id"),"string"==typeof p&&(p=[p]);let m="-id";for(let g of(h&&(m="-createdAt"),p.includes(m)||p.includes(m.replace("-",""))||p.push(m),p)){let p,h;"-"===g[0]?(p=g.substring(1),h="desc"):(p=g,h="asc");try{let{columnName:m,table:g}=t_({adapter:e,collectionPath:p,fields:i,joins:r,locale:a,parentIsLocalized:o,pathSegments:p.replace(/__/g,".").split("."),selectFields:d,tableName:c,value:p});if(g?.[m]){let e="asc"===h?eY:eZ;l&&(e=()=>l),u.push({column:t&&c===eX(g)?t[m]:g[m],order:e}),d[m]=g[m]}}catch(e){}}return u};class tS extends W{static [y]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(ex`gen_random_uuid()`)}build(e){return new tE(e,this.config)}}class tE extends G{static [y]="PgUUID";getSQLType(){return"uuid"}}function tk(e){return new tS(e??"")}var tT=i(82053),tA=i(88105);function tC({adapter:e,aliasTable:t,context:i,fields:r,joins:a,locale:o,parentIsLocalized:l,selectFields:d,selectLocale:p,tableName:c,where:u}){let h=[];for(let m of u)if("object"==typeof m){let u=t$({adapter:e,aliasTable:t,context:i,fields:r,joins:a,locale:o,parentIsLocalized:l,selectFields:d,selectLocale:p,tableName:c,where:m});u&&Object.keys(u).length>0&&h.push(u)}return h}function tN(e){return Array.isArray(e)?e:e.indexOf(",")>-1?e.split(","):[e]}let tO={number:"number",serial:"number",text:"text",uuid:"text"},tP=({adapter:e,collection:t})=>t.customIDType??tO[e.idType],tI=Symbol("RawConstraint"),tL=e=>({type:tI,value:e}),tD=e=>e&&"object"==typeof e&&"type"in e&&e.type===tI,tR=({adapter:e,columns:t,field:i,isUUID:r,operator:a,relationOrPath:o,val:l})=>{let d,p=a,c=l;if(!(0,e2.j7)(i))return{operator:p,value:c};if(tD(l))return{operator:p,value:l.value};if(("relationship"===i.type||"upload"===i.type)&&!o.endsWith("relationTo")&&Array.isArray(c)){let t=[];c.forEach(i=>{"uuid"!==e.idType&&"string"==typeof i?t.push(i,parseInt(i)):"string"==typeof i?t.push(i):t.push(i,String(i))}),c=t}if("checkbox"===i.type&&"string"==typeof l&&("true"===l.toLowerCase()&&(c=!0),"false"===l.toLowerCase()&&(c=!1)),["all","in","not_in"].includes(p)&&("string"==typeof c?(c=tN(c),"number"===i.type&&(c=c.map(e=>parseFloat(e)))):"number"==typeof c&&(c=[c]),!Array.isArray(c)))return null;if("number"===i.type&&"string"==typeof c&&Number.isNaN(c=Number(l))&&(c=null),r&&"string"==typeof c&&!e4(l)&&(c=null),"date"===i.type&&"exists"!==p){if("string"==typeof l){if(Number.isNaN(Date.parse(c=new Date(l).toISOString())))return{operator:p,value:void 0}}else"number"==typeof l&&(c=new Date(l).toISOString())}if("relationship"===i.type||"upload"===i.type){if("null"===l)c=null;else if(!(null===c||"boolean"==typeof c)){let r;if("string"==typeof i.relationTo)r=tP({adapter:e,collection:e.payload.collections[i.relationTo]});else{if(e3(l)){if("equals"!==p)throw new e1.H(`Only 'equals' operator is supported for polymorphic relationship object notation. Given - ${p}`);return(r=tP({adapter:e,collection:e.payload.collections[l.relationTo]}),tD(l.value))?{operator:p,value:l.value.value}:{operator:p,value:"number"===r?Number(l.value):String(l.value)}}d=t.map(({idType:e,rawColumn:t})=>{let i;if(Array.isArray(l))i=l.map(t=>{let i;if("number"===e){if(Number.isNaN(i=Number(t)))return null}else{if("uuid"===e&&!e4(t))return null;i=String(t)}return i}).filter(Boolean);else if("number"===e){if(Number.isNaN(i=Number(l)))return null}else i=String(l);return{rawColumn:t,value:i}}).filter(Boolean)}Array.isArray(c)?c=c.map(e=>"number"===r?Number(e):"text"===r?String(e):e):("number"===r&&(c=Number(l)),"text"===r&&(c=String(l)))}}if("hasMany"in i&&i.hasMany&&"contains"===p&&(p="equals"),"near"===p&&"point"===i.type&&"string"==typeof c){let[e,t,i,r]=c.split(",");c=[Number(e),Number(t),Number(i),Number(r)]}return"contains"===p&&(c=`%${c}%`),"exists"===p&&(p=(c="true"===l||!0===l)?"exists":"isNull"),{columns:d,operator:p,value:c}};function t$({adapter:e,aliasTable:t,context:i,fields:r,joins:a,locale:o,parentIsLocalized:l,selectFields:d,selectLocale:p,tableName:c,where:u}){let h;let m=[];if("object"==typeof u&&Object.keys(u).length>0){for(let g of Object.keys(u))if(g){let y;let v=u[g];if("and"===g.toLowerCase()?y=eO:"or"===g.toLowerCase()&&(y=eP),Array.isArray(v)){let u=tC({adapter:e,aliasTable:t,context:i,fields:r,joins:a,locale:o,parentIsLocalized:l,selectFields:d,selectLocale:p,tableName:c,where:v});u.length>0&&(h=y(...u))}else{let h=u[g];if("object"==typeof h){for(let y of Object.keys(h))if(tA.B.has(y)){let h=u[g][y],{columnName:v,columns:b,constraints:w,field:_,getNotNullColumnByValue:x,pathSegments:S,rawColumn:E,table:k}=t_({adapter:e,aliasTable:t,collectionPath:g,fields:r,joins:a,locale:o,parentIsLocalized:l,pathSegments:g.replace(/__/g,".").split("."),selectFields:d,selectLocale:p,tableName:c,value:h});if(w.forEach(({columnName:t,table:i,value:r})=>{"string"==typeof r&&r.indexOf("%")>-1?m.push(e.operators.like(i[t],r)):m.push(e.operators.equals(i[t],r))}),(["json","richText"].includes(_.type)||"blocks"===_.type&&e.blocksAsJSON)&&Array.isArray(S)&&S.length>1){if("postgres"===e.name){let t=e.createJSONQuery({column:E||k[v],operator:y,pathSegments:S,value:h});m.push(ex.raw(t));break}let t=S.slice(1);if(t.unshift(k[v].name),"richText"===_.type){let i=0===a.length?c:a[a.length-1].table[Object.getOwnPropertySymbols(a[a.length-1].table)[0]],r=e.createJSONQuery({operator:y,pathSegments:t,table:i,treatAsArray:["children"],treatRootAsArray:!0,value:h});m.push(ex.raw(r));break}let i=e.convertPathToJSONTraversal(S),r={contains:{operator:"like",wildcard:"%"},equals:{operator:"=",wildcard:""},exists:{operator:!0===h?"is not null":"is null",wildcard:""},in:{operator:"in",wildcard:""},like:{operator:"like",wildcard:"%"},not_equals:{operator:"<>",wildcard:""},not_in:{operator:"not in",wildcard:""},not_like:{operator:"not like",wildcard:"%"}},o=h;o="sqlite"!==e.name||"equals"!==y||isNaN(h)?["in","not_in"].includes(y)&&Array.isArray(h)?`(${h.map(e=>`${e}`).join(",")})`:`'${r[y].wildcard}${h}${r[y].wildcard}'`:h,"exists"===y&&(o="");let l=`${k[v].name}${i}`;"sqlite"===e.name&&"not_like"===y&&(l=`COALESCE(${k[v].name}${i}, '')`);let d=`${l} ${r[y].operator} ${o}`;m.push(ex.raw(d));break}if(x){let e=x(h);if(e)m.push(eF(k[e]));else throw new tT.o([{path:g}]);break}if("like"===y&&("number"===_.type||"PgUUID"===k[v].columnType)&&(y="equals"),"like"===y){m.push(eO(...h.split(" ").map(t=>e.operators.like(k[v],`%${t}%`))));break}let T=tR({adapter:e,columns:b,field:_,isUUID:k?.[v] instanceof tE,operator:y,relationOrPath:g,val:h});if(null===T)break;let{columns:C,operator:N,value:O}=T;if(C){if(!C.length)break;let t=eP;if(null===O&&["equals","not_equals"].includes(y)){"equals"===y&&(t=eO),m.push(t(...C.map(({rawColumn:e})=>"equals"===y?eU(e):eF(e))));break}["not_equals","not_in"].includes(y)&&(t=eO),m.push(t(...C.map(({rawColumn:t,value:i})=>e.operators[N](t,i))));break}let P=E||(t&&c===eX(k)?t[v]:k[v]);if("not_equals"===N&&null!==O){m.push(eP(eU(P),eN(P,O)));break}if(("relationship"===_.type||"upload"===_.type)&&Array.isArray(O)&&"not_in"===y){m.push(ex`(${eM(k[v],O)} OR
                    ${k[v]}
                    IS
                    NULL)`);break}if("equals"===y&&null===O){m.push(eU(P));break}if("not_equals"===y&&null===O){m.push(eF(P));break}if("point"===_.type&&"postgres"===e.name){switch(y){case"intersects":m.push(ex`ST_Intersects(${k[v]}, ST_GeomFromGeoJSON(${JSON.stringify(O)}))`);break;case"near":{let[e,t,r,a]=O,o=[];"number"!=typeof r||Number.isNaN(r)||o.push(ex`ST_DWithin(ST_Transform(${k[v]}, 3857), ST_Transform(ST_SetSRID(ST_MakePoint(${e}, ${t}), 4326), 3857), ${r})`),"number"!=typeof a||Number.isNaN(a)||o.push(ex`ST_Distance(ST_Transform(${k[v]}, 3857), ST_Transform(ST_SetSRID(ST_MakePoint(${e}, ${t}), 4326), 3857)) >= ${a}`),o.length&&(i.sort=g,i.rawSort=ex`${k[v]} <-> ST_SetSRID(ST_MakePoint(${e}, ${t}), 4326)`,m.push(eO(...o)));break}case"within":m.push(ex`ST_Within(${k[v]}, ST_GeomFromGeoJSON(${JSON.stringify(O)}))`)}break}let I=[],L=O;"in"===y&&Array.isArray(O)&&O.some(e=>null===e)&&(I.push(eU(P)),L=O.filter(e=>null!==e));let D=e.operators[N](P,L);I.length&&(I.push(D),D=eP(...I)),m.push(D)}}}}}return m.length>0&&(h=h?eO(h,...m):eO(...m)),1!==m.length||h||([h]=m),h}let tj=function({adapter:e,aliasTable:t,fields:i,joins:r=[],locale:a,parentIsLocalized:o,selectLocale:l,sort:d,tableName:p,where:c}){let u;let h={id:e.tables[p].id},m={sort:d};c&&Object.keys(c).length>0&&(u=t$({adapter:e,aliasTable:t,context:m,fields:i,joins:r,locale:a,parentIsLocalized:o,selectFields:h,selectLocale:l,tableName:p,where:c}));let g=tx({adapter:e,aliasTable:t,fields:i,joins:r,locale:a,parentIsLocalized:o,rawSort:m.rawSort,selectFields:h,sort:m.sort,tableName:p});return{joins:r,orderBy:g,selectFields:h,where:u}},tM=({adapter:e,db:t,joins:i,query:r=({query:e})=>e,selectFields:a,tableName:o,where:l})=>{if(Object.keys(i).length>0){let d;let p=e.tables[o];return"postgres"===e.name&&(d=t.selectDistinct(a).from(p).$dynamic()),"sqlite"===e.name&&(d=t.selectDistinct(a).from(p).$dynamic()),l&&(d=d.where(l)),i.forEach(({condition:e,table:t})=>{d=d.leftJoin(t,e)}),r({query:d})}},tU=e=>{let t={};return Object.entries(e).forEach(([i,r])=>{if(i.startsWith("_blocks_")&&Array.isArray(r)){let a=i.replace("_blocks_",""),o=a.split("_");2===o.length&&Number.isInteger(Number(o[1]))&&(a=o[0]),r.forEach(e=>{"_path"in e&&(e._path in t||(t[e._path]=[]),e.blockType=a,t[e._path].push(e),delete e._path)}),delete e[i]}}),Object.entries(t).reduce((e,[t,i])=>(e[t]=i.sort((e,t)=>"number"==typeof e._order&&"number"==typeof t._order?e._order-t._order:0),e),{}),t},tF=e=>{let t={};return Array.isArray(e)&&(t=e.reduce((e,t)=>{let i={...t};return delete i.path,e[t.path]||(e[t.path]=[]),e[t.path].push(t),e},{})),t},tB=({field:e,path:t,tableName:i})=>e.dbName&&t.length>63?`_${i}`:t,tz=({field:e,locale:t,numberRows:i,ref:r,withinArrayOrBlockLocale:a})=>{let o;o=a?i.reduce((e,{locale:t,number:i})=>(t===a&&("string"==typeof i&&(i=Number(i)),e.push(i)),e),[]):i.map(({number:e})=>("string"==typeof e&&(e=Number(e)),e)),t?r[e.name][t]=o:r[e.name]=o},tq=({field:e,locale:t,ref:i,textRows:r,withinArrayOrBlockLocale:a})=>{let o;o=a?r.reduce((e,{locale:t,text:i})=>(t===a&&e.push(i),e),[]):r.map(({text:e})=>e),t?i[e.name][t]=o:i[e.name]=o},tV=({field:e,locale:t,ref:i,relations:r,withinArrayOrBlockLocale:a})=>{let o;if("hasMany"in e&&!1!==e.hasMany){let t=[];r.forEach(i=>{let r=!0;if(a&&(r=i.locale===a),Array.isArray(e.relationTo)){let e=Object.entries(i).find(([e,t])=>null!==t&&!["id","locale","order","parent","path"].includes(e)&&r);if(e){let i=e[0].replace("ID","");t.push({relationTo:i,value:e[1]})}}else{let a=i[`${e.relationTo}ID`];a&&r&&t.push(a)}}),o=t}else{let t=r[0];if(a&&(t=r.find(e=>e.locale===a)),t&&Array.isArray(e.relationTo)){let e=Object.entries(t).find(([e,t])=>null!==t&&!["id","locale","order","parent","path"].includes(e));e&&(o={relationTo:e[0].replace("ID",""),value:e[1]})}}t?i[e.name][t]=o:i[e.name]=o},tH=({adapter:e,blocks:t,config:i,currentTableName:r,dataRef:a,deletions:o,fieldPrefix:l,fields:d,joinQuery:p,numbers:c,parentIsLocalized:u,path:h,relationships:m,table:g,tablePath:y,texts:v,topLevelTableName:b,withinArrayOrBlockLocale:w})=>{let _=h?`${h}.`:h,x=e.payload.config.localization&&e.payload.config.localization.localeCodes,S=d.reduce((a,d)=>{if((0,e2.o)(d))return a;let h=`${l||""}${d.name}`,S=g[h],E={},k=[];l&&o.push(()=>delete g[h]);let T=(0,e2.iD)({field:d,parentIsLocalized:u});if("array"===d.type){let l=e.tableNameMap.get(`${r}_${y}${eQ(d.name)}`);return Array.isArray(S=g[tB({field:d,path:h,tableName:l})])&&(T?a[d.name]=S.reduce((r,a)=>{if("string"==typeof a._locale){r[a._locale]||(r[a._locale]=[]);let p=a._locale,h={};delete a._locale,a._uuid&&(a.id=a._uuid,delete a._uuid);let g=tH({adapter:e,blocks:t,config:i,currentTableName:l,dataRef:h,deletions:o,fieldPrefix:"",fields:d.flattenedFields,numbers:c,parentIsLocalized:u||d.localized,path:`${_}${d.name}.${a._order-1}`,relationships:m,table:a,tablePath:"",texts:v,topLevelTableName:b,withinArrayOrBlockLocale:p});"_order"in g&&delete g._order,r[p].push(g)}return r},{}):a[d.name]=S.reduce((r,a,p)=>(a._uuid&&(a.id=a._uuid,delete a._uuid),"_order"in a&&delete a._order,(!w||w&&w===a._locale)&&(a._locale&&delete a._locale,r.push(tH({adapter:e,blocks:t,config:i,currentTableName:l,dataRef:a,deletions:o,fieldPrefix:"",fields:d.flattenedFields,numbers:c,parentIsLocalized:u||d.localized,path:`${_}${d.name}.${p}`,relationships:m,table:a,tablePath:"",texts:v,topLevelTableName:b,withinArrayOrBlockLocale:w}))),r),[])),a}if("blocks"===d.type&&!e.blocksAsJSON){let r=`${_}${d.name}`,l=t[r];if(Array.isArray(l)){if(T)a[d.name]={},l.forEach(e=>{e._uuid&&(e.id=e._uuid,delete e._uuid),"string"==typeof e._locale&&(a[d.name][e._locale]||(a[d.name][e._locale]=[]),a[d.name][e._locale].push(e),delete e._locale)}),Object.entries(a[d.name]).forEach(([l,p])=>{a[d.name][l]=p.map(a=>{let p=e.payload.blocks[a.blockType]??(d.blockReferences??d.blocks).find(e=>"string"!=typeof e&&e.slug===a.blockType),h=te(p,e.tableNameMap.get(`${b}_blocks_${eQ(p.slug)}`));if(p){let g=tH({adapter:e,blocks:t,config:i,currentTableName:h,dataRef:a,deletions:o,fieldPrefix:"",fields:p.flattenedFields,numbers:c,parentIsLocalized:u||d.localized,path:`${r}.${a._order-1}`,relationships:m,table:a,tablePath:"",texts:v,topLevelTableName:b,withinArrayOrBlockLocale:l});return delete g._order,g}return{}})});else{if(w&&i.localization)for(let e of i.localization.localeCodes){let t=0;for(let i=0;i<l.length;i++){let r=l[i];r._locale===e&&(r._index=t,t++)}}a[d.name]=l.reduce((a,l,p)=>{if(delete l._order,l._uuid&&(l.id=l._uuid,delete l._uuid),"string"!=typeof l.blockType)return a;let h=e.payload.blocks[l.blockType]??(d.blockReferences??d.blocks).find(e=>"string"!=typeof e&&e.slug===l.blockType);if(h){if(!w||w&&w===l._locale){l._locale&&delete l._locale,"number"==typeof l._index&&(p=l._index,delete l._index);let g=te(h,e.tableNameMap.get(`${b}_blocks_${eQ(h.slug)}`));a.push(tH({adapter:e,blocks:t,config:i,currentTableName:g,dataRef:l,deletions:o,fieldPrefix:"",fields:h.flattenedFields,numbers:c,parentIsLocalized:u||d.localized,path:`${r}.${p}`,relationships:m,table:l,tablePath:"",texts:v,topLevelTableName:b,withinArrayOrBlockLocale:w}))}}else a.push({});return a},[])}}return a}if("relationship"===d.type||"upload"===d.type){if("string"!=typeof d.relationTo||"hasMany"in d&&d.hasMany){let e=m[`${_}${d.name}`];if(!e)return"hasMany"in d&&d.hasMany&&(T&&i.localization&&i.localization.locales?a[d.name]={[i.localization.defaultLocale]:[]}:a[d.name]=[]),a;if(T){a[d.name]={};let t={};e.forEach(e=>{"string"==typeof e.locale&&(t[e.locale]||(t[e.locale]=[]),t[e.locale].push(e))}),Object.entries(t).forEach(([e,t])=>{tV({field:d,locale:e,ref:a,relations:t})})}else tV({field:d,ref:a,relations:e,withinArrayOrBlockLocale:w});return a}T&&i.localization&&i.localization.locales&&Array.isArray(g?._locales)?g._locales.forEach(e=>{a[d.name]={[e._locale]:e[h]}}):k.push({ref:a,table:g})}if("join"===d.type){let t;let{count:i,limit:r=d.defaultLimit??10}=p?.[`${l.replaceAll("_",".")}${d.name}`]||{};if("string"==typeof S&&(S=JSON.parse(S)),Array.isArray(S)){if(T&&e.payload.config.localization)Object.keys(t=S.reduce((e,t)=>("string"==typeof t.locale&&e[t.locale].docs.push(t.id),e),e.payload.config.localization.localeCodes.reduce((e,t)=>(e[t]={docs:[],hasNextPage:!1},e),{}))).forEach(e=>{t[e].hasNextPage=t[e].docs.length>r,t[e].docs=t[e].docs.slice(0,r)});else{let e=0!==r&&S.length>r;t={docs:(e?S.slice(0,r):S).map(({id:e,relationTo:t})=>t?{relationTo:t,value:e}:{id:e}),hasNextPage:e}}}if(i){let e=`${h}_count`;if(void 0!==g[e]){let i=Number(g[e]);Number.isNaN(i)&&(i=0),t.totalDocs=i}}return a[d.name]=t,a}if("text"===d.type&&d?.hasMany){let e=v[`${_}${d.name}`];if(!e)return a[d.name]=T&&x?Object.fromEntries(x.map(e=>[e,[]])):[],a;if(T){a[d.name]={};let t={};e.forEach(e=>{"string"==typeof e.locale&&(t[e.locale]||(t[e.locale]=[]),t[e.locale].push(e))}),Object.entries(t).forEach(([e,t])=>{tq({field:d,locale:e,ref:a,textRows:t})})}else tq({field:d,ref:a,textRows:e,withinArrayOrBlockLocale:w});return a}if("number"===d.type&&d.hasMany){let e=c[`${_}${d.name}`];if(!e)return a[d.name]=T&&x?Object.fromEntries(x.map(e=>[e,[]])):[],a;if(T){a[d.name]={};let t={};e.forEach(e=>{"string"==typeof e.locale&&(t[e.locale]||(t[e.locale]=[]),t[e.locale].push(e))}),Object.entries(t).forEach(([e,t])=>{tz({field:d,locale:e,numberRows:t,ref:a})})}else tz({field:d,numberRows:e,ref:a,withinArrayOrBlockLocale:w});return a}if("select"===d.type&&d.hasMany){if(Array.isArray(S)){if(T)a[d.name]=S.reduce((e,t)=>("string"==typeof t.locale&&(e[t.locale]||(e[t.locale]=[]),e[t.locale].push(t.value)),e),{});else{let e=S;w&&(e=e.filter(({locale:e})=>e===w)),a[d.name]=e.map(({value:e})=>e)}}return a}return T&&Array.isArray(g._locales)?(!g._locales.length&&x&&x.forEach(e=>g._locales.push({_locale:e})),g._locales.forEach(e=>{k.push({ref:E,table:{...g,...e}})})):k.push({ref:a,table:g}),k.forEach(({ref:h,table:g})=>{let x=g[`${l||""}${d.name}`],S=g?._locale,E=x;switch(d.type){case"date":"string"==typeof x&&(E=new Date(x).toISOString());break;case"group":case"tab":{let a=`${l||""}${d.name}_`,x={},S=g._locale,E=T&&S?S:d.name;T&&S&&delete g._locale,h[E]=tH({adapter:e,blocks:t,config:i,currentTableName:r,dataRef:x,deletions:o,fieldPrefix:a,fields:d.flattenedFields,joinQuery:p,numbers:c,parentIsLocalized:u||d.localized,path:`${_}${d.name}`,relationships:m,table:g,tablePath:`${y}${eQ(d.name)}_`,texts:v,topLevelTableName:b,withinArrayOrBlockLocale:S||w});return}case"number":"string"==typeof x&&(E=Number.parseFloat(x));break;case"point":"string"==typeof x&&(E=JSON.parse(x));break;case"relationship":case"upload":E&&"string"==typeof d.relationTo&&"number"===e.payload.collections[d.relationTo].customIDType&&(E=Number(E));break;case"text":"string"==typeof x&&(E=String(x))}"string"==typeof S?h[S]=E:a[d.name]=E}),Object.keys(E).length>0&&(a[d.name]=E),a},a);return Array.isArray(g._locales)&&o.push(()=>delete g._locales),S},tW=({adapter:e,config:t,data:i,fields:r,joinQuery:a,parentIsLocalized:o,tableName:l})=>{let d={},p={},c={};"_rels"in i&&(d=tF(i._rels),delete i._rels),"_texts"in i&&(p=tF(i._texts),delete i._texts),"_numbers"in i&&(c=tF(i._numbers),delete i._numbers);let u=tU(i),h=[],m=tH({adapter:e,blocks:u,config:t,currentTableName:l,dataRef:{id:i.id},deletions:h,fieldPrefix:"",fields:r,joinQuery:a,numbers:c,parentIsLocalized:o,path:"",relationships:d,table:i,tablePath:"",texts:p,topLevelTableName:l});return h.forEach(e=>e()),m},tG=async(e,t)=>t?.transactionID&&e.sessions[await t.transactionID]?.db||e.drizzle;var tK=i(60174);function tJ(e){return ex`count(${e||ex.raw("*")})`.mapWith(Number)}var tQ=i(5329),tY=i(92242),tZ=i(51386),tX=i(64725);function t1(e,t){return"sqlite"===e.name?ex`coalesce(json_group_array(${t}), '[]')`:ex`coalesce(json_agg(${t}), '[]'::json)`}function t0(e,t){let i=[];return(Object.entries(t).forEach(([e,t])=>{i.length>0&&i.push(ex.raw(",")),i.push(ex.raw(`'${e}',`)),i.push(ex`${t}`)}),"sqlite"===e.name)?ex`json_object(${ex.join(i)})`:ex`json_build_object(${ex.join(i)})`}let t2=(e,t)=>t1(e,t0(e,t)),t6=(e,t)=>{for(let i in e)if(["AND","OR"].includes(i.toUpperCase())){if(Array.isArray(e[i]))for(let r of e[i])t6(r,t)}else t.push(i.split(".").join("_"))},t4=(e,t)=>{for(let i in e)if(["AND","OR"].includes(i.toUpperCase())){if(Array.isArray(e[i])){let r="AND"===i.toUpperCase()?eO:eP,a=[];for(let r of e[i])a.push(t4(r,t));return r(...a)}}else{let r=Object.keys(e[i])[0],a=e[i][r];return eJ[r](ex.raw(`"${t}"."${i.split(".").join("_")}"`),a)}},t3=({_locales:e,adapter:t,collectionSlug:i,currentArgs:r,currentTableName:a,depth:o,draftsEnabled:l,fields:d,joinQuery:p={},joins:c,locale:u,parentIsLocalized:h=!1,path:m,select:g,selectAllOnCurrentLevel:y=!1,selectMode:v,tablePath:b,topLevelArgs:w,topLevelTableName:_,versions:x,withTabledFields:S})=>(d.forEach(d=>{if((0,e2.o)(d))return;let E=(0,e2.iD)({field:d,parentIsLocalized:h});switch(o>0&&("upload"===d.type||"relationship"===d.type)&&!d.hasMany&&"string"==typeof d.relationTo&&(E?e.with[`${m}${d.name}`]=!0:r.with[`${m}${d.name}`]=!0),d.type){case"array":{let e=!!y||g?.[d.name];if(g&&("include"===v&&void 0===e||"exclude"===v&&!1===e))break;let i={columns:"object"==typeof e?{id:!0,_order:!0}:{_parentID:!1},orderBy:({_order:e},{asc:t})=>[t(e)],with:{}},c=t.tableNameMap.get(`${a}_${b}${eQ(d.name)}`);"object"==typeof e&&(t.tables[c]._locale&&(i.columns._locale=!0),t.tables[c]._uuid&&(i.columns._uuid=!0));let x=`${c}${t.localesSuffix}`;t.tables[x]&&(i.with._locales={columns:"object"==typeof e?{_locale:!0}:{id:!1,_parentID:!1},with:{}});let E=tB({field:d,path:`${m}${d.name}`,tableName:c});r.with[E]=i,t3({_locales:i.with._locales,adapter:t,currentArgs:i,currentTableName:c,depth:o,draftsEnabled:l,fields:d.flattenedFields,joinQuery:p,locale:u,parentIsLocalized:h||d.localized,path:"",select:"object"==typeof e?e:void 0,selectMode:v,tablePath:"",topLevelArgs:w,topLevelTableName:_,withTabledFields:S}),"object"==typeof e&&i.with._locales&&1===Object.keys(i.with._locales).length&&delete i.with._locales;break}case"blocks":{let i=!!y||g?.[d.name];if(g&&("include"===v&&!i||"exclude"===v&&!1===i))break;if(t.blocksAsJSON){if(g||y){let i=`${m}${d.name}`;(E||h)&&e?e.columns[i]=!0:t.tables[a]?.[i]&&(r.columns[i]=!0)}break}(d.blockReferences??d.blocks).forEach(e=>{let r;let a="string"==typeof e?t.payload.blocks[e]:e,c=`_blocks_${a.slug}${a[e9]?`_${a[e9]}`:""}`,m=v;if("include"===v&&!0===i&&(r=!0),"object"==typeof i&&("object"==typeof i[a.slug]?r=i[a.slug]:"include"===v&&void 0===i[a.slug]||"exclude"===v&&!1===i[a.slug]?(r={},m="include"):"include"===v&&!0===i[a.slug]&&(r=!0)),!w[c]){let e={columns:"object"==typeof r?{id:!0,_order:!0,_path:!0}:{_parentID:!1},orderBy:({_order:e},{asc:t})=>[t(e)],with:{}},i=te(a,t.tableNameMap.get(`${_}_blocks_${eQ(a.slug)}`));"object"==typeof r&&(t.tables[i]._locale&&(e.columns._locale=!0),t.tables[i]._uuid&&(e.columns._uuid=!0)),t.tables[`${i}${t.localesSuffix}`]&&(e.with._locales={with:{}},"object"==typeof r&&(e.with._locales.columns={_locale:!0})),w.with[c]=e,t3({_locales:e.with._locales,adapter:t,currentArgs:e,currentTableName:i,depth:o,draftsEnabled:l,fields:a.flattenedFields,joinQuery:p,locale:u,parentIsLocalized:h||d.localized,path:"",select:"object"==typeof r?r:void 0,selectMode:m,tablePath:"",topLevelArgs:w,topLevelTableName:_,withTabledFields:S}),"object"==typeof r&&e.with._locales&&1===Object.keys(e.with._locales.columns).length&&delete e.with._locales}});break}case"group":case"tab":{let E=g?.[d.name];if(!1===E)break;t3({_locales:e,adapter:t,collectionSlug:i,currentArgs:r,currentTableName:a,depth:o,draftsEnabled:l,fields:d.flattenedFields,joinQuery:p,joins:c,locale:u,parentIsLocalized:h||d.localized,path:`${m}${d.name}_`,select:"object"==typeof E?E:void 0,selectAllOnCurrentLevel:y||!0===E||"exclude"===v&&void 0===E,selectMode:v,tablePath:`${b}${eQ(d.name)}_`,topLevelArgs:w,topLevelTableName:_,versions:x,withTabledFields:S});break}case"join":{if(!1===p||g&&"include"===v&&!g[d.name]||"exclude"===v&&!1===g[d.name])break;let e=`${m.replaceAll("_",".")}${d.name}`;if(!1===p[e])break;let{count:o=!1,limit:c=d.defaultLimit??10,page:y,sort:b=d.defaultSort,where:w}=p[e]||{},_=c;0!==_&&(_+=1);let S=`${m.replaceAll(".","_")}${d.name}`,E=t.drizzle;if(Array.isArray(d.collection)){let e=null,i=d.on.split(".").join("_");if(Array.isArray(b))throw Error("Not implemented");let l=b;l||(l=d.collection.some(e=>t.payload.collections[e].config.fields.some(e=>"date"===e.type&&"createdAt"===e.name))?"-createdAt":"id");let p=l.startsWith("-")?eZ:eY,c=(l=l.replace("-","")).split(".").join("_"),u=[];for(let r of(w&&t6(w,u),d.collection)){let a=t.tableNameMap.get(eQ(r)),o=t.tables[a][c],l={id:t.tables[a].id,parent:ex`${t.tables[a][i]}`.as(i),relationTo:ex`${r}`.as("relationTo"),sortPath:ex`${o||null}`.as("sortPath")};for(let e of u)t.tables[a][e]?l[e]=ex`${t.tables[a][e]}`.as(e):"relationTo"!==e&&(l[e]=ex`null`.as(e));let d=E.select(l).from(t.tables[a]);e=null===e?d:e.unionAll(d)}let h=`${S}_subquery`,m=eC(ex.raw(`"${a}"."id"`),ex.raw(`"${h}"."${i}"`));if(w&&Object.keys(w).length>0&&(m=eO(m,t4(w,h))),o&&(r.extras[`${S}_count`]=ex`${E.select({count:tJ()}).from(ex`${e.as(h)}`).where(m)}`.as(`${S}_count`)),e=e.orderBy(p(ex`"sortPath"`)),y&&0!==_){let t=(y-1)*_;t>0&&(e=e.offset(t))}_&&(e=e.limit(_)),r.extras[S]=ex`${E.select({id:t2(t,{id:ex.raw(`"${h}"."id"`),relationTo:ex.raw(`"${h}"."relationTo"`)})}).from(ex`${e.as(h)}`).where(m)}`.as(S)}else{let e;let p=(x||l)&&!!t.payload.collections[d.collection].config.versions.drafts,c=p?(0,tQ.w)(t.payload.config,t.payload.collections[d.collection].config,!0):t.payload.collections[d.collection].config.flattenedFields,g=t.tableNameMap.get(p?`_${eQ(d.collection)}${t.versionsSuffix}`:eQ(d.collection)),v=[],S=x?t.tables[a].parent:t.tables[a].id,k=ex.raw(`"${eX(S.table)}"."${S.name}"`);e=Array.isArray(d.targetField.relationTo)?{[d.on]:{equals:{relationTo:i,value:tL(k)}}}:{[d.on]:{equals:tL(k)}},w&&Object.keys(w).length&&(e={and:[e,w]}),p&&(e=(0,tY.W)((0,tZ.g)(e),{latest:{equals:!0}}));let T=`${m.replaceAll(".","_")}${d.name}`,C=`${T}_alias`,{newAliasTable:N}=tw({adapter:t,tableName:g}),{orderBy:O,selectFields:P,where:I}=tj({adapter:t,aliasTable:N,fields:c,joins:v,locale:u,parentIsLocalized:h,selectLocale:!0,sort:p?(0,tX.u)({collectionConfig:t.payload.collections[d.collection].config,sort:b}):b,tableName:g,where:e});for(let e in P){let t=P[e];t.table&&eX(t.table)===g&&(delete P[e],P[e=e.split(".").pop()]=N[e])}p&&(P.parent=N.parent);let L=E.select(P).from(N).where(I).orderBy(()=>O.map(({column:e,order:t})=>t(e))).$dynamic();if(v.forEach(({type:e,condition:t,table:i})=>{L=L[e??"leftJoin"](i,t)}),y&&0!==_){let e=(y-1)*_-1;e>0&&(L=L.offset(e))}0!==_&&(L=L.limit(_));let D=L.as(C);o&&(r.extras[`${T}_count`]=ex`${E.select({count:tJ()}).from(ex`${E.select(P).from(N).where(I).as(`${C}_count_subquery`)}`)}`.as(`${C}_count`)),r.extras[T]=ex`${E.select({result:t2(t,{id:ex.raw(`"${C}".${p?"parent_id":"id"}`),...P._locale&&{locale:ex.raw(`"${C}".${P._locale.name}`)}})}).from(ex`${D}`)}`.as(C)}break}case"point":{if("sqlite"===t.name)break;let i=E?e:r;i.columns||(i.columns={}),i.extras||(i.extras={});let a=`${m}${d.name}`;i.columns[a]=!1;let o=!1;g||y?(y||"include"===v&&!0===g[d.name]||"exclude"===v&&void 0===g[d.name])&&(o=!0):o=!0,o&&(i.extras[a]=ex.raw(`ST_AsGeoJSON(${eQ(a)})::jsonb`).as(a));break}case"select":if(g&&!y&&("include"===v&&!g[d.name]||"exclude"===v&&!1===g[d.name]))break;if(d.hasMany){let e={columns:{id:!1,order:!1,parent:!1},orderBy:({order:e},{asc:t})=>[t(e)]};r.with[`${m}${d.name}`]=e;break}if(g||y){let i=`${m}${d.name}`;(E||h)&&e?e.columns[i]=!0:t.tables[a]?.[i]&&(r.columns[i]=!0)}break;default:if(!g&&!y)break;if(y||"include"===v&&!0===g[d.name]||"exclude"===v&&void 0===g[d.name]){let i=`${m}${d.name}`;(E||h)&&e?e.columns[i]=!0:t.tables[a]?.[i]&&(r.columns[i]=!0),!S.rels&&("relationship"===d.type||"upload"===d.type)&&(d.hasMany||Array.isArray(d.relationTo))&&(S.rels=!0),!S.numbers&&"number"===d.type&&d.hasMany&&(S.numbers=!0),!S.texts&&"text"===d.type&&d.hasMany&&(S.texts=!0)}}}),w),t5=({adapter:e,collectionSlug:t,depth:i,draftsEnabled:r,fields:a,joinQuery:o,joins:l=[],locale:d,select:p,tableName:c,versions:u})=>{let h={extras:{},with:{}};p&&(h.columns={id:!0});let m={columns:p?{_locale:!0}:{id:!1,_parentID:!1},extras:{},with:{}},g=p?{}:{numbers:!0,rels:!0,texts:!0};return t3({_locales:m,adapter:e,collectionSlug:t,currentArgs:h,currentTableName:c,depth:i,draftsEnabled:r,fields:a,joinQuery:o,joins:l,locale:d,path:"",select:p,selectMode:p?(0,tK.t)(p):void 0,tablePath:"",topLevelArgs:h,topLevelTableName:c,versions:u,withTabledFields:g}),e.tables[`${c}_texts`]&&g.texts&&(h.with._texts={columns:{id:!1,parent:!1},orderBy:({order:e},{asc:t})=>[t(e)]}),e.tables[`${c}_numbers`]&&g.numbers&&(h.with._numbers={columns:{id:!1,parent:!1},orderBy:({order:e},{asc:t})=>[t(e)]}),e.tables[`${c}${e.relationshipsSuffix}`]&&g.rels&&(h.with._rels={columns:{id:!1,parent:!1},orderBy:({order:e},{asc:t})=>[t(e)]}),e.tables[`${c}${e.localesSuffix}`]&&(!p||Object.keys(m.columns).length>1)&&(h.with._locales=m),h},t8=async function({adapter:e,collectionSlug:t,draftsEnabled:i,fields:r,joins:a,limit:o,locale:l,page:d=1,pagination:p,req:c,select:u,skip:h,sort:m,tableName:g,versions:y,where:v}){let b,w,_,x,S,E;let k=await tG(e,c),T=o,C=h||(d-1)*T;0===T&&(p=!1,T=void 0);let{joins:N,orderBy:O,selectFields:P,where:I}=tj({adapter:e,fields:r,locale:l,sort:m,tableName:g,where:v}),L={},D=t5({adapter:e,collectionSlug:t,depth:0,draftsEnabled:i,fields:r,joinQuery:a,joins:N,locale:l,select:u,tableName:g,versions:y});if(O)for(let e in P){let t=P[e];t&&!t.primary&&(O.some(e=>e.column.name===t.name&&eX(e.column.table)===eX(t.table))||delete P[e])}let R=await tM({adapter:e,db:k,joins:N,query:({query:e})=>(O&&(e=e.orderBy(()=>O.map(({column:e,order:t})=>t(e)))),e.offset(C).limit(T)),selectFields:P,tableName:g,where:I});if(R){if(0===R.length)return{docs:[],hasNextPage:!1,hasPrevPage:!1,limit:T,nextPage:null,page:1,pagingCounter:0,prevPage:null,totalDocs:0,totalPages:0};R.forEach(({id:e},t)=>{L[e]=t}),E=Object.keys(L),D.where=ej(e.tables[g].id,E)}else D.limit=T,D.offset=C,D.orderBy=()=>O.map(({column:e,order:t})=>t(e)),I&&(D.where=I);let $=k.query[g].findMany(D);!1!==p&&(!E||E?.length<=T)&&(b=await e.countDistinct({db:k,joins:N,tableName:g,where:I}),w="number"==typeof T&&0!==T?Math.ceil(b/T):1,_=d>1,x=w>d,S=(d-1)*T+1);let j=await $;return Object.keys(L).length>0&&j.sort((e,t)=>L[e.id]-L[t.id]),!1!==p&&b||(b=j.length,w=1,S=1,_=!1,x=!1),{docs:j.map(t=>tW({adapter:e,config:e.payload.config,data:t,fields:r,joinQuery:a,tableName:g})),hasNextPage:x,hasPrevPage:_,limit:o,nextPage:x?d+1:null,page:d,pagingCounter:S,prevPage:_?d-1:null,totalDocs:b,totalPages:w}};var t9=i(96497);function t7(e){return Array.isArray(e)}let ie=({adapter:e,arrayTableName:t,baseTableName:i,blocks:r,blocksToDelete:a,data:o,field:l,locale:d,numbers:p,numbersToDelete:c,parentIsLocalized:u,path:h,relationships:m,relationshipsToDelete:g,selects:y,texts:v,textsToDelete:b,withinArrayOrBlockLocale:w})=>{let _=[],x=e.tables[t]._uuid;return t7(o)&&o.forEach((o,S)=>{let E={arrays:{},locales:{},row:{_order:S+1}};x&&(E.row._uuid=o.id,delete o.id),d&&(E.locales[d]={_locale:d}),(0,e2.iD)({field:l,parentIsLocalized:u})&&d&&(E.row._locale=d),w&&(E.row._locale=w),io({adapter:e,arrays:E.arrays,baseTableName:i,blocks:r,blocksToDelete:a,columnPrefix:"",data:o,fieldPrefix:"",fields:l.flattenedFields,insideArrayOrBlock:!0,locales:E.locales,numbers:p,numbersToDelete:c,parentIsLocalized:u||l.localized,parentTableName:t,path:`${h||""}${l.name}.${S}.`,relationships:m,relationshipsToDelete:g,row:E.row,selects:y,texts:v,textsToDelete:b,withinArrayOrBlockLocale:w}),_.push(E)}),_},it=({adapter:e,baseTableName:t,blocks:i,blocksToDelete:r,data:a,field:o,locale:l,numbers:d,numbersToDelete:p,parentIsLocalized:c,path:u,relationships:h,relationshipsToDelete:m,selects:g,texts:y,textsToDelete:v,withinArrayOrBlockLocale:b})=>{a.forEach((a,w)=>{if("string"!=typeof a.blockType)return;let _=e.payload.blocks[a.blockType]??(o.blockReferences??o.blocks).find(e=>"string"!=typeof e&&e.slug===a.blockType);if(!_)return;let x=eQ(a.blockType),S={arrays:{},locales:{},row:{_order:w+1,_path:`${u}${o.name}`}};(0,e2.iD)({field:o,parentIsLocalized:c})&&l&&(S.row._locale=l),b&&(S.row._locale=b);let E=te(_,e.tableNameMap.get(`${t}_blocks_${x}`));i[E]||(i[E]=[]),e.tables[E]._uuid&&(S.row._uuid=a.id,delete a.id),io({adapter:e,arrays:S.arrays,baseTableName:t,blocks:i,blocksToDelete:r,columnPrefix:"",data:a,fieldPrefix:"",fields:_.flattenedFields,insideArrayOrBlock:!0,locales:S.locales,numbers:d,numbersToDelete:p,parentIsLocalized:c||o.localized,parentTableName:E,path:`${u||""}${o.name}.${w}.`,relationships:h,relationshipsToDelete:m,row:S.row,selects:g,texts:y,textsToDelete:v,withinArrayOrBlockLocale:b}),i[E].push(S)})},ii=({baseRow:e,data:t,numbers:i})=>{t.forEach((t,r)=>{i.push({...e,number:t,order:r+1})})},ir=({baseRow:e,data:t,field:i,relationships:r})=>{(Array.isArray(t)?t:[t]).forEach((t,a)=>{if(t){let o={...e};"hasMany"in i&&i.hasMany&&(o.order=a+1),Array.isArray(i.relationTo)&&(0,e2.jD)(t)?(o[`${t.relationTo}ID`]=t.value,r.push(o)):"string"==typeof i.relationTo&&(o[`${i.relationTo}ID`]=t,t&&r.push(o))}})},ia=({id:e,data:t,locale:i})=>{let r=[];return t7(t)&&t.forEach((t,a)=>{let o={order:a+1,parent:e,value:t};i&&(o.locale=i),r.push(o)}),r},is=({baseRow:e,data:t,texts:i})=>{t.forEach((t,r)=>{i.push({...e,order:r+1,text:t})})},io=({adapter:e,arrays:t,baseTableName:i,blocks:r,blocksToDelete:a,columnPrefix:o,data:l,existingLocales:d,fieldPrefix:p,fields:c,forcedLocale:u,insideArrayOrBlock:h=!1,locales:m,numbers:g,numbersToDelete:y,parentIsLocalized:v,parentTableName:b,path:w,relationships:_,relationshipsToDelete:x,row:S,selects:E,texts:k,textsToDelete:T,withinArrayOrBlockLocale:C})=>{S._uuid&&(l._uuid=S._uuid),c.forEach(c=>{let N,O="",P="";if((0,e2.o)(c))return;O=`${o||""}${eQ(c.name)}`,P=`${p||""}${c.name}`,N=l[c.name];let I=(0,e2.iD)({field:c,parentIsLocalized:v});if("array"===c.type){let o=e.tableNameMap.get(`${b}_${O}`);if(t[o]||(t[o]=[]),I)"object"==typeof l[c.name]&&null!==l[c.name]&&Object.entries(l[c.name]).forEach(([l,d])=>{if(Array.isArray(d)){let p=ie({adapter:e,arrayTableName:o,baseTableName:i,blocks:r,blocksToDelete:a,data:d,field:c,locale:l,numbers:g,numbersToDelete:y,parentIsLocalized:v||c.localized,path:w,relationships:_,relationshipsToDelete:x,selects:E,texts:k,textsToDelete:T,withinArrayOrBlockLocale:l});t[o]=t[o].concat(p)}});else{let d=ie({adapter:e,arrayTableName:o,baseTableName:i,blocks:r,blocksToDelete:a,data:l[c.name],field:c,numbers:g,numbersToDelete:y,parentIsLocalized:v||c.localized,path:w,relationships:_,relationshipsToDelete:x,selects:E,texts:k,textsToDelete:T,withinArrayOrBlockLocale:C});t[o]=t[o].concat(d)}return}if("blocks"===c.type&&!e.blocksAsJSON){(c.blockReferences??c.blocks).forEach(t=>{let r="string"==typeof t?e.payload.config.blocks.find(e=>e.slug===t):t;a.add(te(r,e.tableNameMap.get(`${i}_blocks_${eQ(r.slug)}`)))}),I?"object"==typeof l[c.name]&&null!==l[c.name]&&Object.entries(l[c.name]).forEach(([t,o])=>{Array.isArray(o)&&it({adapter:e,baseTableName:i,blocks:r,blocksToDelete:a,data:o,field:c,locale:t,numbers:g,numbersToDelete:y,parentIsLocalized:v||c.localized,path:w,relationships:_,relationshipsToDelete:x,selects:E,texts:k,textsToDelete:T,withinArrayOrBlockLocale:t})}):t7(N)&&it({adapter:e,baseTableName:i,blocks:r,blocksToDelete:a,data:N,field:c,numbers:g,numbersToDelete:y,parentIsLocalized:v||c.localized,path:w,relationships:_,relationshipsToDelete:x,selects:E,texts:k,textsToDelete:T,withinArrayOrBlockLocale:C});return}if("group"===c.type||"tab"===c.type){if("object"==typeof l[c.name]&&null!==l[c.name]){if(I)Object.entries(l[c.name]).forEach(([o,p])=>{p._uuid=l.id||l._uuid,io({adapter:e,arrays:t,baseTableName:i,blocks:r,blocksToDelete:a,columnPrefix:`${O}_`,data:p,existingLocales:d,fieldPrefix:`${P}_`,fields:c.flattenedFields,forcedLocale:o,insideArrayOrBlock:h,locales:m,numbers:g,numbersToDelete:y,parentIsLocalized:v||c.localized,parentTableName:b,path:`${w||""}${c.name}.`,relationships:_,relationshipsToDelete:x,row:S,selects:E,texts:k,textsToDelete:T,withinArrayOrBlockLocale:o})});else{let o=l[c.name];o._uuid=l.id||l._uuid,io({adapter:e,arrays:t,baseTableName:i,blocks:r,blocksToDelete:a,columnPrefix:`${O}_`,data:o,existingLocales:d,fieldPrefix:`${P}_`,fields:c.flattenedFields,insideArrayOrBlock:h,locales:m,numbers:g,numbersToDelete:y,parentIsLocalized:v||c.localized,parentTableName:b,path:`${w||""}${c.name}.`,relationships:_,relationshipsToDelete:x,row:S,selects:E,texts:k,textsToDelete:T,withinArrayOrBlockLocale:C})}}return}if("relationship"===c.type||"upload"===c.type){let e=`${w||""}${c.name}`;if(I&&(Array.isArray(c.relationTo)||"hasMany"in c&&c.hasMany)){"object"==typeof N&&Object.entries(N).forEach(([t,i])=>{if(null===i){x.push({locale:t,path:e});return}ir({baseRow:{locale:t,path:e},data:i,field:c,relationships:_})});return}if(Array.isArray(c.relationTo)||"hasMany"in c&&c.hasMany){if(null===N||Array.isArray(N)&&0===N.length){x.push({path:e});return}ir({baseRow:{locale:C,path:e},data:N,field:c,relationships:_});return}!I&&N&&"object"==typeof N&&"id"in N&&N?.id?N=N.id:I&&"object"==typeof N&&Object.entries(N).forEach(([e,t])=>{"object"==typeof t?t&&"id"in t&&t?.id&&(N[e]=t.id):N[e]=t})}if("text"===c.type&&c.hasMany){let e=`${w||""}${c.name}`;if(I)"object"==typeof N&&Object.entries(N).forEach(([t,i])=>{if(Array.isArray(i)){if(!i.length){T.push({locale:t,path:e});return}is({baseRow:{locale:t,path:e},data:i,texts:k})}});else if(Array.isArray(N)){if(!N.length){T.push({locale:C,path:e});return}is({baseRow:{locale:C,path:e},data:N,texts:k})}return}if("number"===c.type&&c.hasMany){let e=`${w||""}${c.name}`;if(I)"object"==typeof N&&Object.entries(N).forEach(([t,i])=>{if(Array.isArray(i)){if(!i.length){y.push({locale:t,path:e});return}ii({baseRow:{locale:t,path:e},data:i,numbers:g})}});else if(Array.isArray(N)){if(!N.length){y.push({locale:C,path:e});return}ii({baseRow:{locale:C,path:e},data:N,numbers:g})}return}if("select"===c.type&&c.hasMany){let t=e.tableNameMap.get(`${b}_${O}`);if(E[t]||(E[t]=[]),I)"object"==typeof l[c.name]&&null!==l[c.name]&&Object.entries(l[c.name]).forEach(([e,i])=>{if(Array.isArray(i)){let r=ia({id:h?l._uuid||l.id:void 0,data:i,locale:e});E[t]=E[t].concat(r)}});else if(Array.isArray(l[c.name])){let e=ia({id:h?l._uuid||l.id:void 0,data:l[c.name],locale:C});E[t]=E[t].concat(e)}return}let L=[];if(I)"object"==typeof N&&null!==N&&Object.entries(N).forEach(([e,t])=>{m[e]||(m[e]={}),L.push({localeKey:e,ref:m,value:t})});else{let e=S;u&&(m[u]||(m[u]={}),e=m[u]),L.push({ref:e,value:N})}L.forEach(({localeKey:t,ref:i,value:r})=>{let a=r;void 0!==r&&(r&&"point"===c.type&&"sqlite"!==e.name&&(a=ex`ST_GeomFromGeoJSON(${JSON.stringify(r)})`),"text"===c.type&&r&&"string"!=typeof r&&(a=JSON.stringify(r)),"date"===c.type&&("number"!=typeof r||Number.isNaN(r)?r instanceof Date&&(a=r.toISOString()):a=new Date(r).toISOString())),"date"===c.type&&"updatedAt"===P&&(a=new Date().toISOString()),void 0!==a&&(t?i[t][P]=a:i[P]=a)})})},il=({adapter:e,data:t,fields:i,parentIsLocalized:r,path:a="",tableName:o})=>{let l={arrays:{},blocks:{},blocksToDelete:new Set,locales:{},numbers:[],numbersToDelete:[],relationships:[],relationshipsToDelete:[],row:{},selects:{},texts:[],textsToDelete:[]};return io({adapter:e,arrays:l.arrays,baseTableName:o,blocks:l.blocks,blocksToDelete:l.blocksToDelete,columnPrefix:"",data:t,fieldPrefix:"",fields:i,locales:l.locales,numbers:l.numbers,numbersToDelete:l.numbersToDelete,parentIsLocalized:r,parentTableName:o,path:a,relationships:l.relationships,relationshipsToDelete:l.relationshipsToDelete,row:l.row,selects:l.selects,texts:l.texts,textsToDelete:l.textsToDelete}),l},id=async({adapter:e,db:t,parentID:i,tableName:r})=>{let a=[eC(e.tables[r]._parentID,i)];await e.deleteWhere({db:t,tableName:r,where:eO(...a)})},ip=async({adapter:e,db:t,localeColumnName:i="_locale",parentColumnName:r="_parentID",parentID:a,pathColumnName:o="_path",rows:l,tableName:d})=>{let p=new Set,c=new Set,u=e.tables[d];if(l.forEach(e=>{let t=e[o],r=e[i];"string"==typeof t&&("string"==typeof r?p.add(t):c.add(t))}),p.size>0){let i=[eC(u[r],a)];o&&i.push(ej(u[o],Array.from(p))),await e.deleteWhere({db:t,tableName:d,where:eO(...i)})}if(c.size>0){let i=[eC(u[r],a)];o&&i.push(ej(u[o],Array.from(c))),await e.deleteWhere({db:t,tableName:d,where:eO(...i)})}},ic=async({adapter:e,arrays:t,db:i,parentRows:r,uuidMap:a={}})=>{let o={};for(let[l,d]of(t.forEach((e,t)=>{Object.entries(e).forEach(([e,i])=>{o[e]||(o[e]={arrays:[],locales:[],rows:[]});let a=r[t].id;i.forEach(t=>{Object.keys(t.arrays).length>0&&o[e].arrays.push(t.arrays),t.row._parentID=a,o[e].rows.push(t.row),Object.entries(t.locales).forEach(([i,r])=>{r._parentID=t.row.id,r._locale=i,o[e].locales.push(r),t.row.id||(r._getParentID=e=>{let{id:i}=e.find(e=>e._uuid===t.row._uuid);return i})})})})}),Object.entries(o))){let t;d.rows.length>0&&(t=await e.insert({db:i,tableName:l,values:d.rows})).forEach(e=>{"string"==typeof e._uuid&&("string"==typeof e.id||"number"==typeof e.id)&&(a[e._uuid]=e.id)}),e.tables[`${l}${e.localesSuffix}`]&&d.locales.length>0&&(d.locales[0]._parentID||(d.locales=d.locales.map(e=>("function"==typeof e._getParentID&&(e._parentID=e._getParentID(t),delete e._getParentID),e))),await e.insert({db:i,tableName:`${l}${e.localesSuffix}`,values:d.locales})),d.arrays.length>0&&await ic({adapter:e,arrays:d.arrays,db:i,parentRows:t})}},iu=async({id:e,adapter:t,data:i,db:r,fields:a,ignoreResult:o,joinQuery:l,operation:d,path:p="",req:c,select:u,tableName:h,upsertTarget:m,where:g})=>{let y;let v=il({adapter:t,data:i,fields:a,path:p,tableName:h});try{if("update"===d){let i=m||t.tables[h].id;e?(v.row.id=e,[y]=await t.insert({db:r,onConflictDoUpdate:{set:v.row,target:i},tableName:h,values:v.row})):[y]=await t.insert({db:r,onConflictDoUpdate:{set:v.row,target:i,where:g},tableName:h,values:v.row})}else t.allowIDOnCreate&&i.id&&(v.row.id=i.id),[y]=await t.insert({db:r,tableName:h,values:v.row});let a=[],o=[],l=[],p=[],c={},u={};if(Object.keys(v.locales).length>0&&Object.entries(v.locales).forEach(([e,t])=>{t._parentID=y.id,t._locale=e,a.push(t)}),v.relationships.length>0&&v.relationships.forEach(e=>{e.parent=y.id,o.push(e)}),v.texts.length>0&&v.texts.forEach(e=>{e.parent=y.id,l.push(e)}),v.numbers.length>0&&v.numbers.forEach(e=>{e.parent=y.id,p.push(e)}),Object.keys(v.selects).length>0&&Object.entries(v.selects).forEach(([e,t])=>{u[e]=[],t.forEach(t=>{void 0===t.parent&&(t.parent=y.id),u[e].push(t)})}),Object.keys(v.blocks).forEach(e=>{v.blocks[e].forEach(t=>{t.row._parentID=y.id,c[e]||(c[e]=[]),t.row.uuid&&delete t.row.uuid,c[e].push(t)})}),a.length>0){let e=`${h}${t.localesSuffix}`,i=t.tables[`${h}${t.localesSuffix}`];"update"===d&&await t.deleteWhere({db:r,tableName:e,where:eC(i._parentID,y.id)}),await t.insert({db:r,tableName:e,values:a})}let b=`${h}${t.relationshipsSuffix}`;"update"===d&&await ip({adapter:t,db:r,localeColumnName:"locale",parentColumnName:"parent",parentID:y.id,pathColumnName:"path",rows:[...o,...v.relationshipsToDelete],tableName:b}),o.length>0&&await t.insert({db:r,tableName:b,values:o});let w=`${h}_texts`;"update"===d&&await ip({adapter:t,db:r,localeColumnName:"locale",parentColumnName:"parent",parentID:y.id,pathColumnName:"path",rows:[...l,...v.textsToDelete],tableName:w}),l.length>0&&await t.insert({db:r,tableName:w,values:l});let _=`${h}_numbers`;"update"===d&&await ip({adapter:t,db:r,localeColumnName:"locale",parentColumnName:"parent",parentID:y.id,pathColumnName:"path",rows:[...p,...v.numbersToDelete],tableName:_}),p.length>0&&await t.insert({db:r,tableName:_,values:p});let x={};if("update"===d)for(let e of v.blocksToDelete){let i=t.tables[e];await t.deleteWhere({db:r,tableName:e,where:eC(i._parentID,y.id)})}let S={};for(let[e,i]of Object.entries(c)){x[e]=await t.insert({db:r,tableName:e,values:i.map(({row:e})=>e)}),x[e].forEach((e,t)=>{i[t].row=e,"string"==typeof e._uuid&&("string"==typeof e.id||"number"==typeof e.id)&&(S[e._uuid]=e.id)});let a=[],o=i.reduce((e,t,i)=>(Object.entries(t.locales).length>0&&Object.entries(t.locales).forEach(([r,o])=>{Object.keys(o).length>0&&(o._parentID=t.row.id,o._locale=r,e.push(o),a.push(i))}),e),[]);o.length>0&&await t.insert({db:r,tableName:`${e}${t.localesSuffix}`,values:o}),await ic({adapter:t,arrays:i.map(({arrays:e})=>e),db:r,parentRows:x[e],uuidMap:S})}if("update"===d)for(let e of Object.keys(v.arrays))await id({adapter:t,db:r,parentID:y.id,tableName:e});for(let[e,i]of(await ic({adapter:t,arrays:[v.arrays],db:r,parentRows:[y],uuidMap:S}),Object.entries(u))){let a=t.tables[e];"update"===d&&await t.deleteWhere({db:r,tableName:e,where:eC(a.parent,y.id)}),Object.keys(S).length>0&&i.forEach(e=>{e.parent in S&&(e.parent=S[e.parent])}),i.length&&await t.insert({db:r,tableName:e,values:i})}}catch(r){let i=r;if("object"==typeof r&&"cause"in r&&(i=r.cause),"23505"===i.code||"SQLITE_CONSTRAINT_UNIQUE"===i.code){let r=null;if("23505"===i.code){if(t.fieldConstraints?.[h]?.[i.constraint])r=t.fieldConstraints[h]?.[i.constraint];else{let e=`${h}_`;if(i.constraint.includes(e)){let a=i.constraint.replace(e,"");a&&t.fieldConstraints[h]?.[a]&&(r=t.fieldConstraints[h][a])}}if(!r){let e=i.detail,t=/Key \(([^)]+)\)=\(([^)]+)\)/,a=e.match(t);a&&a[1]&&(r=a[1])}}else if("SQLITE_CONSTRAINT_UNIQUE"===i.code){let e=/UNIQUE constraint failed: ([^.]+)\.([^.]+)/,a=i.message.match(e);a&&a[2]&&(t.fieldConstraints[h]&&(r=t.fieldConstraints[h][`${a[2]}_idx`]),r||(r=a[2]))}throw new t9.p({id:e,errors:[{message:c?.t?c.t("error:valueMustBeUnique"):"Value must be unique",path:r}],req:c},c?.t)}throw i}if("idOnly"===o)return{id:y.id};if(o)return i;let b=t5({adapter:t,depth:0,fields:a,joinQuery:!1,select:u,tableName:h});b.where=eC(t.tables[h].id,y.id);let w=await r.query[h].findFirst(b);return tW({adapter:t,config:t.payload.config,data:w,fields:a,joinQuery:!1,tableName:h})},ih=async function({id:e,data:t,limit:i,req:r,returning:a,sort:o,where:l}){t?.log?.length||delete t.log;let d=e?{id:{equals:e}}:l,p=e?1:i,c=await tG(this,r),u=this.payload.collections["payload-jobs"].config,h=this.tableNameMap.get(eQ(u.slug)),m=null!=o?o:u.defaultSort,g=await t8({adapter:this,collectionSlug:"payload-jobs",fields:u.flattenedFields,limit:e?1:p,pagination:!1,req:r,sort:m,tableName:h,where:d});if(!g.docs.length)return[];let y=[];for(let e of g.docs){let i={...e,...t},o=await iu({id:e.id,adapter:this,data:i,db:c,fields:u.flattenedFields,ignoreResult:!1===a,operation:"update",req:r,tableName:h});y.push(o)}return!1===a?null:y},im=async function(e){let t;try{let i,r,a,o;t=tb(),await this.initializing;let l=this.drizzle.transaction(async e=>{a=e,await new Promise((e,t)=>{r=()=>(e(),l),i=()=>(t(),l),o()})},e||this.transactionOptions).catch(()=>{});await new Promise(e=>o=e),this.sessions[t]={db:a,reject:i,resolve:r}}catch(e){this.payload.logger.error({err:e,msg:`Error: cannot begin transaction: ${e.message}`}),process.exit(1)}return t},ig=async function(e){if(!(e instanceof Promise)&&this.sessions[e]){try{await this.sessions[e].resolve()}catch(t){await this.sessions[e].reject()}delete this.sessions[e]}},iy=async function({collection:e,locale:t,req:i,where:r}){let a=this.payload.collections[e].config,o=this.tableNameMap.get(eQ(a.slug)),l=await tG(this,i),{joins:d,where:p}=tj({adapter:this,fields:a.flattenedFields,locale:t,tableName:o,where:r});return{totalDocs:await this.countDistinct({db:l,joins:d,tableName:o,where:p})}};var iv=i(71495);let ib=async function({global:e,locale:t,req:i,where:r}){let a=this.payload.globals.config.find(({slug:t})=>t===e),o=this.tableNameMap.get(`_${eQ(a.slug)}${this.versionsSuffix}`),l=await tG(this,i),{joins:d,where:p}=tj({adapter:this,fields:(0,iv.n)(this.payload.config,a,!0),locale:t,tableName:o,where:r});return{totalDocs:await this.countDistinct({db:l,joins:d,tableName:o,where:p})}},iw=async function({collection:e,locale:t,req:i,where:r}){let a=this.payload.collections[e].config,o=this.tableNameMap.get(`_${eQ(a.slug)}${this.versionsSuffix}`),l=await tG(this,i),{joins:d,where:p}=tj({adapter:this,fields:(0,tQ.w)(this.payload.config,a,!0),locale:t,tableName:o,where:r});return{totalDocs:await this.countDistinct({db:l,joins:d,tableName:o,where:p})}},i_=async function({collection:e,data:t,req:i,returning:r,select:a}){let o=await tG(this,i),l=this.payload.collections[e].config,d=this.tableNameMap.get(eQ(l.slug)),p=await iu({adapter:this,data:t,db:o,fields:l.flattenedFields,ignoreResult:!1===r,operation:"create",req:i,select:a,tableName:d});return!1===r?null:p};async function ix({slug:e,data:t,req:i,returning:r}){let a=await tG(this,i),o=this.payload.globals.config.find(t=>t.slug===e),l=this.tableNameMap.get(eQ(o.slug));t.createdAt=new Date().toISOString();let d=await iu({adapter:this,data:t,db:a,fields:o.flattenedFields,ignoreResult:!1===r,operation:"create",req:i,tableName:l});return!1===r?null:(d.globalType=e,d)}async function iS({autosave:e,createdAt:t,globalSlug:i,publishedLocale:r,req:a,returning:o,select:l,snapshot:d,updatedAt:p,versionData:c}){let u=await tG(this,a),h=this.payload.globals.config.find(({slug:e})=>e===i),m=this.tableNameMap.get(`_${eQ(h.slug)}${this.versionsSuffix}`),g=await iu({adapter:this,data:{autosave:e,createdAt:t,latest:!0,publishedLocale:r,snapshot:d,updatedAt:p,version:c},db:u,fields:(0,iv.n)(this.payload.config,h,!0),ignoreResult:!1===o&&"idOnly",operation:"create",req:a,select:l,tableName:m}),y=this.tables[m];return(h.versions.drafts&&await this.execute({db:u,sql:ex`
          UPDATE ${y}
          SET latest = false
          WHERE ${y.id} != ${g.id};
        `}),!1===o)?null:g}var iE=i(98378),ik=i(49411),iT=i(87561),iA=i(82033);let iC=e=>null!==e&&"object"==typeof e,iN=(e,t)=>Object.assign(Error(`[${e}]: ${t}`),{code:e}),iO="ERR_INVALID_PACKAGE_CONFIG",iP="ERR_INVALID_PACKAGE_TARGET",iI="ERR_PACKAGE_PATH_NOT_EXPORTED",iL=/^\d+$/,iD=/^(\.{1,2}|node_modules)$/i,iR=/\/|\\/;var i$=((o=i$||{}).Export="exports",o.Import="imports",o);let ij=(e,t,i,r,a)=>{if(null==t)return[];if("string"==typeof t){let[i,...r]=t.split(iR);if(".."===i||r.some(e=>iD.test(e)))throw iN(iP,`Invalid "${e}" target "${t}" defined in the package config`);return[a?t.replace(/\*/g,a):t]}if(Array.isArray(t))return t.flatMap(t=>ij(e,t,i,r,a));if(iC(t)){for(let o of Object.keys(t)){if(iL.test(o))throw iN(iO,"Cannot contain numeric property keys");if("default"===o||r.includes(o))return ij(e,t[o],i,r,a)}return[]}throw iN(iP,`Invalid "${e}" target "${t}"`)},iM="*",iU=(e,t)=>{let i=e.indexOf(iM),r=t.indexOf(iM);return i===r?t.length>e.length:r>i};function iF(e,t){let i,r;if(!t.includes(iM)&&e.hasOwnProperty(t))return[t];for(let a of Object.keys(e))if(a.includes(iM)){let[e,o,l]=a.split(iM);if(void 0===l&&t.startsWith(e)&&t.endsWith(o)){let l=t.slice(e.length,-o.length||void 0);l&&(!i||iU(i,a))&&(i=a,r=l)}}return[i,r]}let iB=e=>Object.keys(e).reduce((e,t)=>{let i=""===t||"."!==t[0];if(void 0===e||e===i)return i;throw iN(iO,'"exports" cannot contain some keys starting with "." and some not')},void 0),iz=/^\w+:/,iq=(e,t,i)=>{if(!e)throw Error('"exports" is required');t=""===t?".":`./${t}`,("string"==typeof e||Array.isArray(e)||iC(e)&&iB(e))&&(e={".":e});let[r,a]=iF(e,t),o=ij(i$.Export,e[r],t,i,a);if(0===o.length)throw iN(iI,"."===t?'No "exports" main defined':`Package subpath '${t}' is not defined by "exports"`);for(let e of o)if(!e.startsWith("./")&&!iz.test(e))throw iN(iP,`Invalid "exports" target "${e}" defined in the package config`);return o};var iV=Object.defineProperty,iH=(e,t)=>iV(e,"name",{value:t,configurable:!0});function iW(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}iH(iW,"slash");let iG=iH(e=>{let t=iT[e];return(i,...r)=>{let a=`${e}:${r.join(":")}`,o=null==i?void 0:i.get(a);return void 0===o&&(o=Reflect.apply(t,iT,r),null==i||i.set(a,o)),o}},"cacheFs"),iK=iG("existsSync"),iJ=iG("readFileSync"),iQ=iG("statSync"),iY=iH((e,t,i)=>{for(;;){let r=ik.posix.join(e,t);if(iK(i,r))return r;let a=ik.dirname(e);if(a===e)return;e=a}},"findUp"),iZ=/^\.{1,2}(\/.*)?$/,iX=iH(e=>{let t=iW(e);return iZ.test(t)?t:`./${t}`},"normalizeRelativePath");function i1(e,t=!1){let i=e.length,r=0,a="",o=0,l=16,d=0,p=0,c=0,u=0,h=0;function m(t,i){let a=0,o=0;for(;a<t||!i;){let t=e.charCodeAt(r);if(t>=48&&t<=57)o=16*o+t-48;else if(t>=65&&t<=70)o=16*o+t-65+10;else if(t>=97&&t<=102)o=16*o+t-97+10;else break;r++,a++}return a<t&&(o=-1),o}function g(e){r=e,a="",o=0,l=16,h=0}function y(){let t=r;if(48===e.charCodeAt(r))r++;else for(r++;r<e.length&&i6(e.charCodeAt(r));)r++;if(r<e.length&&46===e.charCodeAt(r)){if(!(++r<e.length&&i6(e.charCodeAt(r))))return h=3,e.substring(t,r);for(r++;r<e.length&&i6(e.charCodeAt(r));)r++}let i=r;if(r<e.length&&(69===e.charCodeAt(r)||101===e.charCodeAt(r))){if((++r<e.length&&43===e.charCodeAt(r)||45===e.charCodeAt(r))&&r++,r<e.length&&i6(e.charCodeAt(r))){for(r++;r<e.length&&i6(e.charCodeAt(r));)r++;i=r}else h=3}return e.substring(t,i)}function v(){let t="",a=r;for(;;){if(r>=i){t+=e.substring(a,r),h=2;break}let o=e.charCodeAt(r);if(34===o){t+=e.substring(a,r),r++;break}if(92===o){if(t+=e.substring(a,r),++r>=i){h=2;break}switch(e.charCodeAt(r++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+=`
`;break;case 114:t+="\r";break;case 116:t+="	";break;case 117:let o=m(4,!0);o>=0?t+=String.fromCharCode(o):h=4;break;default:h=5}a=r;continue}if(o>=0&&o<=31){if(i2(o)){t+=e.substring(a,r),h=2;break}h=6}r++}return t}function b(){if(a="",h=0,o=r,p=d,u=c,r>=i)return o=i,l=17;let t=e.charCodeAt(r);if(i0(t)){do r++,a+=String.fromCharCode(t),t=e.charCodeAt(r);while(i0(t));return l=15}if(i2(t))return r++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(r)&&(r++,a+=`
`),d++,c=r,l=14;switch(t){case 123:return r++,l=1;case 125:return r++,l=2;case 91:return r++,l=3;case 93:return r++,l=4;case 58:return r++,l=6;case 44:return r++,l=5;case 34:return r++,a=v(),l=10;case 47:let m=r-1;if(47===e.charCodeAt(r+1)){for(r+=2;r<i&&!i2(e.charCodeAt(r));)r++;return a=e.substring(m,r),l=12}if(42===e.charCodeAt(r+1)){r+=2;let t=i-1,o=!1;for(;r<t;){let t=e.charCodeAt(r);if(42===t&&47===e.charCodeAt(r+1)){r+=2,o=!0;break}r++,i2(t)&&(13===t&&10===e.charCodeAt(r)&&r++,d++,c=r)}return o||(r++,h=1),a=e.substring(m,r),l=13}return a+=String.fromCharCode(t),r++,l=16;case 45:if(a+=String.fromCharCode(t),++r===i||!i6(e.charCodeAt(r)))return l=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=y(),l=11;default:for(;r<i&&w(t);)r++,t=e.charCodeAt(r);if(o!==r){switch(a=e.substring(o,r)){case"true":return l=8;case"false":return l=9;case"null":return l=7}return l=16}return a+=String.fromCharCode(t),r++,l=16}}function w(e){if(i0(e)||i2(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function _(){let e;do e=b();while(e>=12&&e<=15);return e}return iH(m,"scanHexDigits"),iH(g,"setPosition"),iH(y,"scanNumber"),iH(v,"scanString"),iH(b,"scanNext"),iH(w,"isUnknownContentCharacter"),iH(_,"scanNextNonTrivia"),{setPosition:g,getPosition:iH(()=>r,"getPosition"),scan:t?_:b,getToken:iH(()=>l,"getToken"),getTokenValue:iH(()=>a,"getTokenValue"),getTokenOffset:iH(()=>o,"getTokenOffset"),getTokenLength:iH(()=>r-o,"getTokenLength"),getTokenStartLine:iH(()=>p,"getTokenStartLine"),getTokenStartCharacter:iH(()=>o-u,"getTokenStartCharacter"),getTokenError:iH(()=>h,"getTokenError")}}function i0(e){return 32===e||9===e}function i2(e){return 10===e||13===e}function i6(e){return e>=48&&e<=57}iH(i1,"createScanner"),iH(i0,"isWhiteSpace"),iH(i2,"isLineBreak"),iH(i6,"isDigit"),function(e){e[e.lineFeed=10]="lineFeed",e[e.carriageReturn=13]="carriageReturn",e[e.space=32]="space",e[e._0=48]="_0",e[e._1=49]="_1",e[e._2=50]="_2",e[e._3=51]="_3",e[e._4=52]="_4",e[e._5=53]="_5",e[e._6=54]="_6",e[e._7=55]="_7",e[e._8=56]="_8",e[e._9=57]="_9",e[e.a=97]="a",e[e.b=98]="b",e[e.c=99]="c",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.g=103]="g",e[e.h=104]="h",e[e.i=105]="i",e[e.j=106]="j",e[e.k=107]="k",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.p=112]="p",e[e.q=113]="q",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.v=118]="v",e[e.w=119]="w",e[e.x=120]="x",e[e.y=121]="y",e[e.z=122]="z",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.asterisk=42]="asterisk",e[e.backslash=92]="backslash",e[e.closeBrace=125]="closeBrace",e[e.closeBracket=93]="closeBracket",e[e.colon=58]="colon",e[e.comma=44]="comma",e[e.dot=46]="dot",e[e.doubleQuote=34]="doubleQuote",e[e.minus=45]="minus",e[e.openBrace=123]="openBrace",e[e.openBracket=91]="openBracket",e[e.plus=43]="plus",e[e.slash=47]="slash",e[e.formFeed=12]="formFeed",e[e.tab=9]="tab"}(o9||(o9={})),Array(20).fill(0).map((e,t)=>" ".repeat(t));let i4=200;function i3(e,t=[],i=o7.DEFAULT){let r=null,a=[],o=[];function l(e){Array.isArray(a)?a.push(e):null!==r&&(a[r]=e)}return iH(l,"onValue"),i5(e,{onObjectBegin:iH(()=>{let e={};l(e),o.push(a),a=e,r=null},"onObjectBegin"),onObjectProperty:iH(e=>{r=e},"onObjectProperty"),onObjectEnd:iH(()=>{a=o.pop()},"onObjectEnd"),onArrayBegin:iH(()=>{let e=[];l(e),o.push(a),a=e,r=null},"onArrayBegin"),onArrayEnd:iH(()=>{a=o.pop()},"onArrayEnd"),onLiteralValue:l,onError:iH((e,i,r)=>{t.push({error:e,offset:i,length:r})},"onError")},i),a[0]}function i5(e,t,i=o7.DEFAULT){let r=i1(e,!1),a=[];function o(e){return e?()=>e(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function l(e){return e?()=>e(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>a.slice()):()=>!0}function d(e){return e?t=>e(t,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function p(e){return e?t=>e(t,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>a.slice()):()=>!0}iH(o,"toNoArgVisit"),iH(l,"toNoArgVisitWithPath"),iH(d,"toOneArgVisit"),iH(p,"toOneArgVisitWithPath");let c=l(t.onObjectBegin),u=p(t.onObjectProperty),h=o(t.onObjectEnd),m=l(t.onArrayBegin),g=o(t.onArrayEnd),y=p(t.onLiteralValue),v=d(t.onSeparator),b=o(t.onComment),w=d(t.onError),_=i&&i.disallowComments,x=i&&i.allowTrailingComma;function S(){for(;;){let e=r.scan();switch(r.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:_||E(11);break;case 2:E(12);break;case 6:E(16)}switch(e){case 12:case 13:_?E(10):b();break;case 16:E(1);break;case 15:case 14:break;default:return e}}}function E(e,t=[],i=[]){if(w(e),t.length+i.length>0){let e=r.getToken();for(;17!==e;){if(-1!==t.indexOf(e)){S();break}if(-1!==i.indexOf(e))break;e=S()}}}function k(e){let t=r.getTokenValue();return e?y(t):(u(t),a.push(t)),S(),!0}function T(){switch(r.getToken()){case 11:let e=Number(r.getTokenValue());isNaN(e)&&(E(2),e=0),y(e);break;case 7:y(null);break;case 8:y(!0);break;case 9:y(!1);break;default:return!1}return S(),!0}function C(){return 10!==r.getToken()?(E(3,[],[2,5]),!1):(k(!1),6===r.getToken()?(v(":"),S(),P()||E(4,[],[2,5])):E(5,[],[2,5]),a.pop(),!0)}function N(){c(),S();let e=!1;for(;2!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(e||E(4,[],[]),v(","),S(),2===r.getToken()&&x)break}else e&&E(6,[],[]);C()||E(4,[],[2,5]),e=!0}return h(),2!==r.getToken()?E(7,[2],[]):S(),!0}function O(){m(),S();let e=!0,t=!1;for(;4!==r.getToken()&&17!==r.getToken();){if(5===r.getToken()){if(t||E(4,[],[]),v(","),S(),4===r.getToken()&&x)break}else t&&E(6,[],[]);e?(a.push(0),e=!1):a[a.length-1]++,P()||E(4,[],[4,5]),t=!0}return g(),e||a.pop(),4!==r.getToken()?E(8,[4],[]):S(),!0}function P(){switch(r.getToken()){case 3:return O();case 1:return N();case 10:return k(!0);default:return T()}}return iH(S,"scanNext"),iH(E,"handleError"),iH(k,"parseString"),iH(T,"parseLiteral"),iH(C,"parseProperty"),iH(N,"parseObject"),iH(O,"parseArray"),iH(P,"parseValue"),S(),17===r.getToken()?!!i.allowEmptyContent||(E(4,[],[]),!1):P()?(17!==r.getToken()&&E(9,[],[]),!0):(E(4,[],[]),!1)}Array(200).fill(0).map((e,t)=>`
`+" ".repeat(t)),Array(i4).fill(0).map((e,t)=>"\r"+" ".repeat(t)),Array(i4).fill(0).map((e,t)=>`\r
`+" ".repeat(t)),Array(i4).fill(0).map((e,t)=>`
`+"	".repeat(t)),Array(i4).fill(0).map((e,t)=>"\r"+"	".repeat(t)),Array(i4).fill(0).map((e,t)=>`\r
`+"	".repeat(t)),function(e){e.DEFAULT={allowTrailingComma:!1}}(o7||(o7={})),iH(i3,"parse$1"),iH(i5,"visit"),function(e){e[e.None=0]="None",e[e.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=2]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",e[e.InvalidUnicode=4]="InvalidUnicode",e[e.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",e[e.InvalidCharacter=6]="InvalidCharacter"}(le||(le={})),function(e){e[e.OpenBraceToken=1]="OpenBraceToken",e[e.CloseBraceToken=2]="CloseBraceToken",e[e.OpenBracketToken=3]="OpenBracketToken",e[e.CloseBracketToken=4]="CloseBracketToken",e[e.CommaToken=5]="CommaToken",e[e.ColonToken=6]="ColonToken",e[e.NullKeyword=7]="NullKeyword",e[e.TrueKeyword=8]="TrueKeyword",e[e.FalseKeyword=9]="FalseKeyword",e[e.StringLiteral=10]="StringLiteral",e[e.NumericLiteral=11]="NumericLiteral",e[e.LineCommentTrivia=12]="LineCommentTrivia",e[e.BlockCommentTrivia=13]="BlockCommentTrivia",e[e.LineBreakTrivia=14]="LineBreakTrivia",e[e.Trivia=15]="Trivia",e[e.Unknown=16]="Unknown",e[e.EOF=17]="EOF"}(lt||(lt={}));let i8=i3;!function(e){e[e.InvalidSymbol=1]="InvalidSymbol",e[e.InvalidNumberFormat=2]="InvalidNumberFormat",e[e.PropertyNameExpected=3]="PropertyNameExpected",e[e.ValueExpected=4]="ValueExpected",e[e.ColonExpected=5]="ColonExpected",e[e.CommaExpected=6]="CommaExpected",e[e.CloseBraceExpected=7]="CloseBraceExpected",e[e.CloseBracketExpected=8]="CloseBracketExpected",e[e.EndOfFileExpected=9]="EndOfFileExpected",e[e.InvalidCommentToken=10]="InvalidCommentToken",e[e.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",e[e.UnexpectedEndOfString=12]="UnexpectedEndOfString",e[e.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",e[e.InvalidUnicode=14]="InvalidUnicode",e[e.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",e[e.InvalidCharacter=16]="InvalidCharacter"}(li||(li={}));let i9=iH((e,t)=>i8(iJ(t,e,"utf8")),"readJsonc"),i7=Symbol("implicitBaseUrl"),re="${configDir}",rt=iH(()=>{let{findPnpApi:e}=iA;return e&&e(process.cwd())},"getPnpApi"),ri=iH((e,t,i,r)=>{let a=`resolveFromPackageJsonPath:${e}:${t}:${i}`;if(null!=r&&r.has(a))return r.get(a);let o=i9(e,r);if(!o)return;let l=t||"tsconfig.json";if(!i&&o.exports)try{let[e]=iq(o.exports,t,["require","types"]);l=e}catch{return!1}else!t&&o.tsconfig&&(l=o.tsconfig);return l=ik.join(e,"..",l),null==r||r.set(a,l),l},"resolveFromPackageJsonPath"),rr="package.json",ra="tsconfig.json",rn=iH((e,t,i)=>{let r=e;if(".."===e&&(r=ik.join(r,ra)),"."===e[0]&&(r=ik.resolve(t,r)),ik.isAbsolute(r)){if(iK(i,r)){if(iQ(i,r).isFile())return r}else if(!r.endsWith(".json")){let e=`${r}.json`;if(iK(i,e))return e}return}let[a,...o]=e.split("/"),l="@"===a[0]?`${a}/${o.shift()}`:a,d=o.join("/"),p=rt();if(p){let{resolveRequest:r}=p;try{if(l===e){let e=r(ik.join(l,rr),t);if(e){let t=ri(e,d,!1,i);if(t&&iK(i,t))return t}}else{let i;try{i=r(e,t,{extensions:[".json"]})}catch{i=r(ik.join(e,ra),t)}if(i)return i}}catch{}}let c=iY(ik.resolve(t),ik.join("node_modules",l),i);if(!c||!iQ(i,c).isDirectory())return;let u=ik.join(c,rr);if(iK(i,u)){let e=ri(u,d,!1,i);if(!1===e)return;if(e&&iK(i,e)&&iQ(i,e).isFile())return e}let h=ik.join(c,d),m=h.endsWith(".json");if(!m){let e=`${h}.json`;if(iK(i,e))return e}if(iK(i,h)){if(iQ(i,h).isDirectory()){let e=ik.join(h,rr);if(iK(i,e)){let t=ri(e,"",!0,i);if(t&&iK(i,t))return t}let t=ik.join(h,ra);if(iK(i,t))return t}else if(m)return h}},"resolveExtendsPath"),rs=iH((e,t)=>iX(ik.relative(e,t)),"pathRelative"),ro=["files","include","exclude"],rl=iH((e,t,i,r)=>{let a=rn(e,t,r);if(!a)throw Error(`File '${e}' not found.`);if(i.has(a))throw Error(`Circularity detected while resolving configuration: ${a}`);i.add(a);let o=ik.dirname(a),l=rp(a,r,i);delete l.references;let{compilerOptions:d}=l;if(d){let{baseUrl:e}=d;e&&!e.startsWith(re)&&(d.baseUrl=iW(ik.relative(t,ik.join(o,e)))||"./");let{outDir:i}=d;i&&(i.startsWith(re)||(i=ik.relative(t,ik.join(o,i))),d.outDir=iW(i)||"./")}for(let e of ro){let i=l[e];i&&(l[e]=i.map(e=>e.startsWith(re)?e:iW(ik.relative(t,ik.join(o,e)))))}return l},"resolveExtends"),rd=["outDir","declarationDir"],rp=iH((e,t,i=new Set)=>{let r;try{r=i9(e,t)||{}}catch{throw Error(`Cannot resolve tsconfig at path: ${e}`)}if("object"!=typeof r)throw SyntaxError(`Failed to parse tsconfig at: ${e}`);let a=ik.dirname(e);if(r.compilerOptions){let{compilerOptions:e}=r;e.paths&&!e.baseUrl&&(e[i7]=a)}if(r.extends){let e=Array.isArray(r.extends)?r.extends:[r.extends];for(let o of(delete r.extends,e.reverse())){let e=rl(o,a,new Set(i),t),l={...e,...r,compilerOptions:{...e.compilerOptions,...r.compilerOptions}};e.watchOptions&&(l.watchOptions={...e.watchOptions,...r.watchOptions}),r=l}}if(r.compilerOptions){let{compilerOptions:e}=r;for(let t of["baseUrl","rootDir"]){let i=e[t];if(i&&!i.startsWith(re)){let r=ik.resolve(a,i),o=rs(a,r);e[t]=o}}for(let t of rd){let i=e[t];i&&(Array.isArray(r.exclude)||(r.exclude=[]),r.exclude.includes(i)||r.exclude.push(i),i.startsWith(re)||(i=iX(i)),e[t]=i)}}else r.compilerOptions={};if(r.include?(r.include=r.include.map(iW),r.files&&delete r.files):r.files&&(r.files=r.files.map(e=>e.startsWith(re)?e:iX(e))),r.watchOptions){let{watchOptions:e}=r;e.excludeDirectories&&(e.excludeDirectories=e.excludeDirectories.map(e=>iW(ik.resolve(a,e))))}return r},"_parseTsconfig"),rc=iH((e,t)=>{if(e.startsWith(re))return iW(ik.join(t,e.slice(re.length)))},"interpolateConfigDir"),ru=["outDir","declarationDir","outFile","rootDir","baseUrl","tsBuildInfoFile"],rh=iH((e,t=new Map)=>{let i=ik.resolve(e),r=rp(i,t),a=ik.dirname(i),{compilerOptions:o}=r;if(o){for(let e of ru){let t=o[e];if(t){let i=rc(t,a);o[e]=i?rs(a,i):t}}for(let e of["rootDirs","typeRoots"]){let t=o[e];t&&(o[e]=t.map(e=>{let t=rc(e,a);return t?rs(a,t):e}))}let{paths:e}=o;if(e)for(let t of Object.keys(e))e[t]=e[t].map(e=>{var t;return null!=(t=rc(e,a))?t:e})}for(let e of ro){let t=r[e];t&&(r[e]=t.map(e=>{var t;return null!=(t=rc(e,a))?t:e}))}return r},"parseTsconfig"),rf=iH((e=process.cwd(),t="tsconfig.json",i=new Map)=>{let r=iY(iW(e),t,i);if(!r)return null;let a=rh(r,i);return{path:r,config:a}},"getTsconfig"),rm=/\*/g,rg=iH((e,t)=>{let i=e.match(rm);if(i&&i.length>1)throw Error(t)},"assertStarCount"),ry=iH(e=>{if(e.includes("*")){let[t,i]=e.split("*");return{prefix:t,suffix:i}}return e},"parsePattern"),rv=iH(({prefix:e,suffix:t},i)=>i.startsWith(e)&&i.endsWith(t),"isPatternMatch"),rb=iH((e,t,i)=>Object.entries(e).map(([e,r])=>(rg(e,`Pattern '${e}' can have at most one '*' character.`),{pattern:ry(e),substitutions:r.map(r=>{if(rg(r,`Substitution '${r}' in pattern '${e}' can have at most one '*' character.`),!t&&!iZ.test(r))throw Error("Non-relative paths are not allowed when 'baseUrl' is not set. Did you forget a leading './'?");return ik.resolve(i,r)})})),"parsePaths"),rw=(iH(e=>{let{compilerOptions:t}=e.config;if(!t)return null;let{baseUrl:i,paths:r}=t;if(!i&&!r)return null;let a=i7 in t&&t[i7],o=ik.resolve(ik.dirname(e.path),i||a||"."),l=r?rb(r,i,o):[];return e=>{if(iZ.test(e))return[];let t=[];for(let i of l){if(i.pattern===e)return i.substitutions.map(iW);"string"!=typeof i.pattern&&t.push(i)}let r,a=-1;for(let i of t)rv(i.pattern,e)&&i.pattern.prefix.length>a&&(a=i.pattern.prefix.length,r=i);if(!r)return i?[iW(ik.join(o,e))]:[];let d=e.slice(r.pattern.prefix.length,e.length-r.pattern.suffix.length);return r.substitutions.map(e=>iW(e.replace("*",d)))}},"createPathsMatcher"),iH(e=>{let t="";for(let i=0;i<e.length;i+=1){let r=e[i],a=r.toUpperCase();t+=r===a?r.toLowerCase():a}return t},"s")),r_=65,rx=97,rS=iH(()=>Math.floor(26*Math.random()),"m"),rE=iH(e=>Array.from({length:e},()=>String.fromCodePoint(rS()+(Math.random()>.5?r_:rx))).join(""),"S"),rk=iH((e=d)=>{let t=process.execPath;if(e.existsSync(t))return!e.existsSync(rw(t));let i=`/${rE(10)}`;e.writeFileSync(i,"");let r=!e.existsSync(rw(i));return e.unlinkSync(i),r},"l"),{join:rT}=ik.posix,rA={ts:[".ts",".tsx",".d.ts"],cts:[".cts",".d.cts"],mts:[".mts",".d.mts"]},rC=iH(e=>{let t=[...rA.ts],i=[...rA.cts],r=[...rA.mts];return null!=e&&e.allowJs&&(t.push(".js",".jsx"),i.push(".cjs"),r.push(".mjs")),[...t,...i,...r]},"getSupportedExtensions"),rN=iH(e=>{let t=[];if(!e)return t;let{outDir:i,declarationDir:r}=e;return i&&t.push(i),r&&t.push(r),t},"getDefaultExcludeSpec"),rO=iH(e=>e.replaceAll(/[.*+?^${}()|[\]\\]/g,String.raw`\$&`),"escapeForRegexp"),rP=["node_modules","bower_components","jspm_packages"],rI=`(?!(${rP.join("|")})(/|$))`,rL=/(?:^|\/)[^.*?]+$/,rD="**/*",rR="[^/]",r$="[^./]",rj="win32"===process.platform;iH(({config:e,path:t},i=rk())=>{if("extends"in e)throw Error("tsconfig#extends must be resolved. Use getTsconfig or parseTsconfig to resolve it.");if(!ik.isAbsolute(t))throw Error("The tsconfig path must be absolute");rj&&(t=iW(t));let r=ik.dirname(t),{files:a,include:o,exclude:l,compilerOptions:d}=e,p=null==a?void 0:a.map(e=>rT(r,e)),c=rC(d),u=i?"":"i",h=(l||rN(d)).map(e=>{let t=rO(rT(r,e)).replaceAll(String.raw`\*\*/`,"(.+/)?").replaceAll(String.raw`\*`,`${rR}*`).replaceAll(String.raw`\?`,rR);return RegExp(`^${t}($|/)`,u)}),m=a||o?o:[rD],g=m?m.map(e=>{let t=rT(r,e);rL.test(t)&&(t=rT(t,rD));let i=rO(t).replaceAll(String.raw`/\*\*`,`(/${rI}${r$}${rR}*)*?`).replaceAll(/(\/)?\\\*/g,(e,t)=>{let i=`(${r$}|(\\.(?!min\\.js$))?)*`;return t?`/${rI}${r$}${i}`:i}).replaceAll(/(\/)?\\\?/g,(e,t)=>{let i=rR;return t?`/${rI}${i}`:i});return RegExp(`^${i}$`,u)}):void 0;return t=>{if(!ik.isAbsolute(t))throw Error("filePath must be absolute");if(rj&&(t=iW(t)),null!=p&&p.includes(t)||!(!c.some(e=>t.endsWith(e))||h.some(e=>e.test(t)))&&g&&g.some(e=>e.test(t)))return e}},"createFilesMatcher");let rM=e=>d.readdirSync(e).filter(e=>(e.endsWith(".ts")||e.endsWith(".js"))&&"index.ts"!==e&&"index.js"!==e).sort(),rU=e=>{let t=rf(),i=t?.config?.compilerOptions?.moduleResolution==="NodeNext"?".js":"",r="",a="export const migrations = [\n";return e.forEach((t,o)=>{let l=t.replace(/\.[^/.]+$/,"");r+=`import * as migration_${l} from './${l}${i}';
`,a+=`  {
    up: migration_${l}.up,
    down: migration_${l}.down,
    name: '${l}'${o!==e.length-1?",":""}
  },
`}),a+="];\n",r+"\n"+a},rF=e=>{let t=rU(rM(e.migrationsDir));d.writeFileSync(p.join(e.migrationsDir,"index.ts"),t)};var rB=i(52902);let rz=e=>e.split("\n").map(e=>`  ${e}`).join("\n"),rq=({downSQL:e,imports:t,packageName:i,upSQL:r})=>`import { MigrateUpArgs, MigrateDownArgs, sql } from '${i}'
${t?`${t}
`:""}
export async function up({ db, payload, req }: MigrateUpArgs): Promise<void> {
${rz(r)}
}

export async function down({ db, payload, req }: MigrateDownArgs): Promise<void> {
${rz(e)}
}
`,rV=({executeMethod:e,filename:t,sanitizeStatements:i})=>{let r=p.dirname(t);return async function({file:t,forceAcceptWarning:a,migrationName:o,payload:l,skipEmpty:p}){let c,u;let h=l.db.migrationDir;d.existsSync(h)||d.mkdirSync(h);let{generateDrizzleJson:m,generateMigration:g,upSnapshot:y}=this.requireDrizzleKit(),v=await m(this.schema),[b,w]=new Date().toISOString().split("T"),_=b.replace(/\D/g,""),x=w.split(".")[0].replace(/\D/g,""),S="";({downSQL:c,imports:S,upSQL:u}=await (0,iE.B)({dirname:r,file:t,migrationName:o,payload:l}));let E=`${_}_${x}`,k=o||t?.split("/").slice(2).join("/"),T=`${E}${k?`_${k.replace(/\W/g,"_")}`:""}`,C=`${h}/${T}`,N=this.defaultDrizzleSnapshot;if(this.schemaName&&(N.schemas={[this.schemaName]:this.schemaName}),!u){let t=d.readdirSync(h).filter(e=>e.endsWith(".json")).sort().reverse()?.[0];t&&(N=JSON.parse(d.readFileSync(`${h}/${t}`,"utf8")),y&&N.version<v.version&&(N=y(N)));let r=await g(N,v),o=await g(v,N),l=`await db.${e}(sql\``;if(r?.length&&(u=i({sqlExecute:l,statements:r})),o?.length&&(c=i({sqlExecute:l,statements:o})),!u?.length&&!c?.length&&!a){p&&process.exit(0);let{confirm:e}=await rB({name:"confirm",type:"confirm",initial:!1,message:"No schema changes detected. Would you like to create a blank migration file?"},{onCancel:()=>{process.exit(0)}});e||process.exit(0)}d.writeFileSync(`${C}.json`,JSON.stringify(v,null,2))}d.writeFileSync(`${C}.ts`,rq({downSQL:c||"  // Migration code",imports:S,packageName:l.db.packageName,upSQL:u||"  // Migration code"})),rF({migrationsDir:l.db.migrationDir}),l.logger.info({msg:`Migration created at ${C}.ts`})}};async function rH({autosave:e,collectionSlug:t,createdAt:i,parent:r,publishedLocale:a,req:o,returning:l,select:d,snapshot:p,updatedAt:c,versionData:u}){let h=await tG(this,o),m=this.payload.collections[t].config,g=eQ(m.slug),y=this.tableNameMap.get(`_${g}${this.versionsSuffix}`),v={...u};v.id&&delete v.id;let b={autosave:e,createdAt:i,latest:!0,parent:r,publishedLocale:a,snapshot:p,updatedAt:c,version:v},w=await iu({adapter:this,data:b,db:h,fields:(0,tQ.w)(this.payload.config,m,!0),operation:"create",req:o,select:d,tableName:y}),_=this.tables[y];return(m.versions.drafts&&await this.execute({db:h,sql:ex`
        UPDATE ${_}
        SET latest = false
        WHERE ${_.id} != ${w.id}
          AND ${_.parent} = ${r}
          AND ${_.updatedAt} < ${w.updatedAt}
      `}),!1===l)?null:w}let rW=async function({collection:e,req:t,where:i}){let r=await tG(this,t),a=this.payload.collections[e].config,o=this.tableNameMap.get(eQ(a.slug)),l=await t8({adapter:this,fields:a.flattenedFields,joins:!1,limit:0,locale:t?.locale,page:1,pagination:!1,req:t,tableName:o,where:i}),d=[];l.docs.forEach(e=>{d.push(e.id)}),d.length>0&&await this.deleteWhere({db:r,tableName:o,where:ej(this.tables[o].id,d)})},rG=async function({collection:e,req:t,returning:i,select:r,where:a}){let o;let l=await tG(this,t),d=this.payload.collections[e].config,p=this.tableNameMap.get(eQ(d.slug)),{joins:c,selectFields:u,where:h}=tj({adapter:this,fields:d.flattenedFields,locale:t?.locale,tableName:p,where:a}),m=await tM({adapter:this,db:l,joins:c,query:({query:e})=>e.limit(1),selectFields:u,tableName:p,where:h});if(m?.[0]?.id)o=await l.query[p].findFirst({where:eC(this.tables[p].id,m[0].id)});else{let e=t5({adapter:this,depth:0,fields:d.flattenedFields,joinQuery:!1,select:r,tableName:p});e.where=h,o=await l.query[p].findFirst(e)}if(!o)return null;let g=!1===i?null:tW({adapter:this,config:this.payload.config,data:o,fields:d.flattenedFields,joinQuery:!1,tableName:p});return await this.deleteWhere({db:l,tableName:p,where:eC(this.tables[p].id,o.id)}),g},rK=async function({collection:e,globalSlug:t,locale:i,req:r,where:a}){let o,l;let d=await tG(this,r);if(t){let e=this.payload.globals.config.find(({slug:e})=>e===t);o=this.tableNameMap.get(`_${eQ(t)}${this.versionsSuffix}`),l=(0,iv.n)(this.payload.config,e,!0)}else if(e){let t=this.payload.collections[e].config;o=this.tableNameMap.get(`_${eQ(t.slug)}${this.versionsSuffix}`),l=(0,tQ.w)(this.payload.config,t,!0)}else throw new e1.H("Either collection or globalSlug must be passed.");let{docs:p}=await t8({adapter:this,fields:l,joins:!1,limit:0,locale:i,page:1,pagination:!1,req:r,tableName:o,where:a}),c=[];return p.forEach(e=>{c.push(e.id)}),c.length>0&&await this.deleteWhere({db:d,tableName:o,where:ej(this.tables[o].id,c)}),p},rJ=async function(){this.enums&&(this.enums={}),this.schema={},this.tables={},this.relations={},this.fieldConstraints={},this.drizzle=void 0,this.initializing=new Promise((e,t)=>{this.resolveInitializing=e,this.rejectInitializing=t})},rQ=async function({collection:e,draftsEnabled:t,joins:i,limit:r,locale:a,page:o=1,pagination:l,req:d,select:p,sort:c,where:u}){let h=this.payload.collections[e].config,m=null!=c?c:h.defaultSort,g=this.tableNameMap.get(eQ(h.slug));return t8({adapter:this,collectionSlug:h.slug,draftsEnabled:t,fields:h.flattenedFields,joins:i,limit:r,locale:a,page:o,pagination:l,req:d,select:p,sort:m,tableName:g,where:u})},rY=async function({slug:e,locale:t,req:i,select:r,where:a}){let o=this.payload.globals.config.find(t=>t.slug===e),l=this.tableNameMap.get(eQ(o.slug)),{docs:[d]}=await t8({adapter:this,fields:o.flattenedFields,limit:1,locale:t,pagination:!1,req:i,select:r,tableName:l,where:a});return d?(d.globalType=e,d):{}},rZ=async function({global:e,limit:t,locale:i,page:r,pagination:a,req:o,select:l,skip:d,sort:p,where:c}){let u=this.payload.globals.config.find(({slug:t})=>t===e),h=null!=p?p:"-createdAt",m=this.tableNameMap.get(`_${eQ(u.slug)}${this.versionsSuffix}`);return t8({adapter:this,fields:(0,iv.n)(this.payload.config,u,!0),limit:t,locale:i,page:r,pagination:a,req:o,select:l,skip:d,sort:h,tableName:m,where:c})};async function rX({collection:e,draftsEnabled:t,joins:i,locale:r,req:a,select:o,where:l}){let d=this.payload.collections[e].config,p=this.tableNameMap.get(eQ(d.slug)),{docs:c}=await t8({adapter:this,collectionSlug:e,draftsEnabled:t,fields:d.flattenedFields,joins:i,limit:1,locale:r,page:1,pagination:!1,req:a,select:o,sort:void 0,tableName:p,where:l});return c?.[0]||null}let r1=async function({collection:e,limit:t,locale:i,page:r,pagination:a,req:o,select:l,skip:d,sort:p,where:c}){let u=this.payload.collections[e].config,h=null!=p?p:u.defaultSort,m=this.tableNameMap.get(`_${eQ(u.slug)}${this.versionsSuffix}`);return t8({adapter:this,fields:(0,tQ.w)(this.payload.config,u,!0),joins:!1,limit:t,locale:i,page:r,pagination:a,req:o,select:l,skip:d,sort:h,tableName:m,where:c})};var r0=i(30129),r2=i(51224),r6=i(30651),r4=i(3603),r3=i(31769);let r5=async(e,t)=>{let i;if("postgres"===e.name){let t=e.schemaName?`"${e.schemaName}".`:"";i=`SELECT to_regclass('${t}"payload_migrations"') AS exists;`}"sqlite"===e.name&&(i=`
      SELECT CASE
               WHEN COUNT(*) > 0 THEN 1
               ELSE 0
               END AS 'exists'
      FROM sqlite_master
      WHERE type = 'table'
        AND name = 'payload_migrations';`);let[r]=(await e.execute({drizzle:t??e.drizzle,raw:i})).rows;return r&&"object"==typeof r&&"exists"in r&&!!r.exists},r8=(e,t)=>{let i=`${t}`;return e instanceof Error&&(i+=` ${e.message}.`,"hint"in e&&"string"==typeof e.hint&&(i+=` ${e.hint}.`)),i},r9=async function(e){let{payload:t}=this,i=e?.migrations||await (0,r0.O)({payload:t});if(!i.length){t.logger.info({msg:"No migrations to run."});return}"createExtensions"in this&&"function"==typeof this.createExtensions&&await this.createExtensions();let r=0,a=[];if(await r5(this)){if({docs:a}=await t.find({collection:"payload-migrations",limit:0,sort:"-name"}),a.find(e=>-1===e.batch)){let{confirm:e}=await rB({name:"confirm",type:"confirm",initial:!1,message:"It looks like you've run Payload in dev mode, meaning you've dynamically pushed changes to your database.\n\nIf you'd like to run migrations, data loss will occur. Would you like to proceed?"},{onCancel:()=>{process.exit(0)}});e||process.exit(0),a=a.filter(e=>-1!==e.batch)}Number(a?.[0]?.batch)>0&&(r=Number(a[0]?.batch))}let o=r+1;for(let e of i)a.find(t=>t.name===e.name)||await r7(t,e,o)};async function r7(e,t,i){let r=Date.now(),a=await (0,r2.z)({},e);e.logger.info({msg:`Migrating: ${t.name}`});try{await (0,r6.n)(a);let o=await tG(e.db,a);await t.up({db:o,payload:e,req:a}),e.logger.info({msg:`Migrated:  ${t.name} (${Date.now()-r}ms)`}),await e.create({collection:"payload-migrations",data:{name:t.name,batch:i},req:a}),await (0,r4._)(a)}catch(i){await (0,r3.n)(a),e.logger.error({err:i,msg:r8(i,`Error running migration ${t.name}`)}),process.exit(1)}}async function ae({payload:e}){let t=(await e.find({collection:"payload-migrations",limit:0,sort:["-batch","-name"],where:{batch:{not_equals:-1}}})).docs,i=Number(t?.[0]?.batch)||0;return{existingMigrations:t,latestBatch:i}}async function at(){let{payload:e}=this,t=await (0,r0.O)({payload:e}),{existingMigrations:i,latestBatch:r}=await ae({payload:e});if(!i?.length){e.logger.info({msg:"No migrations to rollback."});return}for(let a of(e.logger.info({msg:`Rolling back batch ${r} consisting of ${i.length} migration(s).`}),i.filter(({batch:e})=>e===r))){let i=t.find(e=>e.name===a.name);if(!i)throw Error(`Migration ${a.name} not found locally.`);let r=Date.now(),o=await (0,r2.z)({},e);try{e.logger.info({msg:`Migrating down: ${i.name}`}),await (0,r6.n)(o);let t=await tG(this,o);await i.down({db:t,payload:e,req:o}),e.logger.info({msg:`Migrated down:  ${i.name} (${Date.now()-r}ms)`}),await r5(this,t)&&await e.delete({id:a.id,collection:"payload-migrations",req:o}),await (0,r4._)(o)}catch(t){await (0,r3.n)(o),e.logger.error({err:t,msg:r8(t,`Error migrating down ${i.name}. Rolling back.`)}),process.exit(1)}}}async function ai({forceAcceptWarning:e=!1}){let{payload:t}=this;if(!1===e){let{confirm:e}=await rB({name:"confirm",type:"confirm",initial:!1,message:"WARNING: This will drop your database and run all migrations. Are you sure you want to proceed?"},{onCancel:()=>{process.exit(0)}});e||process.exit(0)}t.logger.info({msg:"Dropping database."}),await this.dropDatabase({adapter:this});let i=await (0,r0.O)({payload:t});t.logger.debug({msg:`Found ${i.length} migration files.`});let r=await (0,r2.z)({},t);for(let e of("createExtensions"in this&&"function"==typeof this.createExtensions&&await this.createExtensions(),i)){t.logger.info({msg:`Migrating: ${e.name}`});try{let i=Date.now();await (0,r6.n)(r);let a=await tG(this,r);await e.up({db:a,payload:t,req:r}),await t.create({collection:"payload-migrations",data:{name:e.name,batch:1},req:r}),await (0,r4._)(r),t.logger.info({msg:`Migrated:  ${e.name} (${Date.now()-i}ms)`})}catch(i){await (0,r3.n)(r),t.logger.error({err:i,msg:r8(i,`Error running migration ${e.name}. Rolling back`)}),process.exit(1)}}}async function ar(){let{payload:e}=this,t=await (0,r0.O)({payload:e}),{existingMigrations:i,latestBatch:r}=await ae({payload:e});if(!i?.length){e.logger.info({msg:"No migrations to rollback."});return}e.logger.info({msg:`Rolling back batch ${r} consisting of ${i.length} migration(s).`});let a=await (0,r2.z)({},e);for(let r of(i.reverse(),i))try{let i=t.find(e=>e.name===r.name);if(!i)throw Error(`Migration ${r.name} not found locally.`);e.logger.info({msg:`Migrating down: ${r.name}`});let o=Date.now();await (0,r6.n)(a);let l=await tG(this,a);await i.down({db:l,payload:e,req:a}),e.logger.info({msg:`Migrated down:  ${r.name} (${Date.now()-o}ms)`}),await r5(this,l)&&await e.delete({collection:"payload-migrations",req:a,where:{name:{equals:r.name}}}),await (0,r4._)(a)}catch(t){await (0,r3.n)(a),e.logger.error({err:t,msg:r8(t,`Error running migration ${r.name}. Rolling back.`)}),process.exit(1)}for(let i of t){e.logger.info({msg:`Migrating: ${i.name}`});try{let t=Date.now();await (0,r6.n)(a),await i.up({payload:e,req:a}),await e.create({collection:"payload-migrations",data:{name:i.name,executed:!0},req:a}),await (0,r4._)(a),e.logger.info({msg:`Migrated:  ${i.name} (${Date.now()-t}ms)`})}catch(t){await (0,r3.n)(a),e.logger.error({err:t,msg:r8(t,`Error running migration ${i.name}. Rolling back.`)}),process.exit(1)}}}async function aa(){let{payload:e}=this,t=await (0,r0.O)({payload:e}),{existingMigrations:i}=await ae({payload:e});if(!i?.length){e.logger.info({msg:"No migrations to reset."});return}let r=await (0,r2.z)({},e);for(let a of(i.reverse(),i)){let i=t.find(e=>e.name===a.name);try{if(!i)throw Error(`Migration ${a.name} not found locally.`);let t=Date.now();e.logger.info({msg:`Migrating down: ${i.name}`}),await (0,r6.n)(r);let o=await tG(this,r);await i.down({db:o,payload:e,req:r}),e.logger.info({msg:`Migrated down:  ${i.name} (${Date.now()-t}ms)`}),await r5(this,o)&&await e.delete({id:a.id,collection:"payload-migrations",req:r}),await (0,r4._)(r)}catch(a){let t=`Error running migration ${i.name}.`;a instanceof Error&&(t+=` ${a.message}`),await (0,r3.n)(r),e.logger.error({err:a,msg:t}),process.exit(1)}}if(await r5(this))try{await e.delete({collection:"payload-migrations",where:{batch:{equals:-1}}})}catch(t){e.logger.error({err:t,msg:"Error deleting dev migration"})}}var an=i(94552);async function as(){let{payload:e}=this,t=await (0,r0.O)({payload:e});e.logger.debug({msg:`Found ${t.length} migration files.`});let i=[];if(await r5(this)&&({existingMigrations:i}=await ae({payload:e})),!t.length){e.logger.info({msg:"No migrations found."});return}let r=t.map(e=>{let t=i.find(t=>t.name===e.name);return{Name:e.name,Batch:t?.batch,Ran:t?"Yes":"No"}}),a=new an.Table;r.forEach(e=>{a.addRow(e,{color:"Yes"===e.Ran?"green":"red"})}),a.printTable()}let ao=async function({collection:e,joins:t,limit:i,locale:r,page:a=1,pagination:o,req:l,select:d,sort:p,where:c}){let u=this.payload.collections[e].config,h=this.tableNameMap.get(`_${eQ(u.slug)}${this.versionsSuffix}`),m=(0,tQ.w)(this.payload.config,u,!0),g=(0,tY.W)({latest:{equals:!0}},c),y=await t8({adapter:this,collectionSlug:e,fields:m,joins:t,limit:i,locale:r,page:a,pagination:o,req:l,select:d,sort:p,tableName:h,versions:!0,where:g});return{...y,docs:y.docs.map(e=>e={id:e.parent,...e.version})}},al=async function(e=""){let t=e instanceof Promise?await e:e;this.sessions[t]&&(await this.sessions[t].reject(),delete this.sessions[t])};async function ad({slug:e,data:t,req:i,returning:r,select:a}){let o=await tG(this,i),l=this.payload.globals.config.find(t=>t.slug===e),d=this.tableNameMap.get(eQ(l.slug)),p=await o.query[d].findFirst({}),c=await iu({...p?{id:p.id,operation:"update"}:{operation:"create"},adapter:this,data:t,db:o,fields:l.flattenedFields,ignoreResult:!1===r,req:i,select:a,tableName:d});return!1===r?null:(c.globalType=e,c)}async function ap({id:e,global:t,locale:i,req:r,returning:a,select:o,versionData:l,where:d}){let p=await tG(this,r),c=this.payload.globals.config.find(({slug:e})=>e===t),u=d||{id:{equals:e}},h=this.tableNameMap.get(`_${eQ(c.slug)}${this.versionsSuffix}`),m=(0,iv.n)(this.payload.config,c,!0),{where:g}=tj({adapter:this,fields:m,locale:i,tableName:h,where:u}),y=await iu({id:e,adapter:this,data:l,db:p,fields:m,ignoreResult:!1===a,operation:"update",req:r,select:o,tableName:h,where:g});return!1===a?null:y}let ac=async function({collection:e,data:t,joins:i,limit:r,locale:a,req:o,returning:l,select:d,sort:p,where:c}){let u=await tG(this,o),h=this.payload.collections[e].config,m=this.tableNameMap.get(eQ(h.slug)),g=null!=p?p:h.defaultSort,{joins:y,orderBy:v,selectFields:b,where:w}=tj({adapter:this,fields:h.flattenedFields,locale:a,sort:g,tableName:m,where:c}),_=[],x=await tM({adapter:this,db:u,joins:y,query:({query:e})=>v?e.orderBy(()=>v.map(({column:e,order:t})=>t(e))):e,selectFields:b,tableName:m,where:w});if(x?.[0]?.id)_=x?.map(e=>e.id);else if(c&&!y.length){let e=u,t=this.tables[m],i=e.select({id:t.id}).from(t).where(w).$dynamic();"number"==typeof r&&r>0&&(i=i.limit(r)),v&&(i=i.orderBy(()=>v.map(({column:e,order:t})=>t(e))));let a=await i;_=a?.map(e=>e.id)}if(!_.length)return[];let S=[];for(let e of _){let r=await iu({id:e,adapter:this,data:t,db:u,fields:h.flattenedFields,ignoreResult:!1===l,joinQuery:i,operation:"update",req:o,select:d,tableName:m});S.push(r)}return!1===l?null:S},au=({data:e,fields:t})=>{for(let i in e){let r=e[i],a=t.find(e=>e.name===i);if(a&&("array"===a.type||"blocks"===a.type||("text"===a.type||"relationship"===a.type||"upload"===a.type||"select"===a.type||"number"===a.type)&&a.hasMany||("relationship"===a.type||"upload"===a.type)&&Array.isArray(a.relationTo)||a.localized||("group"===a.type||"tab"===a.type)&&r&&"object"==typeof r&&au({data:r,fields:a.flattenedFields})))return!0}return!1},ah=async function({id:e,collection:t,data:i,joins:r,locale:a,options:o={upsert:!1},req:l,returning:d,select:p,where:c}){let u=await tG(this,l),h=this.payload.collections[t].config,m=this.tableNameMap.get(eQ(h.slug)),g=e;if(!g){let{joins:e,selectFields:t,where:i}=tj({adapter:this,fields:h.flattenedFields,locale:a,tableName:m,where:c}),r=await tM({adapter:this,db:u,joins:e,query:({query:e})=>e.limit(1),selectFields:t,tableName:m,where:i});if(r?.[0]?.id)g=r?.[0]?.id;else if(c&&!e.length){let e=this.tables[m],t=await u.select({id:e.id}).from(e).where(i).limit(1);g=t?.[0]?.id}}if(!g&&!o.upsert)return null;if(!g||au({data:i,fields:h.flattenedFields})){let e=await iu({id:g,adapter:this,data:i,db:u,fields:h.flattenedFields,ignoreResult:!1===d,joinQuery:r,operation:"update",req:l,select:p,tableName:m});return!1===d?null:e}let{row:y}=il({adapter:this,data:i,fields:h.flattenedFields,tableName:m}),v=u;if(await v.update(this.tables[m]).set(y).where(eC(this.tables[m].id,g)),!1===d)return null;let b=t5({adapter:this,depth:0,fields:h.flattenedFields,joinQuery:!1,select:p,tableName:m});b.where=eC(this.tables[m].id,g);let w=await u.query[m].findFirst(b);return tW({adapter:this,config:this.payload.config,data:w,fields:h.flattenedFields,joinQuery:!1,tableName:m})};async function af({id:e,collection:t,locale:i,req:r,returning:a,select:o,versionData:l,where:d}){let p=await tG(this,r),c=this.payload.collections[t].config,u=d||{id:{equals:e}},h=this.tableNameMap.get(`_${eQ(c.slug)}${this.versionsSuffix}`),m=(0,tQ.w)(this.payload.config,c,!0),{where:g}=tj({adapter:this,fields:m,locale:i,tableName:h,where:u}),y=await iu({id:e,adapter:this,data:l,db:p,fields:m,ignoreResult:!1===a,joinQuery:!1,operation:"update",req:r,select:o,tableName:h,where:g});return!1===a?null:y}let am=async function({collection:e,data:t,joins:i,locale:r,req:a,returning:o,select:l,where:d}){return this.updateOne({collection:e,data:t,joins:i,locale:r,options:{upsert:!0},req:a,returning:o,select:l,where:d})},ag=({connectionString:e,database:t})=>{let i=new URL(e),r=new URL(i);return r.pathname=`/${t}`,r.toString()},ay=async function(e={}){let t=this.poolOptions?.connectionString??process.env.POSTGRES_URL??process.env.DATABASE_URL,r={},a=e.name,o=this.schemaName||"public";t?(a||(a=new URL(t).pathname.slice(1)),r.connectionString=ag({connectionString:t,database:"postgres"})):(a||(a=this.poolOptions.database),r={...this.poolOptions,database:"postgres"});let l=await Promise.resolve().then(i.t.bind(i,35900,19)).then(e=>e.default),d=new l.Client(r);try{if(await d.connect(),await d.query(`CREATE DATABASE "${a}"`),this.payload.logger.info(`Created database "${a}"`),"public"!==o){let e={};t?e.connectionString=ag({connectionString:t,database:a}):e={...this.poolOptions,database:a};let i=new l.Client(e);try{await i.connect(),await i.query(`CREATE SCHEMA ${o}`),this.payload.logger.info(`Created schema "${a}.${o}"`)}catch(e){this.payload.logger.error({err:e,msg:`Error: failed to create schema "${a}.${o}". Details: ${e.message}`})}finally{await i.end()}}return!0}catch(e){return this.payload.logger.error({err:e,msg:`Error: failed to create database ${a}. Details: ${e.message}`}),!1}finally{await d.end()}},av=async function(){for(let e in this.extensions)if(this.extensions[e])try{await this.drizzle.execute(`CREATE EXTENSION IF NOT EXISTS "${e}"`)}catch(t){this.payload.logger.error({err:t,msg:`Failed to create extension ${e}`})}},ab={id:"00000000-0000-0000-0000-000000000000",_meta:{columns:{},schemas:{},tables:{}},dialect:"postgresql",enums:{},policies:{},prevId:"00000000-0000-0000-0000-00000000000",roles:{},schemas:{},sequences:{},tables:{},version:"7",views:{}},aw=({adapter:e,addEnum:t,addImport:i,column:r,tableKey:a})=>{let o=r.type;"geometry"===r.type?(o="geometryColumn",i(e.packageName,o)):"enum"===r.type?"locale"in r?o="enum__locales":(t(r.enumName,r.options),o=r.enumName):i(`${e.packageName}/drizzle/pg-core`,o);let l=[];switch(r.type){case"bit":case"halfvec":case"sparsevec":case"vector":r.dimensions&&l.push(`dimensions: ${r.dimensions}`);break;case"timestamp":l.push(`mode: '${r.mode}'`),r.withTimezone&&l.push("withTimezone: true"),"number"==typeof r.precision&&l.push(`precision: ${r.precision}`)}let d="";l.length&&(d=`, {${l.join(",")}}`);let p=`${o}('${r.name}'${d})`;if("timestamp"===r.type&&r.defaultNow&&(p=`${p}.defaultNow()`),"uuid"===r.type&&r.defaultRandom&&(p=`${p}.defaultRandom()`),r.notNull&&(p=`${p}.notNull()`),r.primaryKey&&(p=`${p}.primaryKey()`),void 0!==r.default){let e=r.default;"geometry"===r.type?e=`sql\`${r.default}\``:"jsonb"===r.type?e=`sql\`'${JSON.stringify(r.default)}'::jsonb\``:"numeric"===r.type?e=`'${r.default}'`:"string"==typeof r.default&&(e=`${JSON.stringify(r.default)}`),p=`${p}.default(${e})`}if(r.reference){let t="()";r.reference.table===a&&(i(`${e.packageName}/drizzle/pg-core`,"type AnyPgColumn"),t=`${t}: AnyPgColumn`),t=`${t} => ${r.reference.table}.${r.reference.name}`,p=`${p}.references(${t}, {
      ${r.reference.onDelete?`onDelete: '${r.reference.onDelete}'`:""}
  })`}return p},a_=async function({db:e,joins:t,tableName:i,where:r}){if(0===t.length){let t=await e.select({count:tJ()}).from(this.tables[i]).where(r);return Number(t?.[0]?.count??0)}let a=e.select({count:ex`COUNT(1) OVER()`}).from(this.tables[i]).where(r).groupBy(this.tables[i].id).limit(1).$dynamic();t.forEach(({condition:e,table:t})=>{a=a.leftJoin(t,e)});let o=await a;return Number(o?.[0]?.count??0)},ax={contains:"~",equals:"==",in:"in",like:"like_regex",not_equals:"!=",not_in:"in",not_like:"!like_regex"},aS=(e,t)=>"string"==typeof e?`"${["like","not_like"].includes(t)?"(?i)":""}${e}"`:e,aE=({column:e,operator:t,pathSegments:i,value:r})=>{let a="object"==typeof e?e.name:e,o=i.slice(1).map(e=>`${e}[*]`).join("."),l="";if(["in","not_in"].includes(t)&&Array.isArray(r))r.forEach((a,o)=>{l=`${l}${aE({column:e,operator:"in"===t?"equals":"not_equals",pathSegments:i,value:a})}${o===r.length-1?"":` ${"in"===t?"OR":"AND"} `}`});else if("exists"===t)l=`${!1===r?"NOT ":""}jsonb_path_exists(${a}, '$.${o}')`;else if(["not_like"].includes(t)){let e=ax[t];l=`NOT jsonb_path_exists(${a}, '$.${o} ? (@ ${e.substring(1)} ${aS(r,t)})')`}else l=`jsonb_path_exists(${a}, '$.${o} ? (@ ${ax[t]} ${aS(r,t)})')`;return l},ak=async function({db:e,tableName:t,where:i}){let r=this.tables[t];await e.delete(r).where(i)},aT=async function({adapter:e}){await e.execute({drizzle:e.drizzle,raw:`drop schema if exists ${this.schemaName||"public"} cascade;
    create schema ${this.schemaName||"public"};`})},aA=function({db:e,drizzle:t,raw:i,sql:r}){let a=e??t;return i?a.execute(ex.raw(i)):a.execute(ex`${r}`)};function aC(e,t,i){let r={},a=e.reduce((e,{path:a,field:o},l)=>{let d;d=v(o,b)?o:v(o,eg)?o.decoder:o.sql.decoder;let p=e;for(let[e,c]of a.entries())if(e<a.length-1)c in p||(p[c]={}),p=p[c];else{let e=t[l],u=p[c]=null===e?null:d.mapFromDriverValue(e);if(i&&v(o,b)&&2===a.length){let e=a[0];e in r?"string"==typeof r[e]&&r[e]!==P(o.table)&&(r[e]=!1):r[e]=null===u&&P(o.table)}}return e},{});if(i&&Object.keys(r).length>0)for(let[e,t]of Object.entries(r))"string"!=typeof t||i[t]||(a[e]=null);return a}function aN(e,t){return Object.entries(e).reduce((e,[i,r])=>{if("string"!=typeof i)return e;let a=t?[...t,i]:[i];return v(r,b)||v(r,eg)||v(r,eg.Aliased)?e.push({path:a,field:r}):v(r,O)?e.push(...aN(r[O.Symbol.Columns],a)):e.push(...aN(r,a)),e},[])}function aO(e,t){let i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(let[e,t]of i.entries())if(t!==r[e])return!1;return!0}function aP(e,t){let i=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,i])=>v(i,eg)||v(i,b)?[t,i]:[t,new e_(i,e[O.Symbol.Columns][t])]);if(0===i.length)throw Error("No values to set");return Object.fromEntries(i)}function aI(e,t){for(let i of t)for(let t of Object.getOwnPropertyNames(i.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(i.prototype,t)||Object.create(null))}function aL(e){return e[O.Symbol.Columns]}function aD(e){return v(e,eo)?e._.alias:v(e,eT)?e[ec].name:v(e,eg)?void 0:e[O.Symbol.IsAlias]?e[O.Symbol.Name]:e[O.Symbol.BaseName]}function aR(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}function a$(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.schema;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.casing;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}class aj extends W{static [y]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...i}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...i}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class aM extends aj{static [y]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new aU(e,this.config)}}class aU extends G{static [y]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class aF extends aj{static [y]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new aB(e,this.config)}}class aB extends G{static [y]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function az(e,t){let{name:i,config:r}=aR(e,t);return"number"===r.mode?new aM(i):new aF(i)}class aq extends W{static [y]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new aV(e,this.config)}}class aV extends G{static [y]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class aH extends W{static [y]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new aW(e,this.config)}}class aW extends G{static [y]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function aG(e,t){let{name:i,config:r}=aR(e,t);return"number"===r.mode?new aq(i):new aH(i)}class aK extends W{static [y]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new aJ(e,this.config)}}class aJ extends G{static [y]="PgBoolean";getSQLType(){return"boolean"}}function aQ(e){return new aK(e??"")}class aY extends W{static [y]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new aZ(e,this.config)}}class aZ extends G{static [y]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function aX(e,t={}){let{name:i,config:r}=aR(e,t);return new aY(i,r)}class a1 extends W{static [y]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new a0(e,this.config)}}class a0 extends G{static [y]="PgCidr";getSQLType(){return"cidr"}}function a2(e){return new a1(e??"")}class a6 extends W{static [y]="PgCustomColumnBuilder";constructor(e,t,i){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=i}build(e){return new a4(e,this.config)}}class a4 extends G{static [y]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function a3(e){return(t,i)=>{let{name:r,config:a}=aR(t,i);return new a6(r,a,e)}}class a5 extends W{static [y]="PgDateColumnBaseBuilder";defaultNow(){return this.default(ex`now()`)}}class a8 extends a5{static [y]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new a9(e,this.config)}}class a9 extends G{static [y]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class a7 extends a5{static [y]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new ne(e,this.config)}}class ne extends G{static [y]="PgDateString";getSQLType(){return"date"}}function nt(e,t){let{name:i,config:r}=aR(e,t);return r?.mode==="date"?new a8(i):new a7(i)}class ni extends W{static [y]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new nr(e,this.config)}}class nr extends G{static [y]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function na(e){return new ni(e??"")}class nn extends W{static [y]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new ns(e,this.config)}}class ns extends G{static [y]="PgInet";getSQLType(){return"inet"}}function no(e){return new nn(e??"")}class nl extends aj{static [y]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new nd(e,this.config)}}class nd extends G{static [y]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function np(e){return new nl(e??"")}class nc extends W{static [y]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new nu(e,this.config)}}class nu extends G{static [y]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function nh(e,t={}){let{name:i,config:r}=aR(e,t);return new nc(i,r)}class nf extends W{static [y]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new nm(e,this.config)}}class nm extends G{static [y]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function ng(e){return new nf(e??"")}class ny extends W{static [y]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new nv(e,this.config)}}class nv extends G{static [y]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function nb(e){return new ny(e??"")}class nw extends W{static [y]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new n_(e,this.config)}}class n_ extends G{static [y]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,i,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(i),Number.parseFloat(r)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class nx extends W{static [y]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new nS(e,this.config)}}class nS extends G{static [y]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,i,r]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(i),c:Number.parseFloat(r)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function nE(e,t){let{name:i,config:r}=aR(e,t);return r?.mode&&"tuple"!==r.mode?new nx(i):new nw(i)}class nk extends W{static [y]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new nT(e,this.config)}}class nT extends G{static [y]="PgMacaddr";getSQLType(){return"macaddr"}}function nA(e){return new nk(e??"")}class nC extends W{static [y]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new nN(e,this.config)}}class nN extends G{static [y]="PgMacaddr8";getSQLType(){return"macaddr8"}}function nO(e){return new nC(e??"")}class nP extends W{static [y]="PgNumericBuilder";constructor(e,t,i){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=i}build(e){return new nI(e,this.config)}}class nI extends G{static [y]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"string"==typeof e?e:String(e)}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class nL extends W{static [y]="PgNumericNumberBuilder";constructor(e,t,i){super(e,"number","PgNumericNumber"),this.config.precision=t,this.config.scale=i}build(e){return new nD(e,this.config)}}class nD extends G{static [y]="PgNumericNumber";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class nR extends W{static [y]="PgNumericBigIntBuilder";constructor(e,t,i){super(e,"bigint","PgNumericBigInt"),this.config.precision=t,this.config.scale=i}build(e){return new n$(e,this.config)}}class n$ extends G{static [y]="PgNumericBigInt";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function nj(e,t){let{name:i,config:r}=aR(e,t),a=r?.mode;return"number"===a?new nL(i,r?.precision,r?.scale):"bigint"===a?new nR(i,r?.precision,r?.scale):new nP(i,r?.precision,r?.scale)}class nM extends W{static [y]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new nU(e,this.config)}}class nU extends G{static [y]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,i]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(i)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class nF extends W{static [y]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new nB(e,this.config)}}class nB extends G{static [y]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,i]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(i)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function nz(e,t){let{name:i,config:r}=aR(e,t);return r?.mode&&"tuple"!==r.mode?new nF(i):new nM(i)}function nq(e){let t=[];for(let i=0;i<e.length;i+=2)t.push(Number.parseInt(e.slice(i,i+2),16));return new Uint8Array(t)}function nV(e,t){let i=new DataView(new ArrayBuffer(8));for(let r=0;r<8;r++)i.setUint8(r,e[t+r]);return i.getFloat64(0,!0)}function nH(e){let t;let i=nq(e),r=0,a=i[0];r+=1;let o=new DataView(i.buffer),l=o.getUint32(r,1===a);if(r+=4,536870912&l&&(t=o.getUint32(r,1===a),r+=4),(65535&l)==1){let e=nV(i,r),t=nV(i,r+=8);return r+=8,[e,t]}throw Error("Unsupported geometry type")}class nW extends W{static [y]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new nG(e,this.config)}}class nG extends G{static [y]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return nH(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class nK extends W{static [y]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new nJ(e,this.config)}}class nJ extends G{static [y]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=nH(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function nQ(e,t){let{name:i,config:r}=aR(e,t);return r?.mode&&"tuple"!==r.mode?new nK(i):new nW(i)}class nY extends W{static [y]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new nZ(e,this.config)}}class nZ extends G{static [y]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function nX(e){return new nY(e??"")}class n1 extends W{static [y]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new n0(e,this.config)}}class n0 extends G{static [y]="PgSerial";getSQLType(){return"serial"}}function n2(e){return new n1(e??"")}class n6 extends aj{static [y]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new n4(e,this.config)}}class n4 extends G{static [y]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function n3(e){return new n6(e??"")}class n5 extends W{static [y]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new n8(e,this.config)}}class n8 extends G{static [y]="PgSmallSerial";getSQLType(){return"smallserial"}}function n9(e){return new n5(e??"")}class n7 extends W{static [y]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new se(e,this.config)}}class se extends G{static [y]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function st(e,t={}){let{name:i,config:r}=aR(e,t);return new n7(i,r)}class si extends a5{constructor(e,t,i){super(e,"string","PgTime"),this.withTimezone=t,this.precision=i,this.config.withTimezone=t,this.config.precision=i}static [y]="PgTimeBuilder";build(e){return new sr(e,this.config)}}class sr extends G{static [y]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function sa(e,t={}){let{name:i,config:r}=aR(e,t);return new si(i,r.withTimezone??!1,r.precision)}class sn extends a5{static [y]="PgTimestampBuilder";constructor(e,t,i){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=i}build(e){return new ss(e,this.config)}}class ss extends G{static [y]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class so extends a5{static [y]="PgTimestampStringBuilder";constructor(e,t,i){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=i}build(e){return new sl(e,this.config)}}class sl extends G{static [y]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function sd(e,t={}){let{name:i,config:r}=aR(e,t);return r?.mode==="string"?new so(i,r.withTimezone??!1,r.precision):new sn(i,r?.withTimezone??!1,r?.precision)}class sp extends W{static [y]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new sc(e,this.config)}}class sc extends G{static [y]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function su(e,t={}){let{name:i,config:r}=aR(e,t);return new sp(i,r)}class sh extends W{static [y]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new sf(e,this.config)}}class sf extends G{static [y]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function sm(e,t){let{name:i,config:r}=aR(e,t);return new sh(i,r)}class sg extends W{static [y]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new sy(e,this.config)}}class sy extends G{static [y]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function sv(e,t){let{name:i,config:r}=aR(e,t);return new sg(i,r)}class sb extends W{static [y]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new sw(e,this.config)}}class sw extends G{static [y]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function s_(e,t){let{name:i,config:r}=aR(e,t);return new sb(i,r)}class sx extends W{static [y]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new sS(e,this.config)}}class sS extends G{static [y]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function sE(e,t){let{name:i,config:r}=aR(e,t);return new sx(i,r)}function sk(){return{bigint:az,bigserial:aG,boolean:aQ,char:aX,cidr:a2,customType:a3,date:nt,doublePrecision:na,inet:no,integer:np,interval:nh,json:ng,jsonb:nb,line:nE,macaddr:nA,macaddr8:nO,numeric:nj,point:nz,geometry:nQ,real:nX,serial:n2,smallint:n3,smallserial:n9,text:st,time:sa,timestamp:sd,uuid:tk,varchar:su,bit:sm,halfvec:sv,sparsevec:s_,vector:sE}}let sT=Symbol.for("drizzle:PgInlineForeignKeys"),sA=Symbol.for("drizzle:EnableRLS");class sC extends O{static [y]="PgTable";static Symbol=Object.assign({},O.Symbol,{InlineForeignKeys:sT,EnableRLS:sA});[sT]=[];[sA]=!1;[O.Symbol.ExtraConfigBuilder]=void 0;[O.Symbol.ExtraConfigColumns]={}}function sN(e,t,i,r,a=e){let o=new sC(e,r,a),l="function"==typeof t?t(sk()):t,d=Object.fromEntries(Object.entries(l).map(([e,t])=>{let i=t;i.setName(e);let r=i.build(o);return o[sT].push(...i.buildForeignKeys(r,o)),[e,r]})),p=Object.fromEntries(Object.entries(l).map(([e,t])=>{let i=t;return i.setName(e),[e,i.buildExtraConfigColumn(o)]})),c=Object.assign(o,d);return c[O.Symbol.Columns]=d,c[O.Symbol.ExtraConfigColumns]=p,i&&(c[sC.Symbol.ExtraConfigBuilder]=i),Object.assign(c,{enableRLS:()=>(c[sC.Symbol.EnableRLS]=!0,c)})}let sO=(e,t,i)=>sN(e,t,i,void 0);class sP{static [y]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new sI(e,this.columns,this.name)}}class sI{constructor(e,t,i){this.table=e,this.columns=t,this.name=i}static [y]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[sC.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}class sL{constructor(e,t,i){this.sourceTable=e,this.referencedTable=t,this.relationName=i,this.referencedTableName=t[O.Symbol.Name]}static [y]="Relation";referencedTableName;fieldName}class sD{constructor(e,t){this.table=e,this.config=t}static [y]="Relations"}class sR extends sL{constructor(e,t,i,r){super(e,t,i?.relationName),this.config=i,this.isNullable=r}static [y]="One";withFieldName(e){let t=new sR(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class s$ extends sL{constructor(e,t,i){super(e,t,i?.relationName),this.config=i}static [y]="Many";withFieldName(e){let t=new s$(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function sj(){return{and:eO,between:eq,eq:eC,exists:eB,gt:eL,gte:eD,ilike:eG,inArray:ej,isNull:eU,isNotNull:eF,like:eH,lt:eR,lte:e$,ne:eN,not:eI,notBetween:eV,notExists:ez,notLike:eW,notIlike:eK,notInArray:eM,or:eP,sql:ex}}function sM(){return{sql:ex,asc:eY,desc:eZ}}function sU(e,t){1===Object.keys(e).length&&"default"in e&&!v(e.default,O)&&(e=e.default);let i={},r={},a={};for(let[o,l]of Object.entries(e))if(v(l,O)){let e=I(l),t=r[e];for(let r of(i[e]=o,a[o]={tsName:o,dbName:l[O.Symbol.Name],schema:l[O.Symbol.Schema],columns:l[O.Symbol.Columns],relations:t?.relations??{},primaryKey:t?.primaryKey??[]},Object.values(l[O.Symbol.Columns])))r.primary&&a[o].primaryKey.push(r);let d=l[O.Symbol.ExtraConfigBuilder]?.(l[O.Symbol.ExtraConfigColumns]);if(d)for(let e of Object.values(d))v(e,sP)&&a[o].primaryKey.push(...e.columns)}else if(v(l,sD)){let e;let o=I(l.table),d=i[o];for(let[i,p]of Object.entries(l.config(t(l.table))))if(d){let t=a[d];t.relations[i]=p,e&&t.primaryKey.push(...e)}else o in r||(r[o]={relations:{},primaryKey:e}),r[o].relations[i]=p}return{tables:a,tableNamesMap:i}}function sF(e,t){return new sD(e,e=>Object.fromEntries(Object.entries(t(e)).map(([e,t])=>[e,t.withFieldName(e)])))}function sB(e){return function(t,i){return new sR(e,t,i,i?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)}}function sz(e){return function(t,i){return new s$(e,t,i)}}function sq(e,t,i){if(v(i,sR)&&i.config)return{fields:i.config.fields,references:i.config.references};let r=t[I(i.referencedTable)];if(!r)throw Error(`Table "${i.referencedTable[O.Symbol.Name]}" not found in schema`);let a=e[r];if(!a)throw Error(`Table "${r}" not found in schema`);let o=i.sourceTable,l=t[I(o)];if(!l)throw Error(`Table "${o[O.Symbol.Name]}" not found in schema`);let d=[];for(let e of Object.values(a.relations))(i.relationName&&i!==e&&e.relationName===i.relationName||!i.relationName&&e.referencedTable===i.sourceTable)&&d.push(e);if(d.length>1)throw i.relationName?Error(`There are multiple relations with name "${i.relationName}" in table "${r}"`):Error(`There are multiple relations between "${r}" and "${i.sourceTable[O.Symbol.Name]}". Please specify relation name`);if(d[0]&&v(d[0],sR)&&d[0].config)return{fields:d[0].config.references,references:d[0].config.fields};throw Error(`There is not enough information to infer relation "${l}.${i.fieldName}"`)}function sV(e){return{one:sB(e),many:sz(e)}}function sH(e,t,i,r,a=e=>e){let o={};for(let[l,d]of r.entries())if(d.isJson){let r=t.relations[d.tsKey],p=i[l],c="string"==typeof p?JSON.parse(p):p;o[d.tsKey]=v(r,sR)?c&&sH(e,e[d.relationTableTsKey],c,d.selection,a):c.map(t=>sH(e,e[d.relationTableTsKey],t,d.selection,a))}else{let e;let t=a(i[l]),r=d.field;e=v(r,b)?r:v(r,eg)?r.decoder:r.sql.decoder,o[d.tsKey]=null===t?null:e.mapFromDriverValue(t)}return o}let sW=({adapter:e})=>{for(let t in e.rawRelations){let i=e.rawRelations[t];e.relations[`relations_${t}`]=sF(e.tables[t],({many:t,one:r})=>{let a={};for(let o in i){let l=i[o];"one"===l.type?a[o]=r(e.tables[l.to],{fields:l.fields.map(t=>e.tables[t.table][t.name]),references:l.references.map(t=>e.tables[l.to][t]),relationName:l.relationName}):a[o]=t(e.tables[l.to],{relationName:l.relationName})}return a})}},sG=({indexes:e})=>e.map(e=>({fields:e.fields.map(({field:e,localizedPath:t,path:i,pathHasLocalized:r})=>({field:e,localizedPath:`version.${t}`,path:`version.${i}`,pathHasLocalized:r})),unique:!1})),sK=({adapter:e,config:{name:t,slug:i},config:r,parentTableName:a,prefix:o="",target:l="dbName",throwValidationError:d=!1,versions:p=!1,versionsCustomName:c=!1})=>{let u,h=r[l],m=`${o}${eQ(t??i)}`;p&&(m=`_${m}${e.versionsSuffix}`),h||"enumName"!==l||(h=r.dbName),h&&(u="function"==typeof h?h({tableName:a}):h,c&&(u=`_${u}${e.versionsSuffix}`));let g=u||m;if(e.tableNameMap.set(m,g),!d)return g;if(g.length>63)throw new e1.H(`Exceeded max identifier length for table or enum name of 63 characters. Invalid name: ${g}.
Tip: You can use the dbName property to reduce the table name length.
      `);return g};var sJ=i(79562);let sQ=({name:e,adapter:t,number:i=0})=>{let r=`${e}${i?`_${i}`:""}_idx`;return t.indexes.has(r)?sQ({name:e,adapter:t,number:i+1}):(t.indexes.add(r),r)},sY=({fields:e,parentIsLocalized:t})=>e.some(e=>"array"!==e.type&&(!!((0,e2.j7)(e)&&(0,e2.iD)({field:e,parentIsLocalized:t}))||((0,e2.uV)(e)?sY({fields:e.fields,parentIsLocalized:t||"localized"in e&&e.localized}):"tabs"===e.type&&e.tabs.some(e=>sY({fields:e.fields,parentIsLocalized:t||e.localized}))))),sZ=e=>e.map(e=>"name"in e&&"id"===e.name?{...e,name:"_uuid"}:e),sX=(e,t)=>void 0===t.defaultValue||"function"==typeof t.defaultValue?e:{...e,default:t.defaultValue},s1=({adapter:e,blocksTableNameMap:t,columnPrefix:i,columns:r,disableNotNull:a,disableRelsTableUnique:o,disableUnique:l=!1,fieldPrefix:d,fields:p,forceLocalized:c,indexes:u,localesColumns:h,localesIndexes:m,newTableName:g,parentIsLocalized:y,parentTableName:v,relationships:b,relationsToBuild:w,rootRelationsToBuild:_,rootTableIDColType:x,rootTableName:S,setColumnID:E,uniqueRelationships:k,versions:T,withinLocalizedArrayOrBlock:C})=>{let N=!0,O=!1,P=!1,I=!1,L=!1,D=!1,R=!1,$="integer",j=r.id;return j&&["numeric","text","uuid","varchar"].includes(j.type)&&($=j.type),p.forEach(p=>{if("name"in p&&"id"===p.name||(0,e2.o)(p))return;let j=r,M=u,U=`${i||""}${"_"===p.name[0]?"_":""}${eQ(p.name)}`,F=`${d?.replace(".","_")||""}${p.name}`,B=(0,e2.iD)({field:p,parentIsLocalized:y});if(e.payload.config.localization&&(B||c)&&"array"!==p.type&&("blocks"!==p.type||e.blocksAsJSON)&&("hasMany"in p&&!0!==p.hasMany||!("hasMany"in p))&&(O=!0,j=h,M=m),(p.unique||p.index||["relationship","upload"].includes(p.type))&&!["array","blocks","group"].includes(p.type)&&!("hasMany"in p&&!0===p.hasMany)&&!("relationTo"in p&&Array.isArray(p.relationTo))){let t=!0!==l&&p.unique;if(t){let t=`${d||""}${p.name}`;e.fieldConstraints?.[S]||(e.fieldConstraints[S]={}),e.fieldConstraints[S][`${U}_idx`]=t}let i=sQ({name:`${g}_${U}`,adapter:e});M[i]={name:i,on:B?[F,"_locale"]:F,unique:t}}switch(p.type){case"array":{let i=!!p.admin?.condition||a,r=sK({adapter:e,config:p,parentTableName:g,prefix:`${g}_`,throwValidationError:N,versionsCustomName:T}),o={_order:{name:"_order",type:"integer",notNull:!0},_parentID:{name:"_parent_id",type:$,notNull:!0}},d={_orderIdx:{name:`${r}_order_idx`,on:["_order"]},_parentIDIdx:{name:`${r}_parent_id_idx`,on:"_parentID"}},u={_parentIDFk:{name:`${r}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:v}],onDelete:"cascade"}},h=!!(B&&e.payload.config.localization)||C||c;h&&(o._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},d._localeIdx={name:`${r}_locale_idx`,on:"_locale"});let{hasLocalizedManyNumberField:m,hasLocalizedManyTextField:O,hasLocalizedRelationshipField:j,hasManyNumberField:M,hasManyTextField:U,relationsToBuild:z}=s0({adapter:e,baseColumns:o,baseForeignKeys:u,baseIndexes:d,blocksTableNameMap:t,disableNotNull:i,disableRelsTableUnique:!0,disableUnique:l,fields:l?sZ(p.flattenedFields):p.flattenedFields,parentIsLocalized:y||p.localized,rootRelationships:b,rootRelationsToBuild:_,rootTableIDColType:x,rootTableName:S,rootUniqueRelationships:k,setColumnID:E,tableName:r,versions:T,withinLocalizedArrayOrBlock:h});m&&(R=m),j&&(P=j),O&&(L=O),U&&(!I||"index"===U)&&(I=U),M&&(!D||"index"===M)&&(D=M);let q=tB({field:p,path:F,tableName:r});w.set(q,{type:"many",localized:!1,target:r});let V={_parentID:{type:"one",fields:[{name:"_parentID",table:r}],references:["id"],relationName:q,to:v}};sY({fields:p.fields,parentIsLocalized:y||p.localized})&&(V._locales={type:"many",relationName:"_locales",to:`${r}${e.localesSuffix}`}),z.forEach(({type:t,localized:i,target:a},o)=>{if("one"===t){let t=i?`${r}${e.localesSuffix}`:r;V[o]={type:"one",fields:[{name:o,table:t}],references:["id"],relationName:o,to:a}}"many"===t&&(V[o]={type:"many",relationName:o,to:a})}),e.rawRelations[r]=V;break}case"blocks":{if(e.blocksAsJSON){j[F]=sX({name:U,type:"jsonb"},p);break}let i=!!p.admin?.condition||a;(p.blockReferences??p.blocks).forEach(r=>{let a="string"==typeof r?e.payload.blocks[r]:r,o=sK({adapter:e,config:a,parentTableName:S,prefix:`${S}_blocks_`,throwValidationError:N,versionsCustomName:T});void 0===t[o]?t[o]=1:e.rawTables[o]&&e8({block:a,localized:p.localized,rootTableName:S,table:e.rawTables[o],tableLocales:e.rawTables[`${o}${e.localesSuffix}`]})||(t[o]++,e7(a,t[o]),o=`${o}_${t[o]}`);let d=`_blocks_${a.slug}`;if(void 0!==a[e9]&&(d=`_blocks_${a.slug}_${a[e9]}`),!e.rawTables[o]){let r={_order:{name:"_order",type:"integer",notNull:!0},_parentID:{name:"_parent_id",type:x,notNull:!0},_path:{name:"_path",type:"text",notNull:!0}},u={_orderIdx:{name:`${o}_order_idx`,on:"_order"},_parentIDIdx:{name:`${o}_parent_id_idx`,on:["_parentID"]},_pathIdx:{name:`${o}_path_idx`,on:"_path"}},h={_parentIdFk:{name:`${o}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:S}],onDelete:"cascade"}},m=!!(B&&e.payload.config.localization)||C||c;m&&(r._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},u._localeIdx={name:`${o}_locale_idx`,on:"_locale"});let{hasLocalizedManyNumberField:g,hasLocalizedManyTextField:v,hasLocalizedRelationshipField:w,hasManyNumberField:N,hasManyTextField:O,relationsToBuild:$}=s0({adapter:e,baseColumns:r,baseForeignKeys:h,baseIndexes:u,blocksTableNameMap:t,disableNotNull:i,disableRelsTableUnique:!0,disableUnique:l,fields:l?sZ(a.flattenedFields):a.flattenedFields,parentIsLocalized:y||p.localized,rootRelationships:b,rootRelationsToBuild:_,rootTableIDColType:x,rootTableName:S,rootUniqueRelationships:k,setColumnID:E,tableName:o,versions:T,withinLocalizedArrayOrBlock:m});g&&(R=g),w&&(P=w),v&&(L=v),O&&(!I||"index"===O)&&(I=O),N&&(!D||"index"===N)&&(D=N);let j={_parentID:{type:"one",fields:[{name:"_parentID",table:o}],references:["id"],relationName:d,to:S}};sY({fields:a.fields,parentIsLocalized:y||p.localized})&&(j._locales={type:"many",relationName:"_locales",to:`${o}${e.localesSuffix}`}),$.forEach(({type:t,localized:i,target:r},a)=>{if("one"===t){let t=i?`${o}${e.localesSuffix}`:o;j[a]={type:"one",fields:[{name:a,table:t}],references:["id"],relationName:a,to:r}}"many"===t&&(j[a]={type:"many",relationName:a,to:r})}),e.rawRelations[o]=j}_.set(d,{type:"many",localized:!1,target:o})});break}case"checkbox":j[F]=sX({name:U,type:"boolean"},p);break;case"code":case"email":case"textarea":j[F]=sX({name:U,type:"varchar"},p);break;case"date":j[F]=sX({name:U,type:"timestamp",mode:"string",precision:3,withTimezone:!0},p);break;case"group":case"tab":{let{hasLocalizedField:i,hasLocalizedManyNumberField:o,hasLocalizedManyTextField:d,hasLocalizedRelationshipField:c,hasManyNumberField:g,hasManyTextField:N}=s1({adapter:e,blocksTableNameMap:t,columnPrefix:`${U}_`,columns:r,disableNotNull:!!p.admin?.condition||a,disableUnique:l,fieldPrefix:`${F}.`,fields:p.flattenedFields,forceLocalized:B,indexes:u,localesColumns:h,localesIndexes:m,newTableName:`${v}_${U}`,parentIsLocalized:y||p.localized,parentTableName:v,relationships:b,relationsToBuild:w,rootRelationsToBuild:_,rootTableIDColType:x,rootTableName:S,setColumnID:E,uniqueRelationships:k,versions:T,withinLocalizedArrayOrBlock:C||B});i&&(O=!0),c&&(P=!0),N&&(I=!0),d&&(L=!0),g&&(D=!0),o&&(R=!0);break}case"json":case"richText":j[F]=sX({name:U,type:"jsonb"},p);break;case"number":if(p.hasMany){if((B&&e.payload.config.localization||C||c)&&(R=!0),p.index?D="index":D||(D=!0),p.unique)throw new sJ.v("Unique is not supported in Postgres for hasMany number fields.")}else j[F]=sX({name:U,type:"numeric"},p);break;case"point":j[F]=sX({name:U,type:"geometry"},p);break;case"radio":case"select":{let i=sK({adapter:e,config:p,parentTableName:g,prefix:`enum_${g}_`,target:"enumName",throwValidationError:N}),r=p.options.map(e=>(0,e2.GN)(e)?e.value:e);if("select"===p.type&&p.hasMany){let i=sK({adapter:e,config:p,parentTableName:g,prefix:`${g}_`,throwValidationError:N,versionsCustomName:T}),o={order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:$,notNull:!0},value:{name:"value",type:"enum",enumName:sK({adapter:e,config:p,parentTableName:g,prefix:`enum_${g}_`,target:"enumName",throwValidationError:N}),options:r}},d={orderIdx:{name:`${i}_order_idx`,on:"order"},parentIdx:{name:`${i}_parent_idx`,on:"parent"}},u={parentFk:{name:`${i}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:v}],onDelete:"cascade"}};(B&&e.payload.config.localization||C||c)&&(o.locale={name:"locale",type:"enum",locale:!0,notNull:!0},d.localeIdx={name:`${i}_locale_idx`,on:"locale"}),p.index&&(d.value={name:`${i}_value_idx`,on:"value"}),s0({adapter:e,baseColumns:o,baseForeignKeys:u,baseIndexes:d,blocksTableNameMap:t,disableNotNull:a,disableUnique:l,fields:[],parentIsLocalized:y||p.localized,rootTableName:S,setColumnID:E,tableName:i,versions:T}),w.set(F,{type:"many",localized:!1,target:i}),e.rawRelations[i]={parent:{type:"one",fields:[{name:"parent",table:i}],references:["id"],relationName:F,to:v}}}else j[F]=sX({name:U,type:"enum",enumName:i,options:r},p);break}case"relationship":case"upload":if(Array.isArray(p.relationTo))p.relationTo.forEach(e=>{b.add(e),!p.unique||l||o||k.add(e)});else if(p.hasMany)b.add(p.relationTo),!p.unique||l||o||k.add(p.relationTo);else{let t=e.payload.collections[p.relationTo].config,i=e.tableNameMap.get(eQ(p.relationTo)),r="uuid"===e.idType?"uuid":"integer",o=t.fields.find(e=>(0,e2.j7)(e)&&"id"===e.name);o?.type==="number"&&(r="numeric"),o?.type==="text"&&(r="varchar"),j[F]={name:`${U}_id`,type:r,reference:{name:"id",onDelete:"set null",table:i}},w.set(F,{type:"one",localized:e.payload.config.localization&&(B||c),target:i}),a||!p.required||p.admin?.condition||(j[F].notNull=!0);break}(B&&e.payload.config.localization||C)&&(P=!0);break;case"text":if(p.hasMany){if((B&&e.payload.config.localization||C||c)&&(L=!0),p.index?I="index":I||(I=!0),p.unique)throw new sJ.v("Unique is not supported in Postgres for hasMany text fields.")}else j[F]=sX({name:U,type:"varchar"},p)}let z=p.admin&&p.admin.condition;!a&&j[F]&&"required"in p&&p.required&&!z&&(j[F].notNull=!0)}),{hasLocalizedField:O,hasLocalizedManyNumberField:R,hasLocalizedManyTextField:L,hasLocalizedRelationshipField:P,hasManyNumberField:D,hasManyTextField:I}},s0=({adapter:e,baseColumns:t={},baseForeignKeys:i={},baseIndexes:r={},blocksTableNameMap:a,compoundIndexes:o,disableNotNull:l,disableRelsTableUnique:d=!1,disableUnique:p=!1,fields:c,parentIsLocalized:u,rootRelationships:h,rootRelationsToBuild:m,rootTableIDColType:g,rootTableName:y,rootUniqueRelationships:v,setColumnID:b,tableName:w,timestamps:_,versions:x,withinLocalizedArrayOrBlock:S})=>{let E,k,T,C;let N=!y,O=y||w,P=t,I=r,L={},D={},R=h||new Set,$=v||new Set,j=new Map,M=b({adapter:e,columns:P,fields:c}),{hasLocalizedField:U,hasLocalizedManyNumberField:F,hasLocalizedManyTextField:B,hasLocalizedRelationshipField:z,hasManyNumberField:q,hasManyTextField:V}=s1({adapter:e,blocksTableNameMap:a,columns:P,disableNotNull:l,disableRelsTableUnique:d,disableUnique:p,fields:c,indexes:I,localesColumns:L,localesIndexes:D,newTableName:w,parentIsLocalized:u,parentTableName:w,relationships:R,relationsToBuild:j,rootRelationsToBuild:m||j,rootTableIDColType:g||M,rootTableName:O,setColumnID:b,uniqueRelationships:$,versions:x,withinLocalizedArrayOrBlock:S}),H=new Map,W=new Map;j.forEach(({type:e,localized:t,relationName:i,target:r},a)=>{(t?H:W).set(a,{type:e,relationName:i,target:r})}),_&&(P.createdAt={name:"created_at",type:"timestamp",defaultNow:!0,mode:"string",notNull:!0,precision:3,withTimezone:!0},P.updatedAt={name:"updated_at",type:"timestamp",defaultNow:!0,mode:"string",notNull:!0,precision:3,withTimezone:!0});let G={name:w,columns:P,foreignKeys:i,indexes:I};if(e.rawTables[w]=G,U||H.size){let t=`${w}${e.localesSuffix}`;L.id={name:"id",type:"serial",primaryKey:!0},L._locale={name:"_locale",type:"enum",locale:!0,notNull:!0},L._parentID={name:"_parent_id",type:M,notNull:!0},D._localeParent={name:`${t}_locale_parent_id_unique`,on:["_locale","_parentID"],unique:!0},E={name:t,columns:L,foreignKeys:{_parentIdFk:{name:`${t}_parent_id_fk`,columns:["_parentID"],foreignColumns:[{name:"id",table:w}],onDelete:"cascade"}},indexes:D},e.rawTables[t]=E;let i={_parentID:{type:"one",fields:[{name:"_parentID",table:t}],references:["id"],relationName:"_locales",to:w}};H.forEach(({type:e,target:r},a)=>{"one"===e&&(i[a]={type:"one",fields:[{name:a,table:t}],references:["id"],relationName:a,to:r}),"many"===e&&(i[a]={type:"many",relationName:a,to:r})}),e.rawRelations[t]=i}if(o)for(let t of o){let i=null,r=[],a=()=>i?E:G;for(let{path:e,pathHasLocalized:o}of t.fields){if(null===i&&(i=o),i!==o)throw new sJ.v(`Compound indexes within localized and non localized fields are not supported in SQL. Expected ${e} to be ${i?"non":""} localized.`);let t=e.replaceAll(".","_");if(!a().columns[t])throw new sJ.v(`Column ${t} for compound index on ${e} was not found in the ${a().name} table.`);r.push(t)}i&&r.push("_locale");let o=r.join("_");o.length>63&&(o="compound_index");let l=sQ({name:o,adapter:e});a().indexes[l]={name:l,on:r,unique:!p&&t.unique}}if(N){if(V){let t=`${O}_texts`,i={id:{name:"id",type:"serial",primaryKey:!0},order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:M,notNull:!0},path:{name:"path",type:"varchar",notNull:!0},text:{name:"text",type:"varchar"}};B&&(i.locale={name:"locale",type:"enum",locale:!0});let r={orderParentIdx:{name:`${t}_order_parent_idx`,on:["order","parent"]}};"index"===V&&(r.text_idx={name:`${t}_text_idx`,on:"text"}),B&&(r.localeParent={name:`${t}_locale_parent`,on:["locale","parent"]}),k={name:t,columns:i,foreignKeys:{parentFk:{name:`${t}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:w}],onDelete:"cascade"}},indexes:r},e.rawTables[t]=k,e.rawRelations[t]={parent:{type:"one",fields:[{name:"parent",table:t}],references:["id"],relationName:"_texts",to:w}}}if(q){let t=`${O}_numbers`,i={id:{name:"id",type:"serial",primaryKey:!0},number:{name:"number",type:"numeric"},order:{name:"order",type:"integer",notNull:!0},parent:{name:"parent_id",type:M,notNull:!0},path:{name:"path",type:"varchar",notNull:!0}};F&&(i.locale={name:"locale",type:"enum",locale:!0});let r={orderParentIdx:{name:`${t}_order_parent_idx`,on:["order","parent"]}};"index"===q&&(r.numberIdx={name:`${t}_number_idx`,on:"number"}),F&&(r.localeParent={name:`${t}_locale_parent`,on:["locale","parent"]}),T={name:t,columns:i,foreignKeys:{parentFk:{name:`${t}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:w}],onDelete:"cascade"}},indexes:r},e.rawTables[t]=T,e.rawRelations[t]={parent:{type:"one",fields:[{name:"parent",table:t}],references:["id"],relationName:"_numbers",to:w}}}if(R.size){let t={id:{name:"id",type:"serial",primaryKey:!0},order:{name:"order",type:"integer"},parent:{name:"parent_id",type:M,notNull:!0},path:{name:"path",type:"varchar",notNull:!0}};z&&(t.locale={name:"locale",type:"enum",locale:!0});let i=`${w}${e.relationshipsSuffix}`,r={order:{name:`${i}_order_idx`,on:"order"},parentIdx:{name:`${i}_parent_idx`,on:"parent"},pathIdx:{name:`${i}_path_idx`,on:"path"}};z&&(r.localeIdx={name:`${i}_locale_idx`,on:"locale"});let a={parentFk:{name:`${i}_parent_fk`,columns:["parent"],foreignColumns:[{name:"id",table:w}],onDelete:"cascade"}};R.forEach(o=>{let l=e.payload.collections[o].config,d=sK({adapter:e,config:l,throwValidationError:!0}),c="uuid"===e.idType?"uuid":"integer",u=e.payload.collections[l.slug]?.customIDType;"number"===u&&(c="numeric"),"text"===u&&(c="varchar");let h=`${o}ID`;t[h]={name:`${d}_id`,type:c},a[`${o}IdFk`]={name:`${i}_${eQ(o)}_fk`,columns:[h],foreignColumns:[{name:"id",table:d}],onDelete:"cascade"};let m=[h],g=!p&&$.has(o);g&&m.push("path"),z&&m.push("locale");let y=sQ({name:`${i}_${d}_id`,adapter:e});r[y]={name:y,on:m,unique:g}}),C={name:i,columns:t,foreignKeys:a,indexes:r},e.rawTables[i]=C;let o={parent:{type:"one",fields:[{name:"parent",table:i}],references:["id"],relationName:"_rels",to:w}};R.forEach(t=>{let r=sK({adapter:e,config:e.payload.collections[t].config,throwValidationError:!0}),a=`${t}ID`;o[a]={type:"one",fields:[{name:a,table:i}],references:["id"],relationName:t,to:r}}),e.rawRelations[i]=o}}let K={};return W.forEach(({type:e,relationName:t,target:i},r)=>{"one"===e&&(K[r]={type:"one",fields:[{name:r,table:w}],references:["id"],relationName:r,to:i}),"many"===e&&(K[r]={type:"many",relationName:t||r,to:i})}),U&&(K._locales={type:"many",relationName:"_locales",to:E.name}),N&&k&&(K._texts={type:"many",relationName:"_texts",to:k.name}),N&&T&&(K._numbers={type:"many",relationName:"_numbers",to:T.name}),R.size&&C&&(K._rels={type:"many",relationName:"_rels",to:C.name}),e.rawRelations[w]=K,{hasLocalizedManyNumberField:F,hasLocalizedManyTextField:B,hasLocalizedRelationshipField:z,hasManyNumberField:q,hasManyTextField:V,relationsToBuild:j}},s2=({adapter:e,setColumnID:t})=>{e.indexes=new Set,e.payload.config.collections.forEach(t=>{sK({adapter:e,config:t}),t.versions&&sK({adapter:e,config:t,versions:!0,versionsCustomName:!0})}),e.payload.config.collections.forEach(i=>{let r=e.tableNameMap.get(eQ(i.slug)),a=e.payload.config,o={};if(i.upload.filenameCompoundIndex){let e=`${r}_filename_compound_idx`;o.filename_compound_index={name:e,on:i.upload.filenameCompoundIndex.map(e=>e),unique:!0}}if(s0({adapter:e,blocksTableNameMap:{},compoundIndexes:i.sanitizedIndexes,disableNotNull:!!i?.versions?.drafts,disableUnique:!1,fields:i.flattenedFields,parentIsLocalized:!1,setColumnID:t,tableName:r,timestamps:i.timestamps,versions:!1}),i.versions){let r=e.tableNameMap.get(`_${eQ(i.slug)}${e.versionsSuffix}`),o=(0,tQ.w)(a,i,!0);s0({adapter:e,blocksTableNameMap:{},compoundIndexes:sG({indexes:i.sanitizedIndexes}),disableNotNull:!!i.versions?.drafts,disableUnique:!0,fields:o,parentIsLocalized:!1,setColumnID:t,tableName:r,timestamps:!0,versions:!0})}}),e.payload.config.globals.forEach(i=>{let r=sK({adapter:e,config:i});if(s0({adapter:e,blocksTableNameMap:{},disableNotNull:!!i?.versions?.drafts,disableUnique:!1,fields:i.flattenedFields,parentIsLocalized:!1,setColumnID:t,tableName:r,timestamps:!1,versions:!1}),i.versions){let r=sK({adapter:e,config:i,versions:!0,versionsCustomName:!0}),a=e.payload.config,o=(0,iv.n)(a,i,!0);s0({adapter:e,blocksTableNameMap:{},disableNotNull:!!i.versions?.drafts,disableUnique:!0,fields:o,parentIsLocalized:!1,setColumnID:t,tableName:r,timestamps:!0,versions:!0})}})},{Symbol:s6}=O,s4=({columns:e,extraConfig:t,table:i})=>{let r=Object.getOwnPropertySymbols(i).find(e=>e.description?.includes("InlineForeignKeys"));if(!r)throw new e1.H("Error when finding InlineForeignKeys Symbol",500);if(e)for(let[t,a]of Object.entries(e)){let e=a.build(i);i[t]=e,i[r].push(...a.buildForeignKeys(e,i)),i[s6.Columns][t]=e,i[s6.ExtraConfigColumns][t]="buildExtraConfigColumn"in a?a.buildExtraConfigColumn(i):e}if(t){let e=i[s6.ExtraConfigBuilder];i[s6.ExtraConfigBuilder]=i=>({...e(i),...t(i)})}},s3=async({type:e,adapter:t})=>{for(let i of t[e]){let e=await i({adapter:t,extendTable:s4,schema:{enums:t.enums,relations:t.relations,tables:t.tables}});e.enums&&(t.enums=e.enums),t.tables=e.tables,t.relations=e.relations}};class s5{constructor(e,t){this.unique=e,this.name=t}static [y]="PgIndexBuilderOn";on(...e){return new s8(e.map(e=>{if(v(e,eg))return e;let t=new J(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!1,this.name)}onOnly(...e){return new s8(e.map(e=>{if(v(e,eg))return e;let t=new J(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=e.defaultConfig,t}),this.unique,!0,this.name)}using(e,...t){return new s8(t.map(e=>{if(v(e,eg))return e;let t=new J(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!0,this.name,e)}}class s8{static [y]="PgIndexBuilder";config;constructor(e,t,i,r,a="btree"){this.config={name:r,columns:e,unique:t,only:i,method:a}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new s9(this.config,e)}}class s9{static [y]="PgIndex";config;constructor(e,t){this.config={...e,table:t}}}function s7(e){return new s5(!1,e)}function oe(e){return new s5(!0,e)}let ot={boolean:aQ,geometry:e=>a3({dataType:()=>"geometry(Point)",fromDriver:e=>nH(e),toDriver:e=>`SRID=4326;point(${e[0]} ${e[1]})`})(e),integer:np,jsonb:nb,numeric:nj,serial:n2,text:st,uuid:tk,varchar:su},oi=({adapter:e,rawTable:t})=>{let i={};for(let[r,a]of Object.entries(t.columns)){switch(a.type){case"bit":{let e=sm(a.name,{dimensions:a.dimensions});i[r]=e;break}case"enum":"locale"in a?i[r]=e.enums.enum__locales(a.name):(e.enums[a.enumName]=e.pgSchema.enum(a.enumName,a.options),i[r]=e.enums[a.enumName](a.name));break;case"halfvec":{let e=sv(a.name,{dimensions:a.dimensions});i[r]=e;break}case"sparsevec":{let e=s_(a.name,{dimensions:a.dimensions});i[r]=e;break}case"timestamp":{let e=sd(a.name,{mode:a.mode,precision:a.precision,withTimezone:a.withTimezone});a.defaultNow&&(e=e.defaultNow()),i[r]=e;break}case"uuid":{let e=tk(a.name);a.defaultRandom&&(e=e.defaultRandom()),i[r]=e;break}case"vector":{let e=sE(a.name,{dimensions:a.dimensions});i[r]=e;break}default:i[r]=ot[a.type](a.name)}if(a.reference&&i[r].references(()=>e.tables[a.reference.table][a.reference.name],{onDelete:a.reference.onDelete}),a.primaryKey&&i[r].primaryKey(),a.notNull&&i[r].notNull(),void 0!==a.default){let e=a.default;"geometry"===a.type&&Array.isArray(a.default)&&(e=`SRID=4326;POINT(${a.default[0]} ${a.default[1]})`),i[r].default(e)}"geometry"!==a.type||e.extensions.postgis||(e.extensions.postgis=!0)}let r=i=>{let r={};if(t.indexes)for(let[e,a]of Object.entries(t.indexes)){let t=s7;a.unique&&(t=oe),Array.isArray(a.on)?a.on.length&&(r[e]=t(a.name).on(...a.on.map(e=>i[e]))):r[e]=t(a.name).on(i[a.on])}if(t.foreignKeys)for(let[a,o]of Object.entries(t.foreignKeys)){let t=$({name:o.name,columns:o.columns.map(e=>i[e]),foreignColumns:o.foreignColumns.map(t=>e.tables[t.table][t.name])});o.onDelete&&(t=t.onDelete(o.onDelete)),o.onUpdate&&(t=t.onDelete(o.onUpdate)),r[a]=t}return r};e.tables[t.name]=e.pgSchema.table(t.name,i,r)},or=({adapter:e,columns:t,fields:i})=>{let r=i.find(e=>"id"===e.name);if(r){if("number"===r.type)return t.id={name:"id",type:"numeric",primaryKey:!0},"numeric";if("text"===r.type)return t.id={name:"id",type:"varchar",primaryKey:!0},"varchar"}return"uuid"===e.idType?(t.id={name:"id",type:"uuid",defaultRandom:!0,primaryKey:!0},"uuid"):(t.id={name:"id",type:"serial",primaryKey:!0},"integer")},oa=async function(){for(let e in this.rawRelations={},this.rawTables={},s2({adapter:this,setColumnID:or}),await s3({type:"beforeSchemaInit",adapter:this}),this.payload.config.localization&&(this.enums.enum__locales=this.pgSchema.enum("_locales",this.payload.config.localization.locales.map(({code:e})=>e))),this.rawTables)oi({adapter:this,rawTable:this.rawTables[e]});sW({adapter:this}),await s3({type:"afterSchemaInit",adapter:this}),this.schema={pgSchema:this.pgSchema,...this.tables,...this.relations,...this.enums}},on=async function({db:e,onConflictDoUpdate:t,tableName:i,values:r}){let a=this.tables[i];return t?await e.insert(a).values(r).onConflictDoUpdate(t).returning():await e.insert(a).values(r).returning()},os=(0,i(98188).createRequire)("file:///Users/clinton/Desktop/WORK_STATION/DEVLAB/clintjeez_xyz/node_modules/@payloadcms/drizzle/dist/postgres/requireDrizzleKit.js"),oo=()=>{let{generateDrizzleJson:e,generateMigration:t,pushSchema:i,upPgSnapshot:r}=os("drizzle-kit/api");return{generateDrizzleJson:e,generateMigration:t,pushSchema:i,upSnapshot:r}};class ol{constructor(e,t,i){this.seqName=e,this.seqOptions=t,this.schema=i}static [y]="PgSequence"}function od(e,t,i){return new ol(e,t,i)}class op{static [y]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,t){if("_"===t)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(t===ec)return{...e[ec],selectedFields:new Proxy(e[ec].selectedFields,this)};if("symbol"==typeof t)return e[t];let i=(v(e,eo)?e._.selectedFields:v(e,eT)?e[ec].selectedFields:e)[t];if(v(i,eg.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!i.isSelectionField)return i.sql;let e=i.clone();return e.isSelectionField=!0,e}if(v(i,eg)){if("sql"===this.config.sqlBehavior)return i;throw Error(`You tried to reference "${t}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return v(i,b)?this.config.alias?new Proxy(i,new ti(new Proxy(i.table,new tr(this.config.alias,this.config.replaceOriginalName??!1)))):i:"object"!=typeof i||null===i?i:new Proxy(i,new op(this.config))}}function oc(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function ou(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,t,i)=>e+(0===i?t.toLowerCase():`${t[0].toUpperCase()}${t.slice(1)}`),"")}function oh(e){return e}class of{static [y]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?oc:"camelCase"===e?ou:oh}getColumnCasing(e){if(!e.keyAsName)return e.name;let t=e.table[O.Symbol.Schema]??"public",i=e.table[O.Symbol.OriginalName],r=`${t}.${i}.${e.name}`;return this.cache[r]||this.cacheTable(e.table),this.cache[r]}cacheTable(e){let t=e[O.Symbol.Schema]??"public",i=e[O.Symbol.OriginalName],r=`${t}.${i}`;if(!this.cachedTables[r]){for(let t of Object.values(e[O.Symbol.Columns])){let e=`${r}.${t.name}`;this.cache[e]=this.convert(t.name)}this.cachedTables[r]=!0}}clearCache(){this.cache={},this.cachedTables={}}}class om extends Error{static [y]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class og extends om{static [y]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}class oy extends eT{static [y]="PgViewBase"}class ov{static [y]="PgDialect";casing;constructor(e){this.casing=new of(e?.casing)}async migrate(e,t,i){let r="string"==typeof i?"__drizzle_migrations":i.migrationsTable??"__drizzle_migrations",a="string"==typeof i?"drizzle":i.migrationsSchema??"drizzle",o=ex`
			CREATE TABLE IF NOT EXISTS ${ex.identifier(a)}.${ex.identifier(r)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await t.execute(ex`CREATE SCHEMA IF NOT EXISTS ${ex.identifier(a)}`),await t.execute(o);let l=(await t.all(ex`select id, hash, created_at from ${ex.identifier(a)}.${ex.identifier(r)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for await(let i of e)if(!l||Number(l.created_at)<i.folderMillis){for(let e of i.sql)await t.execute(ex.raw(e));await t.execute(ex`insert into ${ex.identifier(a)}.${ex.identifier(r)} ("hash", "created_at") values(${i.hash}, ${i.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[ex`with `];for(let[i,r]of e.entries())t.push(ex`${ex.identifier(r._.alias)} as (${r._.sql})`),i<e.length-1&&t.push(ex`, `);return t.push(ex` `),ex.join(t)}buildDeleteQuery({table:e,where:t,returning:i,withList:r}){let a=this.buildWithCTE(r),o=i?ex` returning ${this.buildSelection(i,{isSingleTable:!0})}`:void 0,l=t?ex` where ${t}`:void 0;return ex`${a}delete from ${e}${l}${o}`}buildUpdateSet(e,t){let i=e[O.Symbol.Columns],r=Object.keys(i).filter(e=>void 0!==t[e]||i[e]?.onUpdateFn!==void 0),a=r.length;return ex.join(r.flatMap((e,r)=>{let o=i[e],l=t[e]??ex.param(o.onUpdateFn(),o),d=ex`${ex.identifier(this.casing.getColumnCasing(o))} = ${l}`;return r<a-1?[d,ex.raw(", ")]:[d]}))}buildUpdateQuery({table:e,set:t,where:i,returning:r,withList:a,from:o,joins:l}){let d=this.buildWithCTE(a),p=e[sC.Symbol.Name],c=e[sC.Symbol.Schema],u=e[sC.Symbol.OriginalName],h=p===u?void 0:p,m=ex`${c?ex`${ex.identifier(c)}.`:void 0}${ex.identifier(u)}${h&&ex` ${ex.identifier(h)}`}`,g=this.buildUpdateSet(e,t),y=o&&ex.join([ex.raw(" from "),this.buildFromTable(o)]),v=this.buildJoins(l),b=r?ex` returning ${this.buildSelection(r,{isSingleTable:!o})}`:void 0,w=i?ex` where ${i}`:void 0;return ex`${d}update ${m} set ${g}${y}${v}${w}${b}`}buildSelection(e,{isSingleTable:t=!1}={}){let i=e.length,r=e.flatMap(({field:e},r)=>{let a=[];if(v(e,eg.Aliased)&&e.isSelectionField)a.push(ex.identifier(e.fieldAlias));else if(v(e,eg.Aliased)||v(e,eg)){let i=v(e,eg.Aliased)?e.sql:e;t?a.push(new eg(i.queryChunks.map(e=>v(e,G)?ex.identifier(this.casing.getColumnCasing(e)):e))):a.push(i),v(e,eg.Aliased)&&a.push(ex` as ${ex.identifier(e.fieldAlias)}`)}else v(e,b)&&(t?a.push(ex.identifier(this.casing.getColumnCasing(e))):a.push(e));return r<i-1&&a.push(ex`, `),a});return ex.join(r)}buildJoins(e){if(!e||0===e.length)return;let t=[];for(let[i,r]of e.entries()){0===i&&t.push(ex` `);let a=r.table,o=r.lateral?ex` lateral`:void 0,l=r.on?ex` on ${r.on}`:void 0;if(v(a,sC)){let e=a[sC.Symbol.Name],i=a[sC.Symbol.Schema],d=a[sC.Symbol.OriginalName],p=e===d?void 0:r.alias;t.push(ex`${ex.raw(r.joinType)} join${o} ${i?ex`${ex.identifier(i)}.`:void 0}${ex.identifier(d)}${p&&ex` ${ex.identifier(p)}`}${l}`)}else if(v(a,eT)){let e=a[ec].name,i=a[ec].schema,d=a[ec].originalName,p=e===d?void 0:r.alias;t.push(ex`${ex.raw(r.joinType)} join${o} ${i?ex`${ex.identifier(i)}.`:void 0}${ex.identifier(d)}${p&&ex` ${ex.identifier(p)}`}${l}`)}else t.push(ex`${ex.raw(r.joinType)} join${o} ${a}${l}`);i<e.length-1&&t.push(ex` `)}return ex.join(t)}buildFromTable(e){if(v(e,O)&&e[O.Symbol.IsAlias]){let t=ex`${ex.identifier(e[O.Symbol.OriginalName])}`;return e[O.Symbol.Schema]&&(t=ex`${ex.identifier(e[O.Symbol.Schema])}.${t}`),ex`${t} ${ex.identifier(e[O.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:t,fieldsFlat:i,where:r,having:a,table:o,joins:l,orderBy:d,groupBy:p,limit:c,offset:u,lockingClause:h,distinct:m,setOperators:g}){let y,w,_;let x=i??aN(t);for(let e of x){let t;if(v(e.field,b)&&P(e.field.table)!==(v(o,eo)?o._.alias:v(o,oy)?o[ec].name:v(o,eg)?void 0:P(o))&&(t=e.field.table,!l?.some(({alias:e})=>e===(t[O.Symbol.IsAlias]?P(t):t[O.Symbol.BaseName])))){let t=P(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let S=!l||0===l.length,E=this.buildWithCTE(e);m&&(y=!0===m?ex` distinct`:ex` distinct on (${ex.join(m.on,ex`, `)})`);let k=this.buildSelection(x,{isSingleTable:S}),T=this.buildFromTable(o),C=this.buildJoins(l),N=r?ex` where ${r}`:void 0,I=a?ex` having ${a}`:void 0;d&&d.length>0&&(w=ex` order by ${ex.join(d,ex`, `)}`),p&&p.length>0&&(_=ex` group by ${ex.join(p,ex`, `)}`);let L="object"==typeof c||"number"==typeof c&&c>=0?ex` limit ${c}`:void 0,D=u?ex` offset ${u}`:void 0,R=ex.empty();if(h){let e=ex` for ${ex.raw(h.strength)}`;h.config.of&&e.append(ex` of ${ex.join(Array.isArray(h.config.of)?h.config.of:[h.config.of],ex`, `)}`),h.config.noWait?e.append(ex` nowait`):h.config.skipLocked&&e.append(ex` skip locked`),R.append(e)}let $=ex`${E}select${y} ${k} from ${T}${C}${N}${_}${I}${w}${L}${D}${R}`;return g.length>0?this.buildSetOperations($,g):$}buildSetOperations(e,t){let[i,...r]=t;if(!i)throw Error("Cannot pass undefined values to any set operator");return 0===r.length?this.buildSetOperationQuery({leftSelect:e,setOperator:i}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:i}),r)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:i,rightSelect:r,limit:a,orderBy:o,offset:l}}){let d;let p=ex`(${e.getSQL()}) `,c=ex`(${r.getSQL()})`;if(o&&o.length>0){let e=[];for(let t of o)if(v(t,G))e.push(ex.identifier(t.name));else if(v(t,eg)){for(let e=0;e<t.queryChunks.length;e++){let i=t.queryChunks[e];v(i,G)&&(t.queryChunks[e]=ex.identifier(i.name))}e.push(ex`${t}`)}else e.push(ex`${t}`);d=ex` order by ${ex.join(e,ex`, `)} `}let u="object"==typeof a||"number"==typeof a&&a>=0?ex` limit ${a}`:void 0,h=ex.raw(`${t} ${i?"all ":""}`),m=l?ex` offset ${l}`:void 0;return ex`${p}${h}${c}${d}${u}${m}`}buildInsertQuery({table:e,values:t,onConflict:i,returning:r,withList:a,select:o,overridingSystemValue_:l}){let d=[],p=Object.entries(e[O.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),c=p.map(([,e])=>ex.identifier(this.casing.getColumnCasing(e)));if(o){let e=t;v(e,eg)?d.push(e):d.push(e.getSQL())}else{let e=t;for(let[t,i]of(d.push(ex.raw("values ")),e.entries())){let r=[];for(let[e,t]of p){let a=i[e];if(void 0===a||v(a,e_)&&void 0===a.value){if(void 0!==t.defaultFn){let e=t.defaultFn(),i=v(e,eg)?e:ex.param(e,t);r.push(i)}else if(t.default||void 0===t.onUpdateFn)r.push(ex`default`);else{let e=t.onUpdateFn(),i=v(e,eg)?e:ex.param(e,t);r.push(i)}}else r.push(a)}d.push(r),t<e.length-1&&d.push(ex`, `)}}let u=this.buildWithCTE(a),h=ex.join(d),m=r?ex` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,g=i?ex` on conflict ${i}`:void 0,y=!0===l?ex`overriding system value `:void 0;return ex`${u}insert into ${e} ${c} ${y}${h}${g}${m}`}buildRefreshMaterializedViewQuery({view:e,concurrently:t,withNoData:i}){let r=t?ex` concurrently`:void 0,a=i?ex` with no data`:void 0;return ex`refresh materialized view${r} ${e}${a}`}prepareTyping(e){return v(e,nv)||v(e,nm)?"json":v(e,nI)?"decimal":v(e,sr)?"time":v(e,ss)||v(e,sl)?"timestamp":v(e,a9)||v(e,ne)?"date":v(e,tE)?"uuid":"none"}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:t})}buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:i,table:r,tableConfig:a,queryConfig:o,tableAlias:l,nestedQueryRelation:d,joinOn:p}){let c,u=[],h,m,g=[],y,w=[];if(!0===o)u=Object.entries(a.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:ts(t,l),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let r=Object.fromEntries(Object.entries(a.columns).map(([e,t])=>[e,ts(t,l)]));if(o.where){let e="function"==typeof o.where?o.where(r,sj()):o.where;y=e&&tl(e,l)}let d=[],p=[];if(o.columns){let e=!1;for(let[t,i]of Object.entries(o.columns))void 0!==i&&t in a.columns&&(e||!0!==i||(e=!0),p.push(t));p.length>0&&(p=e?p.filter(e=>o.columns?.[e]===!0):Object.keys(a.columns).filter(e=>!p.includes(e)))}else p=Object.keys(a.columns);for(let e of p){let t=a.columns[e];d.push({tsKey:e,value:t})}let c=[];if(o.with&&(c=Object.entries(o.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:a.relations[e]}))),o.extras)for(let[e,t]of Object.entries("function"==typeof o.extras?o.extras(r,{sql:ex}):o.extras))d.push({tsKey:e,value:to(t,l)});for(let{tsKey:e,value:t}of d)u.push({dbKey:v(t,eg.Aliased)?t.fieldAlias:a.columns[e].name,tsKey:e,field:v(t,b)?ts(t,l):t,relationTableTsKey:void 0,isJson:!1,selection:[]});let _="function"==typeof o.orderBy?o.orderBy(r,sM()):o.orderBy??[];for(let{tsKey:r,queryConfig:a,relation:d}of(Array.isArray(_)||(_=[_]),g=_.map(e=>v(e,b)?ts(e,l):tl(e,l)),h=o.limit,m=o.offset,c)){let o=sq(t,i,d),p=i[I(d.referencedTable)],c=`${l}_${r}`,h=eO(...o.fields.map((e,t)=>eC(ts(o.references[t],c),ts(e,l)))),m=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:t,tableNamesMap:i,table:e[p],tableConfig:t[p],queryConfig:v(d,sR)?!0===a?{limit:1}:{...a,limit:1}:a,tableAlias:c,joinOn:h,nestedQueryRelation:d}),g=ex`${ex.identifier(c)}.${ex.identifier("data")}`.as(r);w.push({on:ex`true`,table:new eo(m.sql,{},c),alias:c,joinType:"left",lateral:!0}),u.push({dbKey:r,tsKey:r,field:g,relationTableTsKey:p,isJson:!0,selection:m.selection})}}if(0===u.length)throw new om({message:`No fields selected for table "${a.tsName}" ("${l}")`});if(y=eO(p,y),d){let e=ex`json_build_array(${ex.join(u.map(({field:e,tsKey:t,isJson:i})=>i?ex`${ex.identifier(`${l}_${t}`)}.${ex.identifier("data")}`:v(e,eg.Aliased)?e.sql:e),ex`, `)})`;v(d,s$)&&(e=ex`coalesce(json_agg(${e}${g.length>0?ex` order by ${ex.join(g,ex`, `)}`:void 0}), '[]'::json)`);let t=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:a.tsName,selection:u}];void 0!==h||void 0!==m||g.length>0?(c=this.buildSelectQuery({table:tn(r,l),fields:{},fieldsFlat:[{path:[],field:ex.raw("*")}],where:y,limit:h,offset:m,orderBy:g,setOperators:[]}),y=void 0,h=void 0,m=void 0,g=[]):c=tn(r,l),c=this.buildSelectQuery({table:v(c,sC)?c:new eo(c,{},l),fields:{},fieldsFlat:t.map(({field:e})=>({path:[],field:v(e,b)?ts(e,l):e})),joins:w,where:y,limit:h,offset:m,orderBy:g,setOperators:[]})}else c=this.buildSelectQuery({table:tn(r,l),fields:{},fieldsFlat:u.map(({field:e})=>({path:[],field:v(e,b)?ts(e,l):e})),joins:w,where:y,limit:h,offset:m,orderBy:g,setOperators:[]});return{tableTsKey:a.tsName,sql:c,selection:u}}}class ob{static [y]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class ow{static [y]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}function o_(e){return v(e,sC)?[e[_]?`${e[_]}.${e[O.Symbol.BaseName]}`:e[O.Symbol.BaseName]]:v(e,eo)?e._.usedTables??[]:v(e,eg)?e.usedTables??[]:[]}class ox{static [y]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let t;let i=!!this.fields,r=e;return t=this.fields?this.fields:v(r,eo)?Object.fromEntries(Object.keys(r._.selectedFields).map(e=>[e,r[e]])):v(r,oy)?r[ec].selectedFields:v(r,eg)?{}:aL(r),new oE({table:r,fields:t,isPartialSelect:i,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class oS extends ob{static [y]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:t,isPartialSelect:i,session:r,dialect:a,withList:o,distinct:l}){for(let d of(super(),this.config={withList:o,table:e,fields:{...t},distinct:l,setOperators:[]},this.isPartialSelect=i,this.session=r,this.dialect=a,this._={selectedFields:t,config:this.config},this.tableName=aD(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{},o_(e)))this.usedTables.add(d)}getUsedTables(){return[...this.usedTables]}createJoin(e,t){return(i,r)=>{let a=this.tableName,o=aD(i);for(let e of o_(i))this.usedTables.add(e);if("string"==typeof o&&this.config.joins?.some(e=>e.alias===o))throw Error(`Alias "${o}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof a&&(this.config.fields={[a]:this.config.fields}),"string"==typeof o&&!v(i,eg))){let e=v(i,eo)?i._.selectedFields:v(i,eT)?i[ec].selectedFields:i[O.Symbol.Columns];this.config.fields[o]=e}if("function"==typeof r&&(r=r(new Proxy(this.config.fields,new op({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:r,table:i,joinType:e,alias:o,lateral:t}),"string"==typeof o)switch(e){case"left":this.joinsNotNullableMap[o]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[o]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[o]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[o]=!1}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(e,t){return i=>{let r="function"==typeof i?i(oT()):i;if(!aO(this.getSelectedFields(),r.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:r}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new op({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new op({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new op({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new op({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),i=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=i:this.config.orderBy=i}else{let t=e;this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=t:this.config.orderBy=t}return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){let t=[];if(t.push(...o_(this.config.table)),this.config.joins)for(let e of this.config.joins)t.push(...o_(e.table));return new Proxy(new eo(this.getSQL(),this.config.fields,e,!1,[...new Set(t)]),new op({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new op({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(e){return this.cacheConfig=void 0===e?{config:{},enable:!0,autoInvalidate:!0}:!1===e?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}}class oE extends oS{static [y]="PgSelect";_prepare(e){let{session:t,config:i,dialect:r,joinsNotNullableMap:a,authToken:o,cacheConfig:l,usedTables:d}=this;if(!t)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:p}=i;return ep.startActiveSpan("drizzle.prepareQuery",()=>{let i=aN(p),c=t.prepareQuery(r.sqlToQuery(this.getSQL()),i,e,!0,void 0,{type:"select",tables:[...d]},l);return c.joinsNotNullableMap=a,c.setToken(o)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>ep.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}function ok(e,t){return(i,r,...a)=>{let o=[r,...a].map(i=>({type:e,isAll:t,rightSelect:i}));for(let e of o)if(!aO(i.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return i.addSetOperators(o)}}aI(oE,[ow]);let oT=()=>({union:oA,unionAll:oC,intersect:oN,intersectAll:oO,except:oP,exceptAll:oI}),oA=ok("union",!1),oC=ok("union",!0),oN=ok("intersect",!1),oO=ok("intersect",!0),oP=ok("except",!1),oI=ok("except",!0);class oL{static [y]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=v(e,ov)?e:void 0,this.dialectConfig=v(e,ov)?void 0:e}$with=(e,t)=>{let i=this;return{as:r=>("function"==typeof r&&(r=r(i)),new Proxy(new el(r.getSQL(),t??("getSelectedFields"in r?r.getSelectedFields()??{}:{}),e,!0),new op({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(i){return new ox({fields:i??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(e){return new ox({fields:e??void 0,session:void 0,dialect:t.getDialect(),distinct:!0})},selectDistinctOn:function(e,i){return new ox({fields:i??void 0,session:void 0,dialect:t.getDialect(),distinct:{on:e}})}}}select(e){return new ox({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new ox({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,t){return new ox({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new ov(this.dialectConfig)),this.dialect}}let oD=Symbol.for("drizzle:PgViewConfig");class oR{constructor(e,t){this.name=e,this.schema=t}static [y]="PgDefaultViewBuilderCore";config={};with(e){return this.config.with=e,this}}class o$ extends oR{static [y]="PgViewBuilder";as(e){"function"==typeof e&&(e=e(new oL));let t=new op({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),i=new Proxy(e.getSelectedFields(),t);return new Proxy(new oB({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:i,query:e.getSQL().inlineParams()}}),t)}}class oj extends oR{static [y]="PgManualViewBuilder";columns;constructor(e,t,i){super(e,i),this.columns=aL(sO(e,t))}existing(){return new Proxy(new oB({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new op({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new oB({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new op({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class oM{constructor(e,t){this.name=e,this.schema=t}static [y]="PgMaterializedViewBuilderCore";config={};using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}}class oU extends oM{static [y]="PgMaterializedViewBuilder";as(e){"function"==typeof e&&(e=e(new oL));let t=new op({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),i=new Proxy(e.getSelectedFields(),t);return new Proxy(new oq({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:i,query:e.getSQL().inlineParams()}}),t)}}class oF extends oM{static [y]="PgManualMaterializedViewBuilder";columns;constructor(e,t,i){super(e,i),this.columns=aL(sO(e,t))}existing(){return new Proxy(new oq({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new op({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new oq({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new op({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class oB extends oy{static [y]="PgView";[oD];constructor({pgConfig:e,config:t}){super(t),e&&(this[oD]={with:e.with})}}let oz=Symbol.for("drizzle:PgMaterializedViewConfig");class oq extends oy{static [y]="PgMaterializedView";[oz];constructor({pgConfig:e,config:t}){super(t),this[oz]={with:e?.with,using:e?.using,tablespace:e?.tablespace,withNoData:e?.withNoData}}}function oV(e,t,i){return t?new oj(e,t,i):new o$(e,i)}function oH(e,t,i){return t?new oF(e,t,i):new oU(e,i)}class oW{constructor(e){this.schemaName=e}static [y]="PgSchema";table=(e,t,i)=>sN(e,t,i,this.schemaName);view=(e,t)=>oV(e,t,this.schemaName);materializedView=(e,t)=>oH(e,t,this.schemaName);enum(e,t){return Array.isArray(t)?en(e,[...t],this.schemaName):es(e,t,this.schemaName)}sequence=(e,t)=>od(e,t,this.schemaName);getSQL(){return new eg([ex.identifier(this.schemaName)])}shouldOmitSQLParens(){return!0}}function oG(e){if("public"===e)throw Error("You can't specify 'public' as schema name. Postgres is using public schema by default. If you want to use 'public' schema, just use pgTable() instead of creating a schema");return new oW(e)}var oK=i(23249);let oJ=async function({id:e,data:t,limit:i,req:r,returning:a,where:o}){let l=[],d=(e?[await this.findOne({collection:oK.WG,req:r,where:{id:{equals:e}}})]:(await this.find({collection:oK.WG,limit:i,pagination:!1,req:r,where:o})).docs).filter(Boolean);if(!d)return null;for(let e of d){let i={...e,...t},o=await this.updateOne({id:e.id,collection:oK.WG,data:i,req:r,returning:a});l.push(o)}return l},oQ=`
import {
  MigrateUpArgs,
  MigrateDownArgs,
} from "@payloadcms/db-mongodb";

export async function up({ payload, req }: MigrateUpArgs): Promise<void> {
  // Migration code
};

export async function down({ payload, req }: MigrateDownArgs): Promise<void> {
  // Migration code
};
`,oY=function({migrationName:e,payload:t}){let i=t.db.migrationDir;d.existsSync(i)||d.mkdirSync(i);let[r,a]=new Date().toISOString().split("T"),o=r.replace(/\D/g,""),l=a.split(".")[0].replace(/\D/g,""),p=`${o}_${l}`,c=e.replace(/\W/g,"_"),u=`${p}_${c}.ts`,h=`${i}/${u}`;d.writeFileSync(h,oQ),rF({migrationsDir:t.db.migrationDir}),t.logger.info({msg:`Migration created at ${h}`})},oZ=async function(e){let{payload:t}=this,i=e?.migrations||await (0,r0.O)({payload:t}),{existingMigrations:r,latestBatch:a}=await ae({payload:t}),o=a+1;for(let e of i){if(r.find(t=>t.name===e.name))continue;let i=Date.now(),a=await (0,r2.z)({},t);t.logger.info({msg:`Migrating: ${e.name}`});try{await (0,r6.n)(a);let r=t.db.sessions?.[await a.transactionID];await e.up({payload:t,req:a,session:r}),t.logger.info({msg:`Migrated:  ${e.name} (${Date.now()-i}ms)`}),await t.create({collection:"payload-migrations",data:{name:e.name,batch:o},req:a}),await (0,r4._)(a)}catch(i){throw await (0,r3.n)(a),t.logger.error({err:i,msg:`Error running migration ${e.name}`}),i}}};async function oX(){let{payload:e}=this,t=await (0,r0.O)({payload:e}),{existingMigrations:i,latestBatch:r}=await ae({payload:e});if(!i?.length){e.logger.info({msg:"No migrations to rollback."});return}for(let a of(e.logger.info({msg:`Rolling back batch ${r} consisting of ${i.length} migration(s).`}),i.filter(({batch:e})=>e===r))){let i=t.find(e=>e.name===a.name);if(!i)throw Error(`Migration ${a.name} not found locally.`);let r=Date.now(),o=await (0,r2.z)({},e);try{e.logger.info({msg:`Migrating down: ${i.name}`}),await (0,r6.n)(o);let t=e.db.sessions?.[await o.transactionID];await i.down({payload:e,req:o,session:t}),e.logger.info({msg:`Migrated down:  ${i.name} (${Date.now()-r}ms)`}),await e.delete({id:a.id,collection:"payload-migrations",req:o}),await (0,r4._)(o)}catch(t){await (0,r3.n)(o),e.logger.error({err:t,msg:`Error running migration ${i.name}`}),process.exit(1)}}}async function o1(){let{payload:e}=this,t=await (0,r0.O)({payload:e}),{existingMigrations:i}=await ae({payload:e}),r=await (0,r2.z)({},e);if(i?.length)for(let a of(e.logger.info({msg:`Rolling back all ${i.length} migration(s).`}),i.reverse(),i))try{let i=t.find(e=>e.name===a.name);if(!i)throw Error(`Migration ${a.name} not found locally.`);e.logger.info({msg:`Migrating down: ${a.name}`});let o=Date.now();await (0,r6.n)(r);let l=e.db.sessions?.[await r.transactionID];await i.down({payload:e,req:r,session:l}),e.logger.info({msg:`Migrated down:  ${a.name} (${Date.now()-o}ms)`}),await e.delete({collection:"payload-migrations",req:r,where:{name:{equals:a.name}}})}catch(i){await (0,r3.n)(r);let t=`Error running migration ${a.name}. Rolling back.`;i instanceof Error&&(t+=` ${i.message}`),e.logger.error({err:i,msg:t}),process.exit(1)}else e.logger.info({msg:"No migrations to rollback."});for(let i of t){e.logger.info({msg:`Migrating: ${i.name}`});try{let t=Date.now();await (0,r6.n)(r),await i.up({payload:e,req:r}),await e.create({collection:"payload-migrations",data:{name:i.name,executed:!0},req:r}),await (0,r4._)(r),e.logger.info({msg:`Migrated:  ${i.name} (${Date.now()-t}ms)`})}catch(a){await (0,r3.n)(r);let t=`Error running migration ${i.name}. Rolling back.`;a instanceof Error&&(t+=` ${a.message}`),e.logger.error({err:a,msg:t}),process.exit(1)}}}async function o0(){let{payload:e}=this,t=await (0,r0.O)({payload:e}),{existingMigrations:i}=await ae({payload:e});if(!i?.length){e.logger.info({msg:"No migrations to reset."});return}let r=await (0,r2.z)({},e);for(let a of(t.reverse(),t)){let t=i.find(e=>e.name===a.name);if(t){e.logger.info({msg:`Migrating down: ${a.name}`});try{let i=Date.now();await (0,r6.n)(r);let o=e.db.sessions?.[await r.transactionID];await a.down({payload:e,req:r,session:o}),await e.delete({collection:"payload-migrations",req:r,where:{id:{equals:t.id}}}),await (0,r4._)(r),e.logger.info({msg:`Migrated down:  ${a.name} (${Date.now()-i}ms)`})}catch(t){throw await (0,r3.n)(r),e.logger.error({err:t,msg:`Error running migration ${a.name}`}),t}}}try{await e.delete({collection:"payload-migrations",where:{batch:{equals:-1}}})}catch(t){e.logger.error({err:t,msg:"Error deleting dev migration"})}}async function o2(){let{payload:e}=this,t=await (0,r0.O)({payload:e});e.logger.debug({msg:`Found ${t.length} migration files.`});let{existingMigrations:i}=await ae({payload:e});if(!t.length){e.logger.info({msg:"No migrations found."});return}let r=t.map(e=>{let t=i.find(t=>t.name===e.name);return{Name:e.name,Batch:t?.batch,Ran:t?"Yes":"No"}}),a=new an.Table;r.forEach(e=>{a.addRow(e,{color:"Yes"===e.Ran?"green":"red"})}),a.printTable()}let o6=()=>Promise.resolve(null),o4=()=>Promise.resolve(null),o3=()=>Promise.resolve(null);function o5(e){return{beginTransaction:o6,commitTransaction:o3,createMigration:oY,migrate:oZ,migrateDown:oX,migrateFresh:()=>Promise.resolve(null),migrateRefresh:o1,migrateReset:o0,migrateStatus:o2,rollbackTransaction:o4,updateJobs:oJ,...e,migrationDir:e.migrationDir||"migrations"}}function o8(){let e=Promise.resolve(null);return()=>e}var o9,o7,le,lt,li,lr,la,ln,ls,lo,ll,ld=i(57310),lp=Object.create,lc=Object.defineProperty,lu=Object.getOwnPropertyDescriptor,lh=Object.getOwnPropertyNames,lf=Object.getPrototypeOf,lm=Object.prototype.hasOwnProperty,lg=(e,t,i)=>t in e?lc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,ly=(e,t)=>lc(e,"name",{value:t,configurable:!0}),lv=(e,t)=>()=>(e&&(t=e(e=0)),t),lb=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),lw=(e,t)=>{for(var i in t)lc(e,i,{get:t[i],enumerable:!0})},l_=(e,t,i,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of lh(t))lm.call(e,a)||a===i||lc(e,a,{get:()=>t[a],enumerable:!(r=lu(t,a))||r.enumerable});return e},lx=(e,t,i)=>(i=null!=e?lp(lf(e)):{},l_(!t&&e&&e.__esModule?i:lc(i,"default",{value:e,enumerable:!0}),e)),lS=e=>l_(lc({},"__esModule",{value:!0}),e),lE=(e,t,i)=>lg(e,"symbol"!=typeof t?t+"":t,i),lk=lb(e=>{lC(),e.byteLength=p,e.toByteArray=u,e.fromByteArray=g;var t,i,r=[],a=[],o="u">typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,i=l.length;t<i;++t)r[t]=l[t],a[l.charCodeAt(t)]=t;function d(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");-1===i&&(i=t);var r=i===t?0:4-i%4;return[i,r]}function p(e){var t=d(e),i=t[0],r=t[1];return(i+r)*3/4-r}function c(e,t,i){return(t+i)*3/4-i}function u(e){var t,i,r=d(e),l=r[0],p=r[1],u=new o(c(e,l,p)),h=0,m=p>0?l-4:l;for(i=0;i<m;i+=4)t=a[e.charCodeAt(i)]<<18|a[e.charCodeAt(i+1)]<<12|a[e.charCodeAt(i+2)]<<6|a[e.charCodeAt(i+3)],u[h++]=t>>16&255,u[h++]=t>>8&255,u[h++]=255&t;return 2===p&&(t=a[e.charCodeAt(i)]<<2|a[e.charCodeAt(i+1)]>>4,u[h++]=255&t),1===p&&(t=a[e.charCodeAt(i)]<<10|a[e.charCodeAt(i+1)]<<4|a[e.charCodeAt(i+2)]>>2,u[h++]=t>>8&255,u[h++]=255&t),u}function h(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function m(e,t,i){for(var r=[],a=t;a<i;a+=3)r.push(h((e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2])));return r.join("")}function g(e){for(var t,i=e.length,a=i%3,o=[],l=16383,d=0,p=i-a;d<p;d+=l)o.push(m(e,d,d+l>p?p:d+l));return 1===a?o.push(r[(t=e[i-1])>>2]+r[t<<4&63]+"=="):2===a&&o.push(r[(t=(e[i-2]<<8)+e[i-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")}a[45]=62,a[95]=63,ly(d,"getLens"),ly(p,"byteLength"),ly(c,"_byteLength"),ly(u,"toByteArray"),ly(h,"tripletToBase64"),ly(m,"encodeChunk"),ly(g,"fromByteArray")}),lT=lb(e=>{lC(),e.read=function(e,t,i,r,a){var o,l,d=8*a-r-1,p=(1<<d)-1,c=p>>1,u=-7,h=i?a-1:0,m=i?-1:1,g=e[t+h];for(h+=m,o=g&(1<<-u)-1,g>>=-u,u+=d;u>0;o=256*o+e[t+h],h+=m,u-=8);for(l=o&(1<<-u)-1,o>>=-u,u+=r;u>0;l=256*l+e[t+h],h+=m,u-=8);if(0===o)o=1-c;else{if(o===p)return l?NaN:1/0*(g?-1:1);l+=Math.pow(2,r),o-=c}return(g?-1:1)*l*Math.pow(2,o-r)},e.write=function(e,t,i,r,a,o){var l,d,p,c=8*o-a-1,u=(1<<c)-1,h=u>>1,m=23===a?5960464477539062e-23:0,g=r?0:o-1,y=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(d=isNaN(t)?1:0,l=u):(l=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-l))<1&&(l--,p*=2),l+h>=1?t+=m/p:t+=m*Math.pow(2,1-h),t*p>=2&&(l++,p/=2),l+h>=u?(d=0,l=u):l+h>=1?(d=(t*p-1)*Math.pow(2,a),l+=h):(d=t*Math.pow(2,h-1)*Math.pow(2,a),l=0));a>=8;e[i+g]=255&d,g+=y,d/=256,a-=8);for(l=l<<a|d,c+=a;c>0;e[i+g]=255&l,g+=y,l/=256,c-=8);e[i+g-y]|=128*v}}),lA=lb(e=>{lC();var t=lk(),i=lT(),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=d,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;var a=2147483647;function o(){try{let e=new Uint8Array(1),t={foo:ly(function(){return 42},"foo")};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch{return!1}}function l(e){if(e>a)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,i){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return h(e)}return p(e,t,i)}function p(e,t,i){if("string"==typeof e)return m(e,t);if(ArrayBuffer.isView(e))return y(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(el(e,ArrayBuffer)||e&&el(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(el(e,SharedArrayBuffer)||e&&el(e.buffer,SharedArrayBuffer)))return v(e,t,i);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return d.from(r,t,i);let a=b(e);if(a)return a;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,i){return c(e),e<=0?l(e):void 0!==t?"string"==typeof i?l(e).fill(t,i):l(e).fill(t):l(e)}function h(e){return c(e),l(e<0?0:0|w(e))}function m(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!d.isEncoding(t))throw TypeError("Unknown encoding: "+t);let i=0|x(e,t),r=l(i),a=r.write(e,t);return a!==i&&(r=r.slice(0,a)),r}function g(e){let t=e.length<0?0:0|w(e.length),i=l(t);for(let r=0;r<t;r+=1)i[r]=255&e[r];return i}function y(e){if(el(e,Uint8Array)){let t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return g(e)}function v(e,t,i){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),d.prototype),r}function b(e){if(d.isBuffer(e)){let t=0|w(e.length),i=l(t);return 0===i.length||e.copy(i,0,0,t),i}return void 0!==e.length?"number"!=typeof e.length||ed(e.length)?l(0):g(e):"Buffer"===e.type&&Array.isArray(e.data)?g(e.data):void 0}function w(e){if(e>=a)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function _(e){return+e!=e&&(e=0),d.alloc(+e)}function x(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||el(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let i=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;let a=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return er(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return es(e).length;default:if(a)return r?-1:er(e).length;t=(""+t).toLowerCase(),a=!0}}function S(e,t,i){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0)||(i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,i);case"utf8":case"utf-8":return D(this,t,i);case"ascii":return j(this,t,i);case"latin1":case"binary":return M(this,t,i);case"base64":return L(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,i);default:if(r)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function E(e,t,i){let r=e[t];e[t]=e[i],e[i]=r}function k(e,t,i,r,a){if(0===e.length)return -1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),ed(i=+i)&&(i=a?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(a)return -1;i=e.length-1}else if(i<0){if(!a)return -1;i=0}if("string"==typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:T(e,t,i,r,a);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):T(e,[t],i,r,a);throw TypeError("val must be string, number or Buffer")}function T(e,t,i,r,a){let o,l=1,d=e.length,p=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;l=2,d/=2,p/=2,i/=2}function c(e,t){return 1===l?e[t]:e.readUInt16BE(t*l)}if(ly(c,"read"),a){let r=-1;for(o=i;o<d;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===p)return r*l}else -1!==r&&(o-=o-r),r=-1}else for(i+p>d&&(i=d-p),o=i;o>=0;o--){let i=!0;for(let r=0;r<p;r++)if(c(e,o+r)!==c(t,r)){i=!1;break}if(i)return o}return -1}function C(e,t,i,r){let a;i=Number(i)||0;let o=e.length-i;r?(r=Number(r))>o&&(r=o):r=o;let l=t.length;for(r>l/2&&(r=l/2),a=0;a<r;++a){let r=parseInt(t.substr(2*a,2),16);if(ed(r))break;e[i+a]=r}return a}function N(e,t,i,r){return eo(er(t,e.length-i),e,i,r)}function O(e,t,i,r){return eo(ea(t),e,i,r)}function P(e,t,i,r){return eo(es(t),e,i,r)}function I(e,t,i,r){return eo(en(t,e.length-i),e,i,r)}function L(e,i,r){return 0===i&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(i,r))}function D(e,t,i){i=Math.min(e.length,i);let r=[],a=t;for(;a<i;){let t=e[a],o=null,l=t>239?4:t>223?3:t>191?2:1;if(a+l<=i){let i,r,d,p;switch(l){case 1:t<128&&(o=t);break;case 2:(192&(i=e[a+1]))==128&&(p=(31&t)<<6|63&i)>127&&(o=p);break;case 3:i=e[a+1],r=e[a+2],(192&i)==128&&(192&r)==128&&(p=(15&t)<<12|(63&i)<<6|63&r)>2047&&(p<55296||p>57343)&&(o=p);break;case 4:i=e[a+1],r=e[a+2],d=e[a+3],(192&i)==128&&(192&r)==128&&(192&d)==128&&(p=(15&t)<<18|(63&i)<<12|(63&r)<<6|63&d)>65535&&p<1114112&&(o=p)}}null===o?(o=65533,l=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),a+=l}return $(r)}e.kMaxLength=a,d.TYPED_ARRAY_SUPPORT=o(),!d.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),ly(o,"typedArraySupport"),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:ly(function(){if(d.isBuffer(this))return this.buffer},"get")}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:ly(function(){if(d.isBuffer(this))return this.byteOffset},"get")}),ly(l,"createBuffer"),ly(d,"Buffer"),d.poolSize=8192,ly(p,"from"),d.from=function(e,t,i){return p(e,t,i)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),ly(c,"assertSize"),ly(u,"alloc"),d.alloc=function(e,t,i){return u(e,t,i)},ly(h,"allocUnsafe"),d.allocUnsafe=function(e){return h(e)},d.allocUnsafeSlow=function(e){return h(e)},ly(m,"fromString"),ly(g,"fromArrayLike"),ly(y,"fromArrayView"),ly(v,"fromArrayBuffer"),ly(b,"fromObject"),ly(w,"checked"),ly(_,"SlowBuffer"),d.isBuffer=ly(function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},"isBuffer"),d.compare=ly(function(e,t){if(el(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),el(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,r=t.length;for(let a=0,o=Math.min(i,r);a<o;++a)if(e[a]!==t[a]){i=e[a],r=t[a];break}return i<r?-1:r<i?1:0},"compare"),d.isEncoding=ly(function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),d.concat=ly(function(e,t){let i;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let r=d.allocUnsafe(t),a=0;for(i=0;i<e.length;++i){let t=e[i];if(el(t,Uint8Array))a+t.length>r.length?(d.isBuffer(t)||(t=d.from(t)),t.copy(r,a)):Uint8Array.prototype.set.call(r,t,a);else if(d.isBuffer(t))t.copy(r,a);else throw TypeError('"list" argument must be an Array of Buffers');a+=t.length}return r},"concat"),ly(x,"byteLength"),d.byteLength=x,ly(S,"slowToString"),d.prototype._isBuffer=!0,ly(E,"swap"),d.prototype.swap16=ly(function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)E(this,t,t+1);return this},"swap16"),d.prototype.swap32=ly(function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},"swap32"),d.prototype.swap64=ly(function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},"swap64"),d.prototype.toString=ly(function(){let e=this.length;return 0===e?"":0==arguments.length?D(this,0,e):S.apply(this,arguments)},"toString"),d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=ly(function(e){if(!d.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},"equals"),d.prototype.inspect=ly(function(){let t="",i=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},"inspect"),r&&(d.prototype[r]=d.prototype.inspect),d.prototype.compare=ly(function(e,t,i,r,a){if(el(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||i>e.length||r<0||a>this.length)throw RangeError("out of range index");if(r>=a&&t>=i)return 0;if(r>=a)return -1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,a>>>=0,this===e)return 0;let o=a-r,l=i-t,p=Math.min(o,l),c=this.slice(r,a),u=e.slice(t,i);for(let e=0;e<p;++e)if(c[e]!==u[e]){o=c[e],l=u[e];break}return o<l?-1:l<o?1:0},"compare"),ly(k,"bidirectionalIndexOf"),ly(T,"arrayIndexOf"),d.prototype.includes=ly(function(e,t,i){return -1!==this.indexOf(e,t,i)},"includes"),d.prototype.indexOf=ly(function(e,t,i){return k(this,e,t,i,!0)},"indexOf"),d.prototype.lastIndexOf=ly(function(e,t,i){return k(this,e,t,i,!1)},"lastIndexOf"),ly(C,"hexWrite"),ly(N,"utf8Write"),ly(O,"asciiWrite"),ly(P,"base64Write"),ly(I,"ucs2Write"),d.prototype.write=ly(function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)r=t,i=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-t;if((void 0===i||i>a)&&(i=a),e.length>0&&(i<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return C(this,e,t,i);case"utf8":case"utf-8":return N(this,e,t,i);case"ascii":case"latin1":case"binary":return O(this,e,t,i);case"base64":return P(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,i);default:if(o)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},"write"),d.prototype.toJSON=ly(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON"),ly(L,"base64Slice"),ly(D,"utf8Slice");var R=4096;function $(e){let t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);let i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=R));return i}function j(e,t,i){let r="";i=Math.min(e.length,i);for(let a=t;a<i;++a)r+=String.fromCharCode(127&e[a]);return r}function M(e,t,i){let r="";i=Math.min(e.length,i);for(let a=t;a<i;++a)r+=String.fromCharCode(e[a]);return r}function U(e,t,i){let r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);let a="";for(let r=t;r<i;++r)a+=ep[e[r]];return a}function F(e,t,i){let r=e.slice(t,i),a="";for(let e=0;e<r.length-1;e+=2)a+=String.fromCharCode(r[e]+256*r[e+1]);return a}function B(e,t,i){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>i)throw RangeError("Trying to access beyond buffer length")}function z(e,t,i,r,a,o){if(!d.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw RangeError('"value" argument is out of bounds');if(i+r>e.length)throw RangeError("Index out of range")}function q(e,t,i,r,a){Z(t,r,a,e,i,7);let o=Number(t&BigInt(4294967295));e[i++]=o,o>>=8,e[i++]=o,o>>=8,e[i++]=o,o>>=8,e[i++]=o;let l=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=l,l>>=8,e[i++]=l,l>>=8,e[i++]=l,l>>=8,e[i++]=l,i}function V(e,t,i,r,a){Z(t,r,a,e,i,7);let o=Number(t&BigInt(4294967295));e[i+7]=o,o>>=8,e[i+6]=o,o>>=8,e[i+5]=o,o>>=8,e[i+4]=o;let l=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=l,l>>=8,e[i+2]=l,l>>=8,e[i+1]=l,l>>=8,e[i]=l,i+8}function H(e,t,i,r,a,o){if(i+r>e.length||i<0)throw RangeError("Index out of range")}function W(e,t,r,a,o){return t=+t,r>>>=0,o||H(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,a,23,4),r+4}function G(e,t,r,a,o){return t=+t,r>>>=0,o||H(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,a,52,8),r+8}ly($,"decodeCodePointsArray"),ly(j,"asciiSlice"),ly(M,"latin1Slice"),ly(U,"hexSlice"),ly(F,"utf16leSlice"),d.prototype.slice=ly(function(e,t){let i=this.length;e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,d.prototype),r},"slice"),ly(B,"checkOffset"),d.prototype.readUintLE=d.prototype.readUIntLE=ly(function(e,t,i){e>>>=0,t>>>=0,i||B(e,t,this.length);let r=this[e],a=1,o=0;for(;++o<t&&(a*=256);)r+=this[e+o]*a;return r},"readUIntLE"),d.prototype.readUintBE=d.prototype.readUIntBE=ly(function(e,t,i){e>>>=0,t>>>=0,i||B(e,t,this.length);let r=this[e+--t],a=1;for(;t>0&&(a*=256);)r+=this[e+--t]*a;return r},"readUIntBE"),d.prototype.readUint8=d.prototype.readUInt8=ly(function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},"readUInt8"),d.prototype.readUint16LE=d.prototype.readUInt16LE=ly(function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},"readUInt16LE"),d.prototype.readUint16BE=d.prototype.readUInt16BE=ly(function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},"readUInt16BE"),d.prototype.readUint32LE=d.prototype.readUInt32LE=ly(function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},"readUInt32LE"),d.prototype.readUint32BE=d.prototype.readUInt32BE=ly(function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},"readUInt32BE"),d.prototype.readBigUInt64LE=ec(ly(function(e){X(e>>>=0,"offset");let t=this[e],i=this[e+7];(void 0===t||void 0===i)&&ee(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+16777216*this[++e],a=this[++e]+256*this[++e]+65536*this[++e]+16777216*i;return BigInt(r)+(BigInt(a)<<BigInt(32))},"readBigUInt64LE")),d.prototype.readBigUInt64BE=ec(ly(function(e){X(e>>>=0,"offset");let t=this[e],i=this[e+7];(void 0===t||void 0===i)&&ee(e,this.length-8);let r=16777216*t+65536*this[++e]+256*this[++e]+this[++e],a=16777216*this[++e]+65536*this[++e]+256*this[++e]+i;return(BigInt(r)<<BigInt(32))+BigInt(a)},"readBigUInt64BE")),d.prototype.readIntLE=ly(function(e,t,i){e>>>=0,t>>>=0,i||B(e,t,this.length);let r=this[e],a=1,o=0;for(;++o<t&&(a*=256);)r+=this[e+o]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},"readIntLE"),d.prototype.readIntBE=ly(function(e,t,i){e>>>=0,t>>>=0,i||B(e,t,this.length);let r=t,a=1,o=this[e+--r];for(;r>0&&(a*=256);)o+=this[e+--r]*a;return o>=(a*=128)&&(o-=Math.pow(2,8*t)),o},"readIntBE"),d.prototype.readInt8=ly(function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-((255-this[e]+1)*1):this[e]},"readInt8"),d.prototype.readInt16LE=ly(function(e,t){e>>>=0,t||B(e,2,this.length);let i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},"readInt16LE"),d.prototype.readInt16BE=ly(function(e,t){e>>>=0,t||B(e,2,this.length);let i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},"readInt16BE"),d.prototype.readInt32LE=ly(function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},"readInt32LE"),d.prototype.readInt32BE=ly(function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},"readInt32BE"),d.prototype.readBigInt64LE=ec(ly(function(e){X(e>>>=0,"offset");let t=this[e],i=this[e+7];return(void 0===t||void 0===i)&&ee(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(i<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])},"readBigInt64LE")),d.prototype.readBigInt64BE=ec(ly(function(e){X(e>>>=0,"offset");let t=this[e],i=this[e+7];return(void 0===t||void 0===i)&&ee(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+i)},"readBigInt64BE")),d.prototype.readFloatLE=ly(function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},"readFloatLE"),d.prototype.readFloatBE=ly(function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},"readFloatBE"),d.prototype.readDoubleLE=ly(function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},"readDoubleLE"),d.prototype.readDoubleBE=ly(function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},"readDoubleBE"),ly(z,"checkInt"),d.prototype.writeUintLE=d.prototype.writeUIntLE=ly(function(e,t,i,r){if(e=+e,t>>>=0,i>>>=0,!r){let r=Math.pow(2,8*i)-1;z(this,e,t,i,r,0)}let a=1,o=0;for(this[t]=255&e;++o<i&&(a*=256);)this[t+o]=e/a&255;return t+i},"writeUIntLE"),d.prototype.writeUintBE=d.prototype.writeUIntBE=ly(function(e,t,i,r){if(e=+e,t>>>=0,i>>>=0,!r){let r=Math.pow(2,8*i)-1;z(this,e,t,i,r,0)}let a=i-1,o=1;for(this[t+a]=255&e;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+i},"writeUIntBE"),d.prototype.writeUint8=d.prototype.writeUInt8=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,1,255,0),this[t]=255&e,t+1},"writeUInt8"),d.prototype.writeUint16LE=d.prototype.writeUInt16LE=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeUInt16LE"),d.prototype.writeUint16BE=d.prototype.writeUInt16BE=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeUInt16BE"),d.prototype.writeUint32LE=d.prototype.writeUInt32LE=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},"writeUInt32LE"),d.prototype.writeUint32BE=d.prototype.writeUInt32BE=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeUInt32BE"),ly(q,"wrtBigUInt64LE"),ly(V,"wrtBigUInt64BE"),d.prototype.writeBigUInt64LE=ec(ly(function(e,t=0){return q(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),d.prototype.writeBigUInt64BE=ec(ly(function(e,t=0){return V(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),d.prototype.writeIntLE=ly(function(e,t,i,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*i-1);z(this,e,t,i,r-1,-r)}let a=0,o=1,l=0;for(this[t]=255&e;++a<i&&(o*=256);)e<0&&0===l&&0!==this[t+a-1]&&(l=1),this[t+a]=(e/o>>0)-l&255;return t+i},"writeIntLE"),d.prototype.writeIntBE=ly(function(e,t,i,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*i-1);z(this,e,t,i,r-1,-r)}let a=i-1,o=1,l=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===l&&0!==this[t+a+1]&&(l=1),this[t+a]=(e/o>>0)-l&255;return t+i},"writeIntBE"),d.prototype.writeInt8=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},"writeInt8"),d.prototype.writeInt16LE=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},"writeInt16LE"),d.prototype.writeInt16BE=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},"writeInt16BE"),d.prototype.writeInt32LE=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},"writeInt32LE"),d.prototype.writeInt32BE=ly(function(e,t,i){return e=+e,t>>>=0,i||z(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},"writeInt32BE"),d.prototype.writeBigInt64LE=ec(ly(function(e,t=0){return q(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),d.prototype.writeBigInt64BE=ec(ly(function(e,t=0){return V(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE")),ly(H,"checkIEEE754"),ly(W,"writeFloat"),d.prototype.writeFloatLE=ly(function(e,t,i){return W(this,e,t,!0,i)},"writeFloatLE"),d.prototype.writeFloatBE=ly(function(e,t,i){return W(this,e,t,!1,i)},"writeFloatBE"),ly(G,"writeDouble"),d.prototype.writeDoubleLE=ly(function(e,t,i){return G(this,e,t,!0,i)},"writeDoubleLE"),d.prototype.writeDoubleBE=ly(function(e,t,i){return G(this,e,t,!1,i)},"writeDoubleBE"),d.prototype.copy=ly(function(e,t,i,r){if(!d.isBuffer(e))throw TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);let a=r-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,r):Uint8Array.prototype.set.call(e,this.subarray(i,r),t),a},"copy"),d.prototype.fill=ly(function(e,t,i,r){let a;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!d.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw RangeError("Out of range index");if(i<=t)return this;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(a=t;a<i;++a)this[a]=e;else{let o=d.isBuffer(e)?e:d.from(e,r),l=o.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<i-t;++a)this[a+t]=o[a%l]}return this},"fill");var K={};function J(e,t,i){var r;K[e]=(ly(r=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}},"NodeError"),r)}function Q(e){let t="",i=e.length,r="-"===e[0]?1:0;for(;i>=r+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}function Y(e,t,i){X(t,"offset"),(void 0===e[t]||void 0===e[t+i])&&ee(t,e.length-(i+1))}function Z(e,t,i,r,a,o){if(e>i||e<t){let r="bigint"==typeof t?"n":"",a;throw a=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${(o+1)*8}${r}`:`>= -(2${r} ** ${(o+1)*8-1}${r}) and \
< 2 ** ${(o+1)*8-1}${r}`:`>= ${t}${r} and <= ${i}${r}`,new K.ERR_OUT_OF_RANGE("value",a,e)}Y(r,a,o)}function X(e,t){if("number"!=typeof e)throw new K.ERR_INVALID_ARG_TYPE(t,"number",e)}function ee(e,t,i){throw Math.floor(e)!==e?(X(e,i),new K.ERR_OUT_OF_RANGE(i||"offset","an integer",e)):t<0?new K.ERR_BUFFER_OUT_OF_BOUNDS:new K.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}ly(J,"E"),J("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argum\
ent must be of type number. Received type ${typeof t}`},TypeError),J("ERR_OUT_OF_RANGE",function(e,t,i){let r=`The value of "${e}" is out of range.`,a=i;return Number.isInteger(i)&&Math.abs(i)>4294967296?a=Q(String(i)):"bigint"==typeof i&&(a=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(a=Q(a)),a+="n"),r+=` It\
 must be ${t}. Received ${a}`},RangeError),ly(Q,"addNumericalSeparator"),ly(Y,"checkBounds"),ly(Z,"checkIntBI"),ly(X,"validateNumber"),ly(ee,"boundsError");var et=/[^+/0-9A-Za-z-_]/g;function ei(e){if((e=(e=e.split("=")[0]).trim().replace(et,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function er(e,t){t=t||1/0;let i,r=e.length,a=null,o=[];for(let l=0;l<r;++l){if((i=e.charCodeAt(l))>55295&&i<57344){if(!a){if(i>56319||l+1===r){(t-=3)>-1&&o.push(239,191,189);continue}a=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),a=i;continue}i=(a-55296<<10|i-56320)+65536}else a&&(t-=3)>-1&&o.push(239,191,189);if(a=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return o}function ea(e){let t=[];for(let i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}function en(e,t){let i,r,a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=(i=e.charCodeAt(o))>>8,a.push(i%256),a.push(r);return a}function es(e){return t.toByteArray(ei(e))}function eo(e,t,i,r){let a;for(a=0;a<r&&!(a+i>=t.length||a>=e.length);++a)t[a+i]=e[a];return a}function el(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function ed(e){return e!=e}ly(ei,"base64clean"),ly(er,"utf8ToBytes"),ly(ea,"asciiToBytes"),ly(en,"utf16leToBytes"),ly(es,"base64ToBytes"),ly(eo,"blitBuffer"),ly(el,"isInstance"),ly(ed,"numberIsNaN");var ep=function(){let e="0123456789abcdef",t=Array(256);for(let i=0;i<16;++i){let r=16*i;for(let a=0;a<16;++a)t[r+a]=e[i]+e[a]}return t}();function ec(e){return typeof BigInt>"u"?eu:e}function eu(){throw Error("BigInt not supported")}ly(ec,"defineBigIntMethod"),ly(eu,"BufferBigIntNotDefined")}),lC=lv(()=>{lr=globalThis,la=globalThis.setImmediate??(e=>setTimeout(e,0)),ln=globalThis.clearImmediate??(e=>clearTimeout(e)),(ls=globalThis.crypto??{}).subtle??(ls.subtle={}),lo="function"==typeof globalThis.Buffer&&"function"==typeof globalThis.Buffer.allocUnsafe?globalThis.Buffer:lA().Buffer,(ll=globalThis.process??{}).env??(ll.env={});try{ll.nextTick(()=>{})}catch{let e=Promise.resolve();ll.nextTick=e.then.bind(e)}}),lN=lb((e,t)=>{lC();var i,r="object"==typeof Reflect?Reflect:null,a=r&&"function"==typeof r.apply?r.apply:ly(function(e,t,i){return Function.prototype.apply.call(e,t,i)},"ReflectApply");function o(e){console&&console.warn&&console.warn(e)}i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?ly(function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))},"ReflectOwnKeys"):ly(function(e){return Object.getOwnPropertyNames(e)},"ReflectOwnKeys"),ly(o,"ProcessEmitWarning");var l=Number.isNaN||ly(function(e){return e!=e},"NumberIsNaN");function d(){d.init.call(this)}ly(d,"EventEmitter"),t.exports=d,t.exports.once=x,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var p=10;function c(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?d.defaultMaxListeners:e._maxListeners}function h(e,t,i,r){var a,l,d;if(c(i),void 0===(l=e._events)?(l=e._events=Object.create(null),e._eventsCount=0):(void 0!==l.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),l=e._events),d=l[t]),void 0===d)d=l[t]=i,++e._eventsCount;else if("function"==typeof d?d=l[t]=r?[i,d]:[d,i]:r?d.unshift(i):d.push(i),(a=u(e))>0&&d.length>a&&!d.warned){d.warned=!0;var p=Error("Possible EventEmitter memory leak detected. "+d.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");p.name="MaxListenersExceededWarning",p.emitter=e,p.type=t,p.count=d.length,o(p)}return e}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},a=m.bind(r);return a.listener=i,r.wrapFn=a,a}function y(e,t,i){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"==typeof a?i?[a.listener||a]:[a]:i?_(a):b(a,a.length)}function v(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function b(e,t){for(var i=Array(t),r=0;r<t;++r)i[r]=e[r];return i}function w(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function _(e){for(var t=Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}function x(e,t){return new Promise(function(i,r){function a(i){e.removeListener(t,o),r(i)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",a),i([].slice.call(arguments))}ly(a,"errorListener"),ly(o,"resolver"),E(e,t,o,{once:!0}),"error"!==t&&S(e,a,{once:!0})})}function S(e,t,i){"function"==typeof e.on&&E(e,"error",t,i)}function E(e,t,i,r){if("function"==typeof e.on)r.once?e.once(t,i):e.on(t,i);else if("function"==typeof e.addEventListener)e.addEventListener(t,ly(function a(o){r.once&&e.removeEventListener(t,a),i(o)},"wrapListener"));else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}ly(c,"checkListener"),Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:ly(function(){return p},"get"),set:ly(function(e){if("number"!=typeof e||e<0||l(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");p=e},"set")}),d.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=ly(function(e){if("number"!=typeof e||e<0||l(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},"setMaxListeners"),ly(u,"_getMaxListeners"),d.prototype.getMaxListeners=ly(function(){return u(this)},"getMaxListeners"),d.prototype.emit=ly(function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){if(t.length>0&&(l=t[0]),l instanceof Error)throw l;var l,d=Error("Unhandled error."+(l?" ("+l.message+")":""));throw d.context=l,d}var p=o[e];if(void 0===p)return!1;if("function"==typeof p)a(p,this,t);else for(var c=p.length,u=b(p,c),i=0;i<c;++i)a(u[i],this,t);return!0},"emit"),ly(h,"_addListener"),d.prototype.addListener=ly(function(e,t){return h(this,e,t,!1)},"addListener"),d.prototype.on=d.prototype.addListener,d.prototype.prependListener=ly(function(e,t){return h(this,e,t,!0)},"prependListener"),ly(m,"onceWrapper"),ly(g,"_onceWrap"),d.prototype.once=ly(function(e,t){return c(t),this.on(e,g(this,e,t)),this},"once"),d.prototype.prependOnceListener=ly(function(e,t){return c(t),this.prependListener(e,g(this,e,t)),this},"prependOnceListener"),d.prototype.removeListener=ly(function(e,t){var i,r,a,o,l;if(c(t),void 0===(r=this._events)||void 0===(i=r[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(a=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){l=i[o].listener,a=o;break}if(a<0)return this;0===a?i.shift():w(i,a),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,l||t)}return this},"removeListener"),d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=ly(function(e){var t,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0==arguments.length){var a,o=Object.keys(i);for(r=0;r<o.length;++r)"removeListener"!==(a=o[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},"removeAllListeners"),ly(y,"_listeners"),d.prototype.listeners=ly(function(e){return y(this,e,!0)},"listeners"),d.prototype.rawListeners=ly(function(e){return y(this,e,!1)},"rawListeners"),d.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},d.prototype.listenerCount=v,ly(v,"listenerCount"),d.prototype.eventNames=ly(function(){return this._eventsCount>0?i(this._events):[]},"eventNames"),ly(b,"arrayClone"),ly(w,"spliceOne"),ly(_,"unwrapListeners"),ly(x,"once"),ly(S,"addErrorHandlerIfEventEmitter"),ly(E,"eventTargetAgnosticAddListener")}),lO={};lw(lO,{default:()=>lP});var lP,lI=lv(()=>{lC(),lP={}});function lL(e){let t=1779033703,i=3144134277,r=1013904242,a=2773480762,o=1359893119,l=2600822924,d=528734635,p=1541459225,c=0,u=0,h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=ly((e,t)=>e>>>t|e<<32-t,"rrot"),g=new Uint32Array(64),y=new Uint8Array(64),v=ly(()=>{for(let e=0,t=0;e<16;e++,t+=4)g[e]=y[t]<<24|y[t+1]<<16|y[t+2]<<8|y[t+3];for(let e=16;e<64;e++){let t=m(g[e-15],7)^m(g[e-15],18)^g[e-15]>>>3,i=m(g[e-2],17)^m(g[e-2],19)^g[e-2]>>>10;g[e]=g[e-16]+t+g[e-7]+i|0}let e=t,c=i,v=r,b=a,w=o,_=l,x=d,S=p;for(let t=0;t<64;t++){let i=S+(m(w,6)^m(w,11)^m(w,25))+(w&_^~w&x)+h[t]+g[t]|0,r=(m(e,2)^m(e,13)^m(e,22))+(e&c^e&v^c&v)|0;S=x,x=_,_=w,w=b+i|0,b=v,v=c,c=e,e=i+r|0}t=t+e|0,i=i+c|0,r=r+v|0,a=a+b|0,o=o+w|0,l=l+_|0,d=d+x|0,p=p+S|0,u=0},"process"),b=ly(e=>{"string"==typeof e&&(e=new TextEncoder().encode(e));for(let t=0;t<e.length;t++)y[u++]=e[t],64===u&&v();c+=e.length},"add"),w=ly(()=>{if(y[u++]=128,64==u&&v(),u+8>64){for(;u<64;)y[u++]=0;v()}for(;u<58;)y[u++]=0;let e=8*c;y[u++]=e/1099511627776&255,y[u++]=e/4294967296&255,y[u++]=e>>>24,y[u++]=e>>>16&255,y[u++]=e>>>8&255,y[u++]=255&e,v();let h=new Uint8Array(32);return h[0]=t>>>24,h[1]=t>>>16&255,h[2]=t>>>8&255,h[3]=255&t,h[4]=i>>>24,h[5]=i>>>16&255,h[6]=i>>>8&255,h[7]=255&i,h[8]=r>>>24,h[9]=r>>>16&255,h[10]=r>>>8&255,h[11]=255&r,h[12]=a>>>24,h[13]=a>>>16&255,h[14]=a>>>8&255,h[15]=255&a,h[16]=o>>>24,h[17]=o>>>16&255,h[18]=o>>>8&255,h[19]=255&o,h[20]=l>>>24,h[21]=l>>>16&255,h[22]=l>>>8&255,h[23]=255&l,h[24]=d>>>24,h[25]=d>>>16&255,h[26]=d>>>8&255,h[27]=255&d,h[28]=p>>>24,h[29]=p>>>16&255,h[30]=p>>>8&255,h[31]=255&p,h},"digest");return void 0===e?{add:b,digest:w}:(b(e),w())}var lD,lR,l$=lv(()=>{lC(),ly(lL,"sha256")}),lj=lv(()=>{lC(),ly(lD=class e{constructor(){lE(this,"_dataLength",0),lE(this,"_bufferLength",0),lE(this,"_state",new Int32Array(4)),lE(this,"_buffer",new ArrayBuffer(68)),lE(this,"_buffer8"),lE(this,"_buffer32"),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashByteArray(e,t=!1){return this.onePassHasher.start().appendByteArray(e).end(t)}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(t){let i=e.hexChars,r=e.hexOut,a,o,l,d;for(d=0;d<4;d+=1)for(o=8*d,a=t[d],l=0;l<8;l+=2)r[o+1+l]=i.charAt(15&a),a>>>=4,r[o+0+l]=i.charAt(15&a),a>>>=4;return r.join("")}static _md5cycle(e,t){let i=e[0],r=e[1],a=e[2],o=e[3];i+=(r&a|~r&o)+t[0]-680876936|0,o+=((i=(i<<7|i>>>25)+r|0)&r|~i&a)+t[1]-389564586|0,a+=((o=(o<<12|o>>>20)+i|0)&i|~o&r)+t[2]+606105819|0,r+=((a=(a<<17|a>>>15)+o|0)&o|~a&i)+t[3]-1044525330|0,i+=((r=(r<<22|r>>>10)+a|0)&a|~r&o)+t[4]-176418897|0,o+=((i=(i<<7|i>>>25)+r|0)&r|~i&a)+t[5]+1200080426|0,a+=((o=(o<<12|o>>>20)+i|0)&i|~o&r)+t[6]-1473231341|0,r+=((a=(a<<17|a>>>15)+o|0)&o|~a&i)+t[7]-45705983|0,i+=((r=(r<<22|r>>>10)+a|0)&a|~r&o)+t[8]+1770035416|0,o+=((i=(i<<7|i>>>25)+r|0)&r|~i&a)+t[9]-1958414417|0,a+=((o=(o<<12|o>>>20)+i|0)&i|~o&r)+t[10]-42063|0,r+=((a=(a<<17|a>>>15)+o|0)&o|~a&i)+t[11]-1990404162|0,i+=((r=(r<<22|r>>>10)+a|0)&a|~r&o)+t[12]+1804603682|0,o+=((i=(i<<7|i>>>25)+r|0)&r|~i&a)+t[13]-40341101|0,a+=((o=(o<<12|o>>>20)+i|0)&i|~o&r)+t[14]-1502002290|0,r+=((a=(a<<17|a>>>15)+o|0)&o|~a&i)+t[15]+1236535329|0,i+=((r=(r<<22|r>>>10)+a|0)&o|a&~o)+t[1]-165796510|0,o+=((i=(i<<5|i>>>27)+r|0)&a|r&~a)+t[6]-1069501632|0,a+=((o=(o<<9|o>>>23)+i|0)&r|i&~r)+t[11]+643717713|0,r+=((a=(a<<14|a>>>18)+o|0)&i|o&~i)+t[0]-373897302|0,i+=((r=(r<<20|r>>>12)+a|0)&o|a&~o)+t[5]-701558691|0,o+=((i=(i<<5|i>>>27)+r|0)&a|r&~a)+t[10]+38016083|0,a+=((o=(o<<9|o>>>23)+i|0)&r|i&~r)+t[15]-660478335|0,r+=((a=(a<<14|a>>>18)+o|0)&i|o&~i)+t[4]-405537848|0,i+=((r=(r<<20|r>>>12)+a|0)&o|a&~o)+t[9]+568446438|0,o+=((i=(i<<5|i>>>27)+r|0)&a|r&~a)+t[14]-1019803690|0,a+=((o=(o<<9|o>>>23)+i|0)&r|i&~r)+t[3]-187363961|0,r+=((a=(a<<14|a>>>18)+o|0)&i|o&~i)+t[8]+1163531501|0,i+=((r=(r<<20|r>>>12)+a|0)&o|a&~o)+t[13]-1444681467|0,o+=((i=(i<<5|i>>>27)+r|0)&a|r&~a)+t[2]-51403784|0,a+=((o=(o<<9|o>>>23)+i|0)&r|i&~r)+t[7]+1735328473|0,r+=((a=(a<<14|a>>>18)+o|0)&i|o&~i)+t[12]-1926607734|0,i+=((r=(r<<20|r>>>12)+a|0)^a^o)+t[5]-378558|0,o+=((i=(i<<4|i>>>28)+r|0)^r^a)+t[8]-2022574463|0,a+=((o=(o<<11|o>>>21)+i|0)^i^r)+t[11]+1839030562|0,r+=((a=(a<<16|a>>>16)+o|0)^o^i)+t[14]-35309556|0,i+=((r=(r<<23|r>>>9)+a|0)^a^o)+t[1]-1530992060|0,o+=((i=(i<<4|i>>>28)+r|0)^r^a)+t[4]+1272893353|0,a+=((o=(o<<11|o>>>21)+i|0)^i^r)+t[7]-155497632|0,r+=((a=(a<<16|a>>>16)+o|0)^o^i)+t[10]-1094730640|0,i+=((r=(r<<23|r>>>9)+a|0)^a^o)+t[13]+681279174|0,o+=((i=(i<<4|i>>>28)+r|0)^r^a)+t[0]-358537222|0,a+=((o=(o<<11|o>>>21)+i|0)^i^r)+t[3]-722521979|0,r+=((a=(a<<16|a>>>16)+o|0)^o^i)+t[6]+76029189|0,i+=((r=(r<<23|r>>>9)+a|0)^a^o)+t[9]-640364487|0,o+=((i=(i<<4|i>>>28)+r|0)^r^a)+t[12]-421815835|0,a+=((o=(o<<11|o>>>21)+i|0)^i^r)+t[15]+530742520|0,r+=((a=(a<<16|a>>>16)+o|0)^o^i)+t[2]-995338651|0,r=(r<<23|r>>>9)+a|0,i+=(a^(r|~o))+t[0]-198630844|0,i=(i<<6|i>>>26)+r|0,o+=(r^(i|~a))+t[7]+1126891415|0,o=(o<<10|o>>>22)+i|0,a+=(i^(o|~r))+t[14]-1416354905|0,a=(a<<15|a>>>17)+o|0,r+=(o^(a|~i))+t[5]-57434055|0,r=(r<<21|r>>>11)+a|0,i+=(a^(r|~o))+t[12]+1700485571|0,i=(i<<6|i>>>26)+r|0,o+=(r^(i|~a))+t[3]-1894986606|0,o=(o<<10|o>>>22)+i|0,a+=(i^(o|~r))+t[10]-1051523|0,a=(a<<15|a>>>17)+o|0,r+=(o^(a|~i))+t[1]-2054922799|0,r=(r<<21|r>>>11)+a|0,i+=(a^(r|~o))+t[8]+1873313359|0,i=(i<<6|i>>>26)+r|0,o+=(r^(i|~a))+t[15]-30611744|0,o=(o<<10|o>>>22)+i|0,a+=(i^(o|~r))+t[6]-1560198380|0,a=(a<<15|a>>>17)+o|0,r+=(o^(a|~i))+t[13]+1309151649|0,r=(r<<21|r>>>11)+a|0,i+=(a^(r|~o))+t[4]-145523070|0,i=(i<<6|i>>>26)+r|0,o+=(r^(i|~a))+t[11]-1120210379|0,o=(o<<10|o>>>22)+i|0,a+=(i^(o|~r))+t[2]+718787259|0,a=(a<<15|a>>>17)+o|0,r+=(o^(a|~i))+t[9]-343485551|0,r=(r<<21|r>>>11)+a|0,e[0]=i+e[0]|0,e[1]=r+e[1]|0,e[2]=a+e[2]|0,e[3]=o+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(e.stateIdentity),this}appendStr(t){let i=this._buffer8,r=this._buffer32,a=this._bufferLength,o,l;for(l=0;l<t.length;l+=1){if((o=t.charCodeAt(l))<128)i[a++]=o;else if(o<2048)i[a++]=(o>>>6)+192,i[a++]=63&o|128;else if(o<55296||o>56319)i[a++]=(o>>>12)+224,i[a++]=o>>>6&63|128,i[a++]=63&o|128;else{if((o=(o-55296)*1024+(t.charCodeAt(++l)-56320)+65536)>1114111)throw Error("Unicode standard supports code points up to U+10FFFF");i[a++]=(o>>>18)+240,i[a++]=o>>>12&63|128,i[a++]=o>>>6&63|128,i[a++]=63&o|128}a>=64&&(this._dataLength+=64,e._md5cycle(this._state,r),a-=64,r[0]=r[16])}return this._bufferLength=a,this}appendAsciiStr(t){let i=this._buffer8,r=this._buffer32,a=this._bufferLength,o,l=0;for(;;){for(o=Math.min(t.length-l,64-a);o--;)i[a++]=t.charCodeAt(l++);if(a<64)break;this._dataLength+=64,e._md5cycle(this._state,r),a=0}return this._bufferLength=a,this}appendByteArray(t){let i=this._buffer8,r=this._buffer32,a=this._bufferLength,o,l=0;for(;;){for(o=Math.min(t.length-l,64-a);o--;)i[a++]=t[l++];if(a<64)break;this._dataLength+=64,e._md5cycle(this._state,r),a=0}return this._bufferLength=a,this}getState(){let e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){let t=e.buffer,i=e.state,r=this._state,a;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],a=0;a<t.length;a+=1)this._buffer8[a]=t.charCodeAt(a)}end(t=!1){let i=this._bufferLength,r=this._buffer8,a=this._buffer32,o=(i>>2)+1;this._dataLength+=i;let l=8*this._dataLength;if(r[i]=128,r[i+1]=r[i+2]=r[i+3]=0,a.set(e.buffer32Identity.subarray(o),o),i>55&&(e._md5cycle(this._state,a),a.set(e.buffer32Identity)),l<=4294967295)a[14]=l;else{let e=l.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;let t=parseInt(e[2],16),i=parseInt(e[1],16)||0;a[14]=t,a[15]=i}return e._md5cycle(this._state,a),t?this._state:e._hex(this._state)}},"Md5"),lE(lD,"stateIdentity",new Int32Array([1732584193,-271733879,-1732584194,271733878])),lE(lD,"buffer32Identity",new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),lE(lD,"hexChars","0123456789abcdef"),lE(lD,"hexOut",[]),lE(lD,"onePassHasher",new lD),lR=lD}),lM={};function lU(e){return ls.getRandomValues(lo.alloc(e))}function lF(e){if("sha256"===e)return{update:ly(function(e){return{digest:ly(function(){return lo.from(lL(e))},"digest")}},"update")};if("md5"===e)return{update:ly(function(e){return{digest:ly(function(){return"string"==typeof e?lR.hashStr(e):lR.hashByteArray(e)},"digest")}},"update")};throw Error(`Hash type '${e}' not supported`)}function lB(e,t){if("sha256"!==e)throw Error(`Only sha256 is supported (requested: '${e}')`);return{update:ly(function(e){return{digest:ly(function(){"string"==typeof t&&(t=new TextEncoder().encode(t)),"string"==typeof e&&(e=new TextEncoder().encode(e));let i=t.length;if(i>64)t=lL(t);else if(i<64){let e=new Uint8Array(64);e.set(t),t=e}let r=new Uint8Array(64),a=new Uint8Array(64);for(let e=0;e<64;e++)r[e]=54^t[e],a[e]=92^t[e];let o=new Uint8Array(e.length+64);o.set(r,0),o.set(e,64);let l=new Uint8Array(96);return l.set(a,0),l.set(lL(o),64),lo.from(lL(l))},"digest")}},"update")}}lw(lM,{createHash:()=>lF,createHmac:()=>lB,randomBytes:()=>lU});var lz=lv(()=>{lC(),l$(),lj(),ly(lU,"randomBytes"),ly(lF,"createHash"),ly(lB,"createHmac")}),lq=lb(e=>{lC(),e.parse=function(e,t){return new i(e,t).parse()};var t=class e{constructor(e,t){this.source=e,this.transform=t||r,this.position=0,this.entries=[],this.recorded=[],this.dimension=0}isEof(){return this.position>=this.source.length}nextCharacter(){var e=this.source[this.position++];return"\\"===e?{value:this.source[this.position++],escaped:!0}:{value:e,escaped:!1}}record(e){this.recorded.push(e)}newEntry(e){var t;(this.recorded.length>0||e)&&("NULL"!==(t=this.recorded.join(""))||e||(t=null),null!==t&&(t=this.transform(t)),this.entries.push(t),this.recorded=[])}consumeDimensions(){if("["===this.source[0])for(;!this.isEof()&&"="!==this.nextCharacter().value;);}parse(t){var i,r,a;for(this.consumeDimensions();!this.isEof();)if("{"!==(i=this.nextCharacter()).value||a){if("}"!==i.value||a)'"'!==i.value||i.escaped?","!==i.value||a?this.record(i.value):this.newEntry():(a&&this.newEntry(!0),a=!a);else if(this.dimension--,!this.dimension&&(this.newEntry(),t))return this.entries}else this.dimension++,this.dimension>1&&(r=new e(this.source.substr(this.position-1),this.transform),this.entries.push(r.parse(!0)),this.position+=r.position-2);if(0!==this.dimension)throw Error("array dimension not balanced");return this.entries}};ly(t,"ArrayParser");var i=t;function r(e){return e}ly(r,"identity")}),lV=lb((e,t)=>{lC();var i=lq();t.exports={create:ly(function(e,t){return{parse:ly(function(){return i.parse(e,t)},"parse")}},"create")}}),lH=lb((e,t)=>{lC();var i=/(\d{1,})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})(\.\d{1,})?.*?( BC)?$/,r=/^(\d{1,})-(\d{2})-(\d{2})( BC)?$/,a=/([Z+-])(\d{2})?:?(\d{2})?:?(\d{2})?/,o=/^-?infinity$/;function l(e){var t=r.exec(e);if(t){var i=parseInt(t[1],10);t[4]&&(i=p(i));var a=new Date(i,parseInt(t[2],10)-1,t[3]);return c(i)&&a.setFullYear(i),a}}function d(e){if(e.endsWith("+00"))return 0;var t=a.exec(e.split(" ")[1]);if(t){var i=t[1];if("Z"===i)return 0;var r="-"===i?-1:1;return(3600*parseInt(t[2],10)+60*parseInt(t[3]||0,10)+parseInt(t[4]||0,10))*r*1e3}}function p(e){return-(e-1)}function c(e){return e>=0&&e<100}t.exports=ly(function(e){if(o.test(e))return Number(e.replace("i","I"));var t=i.exec(e);if(!t)return l(e)||null;var r=!!t[8],a=parseInt(t[1],10);r&&(a=p(a));var u=parseInt(t[2],10)-1,h=t[3],m=parseInt(t[4],10),g=parseInt(t[5],10),y=parseInt(t[6],10),v=t[7];v=v?1e3*parseFloat(v):0;var b,w=d(e);return null!=w?(b=new Date(Date.UTC(a,u,h,m,g,y,v)),c(a)&&b.setUTCFullYear(a),0!==w&&b.setTime(b.getTime()-w)):(b=new Date(a,u,h,m,g,y,v),c(a)&&b.setFullYear(a)),b},"parseDate"),ly(l,"getDate"),ly(d,"timeZoneOffset"),ly(p,"bcYearToNegativeYear"),ly(c,"is0To99")}),lW=lb((e,t)=>{lC(),t.exports=r;var i=Object.prototype.hasOwnProperty;function r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)i.call(r,a)&&(e[a]=r[a])}return e}ly(r,"extend")}),lG=lb((e,t)=>{lC();var i=lW();function r(e){if(!(this instanceof r))return new r(e);i(this,g(e))}t.exports=r,ly(r,"PostgresInterval");var a=["seconds","minutes","hours","days","months","years"];r.prototype.toPostgres=function(){var e=a.filter(this.hasOwnProperty,this);return this.milliseconds&&0>e.indexOf("seconds")&&e.push("seconds"),0===e.length?"0":e.map(function(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/\.?0+$/,"")),t+" "+e},this).join(" ")};var o={years:"Y",months:"M",days:"D",hours:"H",minutes:"M",seconds:"S"},l=["years","months","days"],d=["hours","minutes","seconds"];r.prototype.toISOString=r.prototype.toISO=function(){return"P"+l.map(e,this).join("")+"T"+d.map(e,this).join("");function e(e){var t=this[e]||0;return"seconds"===e&&this.milliseconds&&(t=(t+this.milliseconds/1e3).toFixed(6).replace(/0+$/,"")),t+o[e]}};var p="([+-]?\\d+)",c=new RegExp([p+"\\s+years?",p+"\\s+mons?",p+"\\s+days?","([+-])?([\\d]*):(\\d\\d):(\\d\\d)\\.?(\\d{1,6})?"].map(function(e){return"("+e+")?"}).join("\\s*")),u={years:2,months:4,days:6,hours:9,minutes:10,seconds:11,milliseconds:12},h=["hours","minutes","seconds","milliseconds"];function m(e){return parseInt(e+"000000".slice(e.length),10)/1e3}function g(e){if(!e)return{};var t=c.exec(e),i="-"===t[8];return Object.keys(u).reduce(function(e,r){var a=t[u[r]];return a&&(a="milliseconds"===r?m(a):parseInt(a,10))&&(i&&~h.indexOf(r)&&(a*=-1),e[r]=a),e},{})}ly(m,"parseMilliseconds"),ly(g,"parse")}),lK=lb((e,t)=>{lC(),t.exports=ly(function(e){if(/^\\x/.test(e))return new lo(e.substr(2),"hex");for(var t="",i=0;i<e.length;)if("\\"!==e[i])t+=e[i],++i;else if(/[0-7]{3}/.test(e.substr(i+1,3)))t+=String.fromCharCode(parseInt(e.substr(i+1,3),8)),i+=4;else{for(var r=1;i+r<e.length&&"\\"===e[i+r];)r++;for(var a=0;a<Math.floor(r/2);++a)t+="\\";i+=2*Math.floor(r/2)}return new lo(t,"binary")},"parseBytea")}),lJ=lb((e,t)=>{lC();var i=lq(),r=lV(),a=lH(),o=lG(),l=lK();function d(e){return ly(function(t){return null===t?t:e(t)},"nullAllowed")}function p(e){return null===e?e:"TRUE"===e||"t"===e||"true"===e||"y"===e||"yes"===e||"on"===e||"1"===e}function c(e){return e?i.parse(e,p):null}function u(e){return parseInt(e,10)}function h(e){return e?i.parse(e,d(u)):null}function m(e){return e?i.parse(e,d(function(e){return S(e).trim()})):null}ly(d,"allowNull"),ly(p,"parseBool"),ly(c,"parseBoolArray"),ly(u,"parseBaseTenInt"),ly(h,"parseIntegerArray"),ly(m,"parseBigIntegerArray");var g=ly(function(e){return e?r.create(e,function(e){return null!==e&&(e=k(e)),e}).parse():null},"parsePointArray"),y=ly(function(e){return e?r.create(e,function(e){return null!==e&&(e=parseFloat(e)),e}).parse():null},"parseFloatArray"),v=ly(function(e){return e?r.create(e).parse():null},"parseStringArray"),b=ly(function(e){return e?r.create(e,function(e){return null!==e&&(e=a(e)),e}).parse():null},"parseDateArray"),w=ly(function(e){return e?r.create(e,function(e){return null!==e&&(e=o(e)),e}).parse():null},"parseIntervalArray"),_=ly(function(e){return e?i.parse(e,d(l)):null},"parseByteAArray"),x=ly(function(e){return parseInt(e,10)},"parseInteger"),S=ly(function(e){var t=String(e);return/^\d+$/.test(t)?t:e},"parseBigInteger"),E=ly(function(e){return e?i.parse(e,d(JSON.parse)):null},"parseJsonArray"),k=ly(function(e){return"("!==e[0]?null:{x:parseFloat((e=e.substring(1,e.length-1).split(","))[0]),y:parseFloat(e[1])}},"parsePoint"),T=ly(function(e){if("<"!==e[0]&&"("!==e[1])return null;for(var t="(",i="",r=!1,a=2;a<e.length-1;a++){if(r||(t+=e[a]),")"===e[a]){r=!0;continue}r&&","!==e[a]&&(i+=e[a])}var o=k(t);return o.radius=parseFloat(i),o},"parseCircle"),C=ly(function(e){e(20,S),e(21,x),e(23,x),e(26,x),e(700,parseFloat),e(701,parseFloat),e(16,p),e(1082,a),e(1114,a),e(1184,a),e(600,k),e(651,v),e(718,T),e(1e3,c),e(1001,_),e(1005,h),e(1007,h),e(1028,h),e(1016,m),e(1017,g),e(1021,y),e(1022,y),e(1231,y),e(1014,v),e(1015,v),e(1008,v),e(1009,v),e(1040,v),e(1041,v),e(1115,b),e(1182,b),e(1185,b),e(1186,o),e(1187,w),e(17,l),e(114,JSON.parse.bind(JSON)),e(3802,JSON.parse.bind(JSON)),e(199,E),e(3807,E),e(3907,v),e(2951,v),e(791,v),e(1183,v),e(1270,v)},"init");t.exports={init:C}}),lQ=lb((e,t)=>{lC();var i=1e6;function r(e){var t=e.readInt32BE(0),r=e.readUInt32BE(4),a="";t<0&&(t=~t+(0===r),r=~r+1>>>0,a="-");var o,l,d,p,c,u,h="";if(o=t%i,t=t/i>>>0,r=(l=4294967296*o+r)/i>>>0,d=""+(l-i*r),0===r&&0===t)return a+d+h;for(p="",c=6-d.length,u=0;u<c;u++)p+="0";if(h=p+d+h,o=t%i,t=t/i>>>0,r=(l=4294967296*o+r)/i>>>0,d=""+(l-i*r),0===r&&0===t)return a+d+h;for(p="",c=6-d.length,u=0;u<c;u++)p+="0";if(h=p+d+h,o=t%i,t=t/i>>>0,r=(l=4294967296*o+r)/i>>>0,d=""+(l-i*r),0===r&&0===t)return a+d+h;for(p="",c=6-d.length,u=0;u<c;u++)p+="0";return h=p+d+h,a+(d=""+(l=4294967296*(o=t%i)+r)%i)+h}ly(r,"readInt8"),t.exports=r}),lY=lb((e,t)=>{lC();var i=lQ(),r=ly(function(e,t,i,r,a){i=i||0,r=r||!1,a=a||function(e,t,i){return e*Math.pow(2,i)+t};var o=i>>3,l=ly(function(e){return r?255&~e:e},"inv"),d=255,p=8-i%8;t<p&&(d=255<<8-t&255,p=t),i&&(d>>=i%8);var c=0;i%8+t>=8&&(c=a(0,l(e[o])&d,p));for(var u=t+i>>3,h=o+1;h<u;h++)c=a(c,l(e[h]),8);var m=(t+i)%8;return m>0&&(c=a(c,l(e[u])>>8-m,m)),c},"parseBits"),a=ly(function(e,t,i){var a=Math.pow(2,i-1)-1,o=r(e,1),l=r(e,i,1);if(0===l)return 0;var d=1,p=r(e,t,i+1,!1,ly(function(e,t,i){0===e&&(e=1);for(var r=1;r<=i;r++)d/=2,(t&1<<i-r)>0&&(e+=d);return e},"parsePrecisionBits"));return l==Math.pow(2,i+1)-1?0===p?0===o?1/0:-1/0:NaN:(0===o?1:-1)*Math.pow(2,l-a)*p},"parseFloatFromBits"),o=ly(function(e){return 1==r(e,1)?-1*(r(e,15,1,!0)+1):r(e,15,1)},"parseInt16"),l=ly(function(e){return 1==r(e,1)?-1*(r(e,31,1,!0)+1):r(e,31,1)},"parseInt32"),d=ly(function(e){return a(e,23,8)},"parseFloat32"),p=ly(function(e){return a(e,52,11)},"parseFloat64"),c=ly(function(e){var t=r(e,16,32);if(49152==t)return NaN;for(var i=Math.pow(1e4,r(e,16,16)),a=0,o=r(e,16),l=0;l<o;l++)a+=r(e,16,64+16*l)*i,i/=1e4;var d=Math.pow(10,r(e,16,48));return(0===t?1:-1)*Math.round(a*d)/d},"parseNumeric"),u=ly(function(e,t){var i=r(t,1),a=r(t,63,1),o=new Date((0===i?1:-1)*a/1e3+9466848e5);return e||o.setTime(o.getTime()+6e4*o.getTimezoneOffset()),o.usec=a%1e3,o.getMicroSeconds=function(){return this.usec},o.setMicroSeconds=function(e){this.usec=e},o.getUTCMicroSeconds=function(){return this.usec},o},"parseDate"),h=ly(function(e){for(var t=r(e,32),i=(r(e,32,32),r(e,32,64)),a=96,o=[],l=0;l<t;l++)o[l]=r(e,32,a),a+=64;var d=ly(function(t){var i,o=r(e,32,a);return(a+=32,4294967295==o)?null:23==t||20==t?(i=r(e,8*o,a),a+=8*o,i):25==t?e.toString(this.encoding,a>>3,(a+=o<<3)>>3):void console.log("ERROR: ElementType not implemented: "+t)},"parseElement"),p=ly(function(e,t){var i,r=[];if(e.length>1){var a=e.shift();for(i=0;i<a;i++)r[i]=p(e,t);e.unshift(a)}else for(i=0;i<e[0];i++)r[i]=d(t);return r},"parse");return p(o,i)},"parseArray"),m=ly(function(e){return e.toString("utf8")},"parseText"),g=ly(function(e){return null===e?null:r(e,8)>0},"parseBool"),y=ly(function(e){e(20,i),e(21,o),e(23,l),e(26,l),e(1700,c),e(700,d),e(701,p),e(16,g),e(1114,u.bind(null,!1)),e(1184,u.bind(null,!0)),e(1e3,h),e(1007,h),e(1016,h),e(1008,h),e(1009,h),e(25,m)},"init");t.exports={init:y}}),lZ=lb((e,t)=>{lC(),t.exports={BOOL:16,BYTEA:17,CHAR:18,INT8:20,INT2:21,INT4:23,REGPROC:24,TEXT:25,OID:26,TID:27,XID:28,CID:29,JSON:114,XML:142,PG_NODE_TREE:194,SMGR:210,PATH:602,POLYGON:604,CIDR:650,FLOAT4:700,FLOAT8:701,ABSTIME:702,RELTIME:703,TINTERVAL:704,CIRCLE:718,MACADDR8:774,MONEY:790,MACADDR:829,INET:869,ACLITEM:1033,BPCHAR:1042,VARCHAR:1043,DATE:1082,TIME:1083,TIMESTAMP:1114,TIMESTAMPTZ:1184,INTERVAL:1186,TIMETZ:1266,BIT:1560,VARBIT:1562,NUMERIC:1700,REFCURSOR:1790,REGPROCEDURE:2202,REGOPER:2203,REGOPERATOR:2204,REGCLASS:2205,REGTYPE:2206,UUID:2950,TXID_SNAPSHOT:2970,PG_LSN:3220,PG_NDISTINCT:3361,PG_DEPENDENCIES:3402,TSVECTOR:3614,TSQUERY:3615,GTSVECTOR:3642,REGCONFIG:3734,REGDICTIONARY:3769,JSONB:3802,REGNAMESPACE:4089,REGROLE:4096}}),lX=lb(e=>{lC();var t=lJ(),i=lY(),r=lV(),a=lZ();e.getTypeParser=d,e.setTypeParser=p,e.arrayParser=r,e.builtins=a;var o={text:{},binary:{}};function l(e){return String(e)}function d(e,t){return o[t=t||"text"]&&o[t][e]||l}function p(e,t,i){"function"==typeof t&&(i=t,t="text"),o[t][e]=i}ly(l,"noParse"),ly(d,"getTypeParser"),ly(p,"setTypeParser"),t.init(function(e,t){o.text[e]=t}),i.init(function(e,t){o.binary[e]=t})}),l1=lb((e,t)=>{lC(),t.exports={host:"localhost",user:"win32"===ll.platform?ll.env.USERNAME:ll.env.USER,database:void 0,password:null,connectionString:void 0,port:5432,rows:0,binary:!1,max:10,idleTimeoutMillis:3e4,client_encoding:"",ssl:!1,application_name:void 0,fallback_application_name:void 0,options:void 0,parseInputDatesAsUTC:!1,statement_timeout:!1,lock_timeout:!1,idle_in_transaction_session_timeout:!1,query_timeout:!1,connect_timeout:0,keepalives:1,keepalives_idle:0};var i=lX(),r=i.getTypeParser(20,"text"),a=i.getTypeParser(1016,"text");t.exports.__defineSetter__("parseInt8",function(e){i.setTypeParser(20,"text",e?i.getTypeParser(23,"text"):r),i.setTypeParser(1016,"text",e?i.getTypeParser(1007,"text"):a)})}),l0=lb((e,t)=>{lC();var i=(lz(),lS(lM)),r=l1();function a(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'}function o(e){for(var t="{",i=0;i<e.length;i++)i>0&&(t+=","),null===e[i]||typeof e[i]>"u"?t+="NULL":Array.isArray(e[i])?t+=o(e[i]):e[i]instanceof lo?t+="\\\\x"+e[i].toString("hex"):t+=a(l(e[i]));return t+"}"}ly(a,"escapeElement"),ly(o,"arrayString");var l=ly(function(e,t){if(null==e)return null;if(e instanceof lo)return e;if(ArrayBuffer.isView(e)){var i=lo.from(e.buffer,e.byteOffset,e.byteLength);return i.length===e.byteLength?i:i.slice(e.byteOffset,e.byteOffset+e.byteLength)}return e instanceof Date?r.parseInputDatesAsUTC?u(e):c(e):Array.isArray(e)?o(e):"object"==typeof e?d(e,t):e.toString()},"prepareValue");function d(e,t){if(e&&"function"==typeof e.toPostgres){if(-1!==(t=t||[]).indexOf(e))throw Error('circular reference detected while preparing "'+e+'" for query');return t.push(e),l(e.toPostgres(l),t)}return JSON.stringify(e)}function p(e,t){for(e=""+e;e.length<t;)e="0"+e;return e}function c(e){var t=-e.getTimezoneOffset(),i=e.getFullYear(),r=i<1;r&&(i=Math.abs(i)+1);var a=p(i,4)+"-"+p(e.getMonth()+1,2)+"-"+p(e.getDate(),2)+"T"+p(e.getHours(),2)+":"+p(e.getMinutes(),2)+":"+p(e.getSeconds(),2)+"."+p(e.getMilliseconds(),3);return t<0?(a+="-",t*=-1):a+="+",a+=p(Math.floor(t/60),2)+":"+p(t%60,2),r&&(a+=" BC"),a}function u(e){var t=e.getUTCFullYear(),i=t<1;i&&(t=Math.abs(t)+1);var r=p(t,4)+"-"+p(e.getUTCMonth()+1,2)+"-"+p(e.getUTCDate(),2)+"T"+p(e.getUTCHours(),2)+":"+p(e.getUTCMinutes(),2)+":"+p(e.getUTCSeconds(),2)+"."+p(e.getUTCMilliseconds(),3);return r+="+00:00",i&&(r+=" BC"),r}function h(e,t,i){return e="string"==typeof e?{text:e}:e,t&&("function"==typeof t?e.callback=t:e.values=t),i&&(e.callback=i),e}ly(d,"prepareObject"),ly(p,"pad"),ly(c,"dateToString"),ly(u,"dateToStringUTC"),ly(h,"normalizeQueryConfig");var m=ly(function(e){return i.createHash("md5").update(e,"utf-8").digest("hex")},"md5"),g=ly(function(e,t,i){var r=m(t+e);return"md5"+m(lo.concat([lo.from(r),i]))},"postgresMd5PasswordHash");t.exports={prepareValue:ly(function(e){return l(e)},"prepareValueWrapper"),normalizeQueryConfig:h,postgresMd5PasswordHash:g,md5:m}}),l2=lb((e,t)=>{lC();var i=(lz(),lS(lM));function r(e){if(-1===e.indexOf("SCRAM-SHA-256"))throw Error("SASL: Only mechanism SCRAM-SHA-256 is currently supported");let t=i.randomBytes(18).toString("base64");return{mechanism:"SCRAM-SHA-256",clientNonce:t,response:"n,,n=*,r="+t,message:"SASLInitialResponse"}}function a(e,t,i){if("SASLInitialResponse"!==e.message)throw Error("SASL: Last message was not SASLInitialResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string");if("string"!=typeof i)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string");let r=c(i);if(r.nonce.startsWith(e.clientNonce)){if(r.nonce.length===e.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");var a=y(t,lo.from(r.salt,"base64"),r.iteration),o=g(a,"Client Key"),l=m(o),d="n=*,r="+e.clientNonce,p="r="+r.nonce+",s="+r.salt+",i="+r.iteration,u="c=biws,r="+r.nonce,v=d+","+p+","+u,b=h(o,g(l,v)).toString("base64"),w=g(a,"Server Key"),_=g(w,v);e.message="SASLResponse",e.serverSignature=_.toString("base64"),e.response=u+",p="+b}function o(e,t){if("SASLResponse"!==e.message)throw Error("SASL: Last message was not SASLResponse");if("string"!=typeof t)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string");let{serverSignature:i}=u(t);if(i!==e.serverSignature)throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match")}function l(e){if("string"!=typeof e)throw TypeError("SASL: text must be a string");return e.split("").map((t,i)=>e.charCodeAt(i)).every(e=>e>=33&&e<=43||e>=45&&e<=126)}function d(e){return/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(e)}function p(e){if("string"!=typeof e)throw TypeError("SASL: attribute pairs text must be a string");return new Map(e.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]}))}function c(e){let t=p(e),i=t.get("r");if(i){if(!l(i))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing");let r=t.get("s");if(r){if(!d(r))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing");let a=t.get("i");if(a){if(!/^[1-9][0-9]*$/.test(a))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count")}else throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing");return{nonce:i,salt:r,iteration:parseInt(a,10)}}function u(e){let t=p(e).get("v");if(t){if(!d(t))throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64")}else throw Error("SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing");return{serverSignature:t}}function h(e,t){if(!lo.isBuffer(e))throw TypeError("first argument must be a Buffer");if(!lo.isBuffer(t))throw TypeError("second argument must be a Buffer");if(e.length!==t.length)throw Error("Buffer lengths must match");if(0===e.length)throw Error("Buffers cannot be empty");return lo.from(e.map((i,r)=>e[r]^t[r]))}function m(e){return i.createHash("sha256").update(e).digest()}function g(e,t){return i.createHmac("sha256",e).update(t).digest()}function y(e,t,i){for(var r=g(e,lo.concat([t,lo.from([0,0,0,1])])),a=r,o=0;o<i-1;o++)a=h(a,r=g(e,r));return a}ly(r,"startSession"),ly(a,"continueSession"),ly(o,"finalizeSession"),ly(l,"isPrintableChars"),ly(d,"isBase64"),ly(p,"parseAttributePairs"),ly(c,"parseServerFirstMessage"),ly(u,"parseServerFinalMessage"),ly(h,"xorBuffers"),ly(m,"sha256"),ly(g,"hmacSha256"),ly(y,"Hi"),t.exports={startSession:r,continueSession:a,finalizeSession:o}}),l6={};function l4(...e){return e.join("/")}lw(l6,{join:()=>l4});var l3=lv(()=>{lC(),ly(l4,"join")}),l5={};function l8(e,t){t(Error("No filesystem"))}lw(l5,{stat:()=>l8});var l9=lv(()=>{lC(),ly(l8,"stat")}),l7={};lw(l7,{default:()=>de});var de,dt=lv(()=>{lC(),de={}}),di={};lw(di,{StringDecoder:()=>da});var dr,da,dn=lv(()=>{lC(),ly(dr=class{constructor(e){lE(this,"td"),this.td=new TextDecoder(e)}write(e){return this.td.decode(e,{stream:!0})}end(e){return this.td.decode(e)}},"StringDecoder"),da=dr}),ds=lb((e,t)=>{lC();var{Transform:i}=(dt(),lS(l7)),{StringDecoder:r}=(dn(),lS(di)),a=Symbol("last"),o=Symbol("decoder");function l(e,t,i){let r;if(this.overflow){if(1===(r=this[o].write(e).split(this.matcher)).length)return i();r.shift(),this.overflow=!1}else this[a]+=this[o].write(e),r=this[a].split(this.matcher);this[a]=r.pop();for(let e=0;e<r.length;e++)try{p(this,this.mapper(r[e]))}catch(e){return i(e)}if(this.overflow=this[a].length>this.maxLength,this.overflow&&!this.skipOverflow){i(Error("maximum buffer reached"));return}i()}function d(e){if(this[a]+=this[o].end(),this[a])try{p(this,this.mapper(this[a]))}catch(t){return e(t)}e()}function p(e,t){void 0!==t&&e.push(t)}function c(e){return e}function u(e,t,p){switch(e=e||/\r?\n/,t=t||c,p=p||{},arguments.length){case 1:"function"==typeof e?(t=e,e=/\r?\n/):"object"!=typeof e||e instanceof RegExp||e[Symbol.split]||(p=e,e=/\r?\n/);break;case 2:"function"==typeof e?(p=t,t=e,e=/\r?\n/):"object"==typeof t&&(p=t,t=c)}(p=Object.assign({},p)).autoDestroy=!0,p.transform=l,p.flush=d,p.readableObjectMode=!0;let u=new i(p);return u[a]="",u[o]=new r("utf8"),u.matcher=e,u.mapper=t,u.maxLength=p.maxLength,u.skipOverflow=p.skipOverflow||!1,u.overflow=!1,u._destroy=function(e,t){this._writableState.errorEmitted=!1,t(e)},u}ly(l,"transform"),ly(d,"flush"),ly(p,"push"),ly(c,"noop"),ly(u,"split"),t.exports=u}),dl=lb((e,t)=>{lC();var i=(l3(),lS(l6)),r=(dt(),lS(l7)).Stream,a=ds(),o=(lI(),lS(lO)),l=5432,d="win32"===ll.platform,p=ll.stderr,c=56,u=7,h=61440,m=32768;function g(e){return(e&h)==m}ly(g,"isRegFile");var y=["host","port","database","user","password"],v=y.length,b=y[v-1];function w(){if(p instanceof r&&!0===p.writable){var e=Array.prototype.slice.call(arguments).concat(`
`);p.write(o.format.apply(o,e))}}ly(w,"warn"),Object.defineProperty(t.exports,"isWin",{get:ly(function(){return d},"get"),set:ly(function(e){d=e},"set")}),t.exports.warnTo=function(e){var t=p;return p=e,t},t.exports.getFileName=function(e){var t=e||ll.env;return t.PGPASSFILE||(d?i.join(t.APPDATA||"./","postgresql","pgpass.conf"):i.join(t.HOME||"./",".pgpass"))},t.exports.usePgPass=function(e,t){return!Object.prototype.hasOwnProperty.call(ll.env,"PGPASSWORD")&&(!!d||(t=t||"<unkn>",g(e.mode)?!(e.mode&(c|u))||(w('WARNING: password file "%s" has group or world access; permissions should be u=rw (0600) or less',t),!1):(w('WARNING: password file "%s" is not a plain file',t),!1)))};var _=t.exports.match=function(e,t){return y.slice(0,-1).reduce(function(i,r,a){return 1==a&&Number(e[r]||l)===Number(t[r])?i&&!0:i&&("*"===t[r]||t[r]===e[r])},!0)};t.exports.getPassword=function(e,t,i){var r,o=t.pipe(a());function l(t){var i=x(t);i&&S(i)&&_(e,i)&&(r=i[b],o.end())}ly(l,"onLine");var d=ly(function(){t.destroy(),i(r)},"onEnd"),p=ly(function(e){t.destroy(),w("WARNING: error on reading file: %s",e),i(void 0)},"onErr");t.on("error",p),o.on("data",l).on("end",d).on("error",p)};var x=t.exports.parseLine=function(e){if(e.length<11||e.match(/^\s+#/))return null;for(var t="",i="",r=0,a=0,o={},l=!1,d=ly(function(t,i,r){var a=e.substring(i,r);Object.hasOwnProperty.call(ll.env,"PGPASS_NO_DEESCAPE")||(a=a.replace(/\\([:\\])/g,"$1")),o[y[t]]=a},"addToObj"),p=0;p<e.length-1;p+=1){if(t=e.charAt(p+1),i=e.charAt(p),l=r==v-1){d(r,a);break}p>=0&&":"==t&&"\\"!==i&&(d(r,a,p+1),a=p+2,r+=1)}return o=Object.keys(o).length===v?o:null},S=t.exports.isValidEntry=function(e){for(var t={0:function(e){return e.length>0},1:function(e){return"*"===e||isFinite(e=Number(e))&&e>0&&e<9007199254740992&&Math.floor(e)===e},2:function(e){return e.length>0},3:function(e){return e.length>0},4:function(e){return e.length>0}},i=0;i<y.length;i+=1)if(!(0,t[i])(e[y[i]]||""))return!1;return!0}}),dd=lb((e,t)=>{lC(),l3(),lS(l6);var i=(l9(),lS(l5)),r=dl();t.exports=function(e,t){var a=r.getFileName();i.stat(a,function(o,l){if(o||!r.usePgPass(l,a))return t(void 0);var d=i.createReadStream(a);r.getPassword(e,d,t)})},t.exports.warnTo=r.warnTo}),dp=lb((e,t)=>{lC();var i=lX();function r(e){this._types=e||i,this.text={},this.binary={}}ly(r,"TypeOverrides"),r.prototype.getOverrides=function(e){switch(e){case"text":return this.text;case"binary":return this.binary;default:return{}}},r.prototype.setTypeParser=function(e,t,i){"function"==typeof t&&(i=t,t="text"),this.getOverrides(t)[e]=i},r.prototype.getTypeParser=function(e,t){return t=t||"text",this.getOverrides(t)[e]||this._types.getTypeParser(e,t)},t.exports=r}),dc={};lw(dc,{default:()=>du});var du,dh=lv(()=>{lC(),du={}}),df={};function dm(e,t=!1){let{protocol:i}=new URL(e),{username:r,password:a,host:o,hostname:l,port:d,pathname:p,search:c,searchParams:u,hash:h}=new URL("http:"+e.substring(i.length));a=decodeURIComponent(a),r=decodeURIComponent(r),p=decodeURIComponent(p);let m=r+":"+a,g=t?Object.fromEntries(u.entries()):c;return{href:e,protocol:i,auth:m,username:r,password:a,host:o,hostname:l,port:d,pathname:p,search:c,query:g,hash:h}}lw(df,{parse:()=>dm});var dg=lv(()=>{lC(),ly(dm,"parse")}),dy=lb((e,t)=>{lC();var i=(dg(),lS(df)),r=(l9(),lS(l5));function a(e){if("/"===e.charAt(0)){var t=e.split(" ");return{host:t[0],database:t[1]}}var a=i.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(e)?encodeURI(e).replace(/\%25(\d\d)/g,"%$1"):e,!0),t=a.query;for(var o in t)Array.isArray(t[o])&&(t[o]=t[o][t[o].length-1]);var l=(a.auth||":").split(":");if(t.user=l[0],t.password=l.splice(1).join(":"),t.port=a.port,"socket:"==a.protocol)return t.host=decodeURI(a.pathname),t.database=a.query.db,t.client_encoding=a.query.encoding,t;t.host||(t.host=a.hostname);var d=a.pathname;if(!t.host&&d&&/^%2f/i.test(d)){var p=d.split("/");t.host=decodeURIComponent(p[0]),d=p.splice(1).join("/")}switch(d&&"/"===d.charAt(0)&&(d=d.slice(1)||null),t.database=d&&decodeURI(d),("true"===t.ssl||"1"===t.ssl)&&(t.ssl=!0),"0"===t.ssl&&(t.ssl=!1),(t.sslcert||t.sslkey||t.sslrootcert||t.sslmode)&&(t.ssl={}),t.sslcert&&(t.ssl.cert=r.readFileSync(t.sslcert).toString()),t.sslkey&&(t.ssl.key=r.readFileSync(t.sslkey).toString()),t.sslrootcert&&(t.ssl.ca=r.readFileSync(t.sslrootcert).toString()),t.sslmode){case"disable":t.ssl=!1;break;case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":t.ssl.rejectUnauthorized=!1}return t}ly(a,"parse"),t.exports=a,a.parse=a}),dv=lb((e,t)=>{lC();var i=(dh(),lS(dc)),r=l1(),a=dy().parse,o=ly(function(e,t,i){return void 0===i?i=ll.env["PG"+e.toUpperCase()]:!1===i||(i=ll.env[i]),t[e]||i||r[e]},"val"),l=ly(function(){switch(ll.env.PGSSLMODE){case"disable":return!1;case"prefer":case"require":case"verify-ca":case"verify-full":return!0;case"no-verify":return{rejectUnauthorized:!1}}return r.ssl},"readSSLConfigFromEnvironment"),d=ly(function(e){return"'"+(""+e).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"},"quoteParamValue"),p=ly(function(e,t,i){var r=t[i];null!=r&&e.push(i+"="+d(r))},"add"),c=class{constructor(e){(e="string"==typeof e?a(e):e||{}).connectionString&&(e=Object.assign({},e,a(e.connectionString))),this.user=o("user",e),this.database=o("database",e),void 0===this.database&&(this.database=this.user),this.port=parseInt(o("port",e),10),this.host=o("host",e),Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:o("password",e)}),this.binary=o("binary",e),this.options=o("options",e),this.ssl=typeof e.ssl>"u"?l():e.ssl,"string"==typeof this.ssl&&"true"===this.ssl&&(this.ssl=!0),"no-verify"===this.ssl&&(this.ssl={rejectUnauthorized:!1}),this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this.client_encoding=o("client_encoding",e),this.replication=o("replication",e),this.isDomainSocket=!(this.host||"").indexOf("/"),this.application_name=o("application_name",e,"PGAPPNAME"),this.fallback_application_name=o("fallback_application_name",e,!1),this.statement_timeout=o("statement_timeout",e,!1),this.lock_timeout=o("lock_timeout",e,!1),this.idle_in_transaction_session_timeout=o("idle_in_transaction_session_timeout",e,!1),this.query_timeout=o("query_timeout",e,!1),void 0===e.connectionTimeoutMillis?this.connect_timeout=ll.env.PGCONNECT_TIMEOUT||0:this.connect_timeout=Math.floor(e.connectionTimeoutMillis/1e3),!1===e.keepAlive?this.keepalives=0:!0===e.keepAlive&&(this.keepalives=1),"number"==typeof e.keepAliveInitialDelayMillis&&(this.keepalives_idle=Math.floor(e.keepAliveInitialDelayMillis/1e3))}getLibpqConnectionString(e){var t=[];p(t,this,"user"),p(t,this,"password"),p(t,this,"port"),p(t,this,"application_name"),p(t,this,"fallback_application_name"),p(t,this,"connect_timeout"),p(t,this,"options");var r="object"==typeof this.ssl?this.ssl:this.ssl?{sslmode:this.ssl}:{};if(p(t,r,"sslmode"),p(t,r,"sslca"),p(t,r,"sslkey"),p(t,r,"sslcert"),p(t,r,"sslrootcert"),this.database&&t.push("dbname="+d(this.database)),this.replication&&t.push("replication="+d(this.replication)),this.host&&t.push("host="+d(this.host)),this.isDomainSocket)return e(null,t.join(" "));this.client_encoding&&t.push("client_encoding="+d(this.client_encoding)),i.lookup(this.host,function(i,r){return i?e(i,null):(t.push("hostaddr="+d(r)),e(null,t.join(" ")))})}};ly(c,"ConnectionParameters");var u=c;t.exports=u}),db=lb((e,t)=>{lC();var i=lX(),r=/^([A-Za-z]+)(?: (\d+))?(?: (\d+))?/,a=class{constructor(e,t){this.command=null,this.rowCount=null,this.oid=null,this.rows=[],this.fields=[],this._parsers=void 0,this._types=t,this.RowCtor=null,this.rowAsArray="array"===e,this.rowAsArray&&(this.parseRow=this._parseRowAsArray)}addCommandComplete(e){var t;(t=e.text?r.exec(e.text):r.exec(e.command))&&(this.command=t[1],t[3]?(this.oid=parseInt(t[2],10),this.rowCount=parseInt(t[3],10)):t[2]&&(this.rowCount=parseInt(t[2],10)))}_parseRowAsArray(e){for(var t=Array(e.length),i=0,r=e.length;i<r;i++){var a=e[i];null!==a?t[i]=this._parsers[i](a):t[i]=null}return t}parseRow(e){for(var t={},i=0,r=e.length;i<r;i++){var a=e[i],o=this.fields[i].name;null!==a?t[o]=this._parsers[i](a):t[o]=null}return t}addRow(e){this.rows.push(e)}addFields(e){this.fields=e,this.fields.length&&(this._parsers=Array(e.length));for(var t=0;t<e.length;t++){var r=e[t];this._types?this._parsers[t]=this._types.getTypeParser(r.dataTypeID,r.format||"text"):this._parsers[t]=i.getTypeParser(r.dataTypeID,r.format||"text")}}};ly(a,"Result");var o=a;t.exports=o}),dw=lb((e,t)=>{lC();var{EventEmitter:i}=lN(),r=db(),a=l0(),o=class extends i{constructor(e,t,i){super(),e=a.normalizeQueryConfig(e,t,i),this.text=e.text,this.values=e.values,this.rows=e.rows,this.types=e.types,this.name=e.name,this.binary=e.binary,this.portal=e.portal||"",this.callback=e.callback,this._rowMode=e.rowMode,ll.domain&&e.callback&&(this.callback=ll.domain.bind(e.callback)),this._result=new r(this._rowMode,this.types),this._results=this._result,this.isPreparedStatement=!1,this._canceledDueToError=!1,this._promise=null}requiresPreparation(){return!!this.name||!!this.rows||!!this.text&&!!this.values&&this.values.length>0}_checkForMultirow(){this._result.command&&(Array.isArray(this._results)||(this._results=[this._result]),this._result=new r(this._rowMode,this.types),this._results.push(this._result))}handleRowDescription(e){this._checkForMultirow(),this._result.addFields(e.fields),this._accumulateRows=this.callback||!this.listeners("row").length}handleDataRow(e){let t;if(!this._canceledDueToError){try{t=this._result.parseRow(e.fields)}catch(e){this._canceledDueToError=e;return}this.emit("row",t,this._result),this._accumulateRows&&this._result.addRow(t)}}handleCommandComplete(e,t){this._checkForMultirow(),this._result.addCommandComplete(e),this.rows&&t.sync()}handleEmptyQuery(e){this.rows&&e.sync()}handleError(e,t){if(this._canceledDueToError&&(e=this._canceledDueToError,this._canceledDueToError=!1),this.callback)return this.callback(e);this.emit("error",e)}handleReadyForQuery(e){if(this._canceledDueToError)return this.handleError(this._canceledDueToError,e);if(this.callback)try{this.callback(null,this._results)}catch(e){ll.nextTick(()=>{throw e})}this.emit("end",this._results)}submit(e){if("string"!=typeof this.text&&"string"!=typeof this.name)return Error("A query must have either text or a name. Supplying neither is unsupported.");let t=e.parsedStatements[this.name];return this.text&&t&&this.text!==t?Error(`Prepared statements must be \
unique - '${this.name}' was used for a different statement`):this.values&&!Array.isArray(this.values)?Error("Query values must be an array"):(this.requiresPreparation()?this.prepare(e):e.query(this.text),null)}hasBeenParsed(e){return this.name&&e.parsedStatements[this.name]}handlePortalSuspended(e){this._getRows(e,this.rows)}_getRows(e,t){e.execute({portal:this.portal,rows:t}),t?e.flush():e.sync()}prepare(e){this.isPreparedStatement=!0,this.hasBeenParsed(e)||e.parse({text:this.text,name:this.name,types:this.types});try{e.bind({portal:this.portal,statement:this.name,values:this.values,binary:this.binary,valueMapper:a.prepareValue})}catch(t){this.handleError(t,e);return}e.describe({type:"P",name:this.portal||""}),this._getRows(e,this.rows)}handleCopyInResponse(e){e.sendCopyFail("No source stream defined")}handleCopyData(e,t){}};ly(o,"Query");var l=o;t.exports=l}),d_={};function dx(e){return 0}lw(d_,{Socket:()=>dT,isIP:()=>dx});var dS,dE,dk,dT,dA=lv(()=>{lC(),dS=lx(lN(),1),ly(dx,"isIP"),dE=ly(e=>e.replace(/^[^.]+\./,"api."),"transformHost"),dk=class e extends dS.EventEmitter{constructor(){super(...arguments),lE(this,"opts",{}),lE(this,"connecting",!1),lE(this,"pending",!0),lE(this,"writable",!0),lE(this,"encrypted",!1),lE(this,"authorized",!1),lE(this,"destroyed",!1),lE(this,"ws",null),lE(this,"writeBuffer"),lE(this,"tlsState",0),lE(this,"tlsRead"),lE(this,"tlsWrite")}static get poolQueryViaFetch(){return e.opts.poolQueryViaFetch??e.defaults.poolQueryViaFetch}static set poolQueryViaFetch(t){e.opts.poolQueryViaFetch=t}static get fetchEndpoint(){return e.opts.fetchEndpoint??e.defaults.fetchEndpoint}static set fetchEndpoint(t){e.opts.fetchEndpoint=t}static get fetchConnectionCache(){return!0}static set fetchConnectionCache(e){console.warn("The `fetchConnectionCache` option is deprecated (now always `true`)")}static get fetchFunction(){return e.opts.fetchFunction??e.defaults.fetchFunction}static set fetchFunction(t){e.opts.fetchFunction=t}static get webSocketConstructor(){return e.opts.webSocketConstructor??e.defaults.webSocketConstructor}static set webSocketConstructor(t){e.opts.webSocketConstructor=t}get webSocketConstructor(){return this.opts.webSocketConstructor??e.webSocketConstructor}set webSocketConstructor(e){this.opts.webSocketConstructor=e}static get wsProxy(){return e.opts.wsProxy??e.defaults.wsProxy}static set wsProxy(t){e.opts.wsProxy=t}get wsProxy(){return this.opts.wsProxy??e.wsProxy}set wsProxy(e){this.opts.wsProxy=e}static get coalesceWrites(){return e.opts.coalesceWrites??e.defaults.coalesceWrites}static set coalesceWrites(t){e.opts.coalesceWrites=t}get coalesceWrites(){return this.opts.coalesceWrites??e.coalesceWrites}set coalesceWrites(e){this.opts.coalesceWrites=e}static get useSecureWebSocket(){return e.opts.useSecureWebSocket??e.defaults.useSecureWebSocket}static set useSecureWebSocket(t){e.opts.useSecureWebSocket=t}get useSecureWebSocket(){return this.opts.useSecureWebSocket??e.useSecureWebSocket}set useSecureWebSocket(e){this.opts.useSecureWebSocket=e}static get forceDisablePgSSL(){return e.opts.forceDisablePgSSL??e.defaults.forceDisablePgSSL}static set forceDisablePgSSL(t){e.opts.forceDisablePgSSL=t}get forceDisablePgSSL(){return this.opts.forceDisablePgSSL??e.forceDisablePgSSL}set forceDisablePgSSL(e){this.opts.forceDisablePgSSL=e}static get disableSNI(){return e.opts.disableSNI??e.defaults.disableSNI}static set disableSNI(t){e.opts.disableSNI=t}get disableSNI(){return this.opts.disableSNI??e.disableSNI}set disableSNI(e){this.opts.disableSNI=e}static get pipelineConnect(){return e.opts.pipelineConnect??e.defaults.pipelineConnect}static set pipelineConnect(t){e.opts.pipelineConnect=t}get pipelineConnect(){return this.opts.pipelineConnect??e.pipelineConnect}set pipelineConnect(e){this.opts.pipelineConnect=e}static get subtls(){return e.opts.subtls??e.defaults.subtls}static set subtls(t){e.opts.subtls=t}get subtls(){return this.opts.subtls??e.subtls}set subtls(e){this.opts.subtls=e}static get pipelineTLS(){return e.opts.pipelineTLS??e.defaults.pipelineTLS}static set pipelineTLS(t){e.opts.pipelineTLS=t}get pipelineTLS(){return this.opts.pipelineTLS??e.pipelineTLS}set pipelineTLS(e){this.opts.pipelineTLS=e}static get rootCerts(){return e.opts.rootCerts??e.defaults.rootCerts}static set rootCerts(t){e.opts.rootCerts=t}get rootCerts(){return this.opts.rootCerts??e.rootCerts}set rootCerts(e){this.opts.rootCerts=e}wsProxyAddrForHost(e,t){let i=this.wsProxy;if(void 0===i)throw Error("No WebSocket proxy is configured. Please see https://github.com/neondatabase/serverless/blob/main/CONFIG.md#wsproxy-string--host-string-port-number--string--string");return"function"==typeof i?i(e,t):`${i}?address=${e}:${t}`}setNoDelay(){return this}setKeepAlive(){return this}ref(){return this}unref(){return this}connect(e,t,i){this.connecting=!0,i&&this.once("connect",i);let r=ly(()=>{this.connecting=!1,this.pending=!1,this.emit("connect"),this.emit("ready")},"handleWebSocketOpen"),a=ly((e,t=!1)=>{e.binaryType="arraybuffer",e.addEventListener("error",e=>{this.emit("error",e),this.emit("close")}),e.addEventListener("message",e=>{if(0===this.tlsState){let t=lo.from(e.data);this.emit("data",t)}}),e.addEventListener("close",()=>{this.emit("close")}),t?r():e.addEventListener("open",r)},"configureWebSocket"),o;try{o=this.wsProxyAddrForHost(t,"string"==typeof e?parseInt(e,10):e)}catch(e){this.emit("error",e),this.emit("close");return}try{let e=(this.useSecureWebSocket?"wss:":"ws:")+"//"+o;if(void 0!==this.webSocketConstructor)this.ws=new this.webSocketConstructor(e),a(this.ws);else try{this.ws=new WebSocket(e),a(this.ws)}catch{this.ws=new __unstable_WebSocket(e),a(this.ws)}}catch(e){fetch((this.useSecureWebSocket?"https:":"http:")+"//"+o,{headers:{Upgrade:"websocket"}}).then(t=>{if(this.ws=t.webSocket,null==this.ws)throw e;this.ws.accept(),a(this.ws,!0)}).catch(e=>{this.emit("error",Error(`All attempts to open a WebSocket to\
 connect to the database failed. Please refer to https://github.com/neondatabase\
/serverless/blob/main/CONFIG.md#websocketconstructor-typeof-websocket--undefined\
. Details: ${e.message}`)),this.emit("close")})}}async startTls(e){if(void 0===this.subtls)throw Error("For Postgres SSL connections, you must set `neonConfig.subtls` to the subtls library. See https://github.com/neondatabase/serverless/blob/main/CONFIG.md for more information.");this.tlsState=1;let t=this.subtls.TrustedCert.fromPEM(this.rootCerts),i=new this.subtls.WebSocketReadQueue(this.ws),r=i.read.bind(i),a=this.rawWrite.bind(this),[o,l]=await this.subtls.startTls(e,t,r,a,{useSNI:!this.disableSNI,expectPreData:this.pipelineTLS?new Uint8Array([83]):void 0});this.tlsRead=o,this.tlsWrite=l,this.tlsState=2,this.encrypted=!0,this.authorized=!0,this.emit("secureConnection",this),this.tlsReadLoop()}async tlsReadLoop(){for(;;){let e=await this.tlsRead();if(void 0===e)break;{let t=lo.from(e);this.emit("data",t)}}}rawWrite(e){if(!this.coalesceWrites){this.ws.send(e);return}if(void 0===this.writeBuffer)this.writeBuffer=e,setTimeout(()=>{this.ws.send(this.writeBuffer),this.writeBuffer=void 0},0);else{let t=new Uint8Array(this.writeBuffer.length+e.length);t.set(this.writeBuffer),t.set(e,this.writeBuffer.length),this.writeBuffer=t}}write(e,t="utf8",i=e=>{}){return 0===e.length?i():("string"==typeof e&&(e=lo.from(e,t)),0===this.tlsState?(this.rawWrite(e),i()):1===this.tlsState?this.once("secureConnection",()=>{this.write(e,t,i)}):(this.tlsWrite(e),i())),!0}end(e=lo.alloc(0),t="utf8",i=()=>{}){return this.write(e,t,()=>{this.ws.close(),i()}),this}destroy(){return this.destroyed=!0,this.end()}},ly(dk,"Socket"),lE(dk,"defaults",{poolQueryViaFetch:!1,fetchEndpoint:ly(e=>"https://"+dE(e)+"/sql","fetchEndpoint"),fetchConnectionCache:!0,fetchFunction:void 0,webSocketConstructor:void 0,wsProxy:ly(e=>e+"/v2","wsProxy"),useSecureWebSocket:!0,forceDisablePgSSL:!0,coalesceWrites:!0,pipelineConnect:"password",subtls:void 0,rootCerts:"",pipelineTLS:!1,disableSNI:!1}),lE(dk,"opts",{}),dT=dk}),dC=lb(e=>{lC(),Object.defineProperty(e,"__esModule",{value:!0}),e.NoticeMessage=e.DataRowMessage=e.CommandCompleteMessage=e.ReadyForQueryMessage=e.NotificationResponseMessage=e.BackendKeyDataMessage=e.AuthenticationMD5Password=e.ParameterStatusMessage=e.ParameterDescriptionMessage=e.RowDescriptionMessage=e.Field=e.CopyResponse=e.CopyDataMessage=e.DatabaseError=e.copyDone=e.emptyQuery=e.replicationStart=e.portalSuspended=e.noData=e.closeComplete=e.bindComplete=e.parseComplete=void 0,e.parseComplete={name:"parseComplete",length:5},e.bindComplete={name:"bindComplete",length:5},e.closeComplete={name:"closeComplete",length:5},e.noData={name:"noData",length:5},e.portalSuspended={name:"portalSuspended",length:5},e.replicationStart={name:"replicationStart",length:4},e.emptyQuery={name:"emptyQuery",length:4},e.copyDone={name:"copyDone",length:4};var t=class extends Error{constructor(e,t,i){super(e),this.length=t,this.name=i}};ly(t,"DatabaseError");var i=t;e.DatabaseError=i;var r=class{constructor(e,t){this.length=e,this.chunk=t,this.name="copyData"}};ly(r,"CopyDataMessage");var a=r;e.CopyDataMessage=a;var o=class{constructor(e,t,i,r){this.length=e,this.name=t,this.binary=i,this.columnTypes=Array(r)}};ly(o,"CopyResponse");var l=o;e.CopyResponse=l;var d=class{constructor(e,t,i,r,a,o,l){this.name=e,this.tableID=t,this.columnID=i,this.dataTypeID=r,this.dataTypeSize=a,this.dataTypeModifier=o,this.format=l}};ly(d,"Field");var p=d;e.Field=p;var c=class{constructor(e,t){this.length=e,this.fieldCount=t,this.name="rowDescription",this.fields=Array(this.fieldCount)}};ly(c,"RowDescriptionMessage");var u=c;e.RowDescriptionMessage=u;var h=class{constructor(e,t){this.length=e,this.parameterCount=t,this.name="parameterDescription",this.dataTypeIDs=Array(this.parameterCount)}};ly(h,"ParameterDescriptionMessage");var m=h;e.ParameterDescriptionMessage=m;var g=class{constructor(e,t,i){this.length=e,this.parameterName=t,this.parameterValue=i,this.name="parameterStatus"}};ly(g,"ParameterStatusMessage");var y=g;e.ParameterStatusMessage=y;var v=class{constructor(e,t){this.length=e,this.salt=t,this.name="authenticationMD5Password"}};ly(v,"AuthenticationMD5Password");var b=v;e.AuthenticationMD5Password=b;var w=class{constructor(e,t,i){this.length=e,this.processID=t,this.secretKey=i,this.name="backendKeyData"}};ly(w,"BackendKeyDataMessage");var _=w;e.BackendKeyDataMessage=_;var x=class{constructor(e,t,i,r){this.length=e,this.processId=t,this.channel=i,this.payload=r,this.name="notification"}};ly(x,"NotificationResponseMessage");var S=x;e.NotificationResponseMessage=S;var E=class{constructor(e,t){this.length=e,this.status=t,this.name="readyForQuery"}};ly(E,"ReadyForQueryMessage");var k=E;e.ReadyForQueryMessage=k;var T=class{constructor(e,t){this.length=e,this.text=t,this.name="commandComplete"}};ly(T,"CommandCompleteMessage");var C=T;e.CommandCompleteMessage=C;var N=class{constructor(e,t){this.length=e,this.fields=t,this.name="dataRow",this.fieldCount=t.length}};ly(N,"DataRowMessage");var O=N;e.DataRowMessage=O;var P=class{constructor(e,t){this.length=e,this.message=t,this.name="notice"}};ly(P,"NoticeMessage");var I=P;e.NoticeMessage=I}),dN=lb(e=>{lC(),Object.defineProperty(e,"__esModule",{value:!0}),e.Writer=void 0;var t=class{constructor(e=256){this.size=e,this.offset=5,this.headerPosition=0,this.buffer=lo.allocUnsafe(e)}ensure(e){if(this.buffer.length-this.offset<e){var t=this.buffer,i=t.length+(t.length>>1)+e;this.buffer=lo.allocUnsafe(i),t.copy(this.buffer)}}addInt32(e){return this.ensure(4),this.buffer[this.offset++]=e>>>24&255,this.buffer[this.offset++]=e>>>16&255,this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addInt16(e){return this.ensure(2),this.buffer[this.offset++]=e>>>8&255,this.buffer[this.offset++]=e>>>0&255,this}addCString(e){if(e){var t=lo.byteLength(e);this.ensure(t+1),this.buffer.write(e,this.offset,"utf-8"),this.offset+=t}else this.ensure(1);return this.buffer[this.offset++]=0,this}addString(e=""){var t=lo.byteLength(e);return this.ensure(t),this.buffer.write(e,this.offset),this.offset+=t,this}add(e){return this.ensure(e.length),e.copy(this.buffer,this.offset),this.offset+=e.length,this}join(e){if(e){this.buffer[this.headerPosition]=e;let t=this.offset-(this.headerPosition+1);this.buffer.writeInt32BE(t,this.headerPosition+1)}return this.buffer.slice(e?0:5,this.offset)}flush(e){var t=this.join(e);return this.offset=5,this.headerPosition=0,this.buffer=lo.allocUnsafe(this.size),t}};ly(t,"Writer");var i=t;e.Writer=i}),dO=lb(e=>{lC(),Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=void 0;var t=dN(),i=new t.Writer,r=ly(e=>{for(let t of(i.addInt16(3).addInt16(0),Object.keys(e)))i.addCString(t).addCString(e[t]);i.addCString("client_encoding").addCString("UTF8");var r=i.addCString("").flush(),a=r.length+4;return new t.Writer().addInt32(a).add(r).flush()},"startup"),a=ly(()=>{let e=lo.allocUnsafe(8);return e.writeInt32BE(8,0),e.writeInt32BE(80877103,4),e},"requestSsl"),o=ly(e=>i.addCString(e).flush(112),"password"),l=ly(function(e,t){return i.addCString(e).addInt32(lo.byteLength(t)).addString(t),i.flush(112)},"sendSASLInitialResponseMessage"),d=ly(function(e){return i.addString(e).flush(112)},"sendSCRAMClientFinalMessage"),p=ly(e=>i.addCString(e).flush(81),"query"),c=[],u=ly(e=>{let t=e.name||"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let r=e.types||c;for(var a=r.length,o=i.addCString(t).addCString(e.text).addInt16(a),l=0;l<a;l++)o.addInt32(r[l]);return i.flush(80)},"parse"),h=new t.Writer,m=ly(function(e,t){for(let r=0;r<e.length;r++){let a=t?t(e[r],r):e[r];null==a?(i.addInt16(0),h.addInt32(-1)):a instanceof lo?(i.addInt16(1),h.addInt32(a.length),h.add(a)):(i.addInt16(0),h.addInt32(lo.byteLength(a)),h.addString(a))}},"writeValues"),g=ly((e={})=>{let t=e.portal||"",r=e.statement||"",a=e.binary||!1,o=e.values||c,l=o.length;return i.addCString(t).addCString(r),i.addInt16(l),m(o,e.valueMapper),i.addInt16(l),i.add(h.flush()),i.addInt16(a?1:0),i.flush(66)},"bind"),y=lo.from([69,0,0,0,9,0,0,0,0,0]),v=ly(e=>{if(!e||!e.portal&&!e.rows)return y;let t=e.portal||"",i=e.rows||0,r=lo.byteLength(t),a=4+r+1+4,o=lo.allocUnsafe(1+a);return o[0]=69,o.writeInt32BE(a,1),o.write(t,5,"utf-8"),o[r+5]=0,o.writeUInt32BE(i,o.length-4),o},"execute"),b=ly((e,t)=>{let i=lo.allocUnsafe(16);return i.writeInt32BE(16,0),i.writeInt16BE(1234,4),i.writeInt16BE(5678,6),i.writeInt32BE(e,8),i.writeInt32BE(t,12),i},"cancel"),w=ly((e,t)=>{let i=4+lo.byteLength(t)+1,r=lo.allocUnsafe(1+i);return r[0]=e,r.writeInt32BE(i,1),r.write(t,5,"utf-8"),r[i]=0,r},"cstringMessage"),_=i.addCString("P").flush(68),x=i.addCString("S").flush(68),S=ly(e=>e.name?w(68,`${e.type}${e.name||""}`):"P"===e.type?_:x,"describe"),E=ly(e=>w(67,`${e.type}${e.name||""}`),"close"),k=ly(e=>i.add(e).flush(100),"copyData"),T=ly(e=>w(102,e),"copyFail"),C=ly(e=>lo.from([e,0,0,0,4]),"codeOnlyBuffer"),N=C(72),O=C(83),P=C(88),I=C(99),L={startup:r,password:o,requestSsl:a,sendSASLInitialResponseMessage:l,sendSCRAMClientFinalMessage:d,query:p,parse:u,bind:g,execute:v,describe:S,close:E,flush:ly(()=>N,"flush"),sync:ly(()=>O,"sync"),end:ly(()=>P,"end"),copyData:k,copyDone:ly(()=>I,"copyDone"),copyFail:T,cancel:b};e.serialize=L}),dP=lb(e=>{lC(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=void 0;var t=lo.allocUnsafe(0),i=class{constructor(e=0){this.offset=e,this.buffer=t,this.encoding="utf-8"}setBuffer(e,t){this.offset=e,this.buffer=t}int16(){let e=this.buffer.readInt16BE(this.offset);return this.offset+=2,e}byte(){let e=this.buffer[this.offset];return this.offset++,e}int32(){let e=this.buffer.readInt32BE(this.offset);return this.offset+=4,e}string(e){let t=this.buffer.toString(this.encoding,this.offset,this.offset+e);return this.offset+=e,t}cstring(){let e=this.offset,t=e;for(;0!==this.buffer[t++];);return this.offset=t,this.buffer.toString(this.encoding,e,t-1)}bytes(e){let t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}};ly(i,"BufferReader");var r=i;e.BufferReader=r}),dI=lb(e=>{lC(),Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var t=dC(),i=dP(),r=1,a=5,o=lo.allocUnsafe(0),l=class{constructor(e){if(this.buffer=o,this.bufferLength=0,this.bufferOffset=0,this.reader=new i.BufferReader,e?.mode==="binary")throw Error("Binary mode not supported yet");this.mode=e?.mode||"text"}parse(e,t){this.mergeBuffer(e);let i=this.bufferOffset+this.bufferLength,l=this.bufferOffset;for(;l+a<=i;){let e=this.buffer[l],o=this.buffer.readUInt32BE(l+r),d=r+o;if(d+l<=i)t(this.handlePacket(l+a,e,o,this.buffer)),l+=d;else break}l===i?(this.buffer=o,this.bufferLength=0,this.bufferOffset=0):(this.bufferLength=i-l,this.bufferOffset=l)}mergeBuffer(e){if(this.bufferLength>0){let t=this.bufferLength+e.byteLength;if(t+this.bufferOffset>this.buffer.byteLength){let e;if(t<=this.buffer.byteLength&&this.bufferOffset>=this.bufferLength)e=this.buffer;else{let i=2*this.buffer.byteLength;for(;t>=i;)i*=2;e=lo.allocUnsafe(i)}this.buffer.copy(e,0,this.bufferOffset,this.bufferOffset+this.bufferLength),this.buffer=e,this.bufferOffset=0}e.copy(this.buffer,this.bufferOffset+this.bufferLength),this.bufferLength=t}else this.buffer=e,this.bufferOffset=0,this.bufferLength=e.byteLength}handlePacket(e,i,r,a){switch(i){case 50:return t.bindComplete;case 49:return t.parseComplete;case 51:return t.closeComplete;case 110:return t.noData;case 115:return t.portalSuspended;case 99:return t.copyDone;case 87:return t.replicationStart;case 73:return t.emptyQuery;case 68:return this.parseDataRowMessage(e,r,a);case 67:return this.parseCommandCompleteMessage(e,r,a);case 90:return this.parseReadyForQueryMessage(e,r,a);case 65:return this.parseNotificationMessage(e,r,a);case 82:return this.parseAuthenticationResponse(e,r,a);case 83:return this.parseParameterStatusMessage(e,r,a);case 75:return this.parseBackendKeyData(e,r,a);case 69:return this.parseErrorMessage(e,r,a,"error");case 78:return this.parseErrorMessage(e,r,a,"notice");case 84:return this.parseRowDescriptionMessage(e,r,a);case 116:return this.parseParameterDescriptionMessage(e,r,a);case 71:return this.parseCopyInMessage(e,r,a);case 72:return this.parseCopyOutMessage(e,r,a);case 100:return this.parseCopyData(e,r,a);default:return new t.DatabaseError("received invalid response: "+i.toString(16),r,"error")}}parseReadyForQueryMessage(e,i,r){this.reader.setBuffer(e,r);let a=this.reader.string(1);return new t.ReadyForQueryMessage(i,a)}parseCommandCompleteMessage(e,i,r){this.reader.setBuffer(e,r);let a=this.reader.cstring();return new t.CommandCompleteMessage(i,a)}parseCopyData(e,i,r){let a=r.slice(e,e+(i-4));return new t.CopyDataMessage(i,a)}parseCopyInMessage(e,t,i){return this.parseCopyMessage(e,t,i,"copyInResponse")}parseCopyOutMessage(e,t,i){return this.parseCopyMessage(e,t,i,"copyOutResponse")}parseCopyMessage(e,i,r,a){this.reader.setBuffer(e,r);let o=0!==this.reader.byte(),l=this.reader.int16(),d=new t.CopyResponse(i,a,o,l);for(let e=0;e<l;e++)d.columnTypes[e]=this.reader.int16();return d}parseNotificationMessage(e,i,r){this.reader.setBuffer(e,r);let a=this.reader.int32(),o=this.reader.cstring(),l=this.reader.cstring();return new t.NotificationResponseMessage(i,a,o,l)}parseRowDescriptionMessage(e,i,r){this.reader.setBuffer(e,r);let a=this.reader.int16(),o=new t.RowDescriptionMessage(i,a);for(let e=0;e<a;e++)o.fields[e]=this.parseField();return o}parseField(){let e=this.reader.cstring(),i=this.reader.int32(),r=this.reader.int16(),a=this.reader.int32(),o=this.reader.int16(),l=this.reader.int32(),d=0===this.reader.int16()?"text":"binary";return new t.Field(e,i,r,a,o,l,d)}parseParameterDescriptionMessage(e,i,r){this.reader.setBuffer(e,r);let a=this.reader.int16(),o=new t.ParameterDescriptionMessage(i,a);for(let e=0;e<a;e++)o.dataTypeIDs[e]=this.reader.int32();return o}parseDataRowMessage(e,i,r){this.reader.setBuffer(e,r);let a=this.reader.int16(),o=Array(a);for(let e=0;e<a;e++){let t=this.reader.int32();o[e]=-1===t?null:this.reader.string(t)}return new t.DataRowMessage(i,o)}parseParameterStatusMessage(e,i,r){this.reader.setBuffer(e,r);let a=this.reader.cstring(),o=this.reader.cstring();return new t.ParameterStatusMessage(i,a,o)}parseBackendKeyData(e,i,r){this.reader.setBuffer(e,r);let a=this.reader.int32(),o=this.reader.int32();return new t.BackendKeyDataMessage(i,a,o)}parseAuthenticationResponse(e,i,r){this.reader.setBuffer(e,r);let a=this.reader.int32(),o={name:"authenticationOk",length:i};switch(a){case 0:break;case 3:8===o.length&&(o.name="authenticationCleartextPassword");break;case 5:if(12===o.length){o.name="authenticationMD5Password";let e=this.reader.bytes(4);return new t.AuthenticationMD5Password(i,e)}break;case 10:let l;o.name="authenticationSASL",o.mechanisms=[];do(l=this.reader.cstring())&&o.mechanisms.push(l);while(l);break;case 11:o.name="authenticationSASLContinue",o.data=this.reader.string(i-8);break;case 12:o.name="authenticationSASLFinal",o.data=this.reader.string(i-8);break;default:throw Error("Unknown authenticationOk message type "+a)}return o}parseErrorMessage(e,i,r,a){this.reader.setBuffer(e,r);let o={},l=this.reader.string(1);for(;"\0"!==l;)o[l]=this.reader.cstring(),l=this.reader.string(1);let d=o.M,p="notice"===a?new t.NoticeMessage(i,d):new t.DatabaseError(d,i,a);return p.severity=o.S,p.code=o.C,p.detail=o.D,p.hint=o.H,p.position=o.P,p.internalPosition=o.p,p.internalQuery=o.q,p.where=o.W,p.schema=o.s,p.table=o.t,p.column=o.c,p.dataType=o.d,p.constraint=o.n,p.file=o.F,p.line=o.L,p.routine=o.R,p}};ly(l,"Parser");var d=l;e.Parser=d}),dL=lb(e=>{lC(),Object.defineProperty(e,"__esModule",{value:!0}),e.DatabaseError=e.serialize=e.parse=void 0;var t=dC();Object.defineProperty(e,"DatabaseError",{enumerable:!0,get:ly(function(){return t.DatabaseError},"get")});var i=dO();Object.defineProperty(e,"serialize",{enumerable:!0,get:ly(function(){return i.serialize},"get")});var r=dI();function a(e,t){let i=new r.Parser;return e.on("data",e=>i.parse(e,t)),new Promise(t=>e.on("end",()=>t()))}ly(a,"parse"),e.parse=a}),dD={};function dR({socket:e,servername:t}){return e.startTls(t),e}lw(dD,{connect:()=>dR});var d$=lv(()=>{lC(),ly(dR,"connect")}),dj=lb((e,t)=>{lC();var i=(dA(),lS(d_)),r=lN().EventEmitter,{parse:a,serialize:o}=dL(),l=o.flush(),d=o.sync(),p=o.end(),c=class extends r{constructor(e){super(),e=e||{},this.stream=e.stream||new i.Socket,this._keepAlive=e.keepAlive,this._keepAliveInitialDelayMillis=e.keepAliveInitialDelayMillis,this.lastBuffer=!1,this.parsedStatements={},this.ssl=e.ssl||!1,this._ending=!1,this._emitMessage=!1;var t=this;this.on("newListener",function(e){"message"===e&&(t._emitMessage=!0)})}connect(e,t){var r=this;this._connecting=!0,this.stream.setNoDelay(!0),this.stream.connect(e,t),this.stream.once("connect",function(){r._keepAlive&&r.stream.setKeepAlive(!0,r._keepAliveInitialDelayMillis),r.emit("connect")});let a=ly(function(e){r._ending&&("ECONNRESET"===e.code||"EPIPE"===e.code)||r.emit("error",e)},"reportStreamError");if(this.stream.on("error",a),this.stream.on("close",function(){r.emit("end")}),!this.ssl)return this.attachListeners(this.stream);this.stream.once("data",function(e){switch(e.toString("utf8")){case"S":break;case"N":return r.stream.end(),r.emit("error",Error("The server does not support SSL connections"));default:return r.stream.end(),r.emit("error",Error("There was an error establishing an SSL connection"))}var o=(d$(),lS(dD));let l={socket:r.stream};!0!==r.ssl&&(Object.assign(l,r.ssl),"key"in r.ssl&&(l.key=r.ssl.key)),0===i.isIP(t)&&(l.servername=t);try{r.stream=o.connect(l)}catch(e){return r.emit("error",e)}r.attachListeners(r.stream),r.stream.on("error",a),r.emit("sslconnect")})}attachListeners(e){e.on("end",()=>{this.emit("end")}),a(e,e=>{var t="error"===e.name?"errorMessage":e.name;this._emitMessage&&this.emit("message",e),this.emit(t,e)})}requestSsl(){this.stream.write(o.requestSsl())}startup(e){this.stream.write(o.startup(e))}cancel(e,t){this._send(o.cancel(e,t))}password(e){this._send(o.password(e))}sendSASLInitialResponseMessage(e,t){this._send(o.sendSASLInitialResponseMessage(e,t))}sendSCRAMClientFinalMessage(e){this._send(o.sendSCRAMClientFinalMessage(e))}_send(e){return!!this.stream.writable&&this.stream.write(e)}query(e){this._send(o.query(e))}parse(e){this._send(o.parse(e))}bind(e){this._send(o.bind(e))}execute(e){this._send(o.execute(e))}flush(){this.stream.writable&&this.stream.write(l)}sync(){this._ending=!0,this._send(l),this._send(d)}ref(){this.stream.ref()}unref(){this.stream.unref()}end(){if(this._ending=!0,!this._connecting||!this.stream.writable){this.stream.end();return}return this.stream.write(p,()=>{this.stream.end()})}close(e){this._send(o.close(e))}describe(e){this._send(o.describe(e))}sendCopyFromChunk(e){this._send(o.copyData(e))}endCopyFrom(){this._send(o.copyDone())}sendCopyFail(e){this._send(o.copyFail(e))}};ly(c,"Connection");var u=c;t.exports=u}),dM=lb((e,t)=>{lC();var i=lN().EventEmitter,r=(lI(),lS(lO),l0()),a=l2(),o=dd(),l=dp(),d=dv(),p=dw(),c=l1(),u=dj(),h=class extends i{constructor(e){super(),this.connectionParameters=new d(e),this.user=this.connectionParameters.user,this.database=this.connectionParameters.database,this.port=this.connectionParameters.port,this.host=this.connectionParameters.host,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:this.connectionParameters.password}),this.replication=this.connectionParameters.replication;var t=e||{};this._Promise=t.Promise||lr.Promise,this._types=new l(t.types),this._ending=!1,this._connecting=!1,this._connected=!1,this._connectionError=!1,this._queryable=!0,this.connection=t.connection||new u({stream:t.stream,ssl:this.connectionParameters.ssl,keepAlive:t.keepAlive||!1,keepAliveInitialDelayMillis:t.keepAliveInitialDelayMillis||0,encoding:this.connectionParameters.client_encoding||"utf8"}),this.queryQueue=[],this.binary=t.binary||c.binary,this.processID=null,this.secretKey=null,this.ssl=this.connectionParameters.ssl||!1,this.ssl&&this.ssl.key&&Object.defineProperty(this.ssl,"key",{enumerable:!1}),this._connectionTimeoutMillis=t.connectionTimeoutMillis||0}_errorAllQueries(e){let t=ly(t=>{ll.nextTick(()=>{t.handleError(e,this.connection)})},"enqueueError");this.activeQuery&&(t(this.activeQuery),this.activeQuery=null),this.queryQueue.forEach(t),this.queryQueue.length=0}_connect(e){var t=this,i=this.connection;if(this._connectionCallback=e,this._connecting||this._connected){let t=Error("Client has already been connected. You cannot reuse a client.");ll.nextTick(()=>{e(t)});return}this._connecting=!0,this.connectionTimeoutHandle,this._connectionTimeoutMillis>0&&(this.connectionTimeoutHandle=setTimeout(()=>{i._ending=!0,i.stream.destroy(Error("timeout expired"))},this._connectionTimeoutMillis)),this.host&&0===this.host.indexOf("/")?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){t.ssl?i.requestSsl():i.startup(t.getStartupConf())}),i.on("sslconnect",function(){i.startup(t.getStartupConf())}),this._attachListeners(i),i.once("end",()=>{let e=this._ending?Error("Connection terminated"):Error("Connection terminated unexpectedly");clearTimeout(this.connectionTimeoutHandle),this._errorAllQueries(e),this._ending||(this._connecting&&!this._connectionError?this._connectionCallback?this._connectionCallback(e):this._handleErrorEvent(e):this._connectionError||this._handleErrorEvent(e)),ll.nextTick(()=>{this.emit("end")})})}connect(e){if(e){this._connect(e);return}return new this._Promise((e,t)=>{this._connect(i=>{i?t(i):e()})})}_attachListeners(e){e.on("authenticationCleartextPassword",this._handleAuthCleartextPassword.bind(this)),e.on("authenticationMD5Password",this._handleAuthMD5Password.bind(this)),e.on("authenticationSASL",this._handleAuthSASL.bind(this)),e.on("authenticationSASLContinue",this._handleAuthSASLContinue.bind(this)),e.on("authenticationSASLFinal",this._handleAuthSASLFinal.bind(this)),e.on("backendKeyData",this._handleBackendKeyData.bind(this)),e.on("error",this._handleErrorEvent.bind(this)),e.on("errorMessage",this._handleErrorMessage.bind(this)),e.on("readyForQuery",this._handleReadyForQuery.bind(this)),e.on("notice",this._handleNotice.bind(this)),e.on("rowDescription",this._handleRowDescription.bind(this)),e.on("dataRow",this._handleDataRow.bind(this)),e.on("portalSuspended",this._handlePortalSuspended.bind(this)),e.on("emptyQuery",this._handleEmptyQuery.bind(this)),e.on("commandComplete",this._handleCommandComplete.bind(this)),e.on("parseComplete",this._handleParseComplete.bind(this)),e.on("copyInResponse",this._handleCopyInResponse.bind(this)),e.on("copyData",this._handleCopyData.bind(this)),e.on("notification",this._handleNotification.bind(this))}_checkPgPass(e){let t=this.connection;"function"==typeof this.password?this._Promise.resolve().then(()=>this.password()).then(i=>{if(void 0!==i){if("string"!=typeof i){t.emit("error",TypeError("Password must be a string"));return}this.connectionParameters.password=this.password=i}else this.connectionParameters.password=this.password=null;e()}).catch(e=>{t.emit("error",e)}):null!==this.password?e():o(this.connectionParameters,t=>{void 0!==t&&(this.connectionParameters.password=this.password=t),e()})}_handleAuthCleartextPassword(e){this._checkPgPass(()=>{this.connection.password(this.password)})}_handleAuthMD5Password(e){this._checkPgPass(()=>{let t=r.postgresMd5PasswordHash(this.user,this.password,e.salt);this.connection.password(t)})}_handleAuthSASL(e){this._checkPgPass(()=>{this.saslSession=a.startSession(e.mechanisms),this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism,this.saslSession.response)})}_handleAuthSASLContinue(e){a.continueSession(this.saslSession,this.password,e.data),this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}_handleAuthSASLFinal(e){a.finalizeSession(this.saslSession,e.data),this.saslSession=null}_handleBackendKeyData(e){this.processID=e.processID,this.secretKey=e.secretKey}_handleReadyForQuery(e){this._connecting&&(this._connecting=!1,this._connected=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback&&(this._connectionCallback(null,this),this._connectionCallback=null),this.emit("connect"));let{activeQuery:t}=this;this.activeQuery=null,this.readyForQuery=!0,t&&t.handleReadyForQuery(this.connection),this._pulseQueryQueue()}_handleErrorWhileConnecting(e){if(!this._connectionError){if(this._connectionError=!0,clearTimeout(this.connectionTimeoutHandle),this._connectionCallback)return this._connectionCallback(e);this.emit("error",e)}}_handleErrorEvent(e){if(this._connecting)return this._handleErrorWhileConnecting(e);this._queryable=!1,this._errorAllQueries(e),this.emit("error",e)}_handleErrorMessage(e){if(this._connecting)return this._handleErrorWhileConnecting(e);let t=this.activeQuery;if(!t){this._handleErrorEvent(e);return}this.activeQuery=null,t.handleError(e,this.connection)}_handleRowDescription(e){this.activeQuery.handleRowDescription(e)}_handleDataRow(e){this.activeQuery.handleDataRow(e)}_handlePortalSuspended(e){this.activeQuery.handlePortalSuspended(this.connection)}_handleEmptyQuery(e){this.activeQuery.handleEmptyQuery(this.connection)}_handleCommandComplete(e){this.activeQuery.handleCommandComplete(e,this.connection)}_handleParseComplete(e){this.activeQuery.name&&(this.connection.parsedStatements[this.activeQuery.name]=this.activeQuery.text)}_handleCopyInResponse(e){this.activeQuery.handleCopyInResponse(this.connection)}_handleCopyData(e){this.activeQuery.handleCopyData(e,this.connection)}_handleNotification(e){this.emit("notification",e)}_handleNotice(e){this.emit("notice",e)}getStartupConf(){var e=this.connectionParameters,t={user:e.user,database:e.database},i=e.application_name||e.fallback_application_name;return i&&(t.application_name=i),e.replication&&(t.replication=""+e.replication),e.statement_timeout&&(t.statement_timeout=String(parseInt(e.statement_timeout,10))),e.lock_timeout&&(t.lock_timeout=String(parseInt(e.lock_timeout,10))),e.idle_in_transaction_session_timeout&&(t.idle_in_transaction_session_timeout=String(parseInt(e.idle_in_transaction_session_timeout,10))),e.options&&(t.options=e.options),t}cancel(e,t){if(e.activeQuery===t){var i=this.connection;this.host&&0===this.host.indexOf("/")?i.connect(this.host+"/.s.PGSQL."+this.port):i.connect(this.port,this.host),i.on("connect",function(){i.cancel(e.processID,e.secretKey)})}else -1!==e.queryQueue.indexOf(t)&&e.queryQueue.splice(e.queryQueue.indexOf(t),1)}setTypeParser(e,t,i){return this._types.setTypeParser(e,t,i)}getTypeParser(e,t){return this._types.getTypeParser(e,t)}escapeIdentifier(e){return'"'+e.replace(/"/g,'""')+'"'}escapeLiteral(e){for(var t=!1,i="'",r=0;r<e.length;r++){var a=e[r];"'"===a?i+=a+a:"\\"===a?(i+=a+a,t=!0):i+=a}return i+="'",!0===t&&(i=" E"+i),i}_pulseQueryQueue(){if(!0===this.readyForQuery){if(this.activeQuery=this.queryQueue.shift(),this.activeQuery){this.readyForQuery=!1,this.hasExecuted=!0;let e=this.activeQuery.submit(this.connection);e&&ll.nextTick(()=>{this.activeQuery.handleError(e,this.connection),this.readyForQuery=!0,this._pulseQueryQueue()})}else this.hasExecuted&&(this.activeQuery=null,this.emit("drain"))}}query(e,t,i){var r,a,o,l,d;if(null==e)throw TypeError("Client was passed a null or undefined query");return"function"==typeof e.submit?(o=e.query_timeout||this.connectionParameters.query_timeout,a=r=e,"function"==typeof t&&(r.callback=r.callback||t)):(o=this.connectionParameters.query_timeout,(r=new p(e,t,i)).callback||(a=new this._Promise((e,t)=>{r.callback=(i,r)=>i?t(i):e(r)}))),o&&(d=r.callback,l=setTimeout(()=>{var e=Error("Query read timeout");ll.nextTick(()=>{r.handleError(e,this.connection)}),d(e),r.callback=()=>{};var t=this.queryQueue.indexOf(r);t>-1&&this.queryQueue.splice(t,1),this._pulseQueryQueue()},o),r.callback=(e,t)=>{clearTimeout(l),d(e,t)}),this.binary&&!r.binary&&(r.binary=!0),r._result&&!r._result._types&&(r._result._types=this._types),this._queryable?this._ending?ll.nextTick(()=>{r.handleError(Error("Client was closed and is not queryable"),this.connection)}):(this.queryQueue.push(r),this._pulseQueryQueue()):ll.nextTick(()=>{r.handleError(Error("Client has encountered a connection error and is not queryable"),this.connection)}),a}ref(){this.connection.ref()}unref(){this.connection.unref()}end(e){if(this._ending=!0,!this.connection._connecting){if(!e)return this._Promise.resolve();e()}if(this.activeQuery||!this._queryable?this.connection.stream.destroy():this.connection.end(),!e)return new this._Promise(e=>{this.connection.once("end",e)});this.connection.once("end",e)}};ly(h,"Client");var m=h;m.Query=p,t.exports=m}),dU=lb((e,t)=>{lC();var i=lN().EventEmitter,r=ly(function(){},"NOOP"),a=ly((e,t)=>{let i=e.findIndex(t);return -1===i?void 0:e.splice(i,1)[0]},"removeWhere"),o=class{constructor(e,t,i){this.client=e,this.idleListener=t,this.timeoutId=i}};ly(o,"IdleItem");var l=o,d=class{constructor(e){this.callback=e}};ly(d,"PendingItem");var p=d;function c(){throw Error("Release called on client which has already been released to the pool.")}function u(e,t){let i,r;return t?{callback:t,result:void 0}:{callback:ly(function(e,t){e?i(e):r(t)},"cb"),result:new e(function(e,t){r=e,i=t}).catch(e=>{throw Error.captureStackTrace(e),e})}}function h(e,t){return ly(function i(r){r.client=t,t.removeListener("error",i),t.on("error",()=>{e.log("additional client error after disconnection due to error",r)}),e._remove(t),e.emit("error",r,t)},"idleListener")}ly(c,"throwOnDoubleRelease"),ly(u,"promisify"),ly(h,"makeIdleListener");var m=class extends i{constructor(e,t){super(),this.options=Object.assign({},e),null!=e&&"password"in e&&Object.defineProperty(this.options,"password",{configurable:!0,enumerable:!1,writable:!0,value:e.password}),null!=e&&e.ssl&&e.ssl.key&&Object.defineProperty(this.options.ssl,"key",{enumerable:!1}),this.options.max=this.options.max||this.options.poolSize||10,this.options.maxUses=this.options.maxUses||1/0,this.options.allowExitOnIdle=this.options.allowExitOnIdle||!1,this.options.maxLifetimeSeconds=this.options.maxLifetimeSeconds||0,this.log=this.options.log||function(){},this.Client=this.options.Client||t||dG().Client,this.Promise=this.options.Promise||lr.Promise,typeof this.options.idleTimeoutMillis>"u"&&(this.options.idleTimeoutMillis=1e4),this._clients=[],this._idle=[],this._expired=new WeakSet,this._pendingQueue=[],this._endCallback=void 0,this.ending=!1,this.ended=!1}_isFull(){return this._clients.length>=this.options.max}_pulseQueue(){if(this.log("pulse queue"),this.ended){this.log("pulse queue ended");return}if(this.ending){this.log("pulse queue on ending"),this._idle.length&&this._idle.slice().map(e=>{this._remove(e.client)}),this._clients.length||(this.ended=!0,this._endCallback());return}if(!this._pendingQueue.length){this.log("no queued requests");return}if(!this._idle.length&&this._isFull())return;let e=this._pendingQueue.shift();if(this._idle.length){let t=this._idle.pop();clearTimeout(t.timeoutId);let i=t.client;i.ref&&i.ref();let r=t.idleListener;return this._acquireClient(i,e,r,!1)}if(!this._isFull())return this.newClient(e);throw Error("unexpected condition")}_remove(e){let t=a(this._idle,t=>t.client===e);void 0!==t&&clearTimeout(t.timeoutId),this._clients=this._clients.filter(t=>t!==e),e.end(),this.emit("remove",e)}connect(e){if(this.ending){let t=Error("Cannot use a pool after calling end on the pool");return e?e(t):this.Promise.reject(t)}let t=u(this.Promise,e),i=t.result;if(this._isFull()||this._idle.length){if(this._idle.length&&ll.nextTick(()=>this._pulseQueue()),!this.options.connectionTimeoutMillis)return this._pendingQueue.push(new p(t.callback)),i;let e=ly((e,i,r)=>{clearTimeout(o),t.callback(e,i,r)},"queueCallback"),r=new p(e),o=setTimeout(()=>{a(this._pendingQueue,t=>t.callback===e),r.timedOut=!0,t.callback(Error("timeout exceeded when trying to connect"))},this.options.connectionTimeoutMillis);return this._pendingQueue.push(r),i}return this.newClient(new p(t.callback)),i}newClient(e){let t=new this.Client(this.options);this._clients.push(t);let i=h(this,t);this.log("checking client timeout");let a,o=!1;this.options.connectionTimeoutMillis&&(a=setTimeout(()=>{this.log("ending client due to timeout"),o=!0,t.connection?t.connection.stream.destroy():t.end()},this.options.connectionTimeoutMillis)),this.log("connecting new client"),t.connect(l=>{if(a&&clearTimeout(a),t.on("error",i),l)this.log("client failed to connect",l),this._clients=this._clients.filter(e=>e!==t),o&&(l.message="Connection terminated due to connection timeout"),this._pulseQueue(),e.timedOut||e.callback(l,void 0,r);else{if(this.log("new client connected"),0!==this.options.maxLifetimeSeconds){let e=setTimeout(()=>{this.log("ending client due to expired lifetime"),this._expired.add(t),-1!==this._idle.findIndex(e=>e.client===t)&&this._acquireClient(t,new p((e,t,i)=>i()),i,!1)},1e3*this.options.maxLifetimeSeconds);e.unref(),t.once("end",()=>clearTimeout(e))}return this._acquireClient(t,e,i,!0)}})}_acquireClient(e,t,i,a){a&&this.emit("connect",e),this.emit("acquire",e),e.release=this._releaseOnce(e,i),e.removeListener("error",i),t.timedOut?a&&this.options.verify?this.options.verify(e,e.release):e.release():a&&this.options.verify?this.options.verify(e,i=>{if(i)return e.release(i),t.callback(i,void 0,r);t.callback(void 0,e,e.release)}):t.callback(void 0,e,e.release)}_releaseOnce(e,t){let i=!1;return r=>{i&&c(),i=!0,this._release(e,t,r)}}_release(e,t,i){let r;if(e.on("error",t),e._poolUseCount=(e._poolUseCount||0)+1,this.emit("release",i,e),i||this.ending||!e._queryable||e._ending||e._poolUseCount>=this.options.maxUses){e._poolUseCount>=this.options.maxUses&&this.log("remove expended client"),this._remove(e),this._pulseQueue();return}if(this._expired.has(e)){this.log("remove expired client"),this._expired.delete(e),this._remove(e),this._pulseQueue();return}this.options.idleTimeoutMillis&&(r=setTimeout(()=>{this.log("remove idle client"),this._remove(e)},this.options.idleTimeoutMillis),this.options.allowExitOnIdle&&r.unref()),this.options.allowExitOnIdle&&e.unref(),this._idle.push(new l(e,t,r)),this._pulseQueue()}query(e,t,i){if("function"==typeof e){let t=u(this.Promise,e);return la(function(){return t.callback(Error("Passing a function as the first parameter to pool.query is not supported"))}),t.result}"function"==typeof t&&(i=t,t=void 0);let r=u(this.Promise,i);return i=r.callback,this.connect((r,a)=>{if(r)return i(r);let o=!1,l=ly(e=>{o||(o=!0,a.release(e),i(e))},"onError");a.once("error",l),this.log("dispatching query");try{a.query(e,t,(e,t)=>{if(this.log("query dispatched"),a.removeListener("error",l),!o)return o=!0,a.release(e),e?i(e):i(void 0,t)})}catch(e){return a.release(e),i(e)}}),r.result}end(e){if(this.log("ending"),this.ending){let t=Error("Called end on pool more than once");return e?e(t):this.Promise.reject(t)}this.ending=!0;let t=u(this.Promise,e);return this._endCallback=t.callback,this._pulseQueue(),t.result}get waitingCount(){return this._pendingQueue.length}get idleCount(){return this._idle.length}get expiredCount(){return this._clients.reduce((e,t)=>e+(this._expired.has(t)?1:0),0)}get totalCount(){return this._clients.length}};ly(m,"Pool");var g=m;t.exports=g}),dF={};lw(dF,{default:()=>dB});var dB,dz=lv(()=>{lC(),dB={}}),dq=lb((e,t)=>{t.exports={name:"pg",version:"8.8.0",description:"PostgreSQL client - pure javascript & libpq with the same API",keywords:["database","libpq","pg","postgre","postgres","postgresql","rdbms"],homepage:"https://github.com/brianc/node-postgres",repository:{type:"git",url:"git://github.com/brianc/node-postgres.git",directory:"packages/pg"},author:"Brian Carlson <brian.m.carlson@gmail.com>",main:"./lib",dependencies:{"buffer-writer":"2.0.0","packet-reader":"1.0.0","pg-connection-string":"^2.5.0","pg-pool":"^3.5.2","pg-protocol":"^1.5.0","pg-types":"^2.1.0",pgpass:"1.x"},devDependencies:{async:"2.6.4",bluebird:"3.5.2",co:"4.6.0","pg-copy-streams":"0.3.0"},peerDependencies:{"pg-native":">=3.0.1"},peerDependenciesMeta:{"pg-native":{optional:!0}},scripts:{test:"make test-all"},files:["lib","SPONSORS.md"],license:"MIT",engines:{node:">= 8.0.0"},gitHead:"c99fb2c127ddf8d712500db2c7b9a5491a178655"}}),dV=lb((e,t)=>{lC();var i=lN().EventEmitter,r=(lI(),lS(lO)),a=l0(),o=t.exports=function(e,t,r){i.call(this),e=a.normalizeQueryConfig(e,t,r),this.text=e.text,this.values=e.values,this.name=e.name,this.callback=e.callback,this.state="new",this._arrayMode="array"===e.rowMode,this._emitRowEvents=!1,this.on("newListener",(function(e){"row"===e&&(this._emitRowEvents=!0)}).bind(this))};r.inherits(o,i);var l={sqlState:"code",statementPosition:"position",messagePrimary:"message",context:"where",schemaName:"schema",tableName:"table",columnName:"column",dataTypeName:"dataType",constraintName:"constraint",sourceFile:"file",sourceLine:"line",sourceFunction:"routine"};o.prototype.handleError=function(e){var t=this.native.pq.resultErrorFields();if(t)for(var i in t)e[l[i]||i]=t[i];this.callback?this.callback(e):this.emit("error",e),this.state="error"},o.prototype.then=function(e,t){return this._getPromise().then(e,t)},o.prototype.catch=function(e){return this._getPromise().catch(e)},o.prototype._getPromise=function(){return this._promise||(this._promise=new Promise((function(e,t){this._once("end",e),this._once("error",t)}).bind(this))),this._promise},o.prototype.submit=function(e){this.state="running";var t=this;this.native=e.native,e.native.arrayMode=this._arrayMode;var i=ly(function(i,r,a){if(e.native.arrayMode=!1,la(function(){t.emit("_done")}),i)return t.handleError(i);t._emitRowEvents&&(a.length>1?r.forEach((e,i)=>{e.forEach(e=>{t.emit("row",e,a[i])})}):r.forEach(function(e){t.emit("row",e,a)})),t.state="end",t.emit("end",a),t.callback&&t.callback(null,a)},"after");if(ll.domain&&(i=ll.domain.bind(i)),this.name){this.name.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",this.name,this.name.length),console.error("This can cause conflicts and silent errors executing queries"));var r=(this.values||[]).map(a.prepareValue);if(e.namedQueries[this.name]){if(this.text&&e.namedQueries[this.name]!==this.text){let e=Error(`Pre\
pared statements must be unique - '${this.name}' was used for a different statem\
ent`);return i(e)}return e.native.execute(this.name,r,i)}return e.native.prepare(this.name,this.text,r.length,function(a){return a?i(a):(e.namedQueries[t.name]=t.text,t.native.execute(t.name,r,i))})}if(this.values){if(!Array.isArray(this.values)){let e=Error("Query values must be an array");return i(e)}var o=this.values.map(a.prepareValue);e.native.query(this.text,o,i)}else e.native.query(this.text,i)}}),dH=lb((e,t)=>{lC();var i=(dz(),lS(dF)),r=dp(),a=(dq(),lN().EventEmitter),o=(lI(),lS(lO)),l=dv(),d=dV(),p=t.exports=function(e){a.call(this),e=e||{},this._Promise=e.Promise||lr.Promise,this._types=new r(e.types),this.native=new i({types:this._types}),this._queryQueue=[],this._ending=!1,this._connecting=!1,this._connected=!1,this._queryable=!0;var t=this.connectionParameters=new l(e);this.user=t.user,Object.defineProperty(this,"password",{configurable:!0,enumerable:!1,writable:!0,value:t.password}),this.database=t.database,this.host=t.host,this.port=t.port,this.namedQueries={}};p.Query=d,o.inherits(p,a),p.prototype._errorAllQueries=function(e){let t=ly(t=>{ll.nextTick(()=>{t.native=this.native,t.handleError(e)})},"enqueueError");this._hasActiveQuery()&&(t(this._activeQuery),this._activeQuery=null),this._queryQueue.forEach(t),this._queryQueue.length=0},p.prototype._connect=function(e){var t=this;if(this._connecting){ll.nextTick(()=>e(Error("Client has already been connected. You cannot reuse a client.")));return}this._connecting=!0,this.connectionParameters.getLibpqConnectionString(function(i,r){if(i)return e(i);t.native.connect(r,function(i){if(i)return t.native.end(),e(i);t._connected=!0,t.native.on("error",function(e){t._queryable=!1,t._errorAllQueries(e),t.emit("error",e)}),t.native.on("notification",function(e){t.emit("notification",{channel:e.relname,payload:e.extra})}),t.emit("connect"),t._pulseQueryQueue(!0),e()})})},p.prototype.connect=function(e){if(e){this._connect(e);return}return new this._Promise((e,t)=>{this._connect(i=>{i?t(i):e()})})},p.prototype.query=function(e,t,i){var r,a,o,l,p;if(null==e)throw TypeError("Client was passed a null or undefined query");if("function"==typeof e.submit)o=e.query_timeout||this.connectionParameters.query_timeout,a=r=e,"function"==typeof t&&(e.callback=t);else if(o=this.connectionParameters.query_timeout,!(r=new d(e,t,i)).callback){let e,t;a=new this._Promise((i,r)=>{e=i,t=r}),r.callback=(i,r)=>i?t(i):e(r)}return o&&(p=r.callback,l=setTimeout(()=>{var e=Error("Query read timeout");ll.nextTick(()=>{r.handleError(e,this.connection)}),p(e),r.callback=()=>{};var t=this._queryQueue.indexOf(r);t>-1&&this._queryQueue.splice(t,1),this._pulseQueryQueue()},o),r.callback=(e,t)=>{clearTimeout(l),p(e,t)}),this._queryable?this._ending?(r.native=this.native,ll.nextTick(()=>{r.handleError(Error("Client was closed and is not queryable"))})):(this._queryQueue.push(r),this._pulseQueryQueue()):(r.native=this.native,ll.nextTick(()=>{r.handleError(Error("Client has encountered a connection error and is not queryable"))})),a},p.prototype.end=function(e){var t,i=this;return this._ending=!0,this._connected||this.once("connect",this.end.bind(this,e)),e||(t=new this._Promise(function(t,i){e=ly(e=>e?i(e):t(),"cb")})),this.native.end(function(){i._errorAllQueries(Error("Connection terminated")),ll.nextTick(()=>{i.emit("end"),e&&e()})}),t},p.prototype._hasActiveQuery=function(){return this._activeQuery&&"error"!==this._activeQuery.state&&"end"!==this._activeQuery.state},p.prototype._pulseQueryQueue=function(e){if(this._connected&&!this._hasActiveQuery()){var t=this._queryQueue.shift();if(!t){e||this.emit("drain");return}this._activeQuery=t,t.submit(this);var i=this;t.once("_done",function(){i._pulseQueryQueue()})}},p.prototype.cancel=function(e){this._activeQuery===e?this.native.cancel(function(){}):-1!==this._queryQueue.indexOf(e)&&this._queryQueue.splice(this._queryQueue.indexOf(e),1)},p.prototype.ref=function(){},p.prototype.unref=function(){},p.prototype.setTypeParser=function(e,t,i){return this._types.setTypeParser(e,t,i)},p.prototype.getTypeParser=function(e,t){return this._types.getTypeParser(e,t)}}),dW=lb((e,t)=>{lC(),t.exports=dH()}),dG=lb((e,t)=>{lC();var i=dM(),r=l1(),a=dj(),o=dU(),{DatabaseError:l}=dL(),d=ly(e=>{var t;return ly(t=class extends o{constructor(t){super(t,e)}},"BoundPool"),t},"poolFactory"),p=ly(function(e){this.defaults=r,this.Client=e,this.Query=this.Client.Query,this.Pool=d(this.Client),this._pools=[],this.Connection=a,this.types=lX(),this.DatabaseError=l},"PG");"u">typeof ll.env.NODE_PG_FORCE_NATIVE?t.exports=new p(dW()):(t.exports=new p(i),Object.defineProperty(t.exports,"native",{configurable:!0,enumerable:!1,get(){var e=null;try{e=new p(dW())}catch(e){if("MODULE_NOT_FOUND"!==e.code)throw e}return Object.defineProperty(t.exports,"native",{value:e}),e}}))});lC();var dK=lx(dG());dA(),lC(),dg(),dA();var dJ=lx(l0()),dQ=lx(dp()),dY=class extends Error{constructor(){super(...arguments),lE(this,"name","NeonDbError"),lE(this,"severity"),lE(this,"code"),lE(this,"detail"),lE(this,"hint"),lE(this,"position"),lE(this,"internalPosition"),lE(this,"internalQuery"),lE(this,"where"),lE(this,"schema"),lE(this,"table"),lE(this,"column"),lE(this,"dataType"),lE(this,"constraint"),lE(this,"file"),lE(this,"line"),lE(this,"routine"),lE(this,"sourceError")}};ly(dY,"NeonDbError");var dZ=dY,dX="transaction() expects an array of queries, or a function returning an array of queries",d1=["severity","code","detail","hint","position","internalPosition","internalQuery","where","schema","table","column","dataType","constraint","file","line","routine"];function d0(e,{arrayMode:t,fullResults:i,fetchOptions:r,isolationLevel:a,readOnly:o,deferrable:l,queryCallback:d,resultCallback:p}={}){let c;if(!e)throw Error("No database connection string was provided to `neon()`. Perhaps an environment variable has not been set?");try{c=dm(e)}catch{throw Error("Database connection string provided to `neon()` is not a valid URL. Connection string: "+String(e))}let{protocol:u,username:h,password:m,hostname:g,port:y,pathname:v}=c;if("postgres:"!==u&&"postgresql:"!==u||!h||!m||!g||!v)throw Error("Database connection string format for `neon()` should be: postgresql://user:password@host.tld/dbname?option=value");function b(e,...t){let i,r;if("string"==typeof e)i=e,r=t[1],t=t[0]??[];else{i="";for(let r=0;r<e.length;r++)i+=e[r],r<t.length&&(i+="$"+(r+1))}let a={query:i,params:t=t.map(e=>(0,dJ.prepareValue)(e))};return d&&d(a),d2(w,a,r)}async function w(d,c,u){let h,{fetchEndpoint:m,fetchFunction:v}=dT,b="function"==typeof m?m(g,y):m,w=Array.isArray(d)?{queries:d}:d,_=r??{},x=t??!1,S=i??!1,E=a,k=o,T=l;void 0!==u&&(void 0!==u.fetchOptions&&(_={..._,...u.fetchOptions}),void 0!==u.arrayMode&&(x=u.arrayMode),void 0!==u.fullResults&&(S=u.fullResults),void 0!==u.isolationLevel&&(E=u.isolationLevel),void 0!==u.readOnly&&(k=u.readOnly),void 0!==u.deferrable&&(T=u.deferrable)),void 0===c||Array.isArray(c)||void 0===c.fetchOptions||(_={..._,...c.fetchOptions});let C={"Neon-Connection-String":e,"Neon-Raw-Text-Output":"true","Neon-Array-Mode":"true"};Array.isArray(d)&&(void 0!==E&&(C["Neon-Batch-Isolation-Level"]=E),void 0!==k&&(C["Neon-Batch-Read-Only"]=String(k)),void 0!==T&&(C["Neon-Batch-Deferrable"]=String(T)));try{h=await (v??fetch)(b,{method:"POST",body:JSON.stringify(w),headers:C,..._})}catch(t){let e=new dZ(`Error connecting to database: ${t.message}`);throw e.sourceError=t,e}if(h.ok){let e=await h.json();if(Array.isArray(d)){let t=e.results;if(!Array.isArray(t))throw new dZ("Neon internal error: unexpected result format");return t.map((e,t)=>{let i=c[t]??{};return d6(e,{arrayMode:i.arrayMode??x,fullResults:i.fullResults??S,parameterizedQuery:d[t],resultCallback:p,types:i.types})})}{let t=c??{};return d6(e,{arrayMode:t.arrayMode??x,fullResults:t.fullResults??S,parameterizedQuery:d,resultCallback:p,types:t.types})}}{let{status:e}=h;if(400===e){let e=await h.json(),t=new dZ(e.message);for(let i of d1)t[i]=e[i]??void 0;throw t}{let t=await h.text();throw new dZ(`Server erro\
r (HTTP status ${e}): ${t}`)}}}return ly(b,"resolve"),b.transaction=async(e,t)=>{if("function"==typeof e&&(e=e(b)),!Array.isArray(e))throw Error(dX);return e.forEach(e=>{if("NeonQueryPromise"!==e[Symbol.toStringTag])throw Error(dX)}),w(e.map(e=>e.parameterizedQuery),e.map(e=>e.opts??{}),t)},ly(w,"execute"),b}function d2(e,t,i){return{[Symbol.toStringTag]:"NeonQueryPromise",parameterizedQuery:t,opts:i,then:ly((r,a)=>e(t,i).then(r,a),"then"),catch:ly(r=>e(t,i).catch(r),"catch"),finally:ly(r=>e(t,i).finally(r),"finally")}}function d6(e,{arrayMode:t,fullResults:i,parameterizedQuery:r,resultCallback:a,types:o}){let l=new dQ.default(o),d=e.fields.map(e=>e.name),p=e.fields.map(e=>l.getTypeParser(e.dataTypeID)),c=!0===t?e.rows.map(e=>e.map((e,t)=>null===e?null:p[t](e))):e.rows.map(e=>Object.fromEntries(e.map((e,t)=>[d[t],null===e?null:p[t](e)])));return a&&a(r,e,c,{arrayMode:t,fullResults:i}),i?(e.viaNeonFetch=!0,e.rowAsArray=t,e.rows=c,e._parsers=p,e._types=l,e):c}ly(d0,"neon"),ly(d2,"createNeonQueryPromise"),ly(d6,"processQueryResult");var d4=lx(dv()),d3=lx(dG()),d5=class extends dK.Client{constructor(e){super(e),this.config=e}get neonConfig(){return this.connection.stream}connect(e){let{neonConfig:t}=this;t.forceDisablePgSSL&&(this.ssl=this.connection.ssl=!1),this.ssl&&t.useSecureWebSocket&&console.warn("SSL is enabled for both Postgres (e.g. ?sslmode=require in the connection string + forceDisablePgSSL = false) and the WebSocket tunnel (useSecureWebSocket = true). Double encryption will increase latency and CPU usage. It may be appropriate to disable SSL in the Postgres connection parameters or set forceDisablePgSSL = true.");let i=this.config?.host!==void 0||this.config?.connectionString!==void 0||void 0!==ll.env.PGHOST,r=ll.env.USER??ll.env.USERNAME;if(!i&&"localhost"===this.host&&this.user===r&&this.database===r&&null===this.password)throw Error(`No datab\
ase host or connection string was set, and key parameters have default values (h\
ost: localhost, user: ${r}, db: ${r}, password: null). Is an environment variabl\
e missing? Alternatively, if you intended to connect with these parameters, plea\
se set the host to 'localhost' explicitly.`);let a=super.connect(e),o=t.pipelineTLS&&this.ssl,l="password"===t.pipelineConnect;if(!o&&!t.pipelineConnect)return a;let d=this.connection;if(o&&d.on("connect",()=>d.stream.emit("data","S")),l){d.removeAllListeners("authenticationCleartextPassword"),d.removeAllListeners("readyForQuery"),d.once("readyForQuery",()=>d.on("readyForQuery",this._handleReadyForQuery.bind(this)));let e=this.ssl?"sslconnect":"connect";d.on(e,()=>{this._handleAuthCleartextPassword(),this._handleReadyForQuery()})}return a}async _handleAuthSASLContinue(e){let t=this.saslSession,i=this.password,r=e.data;if("SASLInitialResponse"!==t.message||"string"!=typeof i||"string"!=typeof r)throw Error("SASL: protocol error");let a=Object.fromEntries(r.split(",").map(e=>{if(!/^.=/.test(e))throw Error("SASL: Invalid attribute pair entry");return[e[0],e.substring(2)]})),o=a.r,l=a.s,d=a.i;if(!o||!/^[!-+--~]+$/.test(o))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing/unprintable");if(!l||!/^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(l))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing/not base64");if(!d||!/^[1-9][0-9]*$/.test(d))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: missing/invalid iteration count");if(!o.startsWith(t.clientNonce))throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce");if(o.length===t.clientNonce.length)throw Error("SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short");let p=parseInt(d,10),c=lo.from(l,"base64"),u=new TextEncoder,h=u.encode(i),m=await ls.subtle.importKey("raw",h,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),g=new Uint8Array(await ls.subtle.sign("HMAC",m,lo.concat([c,lo.from([0,0,0,1])]))),y=g;for(var v=0;v<p-1;v++)g=new Uint8Array(await ls.subtle.sign("HMAC",m,g)),y=lo.from(y.map((e,t)=>y[t]^g[t]));let b=y,w=await ls.subtle.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),_=new Uint8Array(await ls.subtle.sign("HMAC",w,u.encode("Client Key"))),x=await ls.subtle.digest("SHA-256",_),S="n=*,r="+t.clientNonce,E="r="+o+",s="+l+",i="+p,k="c=biws,r="+o,T=S+","+E+","+k,C=await ls.subtle.importKey("raw",x,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var N=new Uint8Array(await ls.subtle.sign("HMAC",C,u.encode(T))),O=lo.from(_.map((e,t)=>_[t]^N[t])).toString("base64");let P=await ls.subtle.importKey("raw",b,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),I=await ls.subtle.sign("HMAC",P,u.encode("Server Key")),L=await ls.subtle.importKey("raw",I,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);var D=lo.from(await ls.subtle.sign("HMAC",L,u.encode(T)));t.message="SASLResponse",t.serverSignature=D.toString("base64"),t.response=k+",p="+O,this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)}};ly(d5,"NeonClient");var d8=d5;function d9(e,t){let i,r;return t?{callback:t,result:void 0}:{callback:ly(function(e,t){e?i(e):r(t)},"cb"),result:new e(function(e,t){r=e,i=t})}}ly(d9,"promisify");var d7=class extends dK.Pool{constructor(){super(...arguments),lE(this,"Client",d8),lE(this,"hasFetchUnsupportedListeners",!1)}on(e,t){return"error"!==e&&(this.hasFetchUnsupportedListeners=!0),super.on(e,t)}query(e,t,i){if(!dT.poolQueryViaFetch||this.hasFetchUnsupportedListeners||"function"==typeof e)return super.query(e,t,i);"function"==typeof t&&(i=t,t=void 0);let r=d9(this.Promise,i);i=r.callback;try{let r=new d4.default(this.options),a=encodeURIComponent,o=encodeURI,l=`postgresql://${a(r.user)}:${a(r.password)}@${a(r.host)}/${o(r.database)}`,d="string"==typeof e?e:e.text,p=t??e.values??[];d0(l,{fullResults:!0,arrayMode:"array"===e.rowMode})(d,p,{types:e.types??this.options?.types}).then(e=>i(void 0,e)).catch(e=>i(e))}catch(e){i(e)}return r.result}};ly(d7,"NeonPool");var pe=d7;d3.ClientBase,d3.Connection,d3.DatabaseError,d3.Query,d3.defaults,d3.types;var pt=class extends Error{constructor(e,t){super(`VercelPostgresError - '${e}': ${t}`),this.code=e,this.name="VercelPostgresError"}};function pi(e="pool"){let t;switch(e){case"pool":t=process.env.POSTGRES_URL;break;case"direct":t=process.env.POSTGRES_URL_NON_POOLING;break;default:{let t=e;throw new pt("invalid_connection_type",`Unhandled type: ${t}`)}}return"undefined"===t&&(t=void 0),t}function pr(e){return e.includes("-pooler.")}function pa(e){try{let t=e.replace(/^postgresql:\/\//,"https://");return"localhost"===new URL(t).hostname}catch(e){if(e instanceof TypeError||"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message&&"Invalid URL"===e.message)return!1;throw e}}function pn(e,...t){var i,r;if(!ps(e)||!Array.isArray(t))throw new pt("incorrect_tagged_template_call","It looks like you tried to call `sql` as a function. Make sure to use it as a tagged template.\n	Example: sql`SELECT * FROM users`, not sql('SELECT * FROM users')");let a=null!=(i=e[0])?i:"";for(let t=1;t<e.length;t++)a+=`$${t}${null!=(r=e[t])?r:""}`;return[a,t]}function ps(e){return Array.isArray(e)&&"raw"in e&&Array.isArray(e.raw)}var po=class extends d8{async sql(e,...t){let[i,r]=pn(e,...t);return this.query(i,r)}},pl=class extends pe{constructor(e){var t;super(e),this.Client=po,this.connectionString=null!=(t=e.connectionString)?t:""}async sql(e,...t){let[i,r]=pn(e,...t);return d0(this.connectionString,{fullResults:!0})(i,r)}connect(e){return super.connect(e)}};function pd(e){var t;let i=null!=(t=null==e?void 0:e.connectionString)?t:pi("pool");if(!i)throw new pt("missing_connection_string","You did not supply a 'connectionString' and no 'POSTGRES_URL' env var was found.");if(!pa(i)&&!pr(i))throw new pt("invalid_connection_string","This connection string is meant to be used with a direct connection. Make sure to use a pooled connection string or try `createClient()` instead.");let r=null==e?void 0:e.maxUses,a=null==e?void 0:e.max;return"undefined"!=typeof EdgeRuntime&&(r&&1!==r&&console.warn("@vercel/postgres: Overriding `maxUses` to 1 because the EdgeRuntime does not support client reuse."),a&&1e4!==a&&console.warn("@vercel/postgres: Overriding `max` to 10,000 because the EdgeRuntime does not support client reuse."),r=1,a=1e4),new pl({...e,connectionString:i,maxUses:r,max:a})}var pp=new Proxy(()=>{},{get(e,t){l||(l=pd());let i=Reflect.get(l,t);return"function"==typeof i?i.bind(l):i},apply:(e,t,i)=>(l||(l=pd()),l.sql(...i))}),pc=i(34893);dT&&(dT.webSocketConstructor=pc.ZP);var pu=i(35900);class ph{static [y]="ConsoleLogWriter";write(e){console.log(e)}}class pf{static [y]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new ph}logQuery(e,t){let i=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),r=i.length?` -- params: [${i.join(", ")}]`:"";this.writer.write(`Query: ${e}${r}`)}}class pm{static [y]="NoopLogger";logQuery(){}}class pg{constructor(e,t,i,r){this.table=e,this.session=t,this.dialect=i,this.withList=r}static [y]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new py(this.table,aP(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}class py extends ow{constructor(e,t,i,r,a){super(),this.session=i,this.dialect=r,this.config={set:t,table:e,withList:a,joins:[]},this.tableName=aD(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}static [y]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(e){let t=e,i=aD(t);return"string"==typeof i&&(this.joinsNotNullableMap[i]=!0),this.config.from=t,this}getTableLikeFields(e){return v(e,sC)?e[O.Symbol.Columns]:v(e,eo)?e._.selectedFields:e[ec].selectedFields}createJoin(e){return(t,i)=>{let r=aD(t);if("string"==typeof r&&this.config.joins.some(e=>e.alias===r))throw Error(`Alias "${r}" is already used in this query`);if("function"==typeof i){let e=this.config.from&&!v(this.config.from,eg)?this.getTableLikeFields(this.config.from):void 0;i=i(new Proxy(this.config.table[O.Symbol.Columns],new op({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),e&&new Proxy(e,new op({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:i,table:t,joinType:e,alias:r}),"string"==typeof r)switch(e){case"left":this.joinsNotNullableMap[r]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[r]=!0;break;case"inner":this.joinsNotNullableMap[r]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[r]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[O.Symbol.Columns]),this.config.from)){let t=aD(this.config.from);if("string"==typeof t&&this.config.from&&!v(this.config.from,eg)){let i=this.getTableLikeFields(this.config.from);e[t]=i}for(let t of this.config.joins){let i=aD(t.table);if("string"==typeof i&&!v(t.table,eg)){let r=this.getTableLikeFields(t.table);e[i]=r}}}return this.config.returningFields=e,this.config.returning=aN(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){let t=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:o_(this.config.table)},this.cacheConfig);return t.joinsNotNullableMap=this.joinsNotNullableMap,t}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new op({alias:P(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class pv{constructor(e,t,i,r,a){this.table=e,this.session=t,this.dialect=i,this.withList=r,this.overridingSystemValue_=a}static [y]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let t=e.map(e=>{let t={},i=this.table[O.Symbol.Columns];for(let r of Object.keys(e)){let a=e[r];t[r]=v(a,eg)?a:new e_(a,i[r])}return t});return new pb(this.table,t,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let t="function"==typeof e?e(new oL):e;if(!v(t,eg)&&!aO(this.table[x],t._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new pb(this.table,t,this.session,this.dialect,this.withList,!0)}}class pb extends ow{constructor(e,t,i,r,a,o,l){super(),this.session=i,this.dialect=r,this.config={table:e,values:t,withList:a,select:o,overridingSystemValue_:l}}static [y]="PgInsert";config;cacheConfig;returning(e=this.config.table[O.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=aN(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=ex`do nothing`;else{let t="";t=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let i=e.where?ex` where ${e.where}`:void 0;this.config.onConflict=ex`(${ex.raw(t)})${i} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let t=e.where?ex` where ${e.where}`:void 0,i=e.targetWhere?ex` where ${e.targetWhere}`:void 0,r=e.setWhere?ex` where ${e.setWhere}`:void 0,a=this.dialect.buildUpdateSet(this.config.table,aP(this.config.table,e.set)),o="";return o=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=ex`(${ex.raw(o)})${i} do update set ${a}${t}${r}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return ep.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:o_(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>ep.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new op({alias:P(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class pw extends ow{constructor(e,t,i,r){super(),this.session=t,this.dialect=i,this.config={table:e,withList:r}}static [y]="PgDelete";config;cacheConfig;where(e){return this.config.where=e,this}returning(e=this.config.table[O.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=aN(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return ep.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"delete",tables:o_(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>ep.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new op({alias:P(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class p_ extends eg{constructor(e){super(p_.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=p_.buildCount(e.source,e.filters)}sql;token;static [y]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,t){return ex`(select count(*) from ${e}${ex.raw(" where ").if(t)}${t})`}static buildCount(e,t){return ex`select count(*) as count from ${e}${ex.raw(" where ").if(t)}${t};`}setToken(e){return this.token=e,this}then(e,t){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}class px{constructor(e,t,i,r,a,o,l){this.fullSchema=e,this.schema=t,this.tableNamesMap=i,this.table=r,this.tableConfig=a,this.dialect=o,this.session=l}static [y]="PgRelationalQueryBuilder";findMany(e){return new pS(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new pS(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class pS extends ow{constructor(e,t,i,r,a,o,l,d,p){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=i,this.table=r,this.tableConfig=a,this.dialect=o,this.session=l,this.config=d,this.mode=p}static [y]="PgRelationalQuery";_prepare(e){return ep.startActiveSpan("drizzle.prepareQuery",()=>{let{query:t,builtQuery:i}=this._toSQL();return this.session.prepareQuery(i,void 0,e,!0,(e,i)=>{let r=e.map(e=>sH(this.schema,this.tableConfig,e,t.selection,i));return"first"===this.mode?r[0]:r})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return ep.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}class pE extends ow{constructor(e,t,i,r){super(),this.execute=e,this.sql=t,this.query=i,this.mapBatchResult=r}static [y]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class pk extends ow{constructor(e,t,i){super(),this.session=t,this.dialect=i,this.config={view:e}}static [y]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return ep.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>ep.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}class pT{constructor(e,t,i){if(this.dialect=e,this.session=t,this._=i?{schema:i.schema,fullSchema:i.fullSchema,tableNamesMap:i.tableNamesMap,session:t}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:t},this.query={},this._.schema)for(let[r,a]of Object.entries(this._.schema))this.query[r]=new px(i.fullSchema,this._.schema,this._.tableNamesMap,i.fullSchema[r],a,e,t);this.$cache={invalidate:async e=>{}}}static [y]="PgDatabase";query;$with=(e,t)=>{let i=this;return{as:r=>("function"==typeof r&&(r=r(new oL(i.dialect))),new Proxy(new el(r.getSQL(),t??("getSelectedFields"in r?r.getSelectedFields()??{}:{}),e,!0),new op({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new p_({source:e,filters:t,session:this.session})}$cache;with(...e){let t=this;return{select:function(i){return new ox({fields:i??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(i){return new ox({fields:i??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},selectDistinctOn:function(i,r){return new ox({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:{on:i}})},update:function(i){return new pg(i,t.session,t.dialect,e)},insert:function(i){return new pv(i,t.session,t.dialect,e)},delete:function(i){return new pw(i,t.session,t.dialect,e)}}}select(e){return new ox({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new ox({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,t){return new ox({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new pg(e,this.session,this.dialect)}insert(e){return new pv(e,this.session,this.dialect)}delete(e){return new pw(e,this.session,this.dialect)}refreshMaterializedView(e){return new pk(e,this.session,this.dialect)}authToken;execute(e){let t="string"==typeof e?ex.raw(e):e.getSQL(),i=this.dialect.sqlToQuery(t),r=this.session.prepareQuery(i,void 0,void 0,!1);return new pE(()=>r.execute(void 0,this.authToken),t,i,e=>r.mapResult(e,!0))}transaction(e,t){return this.session.transaction(e,t)}}let pA=(e,t,i=()=>t[Math.floor(Math.random()*t.length)])=>{let r=(...e)=>i(t).select(...e),a=(...e)=>i(t).selectDistinct(...e),o=(...e)=>i(t).selectDistinctOn(...e),l=(...e)=>i(t).$count(...e),d=(...e)=>i(t).with(...e),p=e=>i(t).$with(e),c=(...t)=>e.update(...t),u=(...t)=>e.insert(...t),h=(...t)=>e.delete(...t),m=(...t)=>e.execute(...t),g=(...t)=>e.transaction(...t),y=(...t)=>e.refreshMaterializedView(...t);return{...e,update:c,insert:u,delete:h,execute:m,transaction:g,refreshMaterializedView:y,$primary:e,select:r,selectDistinct:a,selectDistinctOn:o,$count:l,$with:p,with:d,get query(){return i(t).query}}};class pC{static [y]="Cache"}class pN extends pC{strategy(){return"all"}static [y]="NoopCache";async get(e){}async put(e,t,i,r){}async onMutate(e){}}async function pO(e,t){let i=`${e}-${JSON.stringify(t)}`,r=new TextEncoder().encode(i);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",r))].map(e=>e.toString(16).padStart(2,"0")).join("")}class pP extends Error{constructor(e,t,i){super(`Failed query: ${e}
params: ${t}`),this.query=e,this.params=t,this.cause=i,Error.captureStackTrace(this,pP),i&&(this.cause=i)}}class pI{constructor(e,t,i,r){this.query=e,this.cache=t,this.queryMetadata=i,this.cacheConfig=r,t&&"all"===t.strategy()&&void 0===r&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(e,t){return e}setToken(e){return this.authToken=e,this}static [y]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(e,t,i){if(void 0===this.cache||v(this.cache,pN)||void 0===this.queryMetadata)try{return await i()}catch(i){throw new pP(e,t,i)}if(this.cacheConfig&&!this.cacheConfig.enable)try{return await i()}catch(i){throw new pP(e,t,i)}if(("insert"===this.queryMetadata.type||"update"===this.queryMetadata.type||"delete"===this.queryMetadata.type)&&this.queryMetadata.tables.length>0)try{let[e]=await Promise.all([i(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return e}catch(i){throw new pP(e,t,i)}if(!this.cacheConfig)try{return await i()}catch(i){throw new pP(e,t,i)}if("select"===this.queryMetadata.type){let r=await this.cache.get(this.cacheConfig.tag??await pO(e,t),this.queryMetadata.tables,void 0!==this.cacheConfig.tag,this.cacheConfig.autoInvalidate);if(void 0===r){let r;try{r=await i()}catch(i){throw new pP(e,t,i)}return await this.cache.put(this.cacheConfig.tag??await pO(e,t),r,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],void 0!==this.cacheConfig.tag,this.cacheConfig.config),r}return r}try{return await i()}catch(i){throw new pP(e,t,i)}}}class pL{constructor(e){this.dialect=e}static [y]="PgSession";execute(e,t){return ep.startActiveSpan("drizzle.operation",()=>ep.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(t).execute(void 0,t))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,t){return Number((await this.execute(e,t))[0].count)}}class pD extends pT{constructor(e,t,i,r=0){super(e,t,i),this.schema=i,this.nestedIndex=r}static [y]="PgTransaction";rollback(){throw new og}getTransactionConfigSQL(e){let t=[];return e.isolationLevel&&t.push(`isolation level ${e.isolationLevel}`),e.accessMode&&t.push(e.accessMode),"boolean"==typeof e.deferrable&&t.push(e.deferrable?"deferrable":"not deferrable"),ex.raw(t.join(" "))}setTransaction(e){return this.session.execute(ex`set transaction ${this.getTransactionConfigSQL(e)}`)}}let{Pool:pR,types:p$}=pu;class pj extends pI{constructor(e,t,i,r,a,o,l,d,p,c,u){super({sql:t,params:i},a,o,l),this.client=e,this.queryString=t,this.params=i,this.logger=r,this.fields=d,this._isResponseInArrayMode=c,this.customResultMapper=u,this.rawQueryConfig={name:p,text:t,types:{getTypeParser:(e,t)=>e===p$.builtins.TIMESTAMPTZ?e=>e:e===p$.builtins.TIMESTAMP?e=>e:e===p$.builtins.DATE?e=>e:e===p$.builtins.INTERVAL?e=>e:1231===e?e=>e:1115===e?e=>e:1185===e?e=>e:1187===e?e=>e:1182===e?e=>e:p$.getTypeParser(e,t)}},this.queryConfig={name:p,text:t,rowMode:"array",types:{getTypeParser:(e,t)=>e===p$.builtins.TIMESTAMPTZ?e=>e:e===p$.builtins.TIMESTAMP?e=>e:e===p$.builtins.DATE?e=>e:e===p$.builtins.INTERVAL?e=>e:1231===e?e=>e:1115===e?e=>e:1185===e?e=>e:1187===e?e=>e:1182===e?e=>e:p$.getTypeParser(e,t)}}}static [y]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return ep.startActiveSpan("drizzle.execute",async()=>{let t=eE(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,t);let{fields:i,rawQueryConfig:r,client:a,queryConfig:o,joinsNotNullableMap:l,customResultMapper:d}=this;if(!i&&!d)return ep.startActiveSpan("drizzle.driver.execute",async e=>(e?.setAttributes({"drizzle.query.name":r.name,"drizzle.query.text":r.text,"drizzle.query.params":JSON.stringify(t)}),this.queryWithCache(r.text,t,async()=>await a.query(r,t))));let p=await ep.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":o.name,"drizzle.query.text":o.text,"drizzle.query.params":JSON.stringify(t)}),this.queryWithCache(o.text,t,async()=>await a.query(o,t))));return ep.startActiveSpan("drizzle.mapResponse",()=>d?d(p.rows):p.rows.map(e=>aC(i,e,l)))})}all(e={}){return ep.startActiveSpan("drizzle.execute",()=>{let t=eE(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,t),ep.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(t)}),this.queryWithCache(this.rawQueryConfig.text,t,async()=>this.client.query(this.rawQueryConfig,t)).then(e=>e.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}class pM extends pL{constructor(e,t,i,r={}){super(t),this.client=e,this.schema=i,this.options=r,this.logger=r.logger??new pm,this.cache=r.cache??new pN}static [y]="NodePgSession";logger;cache;prepareQuery(e,t,i,r,a,o,l){return new pj(this.client,e.sql,e.params,this.logger,this.cache,o,l,t,i,r,a)}async transaction(e,t){let i=this.client instanceof pR?new pM(await this.client.connect(),this.dialect,this.schema,this.options):this,r=new pU(this.dialect,i,this.schema);await r.execute(ex`begin${t?ex` ${r.getTransactionConfigSQL(t)}`:void 0}`);try{let t=await e(r);return await r.execute(ex`commit`),t}catch(e){throw await r.execute(ex`rollback`),e}finally{this.client instanceof pR&&i.client.release()}}async count(e){return Number((await this.execute(e)).rows[0].count)}}class pU extends pD{static [y]="NodePgTransaction";async transaction(e){let t=`sp${this.nestedIndex+1}`,i=new pU(this.dialect,this.session,this.schema,this.nestedIndex+1);await i.execute(ex.raw(`savepoint ${t}`));try{let r=await e(i);return await i.execute(ex.raw(`release savepoint ${t}`)),r}catch(e){throw await i.execute(ex.raw(`rollback to savepoint ${t}`)),e}}}class pF{constructor(e,t,i={}){this.client=e,this.dialect=t,this.options=i}static [y]="NodePgDriver";createSession(e){return new pM(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}}class pB extends pT{static [y]="NodePgDatabase"}function pz(e,t={}){let i,r;let a=new ov({casing:t.casing});if(!0===t.logger?i=new pf:!1!==t.logger&&(i=t.logger),t.schema){let e=sU(t.schema,sV);r={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let o=new pF(e,a,{logger:i,cache:t.cache}).createSession(r),l=new pB(a,o,r);return l.$client=e,l.$cache=t.cache,l.$cache&&(l.$cache.invalidate=t.cache?.onMutate),l}function pq(...e){if("string"==typeof e[0])return pz(new pu.Pool({connectionString:e[0]}),e[1]);if(a$(e[0])){let{connection:t,client:i,...r}=e[0];return i?pz(i,r):pz(new pu.Pool("string"==typeof t?{connectionString:t}:t),r)}return pz(e[0],e[1])}(e=>{function t(e){return pz({},e)}e.mock=t})(pq||(pq={}));let pV=async function(e={hotReload:!1}){let{hotReload:t}=e;try{let e;let i=this.logger||!1,r=this.poolOptions?.connectionString??process.env.POSTGRES_URL;if(e=!this.forceUseVercelPostgres&&r&&["127.0.0.1","localhost"].includes(new URL(r).hostname)?new pu.Pool(this.poolOptions??{connectionString:r}):this.poolOptions?new pl(this.poolOptions):pp,this.drizzle=pq({client:e,logger:i,schema:this.schema}),this.readReplicaOptions){let e=this.readReplicaOptions.map(e=>{let t={...this.poolOptions,connectionString:e},r=new pl(t);return pq({client:r,logger:i,schema:this.schema})}),t=pA(this.drizzle,e);this.drizzle=t}t||"true"!==process.env.PAYLOAD_DROP_DATABASE||(this.payload.logger.info(`---- DROPPING TABLES SCHEMA(${this.schemaName||"public"}) ----`),await this.dropDatabase({adapter:this}),this.payload.logger.info("---- DROPPED TABLES ----"))}catch(i){let t=i instanceof Error?i:Error(String(i));if(t.message?.match(/database .* does not exist/i)&&!this.disableCreateDatabase){if(this.payload.logger.info(`${t.message.charAt(0).toUpperCase()+t.message.slice(1)}, creating...`),await this.createDatabase()){await this.connect?.(e);return}}else this.payload.logger.error({err:t,msg:`Error: cannot connect to Postgres. Details: ${t.message}`});"function"==typeof this.rejectInitializing&&this.rejectInitializing(),process.exit(1)}await this.createExtensions(),"function"==typeof this.resolveInitializing&&this.resolveInitializing(),this.prodMigrations&&await this.migrate({migrations:this.prodMigrations})},pH=(0,ld.fileURLToPath)("file:///Users/clinton/Desktop/WORK_STATION/DEVLAB/clintjeez_xyz/node_modules/@payloadcms/db-vercel-postgres/dist/index.js");function pW(e={}){let t=e.idType||"serial",i="serial"===t?"number":"text",r=e.allowIDOnCreate??!1;function a({payload:a}){let o,l,d;let p=c(e.migrationDir),u=new Promise((e,t)=>{o=e,l=t});d=e.schemaName?oG(e.schemaName):{enum:ea,table:sO};let h=(e.extensions??[]).reduce((e,t)=>(e[t]=!0,e),{});return o5({name:"postgres",afterSchemaInit:e.afterSchemaInit??[],allowIDOnCreate:r,beforeSchemaInit:e.beforeSchemaInit??[],blocksAsJSON:e.blocksAsJSON??!1,createDatabase:ay,createExtensions:av,defaultDrizzleSnapshot:ab,disableCreateDatabase:e.disableCreateDatabase??!1,drizzle:void 0,enums:{},extensions:h,features:{json:!0},fieldConstraints:{},forceUseVercelPostgres:e.forceUseVercelPostgres??!1,generateSchema:g({columnToCodeConverter:aw,corePackageSuffix:"pg-core",defaultOutputFile:e.generateSchemaOutputFile,enumImport:"pgEnum",schemaImport:"pgSchema",tableImport:"pgTable"}),idType:t,indexes:new Set,initializing:u,localesSuffix:e.localesSuffix||"_locales",logger:e.logger,operators:eJ,pgSchema:d,pool:void 0,poolOptions:e.pool,prodMigrations:e.prodMigrations,push:e.push,rawRelations:{},rawTables:{},relations:{},relationshipsSuffix:e.relationshipsSuffix||"_rels",schema:{},schemaName:e.schemaName,sessions:{},tableNameMap:new Map,tables:{},tablesFilter:e.tablesFilter,transactionOptions:e.transactionOptions||void 0,updateJobs:ih,versionsSuffix:e.versionsSuffix||"_v",beginTransaction:!1===e.transactionOptions?o8():im,commitTransaction:ig,connect:pV,count:iy,countDistinct:a_,countGlobalVersions:ib,countVersions:iw,create:i_,createGlobal:ix,createGlobalVersion:iS,createJSONQuery:aE,createMigration:rV({executeMethod:"execute",filename:pH,sanitizeStatements:({sqlExecute:e,statements:t})=>`${e}
 ${t.join("\n")}\`)`}),createVersion:rH,defaultIDType:i,deleteMany:rW,deleteOne:rG,deleteVersions:rK,deleteWhere:ak,destroy:rJ,dropDatabase:aT,execute:aA,find:rQ,findGlobal:rY,findGlobalVersions:rZ,readReplicaOptions:e.readReplicas,findOne:rX,findVersions:r1,init:oa,insert:on,migrate:r9,migrateDown:at,migrateFresh:ai,migrateRefresh:ar,migrateReset:aa,migrateStatus:as,migrationDir:p,packageName:"@payloadcms/db-vercel-postgres",payload:a,queryDrafts:ao,rejectInitializing:l,requireDrizzleKit:oo,resolveInitializing:o,rollbackTransaction:al,updateGlobal:ad,updateGlobalVersion:ap,updateMany:ac,updateOne:ah,updateVersion:af,upsert:am})}return{name:"postgres",allowIDOnCreate:r,defaultIDType:i,init:a}}},79806:(e,t,i)=>{"use strict";let r;i.d(t,{g:()=>tR});var a,o,l,d,p=i(55245),c=i(79562);let u=async e=>{let{defaultFromAddress:t,defaultFromName:i,transport:r}=await h(e);return()=>({name:"nodemailer",defaultFromAddress:t,defaultFromName:i,sendEmail:async e=>await r.sendMail({from:`${i} <${t}>`,...e})})};async function h(e){let t;if(!e){let t=await g(e);if(!t)throw new c.v("Unable to create Nodemailer test account.");return{defaultFromAddress:"info@payloadcms.com",defaultFromName:"Payload",transport:t}}return"transport"in e&&e.transport?{transport:t}=e:t="transportOptions"in e&&e.transportOptions?p.createTransport(e.transportOptions):await g(e),e.skipVerify||await m(t),{defaultFromAddress:e.defaultFromAddress,defaultFromName:e.defaultFromName,transport:t}}async function m(e){try{await e.verify()}catch(e){console.error({err:e,msg:"Error verifying Nodemailer transport."})}}async function g(e){try{let t=await p.createTestAccount(),i={...e||{},auth:{pass:t.pass,user:t.user},fromAddress:e?.defaultFromAddress,fromName:e?.defaultFromName,host:"smtp.ethereal.email",port:587,secure:!1},r=p.createTransport(i),{pass:a,user:o,web:l}=t;return console.info("E-mail configured with ethereal.email test account. "),console.info(`Log into mock email provider at ${l}`),console.info(`Mock email account username: ${o}`),console.info(`Mock email account password: ${a}`),r}catch(e){if(e instanceof Error)throw console.error({err:e,msg:"There was a problem setting up the mock email handler"}),new c.v(`Unable to create Nodemailer test account. Error: ${e.message}`);throw new c.v("Unable to create Nodemailer test account.")}}let y=async e=>{if("true"!==process.env.PAYLOAD_CLOUD||!e)return;if(!e.apiKey)throw Error("apiKey must be provided to use Payload Cloud Email");if(!e.defaultDomain)throw Error("defaultDomain must be provided to use Payload Cloud Email");if(e.config.email)return console.log("Payload Cloud Email is enabled but email configuration is already provided in Payload config. If this is intentional, set `email: false` in the Payload Cloud plugin options."),e.config.email;let{apiKey:t,defaultDomain:i,skipVerify:r}=e,a=Object.keys(process.env).filter(e=>e.startsWith("PAYLOAD_CLOUD_EMAIL_DOMAIN_")&&!e.endsWith("API_KEY")).map(e=>process.env[e]).filter(Boolean);a.length&&console.log(`Configuring Payload Cloud Email for ${[i,...a||[]].join(", ")}`);let o=e.defaultFromName||"Payload CMS",l=e.defaultFromAddress||`cms@${a.length?a[0]:i}`;return await u({defaultFromAddress:l,defaultFromName:o,skipVerify:r,transport:p.createTransport({auth:{pass:t,user:"resend"},host:"smtp.resend.com",port:465,secure:!0})})},v=({collection:e,filename:t,identityID:i})=>`${i}/${process.env.PAYLOAD_CLOUD_ENVIRONMENT}/${e}/${t}`;var b=i(72339),w=i(21841),_=i(97110);function x(e){return Promise.all(Object.keys(e).reduce((t,i)=>{let r=e[i];return"string"==typeof r?t.push([i,r]):t.push(r().then(e=>[i,e])),t},[])).then(e=>e.reduce((e,[t,i])=>(e[t]=i,e),{}))}function S(e){return async t=>{e.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let{GetCredentialsForIdentityCommand:r,CognitoIdentityClient:a}=await i.e(6421).then(i.bind(i,76421)),o=i=>e.clientConfig?.[i]??e.parentClientConfig?.[i]??t?.callerClientConfig?.[i],{Credentials:{AccessKeyId:l=E(e.logger),Expiration:d,SecretKey:p=T(e.logger),SessionToken:c}=k(e.logger)}=await (e.client??new a(Object.assign({},e.clientConfig??{},{region:o("region"),profile:o("profile")}))).send(new r({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await x(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:l,secretAccessKey:p,sessionToken:c,expiration:d}}}function E(e){throw new _.mV("Response from Amazon Cognito contained no access key ID",{logger:e})}function k(e){throw new _.mV("Response from Amazon Cognito contained no credentials",{logger:e})}function T(e){throw new _.mV("Response from Amazon Cognito contained no secret key",{logger:e})}let C="IdentityIds";class N{dbName;constructor(e="aws:cognito-identity-ids"){this.dbName=e}getItem(e){return this.withObjectStore("readonly",t=>{let i=t.get(e);return new Promise(e=>{i.onerror=()=>e(null),i.onsuccess=()=>e(i.result?i.result.value:null)})}).catch(()=>null)}removeItem(e){return this.withObjectStore("readwrite",t=>{let i=t.delete(e);return new Promise((e,t)=>{i.onerror=()=>t(i.error),i.onsuccess=()=>e()})})}setItem(e,t){return this.withObjectStore("readwrite",i=>{let r=i.put({id:e,value:t});return new Promise((e,t)=>{r.onerror=()=>t(r.error),r.onsuccess=()=>e()})})}getDb(){let e=self.indexedDB.open(this.dbName,1);return new Promise((t,i)=>{e.onsuccess=()=>{t(e.result)},e.onerror=()=>{i(e.error)},e.onblocked=()=>{i(Error("Unable to access DB"))},e.onupgradeneeded=()=>{let t=e.result;t.onerror=()=>{i(Error("Failed to create object store"))},t.createObjectStore(C,{keyPath:"id"})}})}withObjectStore(e,t){return this.getDb().then(i=>{let r=i.transaction(C,e);return r.oncomplete=()=>i.close(),new Promise((e,i)=>{r.onerror=()=>i(r.error),e(t(r.objectStore(C)))}).catch(e=>{throw i.close(),e})})}}class O{store;constructor(e={}){this.store=e}getItem(e){return e in this.store?this.store[e]:null}removeItem(e){delete this.store[e]}setItem(e,t){this.store[e]=t}}let P=new O;function I(){return"object"==typeof self&&self.indexedDB?new N:"object"==typeof window&&window.localStorage?window.localStorage:P}function L({accountId:e,cache:t=I(),client:r,clientConfig:a,customRoleArn:o,identityPoolId:l,logins:d,userIdentifier:p=d&&0!==Object.keys(d).length?void 0:"ANONYMOUS",logger:c,parentClientConfig:u}){c?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let h=p?`aws:cognito-identity-credentials:${l}:${p}`:void 0,m=async p=>{let{GetIdCommand:g,CognitoIdentityClient:y}=await i.e(6421).then(i.bind(i,76421)),v=e=>a?.[e]??u?.[e]??p?.callerClientConfig?.[e],b=r??new y(Object.assign({},a??{},{region:v("region"),profile:v("profile")})),w=h&&await t.getItem(h);if(!w){let{IdentityId:i=D(c)}=await b.send(new g({AccountId:e,IdentityPoolId:l,Logins:d?await x(d):void 0}));w=i,h&&Promise.resolve(t.setItem(h,w)).catch(()=>{})}return(m=S({client:b,customRoleArn:o,logins:d,identityId:w}))(p)};return e=>m(e).catch(async e=>{throw h&&Promise.resolve(t.removeItem(h)).catch(()=>{}),e})}function D(e){throw new _.mV("Response from Amazon Cognito contained no identity ID",{logger:e})}let R=e=>L({...e});/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var $=function(){function e(e){var t=e||{},i=t.ValidationData,r=t.Username,a=t.Password,o=t.AuthParameters,l=t.ClientMetadata;this.validationData=i||{},this.authParameters=o||{},this.clientMetadata=l||{},this.username=r,this.password=a}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),j=i(14300);if("undefined"!=typeof window&&window.crypto&&(a=window.crypto),!a&&"undefined"!=typeof window&&window.msCrypto&&(a=window.msCrypto),!a&&"undefined"!=typeof global&&global.crypto&&(a=global.crypto),!a)try{a=i(6113)}catch(e){}function M(){if(a){if("function"==typeof a.getRandomValues)try{return a.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof a.randomBytes)try{return a.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")}function U(e){for(var t=e.words,i=e.sigBytes,r=[],a=0;a<i;a++){var o=t[a>>>2]>>>24-a%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}var F=function(){function e(e,t){e=this.words=e||[],void 0!=t?this.sigBytes=t:this.sigBytes=4*e.length}var t=e.prototype;return t.random=function(t){for(var i=[],r=0;r<t;r+=4)i.push(M());return new e(i,t)},t.toString=function(){return U(this)},e}(),B=i(76526);let z=q;function q(e,t){null!=e&&this.fromString(e,t)}function V(){return new q(null)}var H=!0;function W(e,t,i,r,a,o){for(;--o>=0;){var l=t*this[e++]+i[r]+a;a=Math.floor(l/67108864),i[r++]=67108863&l}return a}function G(e,t,i,r,a,o){for(var l=32767&t,d=t>>15;--o>=0;){var p=32767&this[e],c=this[e++]>>15,u=d*p+c*l;a=((p=l*p+((32767&u)<<15)+i[r]+(1073741823&a))>>>30)+(u>>>15)+d*c+(a>>>30),i[r++]=1073741823&p}return a}function K(e,t,i,r,a,o){for(var l=16383&t,d=t>>14;--o>=0;){var p=16383&this[e],c=this[e++]>>14,u=d*p+c*l;a=((p=l*p+((16383&u)<<14)+i[r]+a)>>28)+(u>>14)+d*c,i[r++]=268435455&p}return a}var J="undefined"!=typeof navigator;J&&H&&"Microsoft Internet Explorer"==navigator.appName?(q.prototype.am=G,o=30):J&&H&&"Netscape"!=navigator.appName?(q.prototype.am=W,o=26):(q.prototype.am=K,o=28),q.prototype.DB=o,q.prototype.DM=(1<<o)-1,q.prototype.DV=1<<o;var Q=52;q.prototype.FV=Math.pow(2,Q),q.prototype.F1=Q-o,q.prototype.F2=2*o-Q;var Y="0123456789abcdefghijklmnopqrstuvwxyz",Z=[];for(d=0,l=48;d<=9;++d)Z[l++]=d;for(d=10,l=97;d<36;++d)Z[l++]=d;for(d=10,l=65;d<36;++d)Z[l++]=d;function X(e){return Y.charAt(e)}function ee(e,t){var i=Z[e.charCodeAt(t)];return null==i?-1:i}function et(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function ei(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function er(e){var t=V();return t.fromInt(e),t}function ea(e,t){if(16==t)i=4;else if(8==t)i=3;else if(2==t)i=1;else if(32==t)i=5;else if(4==t)i=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var i,r=e.length,a=!1,o=0;--r>=0;){var l=ee(e,r);if(l<0){"-"==e.charAt(r)&&(a=!0);continue}a=!1,0==o?this[this.t++]=l:o+i>this.DB?(this[this.t-1]|=(l&(1<<this.DB-o)-1)<<o,this[this.t++]=l>>this.DB-o):this[this.t-1]|=l<<o,(o+=i)>=this.DB&&(o-=this.DB)}this.clamp(),a&&q.ZERO.subTo(this,this)}function en(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function es(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else if(4==e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");var t,i,r=(1<<t)-1,a=!1,o="",l=this.t,d=this.DB-l*this.DB%t;if(l-- >0)for(d<this.DB&&(i=this[l]>>d)>0&&(a=!0,o=X(i));l>=0;)d<t?i=(this[l]&(1<<d)-1)<<t-d|this[--l]>>(d+=this.DB-t):(i=this[l]>>(d-=t)&r,d<=0&&(d+=this.DB,--l)),i>0&&(a=!0),a&&(o+=X(i));return a?o:"0"}function eo(){var e=V();return q.ZERO.subTo(this,e),e}function el(){return this.s<0?this.negate():this}function ed(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(0!=(t=i-e.t))return this.s<0?-t:t;for(;--i>=0;)if(0!=(t=this[i]-e[i]))return t;return 0}function ep(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function ec(){return this.t<=0?0:this.DB*(this.t-1)+ep(this[this.t-1]^this.s&this.DM)}function eu(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s}function eh(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s}function ef(e,t){var i,r=e%this.DB,a=this.DB-r,o=(1<<a)-1,l=Math.floor(e/this.DB),d=this.s<<r&this.DM;for(i=this.t-1;i>=0;--i)t[i+l+1]=this[i]>>a|d,d=(this[i]&o)<<r;for(i=l-1;i>=0;--i)t[i]=0;t[l]=d,t.t=this.t+l+1,t.s=this.s,t.clamp()}function em(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t){t.t=0;return}var r=e%this.DB,a=this.DB-r,o=(1<<r)-1;t[0]=this[i]>>r;for(var l=i+1;l<this.t;++l)t[l-i-1]|=(this[l]&o)<<a,t[l-i]=this[l]>>r;r>0&&(t[this.t-i-1]|=(this.s&o)<<a),t.t=this.t-i,t.clamp()}function eg(e,t){for(var i=0,r=0,a=Math.min(e.t,this.t);i<a;)r+=this[i]-e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;i<this.t;)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<e.t;)r-=e[i],t[i++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[i++]=this.DV+r:r>0&&(t[i++]=r),t.t=i,t.clamp()}function ey(e,t){var i=this.abs(),r=e.abs(),a=i.t;for(t.t=a+r.t;--a>=0;)t[a]=0;for(a=0;a<r.t;++a)t[a+i.t]=i.am(0,r[a],t,a,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&q.ZERO.subTo(t,t)}function ev(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var r=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,r,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()}function eb(e,t,i){var r=e.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t){null!=t&&t.fromInt(0),null!=i&&this.copyTo(i);return}null==i&&(i=V());var o=V(),l=this.s,d=e.s,p=this.DB-ep(r[r.t-1]);p>0?(r.lShiftTo(p,o),a.lShiftTo(p,i)):(r.copyTo(o),a.copyTo(i));var c=o.t,u=o[c-1];if(0!=u){var h=u*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),m=this.FV/h,g=(1<<this.F1)/h,y=1<<this.F2,v=i.t,b=v-c,w=null==t?V():t;for(o.dlShiftTo(b,w),i.compareTo(w)>=0&&(i[i.t++]=1,i.subTo(w,i)),q.ONE.dlShiftTo(c,w),w.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--b>=0;){var _=i[--v]==u?this.DM:Math.floor(i[v]*m+(i[v-1]+y)*g);if((i[v]+=o.am(0,_,i,b,0,c))<_)for(o.dlShiftTo(b,w),i.subTo(w,i);i[v]<--_;)i.subTo(w,i)}null!=t&&(i.drShiftTo(c,t),l!=d&&q.ZERO.subTo(t,t)),i.t=c,i.clamp(),p>0&&i.rShiftTo(p,i),l<0&&q.ZERO.subTo(i,i)}}}function ew(e){var t=V();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(q.ZERO)>0&&e.subTo(t,t),t}function e_(){if(this.t<1)return 0;var e=this[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t}function ex(e){return 0==this.compareTo(e)}function eS(e,t){for(var i=0,r=0,a=Math.min(e.t,this.t);i<a;)r+=this[i]+e[i],t[i++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;i<this.t;)r+=this[i],t[i++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;i<e.t;)r+=e[i],t[i++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[i++]=r:r<-1&&(t[i++]=this.DV+r),t.t=i,t.clamp()}function eE(e){var t=V();return this.addTo(e,t),t}function ek(e){var t=V();return this.subTo(e,t),t}function eT(e){var t=V();return this.multiplyTo(e,t),t}function eA(e){var t=V();return this.divRemTo(e,t,null),t}function eC(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function eN(e){var t=V();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(q.ZERO)>0&&this.m.subTo(t,t),t}function eO(e){var t=V();return e.copyTo(t),this.reduce(t),t}function eP(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],r=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(i=t+this.m.t,e[i]+=this.m.am(0,r,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function eI(e,t){e.squareTo(t),this.reduce(t)}function eL(e,t,i){e.multiplyTo(t,i),this.reduce(i)}function eD(e,t,i){var r,a=e.bitLength(),o=er(1),l=new eC(t);if(a<=0)return o;var d=[],p=3,c=(r=a<18?1:a<48?3:a<144?4:a<768?5:6)-1,u=(1<<r)-1;if(d[1]=l.convert(this),r>1){var h=V();for(l.sqrTo(d[1],h);p<=u;)d[p]=V(),l.mulTo(h,d[p-2],d[p]),p+=2}var m,g,y=e.t-1,v=!0,b=V();for(a=ep(e[y])-1;y>=0;){for(a>=c?m=e[y]>>a-c&u:(m=(e[y]&(1<<a+1)-1)<<c-a,y>0&&(m|=e[y-1]>>this.DB+a-c)),p=r;(1&m)==0;)m>>=1,--p;if((a-=p)<0&&(a+=this.DB,--y),v)d[m].copyTo(o),v=!1;else{for(;p>1;)l.sqrTo(o,b),l.sqrTo(b,o),p-=2;p>0?l.sqrTo(o,b):(g=o,o=b,b=g),l.mulTo(b,d[m],o)}for(;y>=0&&(e[y]&1<<a)==0;)l.sqrTo(o,b),g=o,o=b,b=g,--a<0&&(a=this.DB-1,--y)}var w=l.revert(o);return i(null,w),w}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */function eR(e){return j.Buffer.from(new F().random(e).toString(),"hex")}eC.prototype.convert=eN,eC.prototype.revert=eO,eC.prototype.reduce=eP,eC.prototype.mulTo=eL,eC.prototype.sqrTo=eI,q.prototype.copyTo=et,q.prototype.fromInt=ei,q.prototype.fromString=ea,q.prototype.clamp=en,q.prototype.dlShiftTo=eu,q.prototype.drShiftTo=eh,q.prototype.lShiftTo=ef,q.prototype.rShiftTo=em,q.prototype.subTo=eg,q.prototype.multiplyTo=ey,q.prototype.squareTo=ev,q.prototype.divRemTo=eb,q.prototype.invDigit=e_,q.prototype.addTo=eS,q.prototype.toString=es,q.prototype.negate=eo,q.prototype.abs=el,q.prototype.compareTo=ed,q.prototype.bitLength=ec,q.prototype.mod=ew,q.prototype.equals=ex,q.prototype.add=eE,q.prototype.subtract=ek,q.prototype.multiply=eT,q.prototype.divide=eA,q.prototype.modPow=eD,q.ZERO=er(0),q.ONE=er(1);var e$=/^[89a-f]/i,ej="FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",eM="userAttributes.",eU=function(){function e(e){this.N=new z(ej,16),this.g=new z("2",16),this.k=new z(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=j.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,function(i,r){i&&e(i,null),t.largeAValue=r,e(null,t.largeAValue)})},t.generateRandomSmallA=function(){return new z(eR(128).toString("hex"),16)},t.generateRandomString=function(){return eR(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,i){var r=this;this.randomPassword=this.generateRandomString();var a=""+e+t+":"+this.randomPassword,o=this.hash(a),l=eR(16).toString("hex");this.SaltToHashDevices=this.padHex(new z(l,16)),this.g.modPow(new z(this.hexHash(this.SaltToHashDevices+o),16),this.N,function(e,t){e&&i(e,null),r.verifierDevices=r.padHex(t),i(null,null)})},t.calculateA=function(e,t){var i=this;this.g.modPow(e,this.N,function(e,r){e&&t(e,null),r.mod(i.N).equals(z.ZERO)&&t(Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)})},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new z(this.UHexHash,16)},t.hash=function(e){var t=new B.Sha256;t.update(e);var i=t.digestSync(),r=j.Buffer.from(i).toString("hex");return Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(j.Buffer.from(e,"hex"))},t.computehkdf=function(e,t){var i=j.Buffer.concat([this.infoBits,j.Buffer.from("\x01","utf8")]),r=new B.Sha256(t);r.update(e);var a=r.digestSync(),o=new B.Sha256(a);return o.update(i),o.digestSync().slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,i,r,a){var o=this;if(i.mod(this.N).equals(z.ZERO))throw Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,i),this.UValue.equals(z.ZERO))throw Error("U cannot be zero.");var l=""+this.poolName+e+":"+t,d=this.hash(l),p=new z(this.hexHash(this.padHex(r)+d),16);this.calculateS(p,i,function(e,t){e&&a(e,null),a(null,o.computehkdf(j.Buffer.from(o.padHex(t),"hex"),j.Buffer.from(o.padHex(o.UValue),"hex")))})},t.calculateS=function(e,t,i){var r=this;this.g.modPow(e,this.N,function(a,o){a&&i(a,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,function(e,t){e&&i(e,null),i(null,t.mod(r.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return eM},t.padHex=function(e){if(!(e instanceof z))throw Error("Not a BigInteger");var t=0>e.compareTo(z.ZERO),i=e.abs().toString(16);return i=i.length%2!=0?"0"+i:i,i=e$.test(i)?"00"+i:i,t&&(i=new z(i.split("").map(function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join(""),16).add(z.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(i=i.substring(2)),i},e}(),eF=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(j.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function eB(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ez(e,t)}function ez(e,t){return(ez=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var eq=function(e){function t(t){var i=(void 0===t?{}:t).AccessToken;return e.call(this,i||"")||this}return eB(t,e),t}(eF);function eV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,eH(e,t)}function eH(e,t){return(eH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var eW=function(e){function t(t){var i=(void 0===t?{}:t).IdToken;return e.call(this,i||"")||this}return eV(t,e),t}(eF),eG={userAgent:"aws-amplify/5.0.4",isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product},eK=function(){return eG.userAgent},eJ=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),eQ=function(){function e(e){var t=void 0===e?{}:e,i=t.IdToken,r=t.RefreshToken,a=t.AccessToken,o=t.ClockDrift;if(null==a||null==i)throw Error("Id token and Access Token must be present.");this.idToken=i,this.refreshToken=r,this.accessToken=a,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),eY=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],eZ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],eX=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=eZ[e.getUTCDay()],i=eY[e.getUTCMonth()],r=e.getUTCDate(),a=e.getUTCHours();a<10&&(a="0"+a);var o=e.getUTCMinutes();o<10&&(o="0"+o);var l=e.getUTCSeconds();return l<10&&(l="0"+l),t+" "+i+" "+r+" "+a+":"+o+":"+l+" UTC "+e.getUTCFullYear()},e}(),e1=function(){function e(e){var t=void 0===e?{}:e,i=t.Name,r=t.Value;this.Name=i||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),e0={},e2=function(){function e(){}return e.setItem=function(e,t){return e0[e]=t,e0[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(e0,e)?e0[e]:void 0},e.removeItem=function(e){return delete e0[e]},e.clear=function(){return e0={}},e}(),e6=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=e2}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),e4="undefined"!=typeof navigator?eG.isReactNative?"react-native":navigator.userAgent:"nodejs",e3=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||new e6().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var i=this,r=e.getAuthParameters();r.USERNAME=this.username;var a=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:a};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,function(e,r){if(e)return t.onFailure(e);var a=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===a?(i.Session=r.Session,t.customChallenge(o)):(i.signInUserSession=i.getCognitoUserSession(r.AuthenticationResult),i.cacheTokens(),t.onSuccess(i.signInUserSession))})},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var i,r,a=this,o=new eU(this.pool.getUserPoolName()),l=new eX,d={};null!=this.deviceKey&&(d.DEVICE_KEY=this.deviceKey),d.USERNAME=this.username,o.getLargeAValue(function(p,c){p&&t.onFailure(p),d.SRP_A=c.toString(16),"CUSTOM_AUTH"===a.authenticationFlowType&&(d.CHALLENGE_NAME="SRP_A");var u=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),h={AuthFlow:a.authenticationFlowType,ClientId:a.pool.getClientId(),AuthParameters:d,ClientMetadata:u};a.getUserContextData(a.username)&&(h.UserContextData=a.getUserContextData(a.username)),a.client.request("InitiateAuth",h,function(d,p){if(d)return t.onFailure(d);var c=p.ChallengeParameters;a.username=c.USER_ID_FOR_SRP,a.userDataKey=a.keyPrefix+"."+a.username+".userData",i=new z(c.SRP_B,16),r=new z(c.SALT,16),a.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(a.username,e.getPassword(),i,r,function(e,i){e&&t.onFailure(e);var r=l.getNowString(),d=j.Buffer.concat([j.Buffer.from(a.pool.getUserPoolName(),"utf8"),j.Buffer.from(a.username,"utf8"),j.Buffer.from(c.SECRET_BLOCK,"base64"),j.Buffer.from(r,"utf8")]),h=new B.Sha256(i);h.update(d);var m=h.digestSync(),g=j.Buffer.from(m).toString("base64"),y={};y.USERNAME=a.username,y.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,y.TIMESTAMP=r,y.PASSWORD_CLAIM_SIGNATURE=g,null!=a.deviceKey&&(y.DEVICE_KEY=a.deviceKey);var v=function(e,t){return a.client.request("RespondToAuthChallenge",e,function(i,r){return i&&"ResourceNotFoundException"===i.code&&-1!==i.message.toLowerCase().indexOf("device")?(y.DEVICE_KEY=null,a.deviceKey=null,a.randomPassword=null,a.deviceGroupKey=null,a.clearCachedDeviceKeyAndPassword(),v(e,t)):t(i,r)})},b={ChallengeName:"PASSWORD_VERIFIER",ClientId:a.pool.getClientId(),ChallengeResponses:y,Session:p.Session,ClientMetadata:u};a.getUserContextData()&&(b.UserContextData=a.getUserContextData()),v(b,function(e,i){return e?t.onFailure(e):a.authenticateUserInternal(i,o,t)})})})})},t.authenticateUserPlainUsernamePassword=function(e,t){var i=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),!r.PASSWORD){t.onFailure(Error("PASSWORD parameter is required"));return}var a=new eU(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),l={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(l.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",l,function(e,r){return e?t.onFailure(e):i.authenticateUserInternal(r,a,t)})},t.authenticateUserInternal=function(e,t,i){var r=this,a=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===a)return this.Session=e.Session,i.mfaRequired(a,o);if("SELECT_MFA_TYPE"===a)return this.Session=e.Session,i.selectMFAType(a,o);if("MFA_SETUP"===a)return this.Session=e.Session,i.mfaSetup(a,o);if("SOFTWARE_TOKEN_MFA"===a)return this.Session=e.Session,i.totpRequired(a,o);if("CUSTOM_CHALLENGE"===a)return this.Session=e.Session,i.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===a){this.Session=e.Session;var l=null,d=null,p=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(l=JSON.parse(e.ChallengeParameters.userAttributes),d=JSON.parse(e.ChallengeParameters.requiredAttributes)),d)for(var u=0;u<d.length;u++)p[u]=d[u].substr(c.length);return i.newPasswordRequired(l,p)}if("DEVICE_SRP_AUTH"===a){this.Session=e.Session,this.getDeviceResponse(i);return}this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=a,this.cacheTokens();var h=e.AuthenticationResult.NewDeviceMetadata;if(null==h)return i.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(a){if(a)return i.onFailure(a);var o={Salt:j.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:j.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=h.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:h.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:e4},function(t,a){return t?i.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===a.UserConfirmationNecessary)?i.onSuccess(r.signInUserSession,a.UserConfirmationNecessary):i.onSuccess(r.signInUserSession)})})},t.completeNewPasswordChallenge=function(e,t,i,r){var a=this;if(!e)return i.onFailure(Error("New password is required."));var o=new eU(this.pool.getUserPoolName()),l=o.getNewPasswordRequiredChallengeUserAttributePrefix(),d={};t&&Object.keys(t).forEach(function(e){d[l+e]=t[e]}),d.NEW_PASSWORD=e,d.USERNAME=this.username;var p={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:d,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(p.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",p,function(e,t){return e?i.onFailure(e):a.authenticateUserInternal(t,o,i)})},t.getDeviceResponse=function(e,t){var i=this,r=new eU(this.deviceGroupKey),a=new eX,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue(function(l,d){l&&e.onFailure(l),o.SRP_A=d.toString(16);var p={ChallengeName:"DEVICE_SRP_AUTH",ClientId:i.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:i.Session};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",p,function(t,o){if(t)return e.onFailure(t);var l=o.ChallengeParameters,d=new z(l.SRP_B,16),p=new z(l.SALT,16);r.getPasswordAuthenticationKey(i.deviceKey,i.randomPassword,d,p,function(t,r){if(t)return e.onFailure(t);var d=a.getNowString(),p=j.Buffer.concat([j.Buffer.from(i.deviceGroupKey,"utf8"),j.Buffer.from(i.deviceKey,"utf8"),j.Buffer.from(l.SECRET_BLOCK,"base64"),j.Buffer.from(d,"utf8")]),c=new B.Sha256(r);c.update(p);var u=c.digestSync(),h=j.Buffer.from(u).toString("base64"),m={};m.USERNAME=i.username,m.PASSWORD_CLAIM_SECRET_BLOCK=l.SECRET_BLOCK,m.TIMESTAMP=d,m.PASSWORD_CLAIM_SIGNATURE=h,m.DEVICE_KEY=i.deviceKey;var g={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:m,Session:o.Session};i.getUserContextData()&&(g.UserContextData=i.getUserContextData()),i.client.request("RespondToAuthChallenge",g,function(t,r){return t?e.onFailure(t):(i.signInUserSession=i.getCognitoUserSession(r.AuthenticationResult),i.cacheTokens(),e.onSuccess(i.signInUserSession))})})})})},t.confirmRegistration=function(e,t,i,r){var a={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",a,function(e){return e?i(e,null):i(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(e,t,i){var r=this,a={};a.USERNAME=this.username,a.ANSWER=e;var o=new eU(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey);var l={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:a,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:i};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",l,function(e,i){return e?t.onFailure(e):r.authenticateUserInternal(i,o,t)})},t.sendMFACode=function(e,t,i,r){var a=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var l=i||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===l&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var d={ChallengeName:l,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(d.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",d,function(e,i){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"===i.ChallengeName){a.getDeviceResponse(t);return}if(a.signInUserSession=a.getCognitoUserSession(i.AuthenticationResult),a.cacheTokens(),null==i.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(a.signInUserSession);var r=new eU(a.pool.getUserPoolName());r.generateHashDevice(i.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(e){if(e)return t.onFailure(e);var o={Salt:j.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:j.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};a.verifierDevices=o.PasswordVerifier,a.deviceGroupKey=i.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,a.randomPassword=r.getRandomPassword(),a.client.request("ConfirmDevice",{DeviceKey:i.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:a.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:e4},function(e,r){return e?t.onFailure(e):(a.deviceKey=i.AuthenticationResult.NewDeviceMetadata.DeviceKey,a.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary)?t.onSuccess(a.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(a.signInUserSession)})})})},t.changePassword=function(e,t,i,r){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return i(Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},function(e){return e?i(e,null):i(null,"SUCCESS")})},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);var t=[],i={DeliveryMedium:"SMS",AttributeName:"phone_number"};t.push(i),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.setUserMfaPreference=function(e,t,i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i(Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?i(e,null):i(null,"SUCCESS")})},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);var t=[];this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.deleteUser=function(e,t){var i=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},function(t){return t?e(t,null):(i.clearCachedUser(),e(null,"SUCCESS"))})},t.updateAttributes=function(e,t,i){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:i},function(e,i){return e?t(e,null):r.getUserData(function(){return t(null,"SUCCESS",i)},{bypassCache:!0})})},t.getUserAttributes=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,i){if(t)return e(t,null);for(var r=[],a=0;a<i.UserAttributes.length;a++){var o=new e1({Name:i.UserAttributes[a].Name,Value:i.UserAttributes[a].Value});r.push(o)}return e(null,r)})},t.getMFAOptions=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,i){return t?e(t,null):e(null,i.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise(function(i){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,i,e.clientMetadata):i()})},t.getUserData=function(e,t){var i=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return this.clearCachedUserData(),e(Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(!r){this.fetchUserData().then(function(t){e(null,t)}).catch(e);return}if(this.isFetchUserDataAndTokenRequired(t)){this.fetchUserData().then(function(e){return i.refreshSessionIfPossible(t).then(function(){return e})}).then(function(t){return e(null,t)}).catch(e);return}try{e(null,JSON.parse(r));return}catch(t){this.clearCachedUserData(),e(t,null);return}},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then(function(t){return e.cacheUserData(t),t})},t.deleteAttributes=function(e,t){var i=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return t(Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?t(e,null):i.getUserData(function(){return t(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(e,t){var i={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",i,function(t,i){return t?e(t,null):e(null,i)})},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var i="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=i+".idToken",a=i+".accessToken",o=i+".refreshToken",l=i+".clockDrift";if(this.storage.getItem(r)){var d=new eW({IdToken:this.storage.getItem(r)}),p=new eq({AccessToken:this.storage.getItem(a)}),c=new eJ({RefreshToken:this.storage.getItem(o)}),u=new eQ({IdToken:d,AccessToken:p,RefreshToken:c,ClockDrift:parseInt(this.storage.getItem(l),0)||0});if(u.isValid())return this.signInUserSession=u,e(null,this.signInUserSession);if(!c.getToken())return e(Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,i){var r=this,a=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var l="CognitoIdentityServiceProvider."+this.pool.getClientId(),d=l+".LastAuthUser";if(this.storage.getItem(d)){this.username=this.storage.getItem(d);var p=l+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(p),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:i};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.requestWithRetry("InitiateAuth",c,function(t,i){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),a(t,null);if(i){var o=i.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),a(null,r.signInUserSession)}})},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",i=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",a=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(i,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(a,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",i=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(i,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",i=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(i),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",i=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(i),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",i=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",a=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(i),this.storage.removeItem(r),this.storage.removeItem(a),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){return new eQ({IdToken:new eW(e),AccessToken:new eq(e),RefreshToken:new eJ(e)})},t.forgotPassword=function(e,t){var i={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",i,function(t,i){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(i):e.onSuccess(i)})},t.confirmPassword=function(e,t,i,r){var a={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",a,function(e){return e?i.onFailure(e):i.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(e,t,i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:i},function(e,i){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(i):t.onSuccess("SUCCESS")})},t.verifyAttribute=function(e,t,i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i.onFailure(Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?i.onFailure(e):i.onSuccess("SUCCESS")})},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(t,i){return t?e.onFailure(t):e.onSuccess(i)})},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")})},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(i){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(i)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.listDevices=function(e,t,i){if(null==this.signInUserSession||!this.signInUserSession.isValid())return i.onFailure(Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,function(e,t){return e?i.onFailure(e):i.onSuccess(t)})},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(i){return i?e.onFailure(i):(t.clearCachedUser(),e.onSuccess("SUCCESS"))})},t.signOut=function(e){var t=this;if(!e||"function"!=typeof e){this.cleanClientData();return}this.getSession(function(i,r){if(i)return e(i);t.revokeTokens(function(i){t.cleanClientData(),e(i)})})},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),i=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(i)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,i=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},function(e){if(e)return i(e);i()})},t.sendMFASelectionAnswer=function(e,t){var i=this,r={};r.USERNAME=this.username,r.ANSWER=e;var a={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(r,a){return r?t.onFailure(r):(i.Session=a.Session,"SMS_MFA"===e)?t.mfaRequired(a.ChallengeName,a.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(a.ChallengeName,a.ChallengeParameters):void 0})},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,i){return t?e.onFailure(t):e.associateSecretCode(i.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(i,r){return i?e.onFailure(i):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))})},t.verifySoftwareToken=function(e,t,i){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},function(e,t){return e?i.onFailure(e):i.onSuccess(t)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},function(e,t){if(e)return i.onFailure(e);r.Session=t.Session;var a={};a.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:a,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,function(e,t){return e?i.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),i.onSuccess(r.signInUserSession))})})},e}();function e5(){}i(62555),e5.prototype.userAgent=eK();var e8=function(e){var t=e5.category?" "+e5.category:"",i=e5.framework?" framework/"+e5.framework:"";return""+e5.prototype.userAgent+t+i};function e9(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tr(e,t)}function e7(e){var t="function"==typeof Map?new Map:void 0;return(e7=function(e){if(null===e||!ti(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return te(e,arguments,ta(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),tr(i,e)})(e)}function te(e,t,i){if(tt())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return i&&tr(a,i.prototype),a}function tt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tt=function(){return!!e})()}function ti(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}function tr(e,t){return(tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tn=function(e){function t(t,i,r,a){var o;return(o=e.call(this,t)||this).code=i,o.name=r,o.statusCode=a,o}return e9(t,e),t}(e7(Error)),ts=function(){function e(e,t,i){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(i||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var i=this;return new Promise(function(r,a){i.request(e,t,function(e,t){e?a(new tn(e.message,e.code,e.name,e.statusCode)):r(t)})})},t.requestWithRetry=function(e,t,i){var r=this;tu(function(t){return new Promise(function(i,a){r.request(e,t,function(e,t){e?a(e):i(t)})})},[t],5e3).then(function(e){return i(null,e)}).catch(function(e){return i(e)})},t.request=function(e,t,i){var r,a,o={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":e8(),"Cache-Control":"no-store"},l=Object.assign({},this.fetchOptions,{headers:o,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,l).then(function(e){return r=e,e},function(e){if(e instanceof TypeError)throw Error("Network error");throw e}).then(function(e){return e.json().catch(function(){return{}})}).then(function(e){if(r.ok)return i(null,e);a=e;var t=(e.__type||e.code).split("#").pop(),o=Error(e.message||e.Message||null);return o.name=t,o.code=t,i(o)}).catch(function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],a=Error(r.status?r.status.toString():null);return a.code=t,a.name=t,a.statusCode=r.status,i(a)}catch(e){}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return i(e)})},e}(),to={debug:function(){}},tl=function(e){var t="nonRetryable";return e&&e[t]};function td(e,t,i,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return to.debug(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch(function(a){if(to.debug("error on "+e.name,a),tl(a))throw to.debug(e.name+" non retryable error",a),a;var o=i(r,t,a);if(to.debug(e.name+" retrying in "+o+" ms"),!1!==o)return new Promise(function(e){return setTimeout(e,o)}).then(function(){return td(e,t,i,r+1)});throw a})}function tp(e){var t=100,i=100;return function(r){var a=Math.pow(2,r)*t+i*Math.random();return!(a>e)&&a}}var tc=3e5;function tu(e,t,i){return void 0===i&&(i=tc),td(e,t,tp(i))}/*!
 * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */var th=55,tf=function(){function e(e,t){var i=e||{},r=i.UserPoolId,a=i.ClientId,o=i.endpoint,l=i.fetchOptions,d=i.AdvancedSecurityDataCollectionFlag;if(!r||!a)throw Error("Both UserPoolId and ClientId are required.");if(r.length>th||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw Error("Invalid UserPoolId format.");var p=r.split("_")[0];this.userPoolId=r,this.clientId=a,this.client=new ts(p,o,l),this.advancedSecurityDataCollectionFlag=!1!==d,this.storage=e.Storage||new e6().getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,i,r,a,o){var l=this,d={ClientId:this.clientId,Username:e,Password:t,UserAttributes:i,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(d.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",d,function(t,i){return t?a(t,null):a(null,{user:new e3({Username:e,Pool:l,Storage:l.storage}),userConfirmed:i.UserConfirmed,userSub:i.UserSub,codeDeliveryDetails:i.CodeDeliveryDetails})})},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);return t?new e3({Username:t,Pool:this,Storage:this.storage}):null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var i=t.getData(e,this.userPoolId,this.clientId);if(i)return{EncodedData:i}}return{}}},e}();i(89330);let tm=null,tg=async(e,t)=>{if(tm?.isValid())return tm;if(!process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_CLIENT_ID)throw Error("PAYLOAD_CLOUD_COGNITO_USER_POOL_CLIENT_ID is required");if(!process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_ID)throw Error("PAYLOAD_CLOUD_COGNITO_USER_POOL_ID is required");let i=new tf({ClientId:process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_CLIENT_ID,UserPoolId:process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_ID}),r=new $({Password:t,Username:e}),a=new e3({Pool:i,Username:e});return tm=await new Promise((e,t)=>{a.authenticateUser(r,{onFailure:e=>{t(e)},onSuccess:t=>{e(t)}})})},ty=async()=>{let e=await tg(process.env.PAYLOAD_CLOUD_PROJECT_ID||"",process.env.PAYLOAD_CLOUD_COGNITO_PASSWORD||""),t=new b.Q({credentials:R({clientConfig:{region:"us-east-1"},identityPoolId:process.env.PAYLOAD_CLOUD_COGNITO_IDENTITY_POOL_ID||"",logins:{[`cognito-idp.us-east-1.amazonaws.com/${process.env.PAYLOAD_CLOUD_COGNITO_USER_POOL_ID}`]:e.getIdToken().getJwtToken()}})}),i=await t.config.credentials();return{identityID:i.identityId,session:e,storageClient:new w.S3({credentials:i,region:process.env.PAYLOAD_CLOUD_BUCKET_REGION})}},tv=null,tb=null,tw=async()=>{if(tv&&tb?.isValid())return{identityID:r,storageClient:tv};if({identityID:r,session:tb,storageClient:tv}=await ty(),!process.env.PAYLOAD_CLOUD_PROJECT_ID)throw Error("PAYLOAD_CLOUD_PROJECT_ID is required");if(!process.env.PAYLOAD_CLOUD_COGNITO_PASSWORD)throw Error("PAYLOAD_CLOUD_COGNITO_PASSWORD is required");if(!process.env.PAYLOAD_CLOUD_COGNITO_IDENTITY_POOL_ID)throw Error("PAYLOAD_CLOUD_COGNITO_IDENTITY_POOL_ID is required");return{identityID:r,storageClient:tv}},t_=({collection:e})=>async({doc:t,req:i})=>{try{let{identityID:i,storageClient:r}=await tw(),a=[t.filename||"",...Object.values(t?.sizes||[]).map(e=>e.filename).filter(e=>null!==e)].map(async t=>{await r.deleteObject({Bucket:process.env.PAYLOAD_CLOUD_BUCKET,Key:v({collection:e.slug,filename:t,identityID:i})})});await Promise.all(a)}catch(r){i.payload.logger.error(`There was an error while deleting files corresponding to the ${e.labels?.singular} with ID ${t.id}:`),i.payload.logger.error(r)}return t};var tx=i(81128),tS=i(57147);function tE({data:e,req:t}){let i=t.file,r=[];return i&&e.filename&&e.mimeType&&(r=[{buffer:i.data,filename:e.filename,filesize:i.size,mimeType:e.mimeType,tempFilePath:i.tempFilePath}],e?.sizes&&Object.entries(e.sizes).forEach(([i,a])=>{t.payloadUploadSizes?.[i]&&e.mimeType&&(r=r.concat([{buffer:t.payloadUploadSizes[i],filename:`${a.filename}`,filesize:t.payloadUploadSizes[i].length,mimeType:e.mimeType}]))})),r}let tk=1048576,tT=({collection:e})=>async({data:t,req:i})=>{try{let r=tE({data:t,req:i});i.payload.logger.debug({msg:`Preparing to upload ${r.length} files`});let{identityID:a,storageClient:o}=await tw(),l=r.map(async t=>{let r=t.filename;i.payload.logger.debug({fileKey:r,msg:`File buffer length: ${t.buffer.length/tk}MB`,tempFilePath:t.tempFilePath??"undefined"});let l=t.tempFilePath?tS.createReadStream(t.tempFilePath):t.buffer;t.buffer.length>0&&(i.payload.logger.debug({fileKey:r,msg:`Uploading ${r} from buffer. Size: ${t.buffer.length/tk}MB`}),await o.putObject({Body:l,Bucket:process.env.PAYLOAD_CLOUD_BUCKET,ContentType:t.mimeType,Key:v({collection:e.slug,filename:r,identityID:a})}));let d=new tx.g({client:o,params:{Body:l,Bucket:process.env.PAYLOAD_CLOUD_BUCKET,ContentType:t.mimeType,Key:v({collection:e.slug,filename:r,identityID:a})}});d.on("httpUploadProgress",e=>{e.total&&i.payload.logger.debug({fileKey:r,msg:`Uploaded part ${e.part} - ${(e.loaded||0)/tk}MB out of ${(e.total||0)/tk}MB`})}),await d.done()});await Promise.all(l)}catch(r){i.payload.logger.error(`There was an error while uploading files corresponding to the collection ${e.slug} with filename ${t.filename}:`),i.payload.logger.error(r)}return t},tA=({endpoint:e})=>({doc:t,operation:i,req:r})=>{if(!r||!process.env.PAYLOAD_CLOUD_CACHE_KEY)return t;let{payloadAPI:a}=r;return"local"!==a&&"update"===i&&tN({doc:t,endpoint:e,operation:i,req:r}),t},tC=({endpoint:e})=>({doc:t,req:i})=>{if(!i||!process.env.PAYLOAD_CLOUD_CACHE_KEY)return t;let{payloadAPI:r}=i;return"local"!==r&&tN({doc:t,endpoint:e,operation:"delete",req:i}),t};async function tN({doc:e,endpoint:t,operation:i,req:r}){if(!e.url){r.payload.logger.error({msg:"No url found on doc",project:{id:process.env.PAYLOAD_CLOUD_PROJECT_ID}});return}let a={cacheKey:process.env.PAYLOAD_CLOUD_CACHE_KEY,filepath:e.url,projectID:process.env.PAYLOAD_CLOUD_PROJECT_ID};r.payload.logger.debug({filepath:e.url,msg:"Attempting to purge cache",operation:i,project:{id:process.env.PAYLOAD_CLOUD_PROJECT_ID}});try{let e=await fetch(`${t}/api/purge-cache`,{body:JSON.stringify({...a}),headers:{"Content-Type":"application/json"},method:"POST"});r.payload.logger.debug({msg:"Purge cache result",operation:i,statusCode:e.status})}catch(e){r.payload.logger.error({body:a,err:e,msg:"/purge-cache call failed"})}}let tO=e=>"object"==typeof e&&null!==e&&"pipe"in e&&"function"==typeof e.pipe&&"destroy"in e&&"function"==typeof e.destroy,tP=async e=>{let t=[];for await(let i of e)t.push("string"==typeof i?Buffer.from(i):i);return Buffer.concat(t)},tI=({cachingOptions:e,collection:t,debug:i})=>{let r,a=86400;!1!==e&&(a=e?.maxAge||a,r=e?.collections?.[t.slug]||{}),a=r?.maxAge||a;let o=!1!==e&&!!process.env.PAYLOAD_CLOUD_CACHE_KEY&&r?.enabled!==!1;return async(e,{params:r})=>{let l="";try{let{identityID:i,storageClient:d}=await tw();l=v({collection:t.slug,filename:r.filename,identityID:i});let p=await d.getObject({Bucket:process.env.PAYLOAD_CLOUD_BUCKET,Key:l});if(!p.Body||!p.ContentType||!p.ETag)return new Response(null,{status:404,statusText:"Not Found"});if(p.Body&&tO(p.Body)){let t=p.Body;t.on("error",i=>{e.payload.logger.error({err:i,key:l,msg:"Error streaming S3 object, destroying stream"}),t.destroy()})}let c=await tP(p.Body);return new Response(c,{headers:new Headers({"Content-Length":String(p.ContentLength),"Content-Type":p.ContentType,...o&&{"Cache-Control":`public, max-age=${a}`},ETag:p.ETag}),status:200})}catch(a){if(a instanceof Error&&("AccessDenied"===a.name||"NoSuchKey"===a.name))return e.payload.logger.warn({awsErr:i?a:a.name,collectionSlug:t.slug,msg:`Requested file not found in cloud storage: ${r.filename}`,params:r,requestedKey:l}),new Response(null,{status:404,statusText:"Not Found"});return e.payload.logger.error({collectionSlug:t.slug,err:a,msg:`Error getting file from cloud storage: ${r.filename}`,params:r,requestedKey:l}),new Response("Internal Server Error",{status:500})}}},tL=()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:24},()=>e[Math.floor(Math.random()*e.length)]).join("")},tD={cron:"* * * * *",limit:10,queue:"default"},tR=e=>async t=>{let i={...t};if("true"!==process.env.PAYLOAD_CLOUD)return i;let r=e?.uploadCaching!==!1&&!!process.env.PAYLOAD_CLOUD_CACHE_KEY,a=e?.endpoint||"https://cloud-api.payloadcms.com";e?.storage!==!1&&(i={...i,collections:(i.collections||[]).map(t=>t.upload?{...t,hooks:{...t.hooks||{},afterChange:[...t.hooks?.afterChange||[],...r?[tA({endpoint:a})]:[]],afterDelete:[...t.hooks?.afterDelete||[],t_({collection:t}),...r?[tC({endpoint:a})]:[]],beforeChange:[...t.hooks?.beforeChange||[],tT({collection:t})]},upload:{..."object"==typeof t.upload?t.upload:{},disableLocalStorage:!0,handlers:[..."object"==typeof t.upload&&Array.isArray(t.upload.handlers)?t.upload.handlers:[],tI({cachingOptions:e?.uploadCaching,collection:t,debug:e?.debug})]}}:t),upload:{...i.upload||{},useTempFiles:!0}});let o=process.env.PAYLOAD_CLOUD_EMAIL_API_KEY,l=process.env.PAYLOAD_CLOUD_DEFAULT_DOMAIN;if(e?.email!==!1&&o&&l&&(i.email=await y({apiKey:o,config:i,defaultDomain:l,defaultFromAddress:e?.email?.defaultFromAddress,defaultFromName:e?.email?.defaultFromName,skipVerify:e?.email?.skipVerify})),i.globals=[...i.globals||[],{slug:"payload-cloud-instance",admin:{hidden:!0},fields:[{name:"instance",type:"text",required:!0}]}],e?.enableAutoRun===!1)return i;let d=i.jobs?.autoRun??[],p=!!i.jobs?.autoRun,c=async e=>{if(process.env.PAYLOAD_CLOUD_JOBS_INSTANCE){if((await e.findGlobal({slug:"payload-cloud-instance"})).instance===process.env.PAYLOAD_CLOUD_JOBS_INSTANCE)return!0;process.env.PAYLOAD_CLOUD_JOBS_INSTANCE=""}return!1};i.jobs?.shouldAutoRun||((i.jobs??={}).shouldAutoRun=c);let u=async e=>{let t=tL();return(process.env.PAYLOAD_CLOUD_JOBS_INSTANCE=t,await e.updateGlobal({slug:"payload-cloud-instance",data:{instance:t}}),p)?"function"==typeof d?await d(e):d:[tD]};return i.jobs.autoRun=u,i}},49564:(e,t,i)=>{"use strict";i.d(t,{k:()=>it});var r=i(66974),a=i(4641),o=i(17399),l=i(72048),d=i(77599),p=i(97651);let c=e=>({context:t,currentDepth:i,depth:r,draft:a,editorPopulationPromises:o,field:l,fieldPromises:d,findMany:c,flattenLocales:u,node:h,overrideAccess:m,parentIsLocalized:g,populationPromises:y,req:v,showHiddenFields:b})=>{let w=h.fields,_=e.find(e=>e.slug===w.blockType);_&&_?.fields?.length&&w&&(0,p.a)({context:t,currentDepth:i,data:w,depth:r,draft:a,editorPopulationPromises:o,fieldPromises:d,fields:_.fields,findMany:c,flattenLocales:u,overrideAccess:m,parentIsLocalized:g||l.localized||!1,populationPromises:y,req:v,showHiddenFields:b,siblingDoc:w})},u={ar:{inlineBlocks:{create:" {{label}}",edit:" {{}}",label:" ",remove:" {{}}"},label:""},az:{inlineBlocks:{create:"Yarat {{label}}",edit:"{{label}} redakt et",label:"Sral Bloklar",remove:"{{label}} silin"},label:"Bloklar"},bg:{inlineBlocks:{create:" {{}}",edit:" {{}}",label:" ",remove:" {{}}"},label:""},cs:{inlineBlocks:{create:"Vytvote {{t\xedtek}}",edit:"Upravit {{label}}",label:"Inline bloky",remove:"Odstrate {{label}}"},label:"Bloky"},da:{inlineBlocks:{create:"Opret {{label}}",edit:"Rediger {{label}}",label:"Indlejrede blokke",remove:"Fjern {{label}}"},label:"Blokke"},de:{inlineBlocks:{create:"Erstelle {{label}}",edit:"Bearbeite {{label}}",label:"Inline-Bl\xf6cke",remove:"Entferne {{label}}"},label:"Bl\xf6cke"},en:{inlineBlocks:{create:"Create {{label}}",edit:"Edit {{label}}",label:"Inline Blocks",remove:"Remove {{label}}"},label:"Blocks"},es:{inlineBlocks:{create:"Crear {{etiqueta}}",edit:"Editar {{etiqueta}}",label:"Bloques en l\xednea",remove:"Eliminar {{label}}"},label:"Bloques"},et:{inlineBlocks:{create:"Loo {{label}}",edit:"Muuda {{label}}",label:"Sisseehitatud plokid",remove:"Eemalda {{label}}"},label:"Plokk"},fa:{inlineBlocks:{create:" {{}}",edit:" {{}}",label:"  ",remove:" {{}}"},label:" "},fr:{inlineBlocks:{create:"Cr\xe9er {{label}}",edit:"Modifier {{label}}",label:"Blocs en ligne",remove:"Supprimer {{label}}"},label:"Blocs"},he:{inlineBlocks:{create:" {{}}",edit:" {{}}",label:" ",remove:" {{}}"},label:""},hr:{inlineBlocks:{create:"Stvori {{oznaka}}",edit:"Uredi {{label}}",label:"Unutranji blokovi",remove:"Ukloni {{oznaka}}"},label:"Blokovi"},hu:{inlineBlocks:{create:"Hozzon l\xe9tre {{c\xedmke}}",edit:"Szerkeszt\xe9s {{c\xedmke}}",label:"Be\xe1gyazott blokkok",remove:"T\xe1vol\xedtsa el a {{label}}"},label:"Blokkok"},it:{inlineBlocks:{create:"Crea {{etichetta}}",edit:"Modifica {{label}}",label:"Blocchi in linea",remove:"Rimuovi {{label}}"},label:"Blocchi"},ja:{inlineBlocks:{create:"{{label}}",edit:"{{label}}",label:"",remove:"{{}}"},label:""},ko:{inlineBlocks:{create:"{{label}} ",edit:"{{label}} ",label:" ",remove:"{{label}} "},label:""},my:{inlineBlocks:{create:"Cipta {{label}}",edit:"Sunting {{label}}",label:"Inline Blocks [SKIPPED]",remove:"Buang {{label}}"},label:""},nb:{inlineBlocks:{create:"Opprett {{label}}",edit:"Rediger {{label}}",label:"In-line blokker",remove:"Fjern {{label}}"},label:"Blokker"},nl:{inlineBlocks:{create:"Maak {{label}}",edit:"Bewerk {{label}}",label:"Inline Blocks",remove:"Verwijder {{label}}"},label:"Blokken"},pl:{inlineBlocks:{create:"Utw\xf3rz {{label}}",edit:"Edytuj {{etykieta}}",label:"Blokowanie w linii",remove:"Usu {{etykieta}}"},label:"Bloki"},pt:{inlineBlocks:{create:"Crie {{label}}",edit:"Editar {{label}}",label:"Blocos em linha",remove:"Remova {{label}}"},label:"Blocos"},ro:{inlineBlocks:{create:"Creeaz {{eticheta}}",edit:"Editai {{eticheta}}",label:"Blocuri in linie",remove:"tergei {{etichet}}"},label:"Blocuri"},rs:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:" ",remove:" {{label}}"},label:""},"rs-latin":{inlineBlocks:{create:"Kreiraj {{label}}",edit:"Izmeni {{label}}",label:"Umetnuti blokovi",remove:"Ukloni {{oznaka}}"},label:"Blokovi"},ru:{inlineBlocks:{create:" {{label}}",edit:" {{}}",label:" ",remove:" {{}}"},label:""},sk:{inlineBlocks:{create:"Vytvorte {{oznaenie}}",edit:"Upravi {{label}}",label:"Inline bloky",remove:"Odstr\xe1te {{label}}"},label:"Bloky"},sl:{inlineBlocks:{create:"Ustvari {{oznaka}}",edit:"Uredi {{label}}",label:"Vrstini bloki",remove:"Odstrani {{label}}"},label:"Bloki"},sv:{inlineBlocks:{create:"Skapa {{label}}",edit:"Redigera {{etikett}}",label:"Inline-blockar",remove:"Ta bort {{etikett}}"},label:"Block"},th:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:"",remove:" {{label}}"},label:""},tr:{inlineBlocks:{create:"{{Etiketi}} oluturun",edit:"{{Etiket}}'i d\xfczenleyin",label:"Satr \xe7i Bloklar",remove:"{{Etiketi}} kaldrn"},label:"Bloklar"},uk:{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:" ",remove:" {{}}"},label:""},vi:{inlineBlocks:{create:"To {{label}}",edit:"Chnh sa {{nh\xe3n}}",label:"Khi ni tuyn",remove:"X\xf3a {{nh\xe3n}}"},label:"Khi"},zh:{inlineBlocks:{create:"{{label}}",edit:" {{label}}",label:"",remove:"{{label}}"},label:""},"zh-TW":{inlineBlocks:{create:" {{label}}",edit:" {{label}}",label:"",remove:" {{label}}"},label:""}};var h=i(87650);function m(e){let t=(0,h.JhQ)(e);return t._headless=!0,["registerDecoratorListener","registerRootListener","registerMutationListener","getRootElement","setRootElement","getElementByKey","focus","blur"].forEach(e=>{t[e]=()=>{throw Error(`${e} is not supported in headless mode`)}}),t}function g({nodes:e}){return e.map(e=>"node"in e?e.node:e)}var y=i(71211),v=i(8964);let b={markdownFormatKind:null,regEx:/(?:)/,regExForAutoFormatting:/(?:)/,requiresParagraphStart:!1},w={...b,requiresParagraphStart:!0};function _(e){return(t,i)=>(0,v.rc)(t)&&t.getTag()==="h"+e?"#".repeat(e)+" "+i(t):null}function x(e,t){return(0,y.I3)(e)?E(e,t,0):null}_(1),_(2),_(3),_(4),_(5),_(6);let S=4;function E(e,t,i){let r=[],a=e.getChildren(),o=0;for(let l of a)if((0,y.QG)(l)){if(1===l.getChildrenSize()){let e=l.getFirstChild();if((0,y.I3)(e)){r.push(E(e,t,i+1));continue}}let a=" ".repeat(i*S),d="bullet"===e.getListType()?"- ":`${e.getStart()+o}. `;r.push(a+d+t(l)),o++}return r.join("\n")}function k(e,t){return(0,v.O)(e)?"> "+t(e):null}function T(e,t){let i={};for(let r of e){let e=t(r);e&&(i[e]?i[e].push(r):i[e]=[r])}return i}function C(e){let t=T(e,e=>e.type);return{element:t.element||[],multilineElement:t["multiline-element"]||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}let N=/[!-/:-@[-`{-~\s]/,O=/^\s{0,3}$/;function P(e){if(!(0,h.Rlh)(e))return!1;let t=e.getFirstChild();return null==t||1===e.getChildrenSize()&&(0,h.Gg4)(t)&&O.test(t.getTextContent())}function I(e,t=!1){let i=C(e),r=[...i.multilineElement,...i.element],a=!t,o=i.textFormat.filter(e=>1===e.format.length).sort((e,t)=>e.format.includes("code")&&!t.format.includes("code")?1:!e.format.includes("code")&&t.format.includes("code")?-1:0);return e=>{let t=[],l=(e||(0,h.GvG)()).getChildren();return l.forEach((e,d)=>{let p=L(e,r,o,i.textMatch);null!=p&&t.push(a&&d>0&&!P(e)&&!P(l[d-1])?"\n".concat(p):p)}),t.join("\n")}}function L(e,t,i,r){for(let a of t){if(!a.export)continue;let t=a.export(e,e=>D(e,i,r));if(null!=t)return t}return(0,h.F7b)(e)?D(e,i,r):(0,h.k$I)(e)?e.getTextContent():null}function D(e,t,i,r,a){let o=[],l=e.getChildren();r||(r=[]),a||(a=[]);t:for(let e of l){for(let l of i){if(!l.export)continue;let d=l.export(e,e=>D(e,t,i,r,[...a,...r]),(e,i)=>R(e,i,t,r,a));if(null!=d){o.push(d);continue t}}(0,h.A3A)(e)?o.push("\n"):(0,h.Gg4)(e)?o.push(R(e,e.getTextContent(),t,r,a)):(0,h.F7b)(e)?o.push(D(e,t,i,r,a)):(0,h.k$I)(e)&&o.push(e.getTextContent())}return o.join("")}function R(e,t,i,r,a){let o=t.trim(),l=o;e.hasFormat("code")||(l=l.replace(/([*_`~\\])/g,"\\$1"));let d="",p="",c="",u=$(e,!0),h=$(e,!1),m=new Set;for(let t of i){let i=t.format[0],a=t.tag;!j(e,i)||m.has(i)||(m.add(i),j(u,i)&&r.find(e=>e.tag===a)||(r.push({format:i,tag:a}),d+=a))}for(let t=0;t<r.length;t++){let i=r[t],o=j(e,i.format),l=j(h,i.format);if(o&&l)continue;let d=[...r];for(;d.length>t;){let e=d.pop();a&&e&&a.find(t=>t.tag===e.tag)||(e&&"string"==typeof e.tag&&(o?l||(c+=e.tag):p+=e.tag),r.pop())}break}return l=d+l+c,p+t.replace(o,()=>l)}function $(e,t){let i=t?e.getPreviousSibling():e.getNextSibling();if(!i){let r=e.getParentOrThrow();r.isInline()&&(i=t?r.getPreviousSibling():r.getNextSibling())}for(;i;){if((0,h.F7b)(i)){if(!i.isInline())break;let e=t?i.getLastDescendant():i.getFirstDescendant();if((0,h.Gg4)(e))return e;i=t?i.getPreviousSibling():i.getNextSibling()}if((0,h.Gg4)(i))return i;if(!(0,h.F7b)(i))break}return null}function j(e,t){return(0,h.Gg4)(e)&&e.hasFormat(t)}var M=i(56983);function U(e,t){let i=F(e.getTextContent(),t);if(!i)return null;let r=i.index||0,a=r+i[0].length,o=t.transformersByTag[i[1]];return{endIndex:a,match:i,startIndex:r,transformer:o}}function F(e,t){let i=e.match(t.openTagsRegExp);if(null==i)return null;for(let r of i){let i=r.replace(/^\s/,""),a=t.fullMatchRegExpByTag[i];if(null==a)continue;let o=e.match(a),l=t.transformersByTag[i];if(null!=o&&null!=l){if(!1!==l.intraword)return o;let{index:t=0}=o,i=e[t-1],r=e[t+o[0].length];if((!i||N.test(i))&&(!r||N.test(r)))return o}}return null}function B(e,t,i,r,a){let o,l,d;let p=e.getTextContent();if(a[0]===p?d=e:0===t?[d,o]=e.splitText(i):[l,d,o]=e.splitText(t,i),d.setTextContent(a[2]),r)for(let e of r.format)d.hasFormat(e)||d.toggleFormat(e);return{nodeAfter:o,nodeBefore:l,transformedNode:d}}function z(e,t){let i,r,a,o;let l=e;for(let e of t){if(!e.replace||!e.importRegExp)continue;let t=l.getTextContent().match(e.importRegExp);if(!t)continue;let d=t.index||0,p=e.getEndIndex?e.getEndIndex(l,t):d+t[0].length;!1!==p&&(void 0===i||void 0===r||d<i&&p>r)&&(i=d,r=p,a=e,o=t)}return void 0===i||void 0===r||void 0===a||void 0===o?null:{endIndex:r,match:o,startIndex:i,transformer:a}}function q(e,t,i,r,a){let o,l,d;return(0===t?[d,o]=e.splitText(i):[l,d,o]=e.splitText(t,i),r.replace)?{nodeAfter:o,nodeBefore:l,transformedNode:(d?r.replace(d,a):void 0)||void 0}:null}function V(e,t,i){let r=U(e,t),a=z(e,i);if(r&&a&&(r.startIndex<=a.startIndex&&r.endIndex>=a.endIndex?a=null:r=null),r){let a=B(e,r.startIndex,r.endIndex,r.transformer,r.match);a.nodeAfter&&(0,h.Gg4)(a.nodeAfter)&&!a.nodeAfter.hasFormat("code")&&V(a.nodeAfter,t,i),a.nodeBefore&&(0,h.Gg4)(a.nodeBefore)&&!a.nodeBefore.hasFormat("code")&&V(a.nodeBefore,t,i),a.transformedNode&&(0,h.Gg4)(a.transformedNode)&&!a.transformedNode.hasFormat("code")&&V(a.transformedNode,t,i)}else if(a){let r=q(e,a.startIndex,a.endIndex,a.transformer,a.match);if(!r)return;r.nodeAfter&&(0,h.Gg4)(r.nodeAfter)&&!r.nodeAfter.hasFormat("code")&&V(r.nodeAfter,t,i),r.nodeBefore&&(0,h.Gg4)(r.nodeBefore)&&!r.nodeBefore.hasFormat("code")&&V(r.nodeBefore,t,i),r.transformedNode&&(0,h.Gg4)(r.transformedNode)&&!r.transformedNode.hasFormat("code")&&V(r.transformedNode,t,i)}let o=e.getTextContent().replace(/\\([*_`~])/g,"$1");e.setTextContent(o)}function H(e,t=!1){let i=C(e),r=K(i.textFormat);return(e,a)=>{let o=e.split("\n"),l=o.length,d=a||(0,h.GvG)();d.clear();for(let e=0;e<l;e++){let t=o[e],[a,l]=W(o,e,i.multilineElement,d);if(a){e=l;continue}G(t,d,i.element,r,i.textMatch)}for(let e of d.getChildren())!t&&P(e)&&d.getChildrenSize()>1&&e.remove();null!==(0,h.dL7)()&&d.selectStart()}}function W(e,t,i,r){for(let a of i){let{handleImportAfterStartMatch:i,regExpEnd:o,regExpStart:l,replace:d}=a,p=e[t]?.match(l);if(!p)continue;if(i){let o=i({lines:e,rootNode:r,startLineIndex:t,startMatch:p,transformer:a});if(null===o)continue;if(o)return o}let c="object"==typeof o&&"regExp"in o?o.regExp:o,u=o&&"object"==typeof o&&"optional"in o?o.optional:!o,h=t,m=e.length;for(;h<m;){let i=c?e[h]?.match(c):null;if(!i&&(!u||u&&h<m-1)||i&&t===h&&i.index===p.index){h++;continue}let a=[];if(i&&t===h)a.push(e[t].slice(p[0].length,-i[0].length));else for(let r=t;r<=h;r++){let o=e[r];if(r===t){let e=o.slice(p[0].length);a.push(e)}else if(r===h&&i){let e=o.slice(0,-i[0].length);a.push(e)}else a.push(o)}if(!1!==d(r,null,p,i,a,!0))return[!0,h];break}}return[!1,t]}function G(e,t,i,r,a){let o=(0,h.MXo)(e),l=(0,h.BEw)();for(let{regExp:r,replace:a}of(l.append(o),t.append(l),i)){let t=e.match(r);if(t&&(o.setTextContent(e.slice(t[0].length)),!1!==a(l,[o],t,!0)))break}if(V(o,r,a),l.isAttached()&&e.length>0){let e=l.getPreviousSibling();if((0,h.Rlh)(e)||(0,v.O)(e)||(0,y.I3)(e)){let t=e;if((0,y.I3)(e)){let i=e.getLastDescendant();t=null==i?null:(0,M.$s)(i,y.QG)}null!=t&&t.getTextContentSize()>0&&(t.splice(t.getChildrenSize(),0,[(0,h.Tav)(),...l.getChildren()]),l.remove())}}}function K(e){let t={},i={},r=[],a="(?<![\\\\])";for(let a of e){let{tag:e}=a;t[e]=a;let o=e.replace(/([*^+])/g,"\\$1");r.push(o),1===e.length?i[e]=RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`):i[e]=RegExp(`(?<!\\\\)(${o})((\\\\${o})?.*?[^\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?!\\\\)`)}return{fullMatchRegExpByTag:i,openTagsRegExp:RegExp(`${a}(${r.join("|")})`,"g"),transformersByTag:t}}let J=/^[\t ]*$/,Q=/^(\s*)(\d+)\.\s/,Y=/^(\s*)[-*+]\s/,Z=/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,X=/^(#{1,6})\s/,ee=/^>\s/,et=/^[ \t]*(\\`\\`\\`|```)(\w+)?/,ei=/[ \t]*(\\`\\`\\`|```)$/,er=/^[ \t]*```[^`]+(?:(?:`{1,2}|`{4,})[^`]+)*```(?:[^`]|$)/,ea=/^\|(.+)\|\s?$/,en=/^(\| ?:?-*:? ?)+\|\s?$/,es=/^[ \t]*<[a-z_][\w-]*(?:\s[^<>]*)?\/?>/i,eo=/^[ \t]*<\/[a-z_][\w-]*\s*>/i,el=e=>(t,i,r)=>{let a=e(r);a.append(...i),t.replace(a),a.select(0,0)},ed=4;function ep(e){let t=e.match(/\t/g),i=e.match(/ /g),r=0;return t&&(r+=t.length),i&&(r+=Math.floor(i.length/ed)),r}let ec=e=>(t,i,r)=>{let a=t.getPreviousSibling(),o=t.getNextSibling(),l=(0,y.oU)("check"===e?"x"===r[3]:void 0);if((0,y.I3)(o)&&o.getListType()===e){let e=o.getFirstChild();null!==e?e.insertBefore(l):o.append(l),t.remove()}else if((0,y.I3)(a)&&a.getListType()===e)a.append(l),t.remove();else{let i=(0,y.FH)(e,"number"===e?Number(r[2]):void 0);i.append(l),t.replace(i)}l.append(...i),l.select(0,0);let d=ep(r[1]);d&&l.setIndent(d)},eu=(e,t,i)=>{let r=[],a=e.getChildren(),o=0;for(let l of a)if((0,y.QG)(l)){if(1===l.getChildrenSize()){let e=l.getFirstChild();if((0,y.I3)(e)){r.push(eu(e,t,i+1));continue}}let a=" ".repeat(i*ed),d=e.getListType(),p="number"===d?`${e.getStart()+o}. `:"check"===d?`- [${l.getChecked()?"x":" "}] `:"- ";r.push(a+p+t(l)),o++}return r.join("\n")},eh={type:"element",dependencies:[v.c2],export:(e,t)=>{if(!(0,v.rc)(e))return null;let i=Number(e.getTag().slice(1));return"#".repeat(i)+" "+t(e)},regExp:X,replace:el(e=>{let t="h"+e[1].length;return(0,v.V1)(t)})},ef={type:"element",dependencies:[v.rT],export:(e,t)=>{if(!(0,v.O)(e))return null;let i=t(e).split("\n"),r=[];for(let e of i)r.push("> "+e);return r.join("\n")},regExp:ee,replace:(e,t,i,r)=>{if(r){let i=e.getPreviousSibling();if((0,v.O)(i)){i.splice(i.getChildrenSize(),0,[(0,h.Tav)(),...t]),i.select(0,0),e.remove();return}}let a=(0,v.Z1)();a.append(...t),e.replace(a),a.select(0,0)}},em={type:"element",dependencies:[y.EG,y.NK],export:(e,t)=>(0,y.I3)(e)?eu(e,t,0):null,regExp:Y,replace:ec("bullet")};function eg(e,t){let i=e.split("\n"),r=!1,a=[],o=0;for(let e=0;e<i.length;e++){let l=i[e],d=a[a.length-1];if(er.test(l)){a.push(l);continue}if(ei.test(l)){0===o&&(r=!0),1===o&&(r=!1),o>0&&o--,a.push(l);continue}if(et.test(l)){r=!0,o++,a.push(l);continue}if(r){a.push(l);continue}J.test(l)||J.test(d)||!d||X.test(d)||X.test(l)||ee.test(l)||Q.test(l)||Y.test(l)||Z.test(l)||ea.test(l)||en.test(l)||!t||es.test(l)||eo.test(l)||es.test(d)||eo.test(d)||ei.test(d)?a.push(l):a[a.length-1]=d+" "+l.trim()}return a.join("\n")}y.EG,y.NK,ec("check");let ey=[eh,ef,em,{type:"element",dependencies:[y.EG,y.NK],export:(e,t)=>(0,y.I3)(e)?eu(e,t,0):null,regExp:Q,replace:ec("number")},{type:"text-format",format:["code"],tag:"`"},{type:"text-format",format:["bold","italic"],tag:"***"},{type:"text-format",format:["bold","italic"],intraword:!1,tag:"___"},{type:"text-format",format:["bold"],tag:"**"},{type:"text-format",format:["bold"],intraword:!1,tag:"__"},{type:"text-format",format:["highlight"],tag:"=="},{type:"text-format",format:["italic"],tag:"*"},{type:"text-format",format:["italic"],intraword:!1,tag:"_"},{type:"text-format",format:["strikethrough"],tag:"~~"}];function ev(e,t=ey,i,r=!1,a=!0){let o=r?e:eg(e,a);return H(t,r)(o,i)}function eb(e=ey,t,i=!1){return I(e,i)(t)}let ew=JSON;if(void 0===e_)var e_={};let ex=e_||{};e_.JSOX=ex,ex.version="1.2.121";let eS="function"==typeof BigInt,eE=!1,ek=-1,eT=0,eA=1,eC=2,eN=3,eO=4,eP=5,eI=6,eL=7,eD=8,eR=9,e$=10,ej=12,eM=13,eU=["ab","u8","cu8","s8","u16","s16","u32","s32","u64","s64","f32","f64"],eF=null,eB=null,ez=[ArrayBuffer,Uint8Array,Uint8ClampedArray,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,null,null,Float32Array,Float64Array],eq=0,eV=1,eH=2,eW=3,eG=5,eK=6,eJ=7,eQ=8,eY=9,eZ=10,eX=11,e1=12,e0=13,e2=14,e6=15,e4=16,e3=17,e5=18,e8=19,e9=20,e7=21,te=22,tt=23,ti=24,tr=25,ta=26,tn=27,ts=28,to=29,tl=30,td=31,tp=32,tc=0,tu=1,th=2,tf=3,tm=4,tg=5,ty=6,tv={true:!0,false:!1,null:null,NaN:NaN,Infinity:1/0,undefined:void 0};class tb extends Date{constructor(e,t){super(e),this.ns=t||0}}ex.DateNS=tb;let tw=[];function t_(){let e=tw.pop();return e||(e={context:tc,current_proto:null,current_class:null,current_class_field:0,arrayType:-1,valueType:eT,elements:null}),e}function tx(e){tw.push(e)}ex.updateContext=function(){};let tS=[];function tE(){let e=tS.pop();return e?e.n=0:e={buf:null,n:0},e}function tk(e){tS.push(e)}ex.escape=function(e){let t;let i="";if(!e)return e;for(t=0;t<e.length;t++)('"'==e[t]||"\\"==e[t]||"`"==e[t]||"'"==e[t])&&(i+="\\"),i+=e[t];return i};let tT=new WeakMap,tA=new Map,tC=new Map,tN=[];function tO(){tT=new WeakMap,tA=new Map,tC=new Map,tN=[]}ex.reset=tO,ex.begin=function(e,t){let i;let r={name:null,value_type:eT,string:"",contains:null,className:null},a={line:1,col:1},o=0,l=new Map,d=eq,p=!0,c=!1,u=!1,h=null,m=null,g,y={first:null,last:null,saved:null,push(e){let t=this.saved;t?(this.saved=t.next,t.node=e,t.next=null,t.prior=this.last):t={node:e,next:null,prior:this.last},this.last?this.last.next=t:this.first=t,this.last=t,this.length++},pop(){let e=this.last;return(this.last=e.prior)||(this.first=null),e.next=this.saved,this.last&&(this.last.next=null),e.next||(e.first=null),this.saved=e,this.length--,e.node},length:0},v=[],b={},w=null,_=null,x=0,S=-1,E=tc,k=0,T=!1,C=!1,N=!1,O=!1,P=!1,I={first:null,last:null,saved:null,push(e){let t=this.saved;t?(this.saved=t.next,t.node=e,t.next=null,t.prior=this.last):t={node:e,next:null,prior:this.last},this.last?this.last.next=t:this.first=t,this.last=t},shift(){let e=this.first;return e?((this.first=e.next)||(this.last=null),e.next=this.saved,this.saved=e,e.node):null},unshift(e){let t=this.saved;this.saved=t.next,t.node=e,t.next=this.first,t.prior=null,this.first||(this.last=t),this.first=t}},L=null,D=!1,R=!1,$=!1,j=!1,M=!1,U=!1,F=!1,B=0,z=0,q=!1,V=!1,H=!1;function W(e){throw Error(`${e} at ${o} [${a.line}:${a.col}]`)}return{fromJSOX(e,t,i){if(l.get(e))throw Error("Existing fromJSOX has been registered for prototype");function r(){}if(t||(t=r),t&&!("constructor"in t))throw Error("Please pass a prototype like thing...");l.set(e,{protoCon:t.prototype.constructor,cb:i})},registerFromJSOX(e,t){throw Error("registerFromJSOX is deprecated, please update to use fromJSOX instead:"+e+t.toString())},finalError(){0!==k&&(1===k&&W("Comment began at end of document"),3===k&&W("Open comment '/*' is missing close at end of document"),4===k&&W("Incomplete '/* *' close at end of document")),D&&W("Incomplete string")},value(){this.finalError();let e=h;return h=void 0,e},reset(){d=eq,p=!0,I.last&&(I.last.next=I.save),I.save=I.first,I.first=I.last=null,y.last&&(y.last.next=y.save),y.length=0,y.save=I.first,y.first=y.last=null,g=void 0,E=tc,v=[],b={},w=null,_=null,x=0,r.value_type=eT,r.name=null,r.string="",r.className=null,a.line=1,a.col=1,u=!1,k=0,q=!1,D=!1,$=!1,j=!1,V=!1},usePrototype(e,t){b[e]=t},write(i){let r;if("string"!=typeof i&&void 0!==i&&(i=String(i)),!p)throw Error("Parser is still in an error state, please reset before resuming");for(r=this._write(i,!1);r>0&&("function"==typeof t&&function e(i,r){let a,o,l=i[r];if(l&&"object"==typeof l)for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(void 0!==(o=e(l,a))?l[a]=o:delete l[a]);return t.call(i,r,l)}({"":h},""),h=e(h),!(r<2));r=this._write());},parse(e,t){"string"!=typeof e&&(e=String(e)),this.reset();let i=this._write(e,!0);if(i>0){let e=this.value();if(void 0===e&&i>1)throw Error("Pending value could not complete");return"function"==typeof t?function e(i,r){let a,o,l=i[r];if(l&&"object"==typeof l)for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(void 0!==(o=e(l,a))?l[a]=o:delete l[a]);return t.call(i,r,l)}({"":e},""):e}this.finalError()},_write(e,t){let b,W,G;let K=0;function J(e,t){throw Error(`${e} '${String.fromCodePoint(t)}' unexpected at ${o} (near '${G.substr(o>4?o-4:0,o>4?3:o-1)}[${String.fromCodePoint(t)}]${G.substr(o,10)}') [${a.line}:${a.col}]`)}function Q(){r.value_type=eT,r.string="",r.contains=null}function Y(){let e=null;switch(r.value_type){case eP:if(!(r.string.length>13)&&(13!=r.string.length||!(r[0]>"2"))||V||P||O||C||(H=!0),H){if(eS)return BigInt(r.string);throw Error("no builtin BigInt()",0)}if(V){let e=r.string.match(/\.(\d\d\d\d*)/),t=e?e[1]:null;if(!t||t.length<4){let e=new Date(r.string);return isNaN(e.getTime())&&J("Bad Date format",b),e}{let e=t.substr(3);for(;e.length<6;)e+="0";let i=new tb(r.string,Number(e));return isNaN(i.getTime())&&J("Bad DateNS format"+i+i.getTime(),b),i}}return(u?-1:1)*Number(r.string);case eO:if(r.className){if((e=l.get(r.className))||(e=tC.get(r.className)),e&&e.cb)return r.className=null,e.cb.call(r.string);throw Error("Double string error, no constructor for: new "+r.className+"("+r.string+")")}return r.string;case eC:return!0;case eN:return!1;case eL:case eD:return NaN;case eR:return-1/0;case e$:return 1/0;case eA:return null;case ek:case ej:return;case eI:if(r.className&&((e=l.get(r.className))||(e=tC.get(r.className)),r.className=null,e&&e.cb))return r.contains=e.cb.call(r.contains);return r.contains;case eM:if(S>=0){let e;if(e=r.contains.length?tj(r.contains[0]):tj(r.string),0===S)return S=-1,e;{let t=new ez[S](e);return S=-1,t}}if(-2===S){let e,t=m,i=r.contains.length;for(e=0;e<i;e++){let a=r.contains[e],o=t[a];if(!o){let a=y.first,l=0;for(;a&&l<i&&l<y.length;){let i=r.contains[l];if(!a.next||i!==a.next.node.name)break;if(a.next){if("number"==typeof i){let e=a.next.node.elements;if(e&&i>=e.length){if(l===y.length-1){console.log("This is actually at the current object so use that",l,r.contains,g),o=g,l++,a=a.next;break}if(a.next.next&&i===e.length){o=a.next.next.node.elements,a=a.next,l++,t=o;continue}o=g,l++;break}}else{if(i!==a.next.node.name){o=a.next.node.elements[i],e=l;break}o=a.next.next?a.next.next.node.elements:g}}else o=o[i];a=a.next,l++}e=l<i?l-1:l}if("object"==typeof o&&!o)throw Error("Path did not resolve properly:"+r.contains+" at "+a+"("+e+")");t=o}return S=-3,t}if(r.className&&((e=l.get(r.className))||(e=tC.get(r.className)),r.className=null,e&&e.cb))return e.cb.call(r.contains);return r.contains;default:console.log("Unhandled value conversion.",r)}}function Z(){if(-3==S){r.value_type===eI&&g.push(r.contains),S=-1;return}r.value_type===ej?(g.push(void 0),delete g[g.length-1]):g.push(Y()),Q()}function X(){if(-3===S&&r.value_type===eM){Q(),S=-1;return}if(r.value_type===ej)return;!r.name&&_&&(r.name=_.fields[x++]);let e=Y();w&&w.protoDef&&w.protoDef.cb?(e=w.protoDef.cb.call(g,r.name,e))&&(g[r.name]=e):g[r.name]=e,Q()}function ee(e){if(d!==eq){switch(u&&J("Negative outside of quotes, being converted to a string (would lose count of leading '-' characters)",e),d){case td:switch(r.value_type){case eC:r.string+="true";break;case eN:r.string+="false";break;case eA:r.string+="null";break;case e$:r.string+="Infinity";break;case eR:r.string+="-Infinity",J("Negative outside of quotes, being converted to a string",e);break;case eD:r.string+="NaN";break;case eL:r.string+="-NaN",J("Negative outside of quotes, being converted to a string",e);break;case ek:r.string+="undefined";break;case eO:case eT:break;default:console.log("Value of type "+r.value_type+" is not restored...")}break;case eV:r.string+="t";break;case eH:r.string+="tr";break;case eW:r.string+="tru";break;case eG:r.string+="f";break;case eK:r.string+="fa";break;case eJ:r.string+="fal";break;case eQ:r.string+="fals";break;case eY:r.string+="n";break;case eZ:r.string+="nu";break;case eX:r.string+="nul";break;case e1:r.string+="u";break;case e0:r.string+="un";break;case e2:r.string+="und";break;case e6:r.string+="unde";break;case e4:r.string+="undef";break;case e3:r.string+="undefi";break;case e5:r.string+="undefin";break;case e8:r.string+="undefine";break;case e9:r.string+="N";break;case e7:r.string+="Na";break;case te:r.string+="I";break;case tt:r.string+="In";break;case ti:r.string+="Inf";break;case tr:r.string+="Infi";break;case ta:r.string+="Infin";break;case tn:r.string+="Infini";break;case ts:r.string+="Infinit";break;case eq:case to:case tl:break;case tp:J("String-keyword recovery fail (after whitespace)",e)}r.value_type=eO,d<to&&(d=td)}else d=td,r.value_type=eO;if(123==e)er();else if(91==e)ea();else if(44==e);else{if(32==e||13==e||10==e||9==e||65279==e||8232==e||8233==e)return;44==e||125==e||93==e||58==e?J("Invalid character near identifier",e):r.string+=i}}function et(e){let t=0;for(;0==t&&o<G.length;){i=G.charAt(o);let l=G.codePointAt(o++);if(l>=65536&&(i+=G.charAt(o),o++),a.col++,l==e)$?(F?J("Incomplete hexidecimal sequence",l):U?J("Incomplete long unicode sequence",l):M&&J("Incomplete unicode sequence",l),j?(j=!1,t=1):r.string+=i,$=!1):t=1;else if($){if(M){if(125==l){r.string+=String.fromCodePoint(B),M=!1,U=!1,$=!1;continue}B*=16,l>=48&&l<=57?B+=l-48:l>=65&&l<=70?B+=l-65+10:l>=97&&l<=102?B+=l-97+10:(J("(escaped character, parsing hex of \\u)",l),t=-1,M=!1,$=!1);continue}if(F||U){if(0===z&&123===l){M=!0;continue}if(z<2||U&&z<4){if(B*=16,l>=48&&l<=57)B+=l-48;else if(l>=65&&l<=70)B+=l-65+10;else if(l>=97&&l<=102)B+=l-97+10;else{J(U?"(escaped character, parsing hex of \\u)":"(escaped character, parsing hex of \\x)",l),t=-1,F=!1,$=!1;continue}z++,U?4==z&&(r.string+=String.fromCodePoint(B),U=!1,$=!1):2==z&&(r.string+=String.fromCodePoint(B),F=!1,$=!1);continue}}switch(l){case 13:j=!0,a.col=1;continue;case 8232:case 8233:a.col=1;case 10:j?j=!1:a.col=1,a.line++;break;case 116:r.string+="	";break;case 98:r.string+="\b";break;case 110:r.string+="\n";break;case 114:r.string+="\r";break;case 102:r.string+="\f";break;case 118:r.string+="\v";break;case 48:r.string+="\0";break;case 120:F=!0,z=0,B=0;continue;case 117:U=!0,z=0,B=0;continue;default:r.string+=i}$=!1}else 92===l?$?(r.string+="\\",$=!1):($=!0,B=0,z=0):(j&&(j=!1,a.line++,a.col=2),r.string+=i)}return t}function ei(){let e;for(;(e=o)<G.length;){i=G.charAt(e);let l=G.codePointAt(o++);if(l>=256){a.col-=o-e,o=e;break}if(95!=l){if(a.col++,l>=48&&l<=57)N&&(P=!0),r.string+=i;else if(45==l||43==l)0!=r.string.length&&(!N||O||P)?(u&&(r.string="-"+r.string,u=!1),r.string+=i,V=!0):(45!=l||N||(u=!u),r.string+=i,O=!0);else if(78==l){if(d==eq){R=!1,d=e9;return}J("fault while parsing number;",l);break}else if(73==l){if(d==eq){R=!1,d=te;return}J("fault while parsing number;",l);break}else if(58==l&&V)u&&(r.string="-"+r.string,u=!1),r.string+=i,V=!0;else if(84==l&&V)u&&(r.string="-"+r.string,u=!1),r.string+=i,V=!0;else if(90==l&&V)u&&(r.string="-"+r.string,u=!1),r.string+=i,V=!0;else if(46==l){if(C||T||N){p=!1,J("fault while parsing number;",l);break}r.string+=i,C=!0}else if(110==l){H=!0;break}else if(T&&(l>=95&&l<=102||l>=65&&l<=70))r.string+=i;else if(120==l||98==l||111==l||88==l||66==l||79==l){if(T||"0"!=r.string){p=!1,J("fault while parsing number;",l);break}T=!0,r.string+=i}else if(101==l||69==l){if(N){p=!1,J("fault while parsing number;",l);break}r.string+=i,N=!0}else{if(32==l||13==l||10==l||9==l||47==l||35==l||44==l||125==l||93==l||123==l||91==l||34==l||39==l||96==l||58==l){a.col-=o-e,o=e;break}t&&(p=!1,J("fault while parsing number;",l));break}}}t||o!=G.length?(R=!1,r.value_type=eP,E==tc&&(q=!0)):R=!0}function er(){let e,t=th,i=null,a={};if(d>eq&&d<to&&ee(123),e=en(),E==tc){if(d==to||d==td&&(e||r.string.length)){if(e&&e.protoDef&&e.protoDef.protoCon&&(a=new e.protoDef.protoCon),!e||!e.protoDef&&r.string){if(i=v.find(e=>e.name===r.string))c?(i.fields.length=0,t=tm):(a=new i.protoCon,t=tg);else{function o(){}v.push(i={name:r.string,protoCon:e&&e.protoDef&&e.protoDef.protoCon||o.constructor,fields:[]}),t=tm}c=!1}_=i,d=eq}else d=to}else if(d==to||E===tu||E===tf||E==tg){if(d!=eq||r.value_type==eO){if(e&&e.protoDef)a=new e.protoDef.protoCon;else if(i=v.find(e=>e.name===r.string))t=tg,a={};else{function o(){}l.set(r.string,{protoCon:o.prototype.constructor,cb:null}),a=new o}d=eq}else d=eq}else if(E==th&&d==eq)return J("fault while parsing; getting field name unexpected ",b),p=!1,!1;let u=t_();return r.value_type=eI,E===tc?g=a:E==tu?r.name=g.length:(E==tf||E==tg)&&(!r.name&&_&&(r.name=_.fields[x++]),g[r.name]=a),u.context=E,u.elements=g,u.name=r.name,u.current_proto=w,u.current_class=_,u.current_class_field=x,u.valueType=r.value_type,u.arrayType=S,u.className=r.className,r.className=null,r.name=null,w=e,_=i,x=0,g=a,m||(m=g),y.push(u),Q(),E=t,!0}function ea(){if(d>eq&&d<to&&ee(91),d==td&&r.string.length){let e=eU.findIndex(e=>e===r.string);d=eq,e>=0?(S=e,r.className=r.string,r.string=null):"ref"===r.string?(r.className=null,S=-2):l.get(r.string)?r.className=r.string:tC.get(r.string)?r.className=r.string:J(`Unknown type '${r.string}' specified for array`,b)}else if(E==th||d==to||d==tl)return J("Fault while parsing; while getting field name unexpected",b),p=!1,!1;{let e=t_();r.value_type=eM;let t=[];if(E==tc)g=t;else if(E==tu)-1==S&&g.push(t),r.name=g.length;else if(E==tf){if(r.name||(console.log("This says it's resolved......."),S=-3),w&&w.protoDef){if(w.protoDef.cb){let e=w.protoDef.cb.call(g,r.name,t);void 0!==e&&(t=g[r.name]=e)}else g[r.name]=t}else g[r.name]=t}e.context=E,e.elements=g,e.name=r.name,e.current_proto=w,e.current_class=_,e.current_class_field=x,e.valueType=r.value_type,e.arrayType=-1==S?-3:S,e.className=r.className,S=-1,r.className=null,r.name=null,w=null,_=null,x=0,g=t,m||(m=t),y.push(e),Q(),E=tu}return!0}function en(){let e={protoDef:null,cls:null};return(e.protoDef=l.get(r.string))?r.className||(r.className=r.string,r.string=null):(e.protoDef=tC.get(r.string))&&!r.className&&(r.className=r.string,r.string=null),r.string&&(e.cls=v.find(e=>e.name===r.string),e.protoDef||e.cls),e.protoDef||e.cls?e:null}if(!p)return -1;for(e&&e.length?((W=tE()).buf=e,I.push(W)):(R&&(R=!1,r.value_type=eP,E==tc&&(q=!0),K=1),E!==tc&&J("Unclosed object at end of stream.",b));p&&(W=I.shift());){if(o=W.n,G=W.buf,D){let e=et(L);e<0?p=!1:e>0&&(D=!1,p&&(r.value_type=eO))}for(R&&ei();!q&&p&&o<G.length;){if(i=G.charAt(o),(b=G.codePointAt(o++))>=65536&&(i+=G.charAt(o),o++),a.col++,k){if(1==k){if(42==b)k=3;else{if(47!=b)return J("fault while parsing;",b);k=2}}else 2==k?(10==b||13==b)&&(k=0):3==k?42==b&&(k=4):k=47==b?0:3;continue}switch(b){case 35:k=2;break;case 47:k=1;break;case 123:er();break;case 91:ea();break;case 58:if(E==tg)d=eq,r.name=r.string,r.string="",r.value_type=eT;else if(E==th||E==tm){if(E==tm){if(!Object.keys(g).length){console.log("This is a full object, not a class def...",r.className);let e=()=>{};l.set(y.last.node.current_class.name,{protoCon:e.prototype.constructor,cb:null}),g=new e,E=tf,r.name=r.string,d=eq,r.string="",r.value_type=eT,console.log("don't do default;s do a revive...")}}else d!=eq&&d!=td&&d!=to&&d!=tl&&ee(32),d=eq,r.name=r.string,r.string="",E=E===th?tf:ty,r.value_type=eT}else E==tc?(console.log("Override colon found, allow class redefinition",E),c=!0):(E==tu?J("(in array, got colon out of string):parsing fault;",b):E==tf?J("String unexpected",b):J("(outside any object, got colon out of string):parsing fault;",b),p=!1);break;case 125:if(d==td&&(d=eq),E==tm){if(_){r.string&&_.fields.push(r.string),Q();let e=y.pop();E=tc,d=eq,r.name=e.name,g=e.elements,_=e.current_class,x=e.current_class_field,S=e.arrayType,r.value_type=e.valueType,r.className=e.className,m=null,tx(e)}else J("State error; gathering class fields, and lost the class",b)}else if(E==th||E==tg){r.value_type!=eT&&(_&&(r.name=_.fields[x++]),X()),r.value_type=eI,w&&w.protoDef&&(console.log("SOMETHING SHOULD AHVE BEEN REPLACED HERE??",w),console.log("The other version only revives on init"),g=new w.protoDef.cb(g,void 0,void 0)),r.contains=g,r.string="";let e=y.pop();E=e.context,r.name=e.name,g=e.elements,_=e.current_class,w=e.current_proto,x=e.current_class_field,S=e.arrayType,r.value_type=e.valueType,r.className=e.className,tx(e),E==tc&&(q=!0)}else if(E==tf){r.value_type===eT&&J("Fault while parsing; unexpected",b),X(),r.value_type=eI,r.contains=g,d=eq;let e=y.pop();E=e.context,r.name=e.name,g=e.elements,w=e.current_proto,_=e.current_class,x=e.current_class_field,S=e.arrayType,r.value_type=e.valueType,r.className=e.className,tx(e),E==tc&&(q=!0)}else J("Fault while parsing; unexpected",b),p=!1;u=!1;break;case 93:if(d>=tl&&(d=eq),E==tu){r.value_type!=eT&&Z(),r.contains=g;{let e=y.pop();r.name=e.name,r.className=e.className,E=e.context,g=e.elements,w=e.current_proto,_=e.current_class,x=e.current_class_field,S=e.arrayType,r.value_type=e.valueType,tx(e)}r.value_type=eM,E==tc&&(q=!0)}else J(`bad context ${E}; fault while parsing`,b),p=!1;u=!1;break;case 44:d<tl&&d!=eq&&ee(b),(d==td||d==to)&&(d=eq),E==tm?_?(_.fields.push(r.string),r.string="",d=to):J("State error; gathering class fields, and lost the class",b):E==th?_?(r.name=_.fields[x++],r.value_type!=eT&&(X(),Q())):(r.string||r.value_type)&&J("State error; comma in field name and/or lost the class",b):E==tg?(_?(-3==S||r.name||(r.name=_.fields[x++]),r.value_type!=eT&&(-3!=S&&X(),Q())):r.value_type!=eT&&(X(),Q()),r.name=null):E==tu?(r.value_type==eT&&(r.value_type=ej),Z(),Q(),d=eq):E==tf&&r.value_type!=eT?(E=th,r.value_type!=eT&&(X(),Q()),d=eq):(p=!1,J("bad context; excessive commas while parsing;",b)),u=!1;break;default:switch(b){default:if(E==tc||E==tf&&d==to||E==th||d==to||E==tm)switch(b){case 96:case 34:case 39:d==eq||d==to?(r.string.length&&(console.log("IN ARRAY AND FIXING?"),r.className=r.string,r.string=""),et(b)?r.value_type=eO:(L=b,D=!0)):J("fault while parsing; quote not at start of field name",b);break;case 10:a.line++,a.col=1;case 13:case 32:case 8232:case 8233:case 9:case 65279:if(E===tc&&d===td){d=eq,E===tc&&(q=!0);break}if(d===eq||d===tl)E==tc&&r.value_type&&(q=!0);else if(d===to){if(E===tc){d=eq,q=!0;break}r.string.length&&console.log("STEP TO NEXT TOKEN."),d=tl}else p=!1,J("fault while parsing; whitepsace unexpected",b);break;default:if(eE){let e=tM.find(e=>e.firstChar>=b&&e.lastChar>b);if(e&&e.bits[(b-e.firstChar)/24]&1<<(b-e.firstChar)%24){p=!1,J(`fault while parsing object field name; \\u${b}`,b);break}}if(d==eq&&(b>=48&&b<=57||43==b||46==b||45==b)){T=!1,N=!1,V=!1,H=!1,O=!1,P=!1,C=!1,r.string=i,W.n=o,ei();break}if(d===tl&&(p=!1,J("fault while parsing; character unexpected",b)),d===eq){d=to,r.value_type=eO,r.string+=i;break}if(r.value_type==eT)d!==eq&&d!==td&&ee(b);else{if(d===td||d===to){r.string+=i;break}if(E==th){if(d==to){r.string+=i;break}J("Multiple values found in field name",b)}E==tf&&J("String unexpected",b)}}else d==eq&&(b>=48&&b<=57||43==b||46==b||45==b)?(T=!1,N=!1,V=!1,H=!1,O=!1,P=!1,C=!1,r.string=i,W.n=o,ei()):r.value_type==eT?d!=eq?ee(b):(d=td,r.string+=i,r.value_type=eO):E==th?J("Multiple values found in field name",b):E==tf?(r.value_type!=eO&&((r.value_type==eI||r.value_type==eM)&&J("String unexpected",b),ee(b)),d==tl?en()?r.string=i:J("String unexpected",b):d==td?r.string+=i:J("String unexpected",b)):E==tu&&(d==tl?(r.className||(r.className=r.string,r.string=""),r.string+=i):d==td&&(r.string+=i));break;case 96:case 34:case 39:r.string&&(r.className=r.string),r.string="",et(b)?(r.value_type=eO,d=td):(L=b,D=!0);break;case 10:a.line++,a.col=1;case 32:case 9:case 13:case 8232:case 8233:case 65279:if(d==td){if(E==tc){d=eq,q=!0;break}if(E==tf){d=tp;break}if(E==th){d=tl;break}if(E==tu){d=tl;break}}d==eq||d==tl||(d==to?r.string.length&&(d=tl):d<td&&ee(b));break;case 116:d==eq?d=eV:d==tn?d=ts:ee(b);break;case 114:d==eV?d=eH:ee(b);break;case 117:d==eH?d=eW:d==eY?d=eZ:d==eq?d=e1:ee(b);break;case 101:d==eW?(r.value_type=eC,d=td):d==eQ?(r.value_type=eN,d=td):d==e2?d=e6:d==e5?d=e8:ee(b);break;case 110:d==eq?d=eY:d==e1?d=e0:d==e3?d=e5:d==te?d=tt:d==tr?d=ta:ee(b);break;case 100:d==e0?d=e2:d==e8?(r.value_type=ek,d=td):ee(b);break;case 105:d==e4?d=e3:d==ti?d=tr:d==ta?d=tn:ee(b);break;case 108:d==eZ?d=eX:d==eX?(r.value_type=eA,d=td):d==eK?d=eJ:ee(b);break;case 102:d==eq?d=eG:d==e6?d=e4:d==tt?d=ti:ee(b);break;case 97:d==eG?d=eK:d==e9?d=e7:ee(b);break;case 115:d==eJ?d=eQ:ee(b);break;case 73:d==eq?d=te:ee(b);break;case 78:d==eq?d=e9:d==e7?(r.value_type=u?eL:eD,u=!1,d=td):ee(b);break;case 121:d==ts?(r.value_type=u?eR:e$,u=!1,d=td):ee(b);break;case 45:d==eq?u=!u:ee(b);break;case 43:d!==eq&&ee(b)}}if(q){d==td&&(d=eq);break}}if(o==G.length?(tk(W),D||R||E==th?K=0:E==tc&&(r.value_type!=eT||h)&&(q=!0,K=1)):(W.n=o,I.unshift(W),K=2),q){m=null;break}}return p?(q&&r.value_type!=eT&&(d=eq,h=Y(),u=!1,r.string="",r.value_type=eT),q=!1,K):-1}}};let tP=[Object.freeze(ex.begin())],tI=0;function tL(){return this&&this.valueOf()}ex.parse=function(e,t){let i,r=tI++;tP.length<=r&&tP.push(Object.freeze(ex.begin())),i=tP[r],"string"!=typeof e&&(e=String(e)),i.reset();let a=i._write(e,!0);if(a>0){let e=i.value();if(void 0===e&&a>1)throw Error("Pending value could not complete");return e="function"==typeof t?function e(i,r){let a,o,l=i[r];if(l&&"object"==typeof l)for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(void 0!==(o=e(l,a))?l[a]=o:delete l[a]);return t.call(i,r,l)}({"":e},""):e,tI--,e}i.finalError()},ex.defineClass=function(e,t){let i;let r=Object.keys(t);for(let e=1;e<r.length;e++){let t,i;(t=r[e-1])>(i=r[e])&&(r[e-1]=i,r[e]=t,e?e-=2:e--)}tN.push(i={name:e,tag:r.toString(),proto:Object.getPrototypeOf(t),fields:Object.keys(t)});for(let e=1;e<i.fields.length;e++)if(i.fields[e]<i.fields[e-1]){let t=i.fields[e-1];i.fields[e-1]=i.fields[e],i.fields[e]=t,e>1&&(e-=2)}i.proto===Object.getPrototypeOf({})&&(i.proto=null)},ex.toJSOX=ex.registerToJSOX=function(e,t,i){if(t.prototype&&t.prototype===Object.prototype){let r=Object.keys(t).toString();if(tA.get(r))throw Error("Existing toJSOX has been registered for object type");tA.set(r,{external:!0,name:e,cb:i})}else{if(tT.get(t.prototype))throw Error("Existing toJSOX has been registered for prototype");tT.set(t.prototype,{external:!0,name:e||i.constructor.name,cb:i})}},ex.fromJSOX=function(e,t,i){function r(){}if(t||(t=r.prototype),tC.get(e))throw Error("Existing fromJSOX has been registered for prototype");if(t&&!("constructor"in t))throw Error("Please pass a prototype like thing...");tC.set(e,{protoCon:t.prototype.constructor,cb:i})},ex.registerFromJSOX=function(e,t){throw Error("deprecated; please adjust code to use fromJSOX:"+e+t.toString())},ex.addType=function(e,t,i,r){ex.toJSOX(e,t,i),ex.fromJSOX(e,t,r)},ex.registerToFrom=function(e,t){throw Error("registerToFrom deprecated; please use addType:"+e+t.toString())},ex.stringifier=function(){let e=[],t='"',i=new WeakMap,r=[],a=[],o=new WeakMap,l=new Map,d=null,p=[],c=!1;function u(e){return"string"==typeof e&&""===e?'""':"number"!=typeof e||isNaN(e)?e.includes("\uFEFF")?t+ex.escape(e)+t:e in tv||/[0-9\-]/.test(e[0])||/[\n\r\t #\[\]{}()<>\~!+*/.:,\-"'`]/.test(e)?t+ex.escape(e)+t:e:["'",e.toString(),"'"].join("")}tT.get(Object.prototype)||(tT.set(Object.prototype,{external:!1,name:Object.prototype.constructor.name,cb:null}),tT.set(Date.prototype,{external:!1,name:"Date",cb:function(){if(-621672192e5===this.getTime())return"0000-01-01T00:00:00.000Z";let e=-this.getTimezoneOffset(),t=e>=0?"+":"-",i=function(e){let t=Math.floor(Math.abs(e));return(t<10?"0":"")+t},r=function(e){let t=Math.floor(Math.abs(e));return(t<100?"0":"")+(t<10?"0":"")+t};return[this.getFullYear(),"-",i(this.getMonth()+1),"-",i(this.getDate()),"T",i(this.getHours()),":",i(this.getMinutes()),":",i(this.getSeconds()),"."+r(this.getMilliseconds())+t,i(e/60),":",i(e%60)].join("")}}),tT.set(tb.prototype,{external:!1,name:"DateNS",cb:function(){let e=-this.getTimezoneOffset(),t=e>=0?"+":"-",i=function(e){let t=Math.floor(Math.abs(e));return(t<10?"0":"")+t},r=function(e){let t=Math.floor(Math.abs(e));return(t<100?"0":"")+(t<10?"0":"")+t},a=function(e){let t=Math.floor(Math.abs(e));return(t<1e5?"0":"")+(t<1e4?"0":"")+(t<1e3?"0":"")+(t<100?"0":"")+(t<10?"0":"")+t};return[this.getFullYear(),"-",i(this.getMonth()+1),"-",i(this.getDate()),"T",i(this.getHours()),":",i(this.getMinutes()),":",i(this.getSeconds()),"."+r(this.getMilliseconds())+a(this.ns)+t,i(e/60),":",i(e%60)].join("")}}),tT.set(Boolean.prototype,{external:!1,name:"Boolean",cb:tL}),tT.set(Number.prototype,{external:!1,name:"Number",cb:function(){return isNaN(this)?"NaN":isFinite(this)?String(this):this<0?"-Infinity":"Infinity"}}),tT.set(String.prototype,{external:!1,name:"String",cb:function(){return'"'+ex.escape(tL.apply(this))+'"'}}),"function"==typeof BigInt&&tT.set(BigInt.prototype,{external:!1,name:"BigInt",cb:function(){return this+"n"}}),tT.set(ArrayBuffer.prototype,{external:!0,name:"ab",cb:function(){return"["+u(t$(this))+"]"}}),tT.set(Uint8Array.prototype,{external:!0,name:"u8",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(Uint8ClampedArray.prototype,{external:!0,name:"uc8",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(Int8Array.prototype,{external:!0,name:"s8",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(Uint16Array.prototype,{external:!0,name:"u16",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(Int16Array.prototype,{external:!0,name:"s16",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(Uint32Array.prototype,{external:!0,name:"u32",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(Int32Array.prototype,{external:!0,name:"s32",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(Float32Array.prototype,{external:!0,name:"f32",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(Float64Array.prototype,{external:!0,name:"f64",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(Float64Array.prototype,{external:!0,name:"f64",cb:function(){return"["+u(t$(this.buffer))+"]"}}),tT.set(RegExp.prototype,eB={external:!0,name:"regex",cb:function(e,t){return"'"+escape(this.source)+"'"}}),tC.set("regex",{protoCon:RegExp,cb:function(e,t){return new RegExp(this)}}),tT.set(Map.prototype,eB={external:!0,name:"map",cb:null}),tC.set("map",{protoCon:Map,cb:function(e,t){if(e){this.set(e,t);return}return this}}),tT.set(Array.prototype,eF={external:!1,name:Array.prototype.constructor.name,cb:null}));let h={defineClass(t,i){let r;let a=Object.keys(i);for(let e=1;e<a.length;e++){let t,i;(t=a[e-1])>(i=a[e])&&(a[e-1]=i,a[e]=t,e?e-=2:e--)}e.push(r={name:t,tag:a.toString(),proto:Object.getPrototypeOf(i),fields:Object.keys(i)});for(let e=1;e<r.fields.length;e++)if(r.fields[e]<r.fields[e-1]){let t=r.fields[e-1];r.fields[e-1]=r.fields[e],r.fields[e]=t,e>1&&(e-=2)}r.proto===Object.getPrototypeOf({})&&(r.proto=null)},setDefaultObjectToJSOX(e){d=e},isEncoding:e=>!!a.find((t,i)=>t===e&&i<a.length-1),encodeObject(e){return d?d.apply(e,[this]):e},stringify:(e,t,i)=>y(e,t,i),setQuote(e){t=e},registerToJSOX(e,t,i){return this.toJSOX(e,t,i)},toJSOX(e,t,i){if(t.prototype&&t.prototype!==Object.prototype){if(o.get(t.prototype))throw Error("Existing toJSOX has been registered for prototype");o.set(t.prototype,{external:!0,name:e||i.constructor.name,cb:i})}else{let r=Object.keys(t).toString();if(l.get(r))throw Error("Existing toJSOX has been registered for object type");l.set(r,{external:!0,name:e,cb:i})}},get ignoreNonEnumerable(){return c},set ignoreNonEnumerable(val){c=val}};return h;function m(e){if(null===e)return;let t=i.get(e);if(!t){i.set(e,ew.stringify(r));return}return"ref"+t}function g(t,i){let r,a;let o=Object.getPrototypeOf(t);if(a=e.find(e=>{if(e.proto&&e.proto===o)return!0}))return a;if(e.length||tN.length){if(i)r=(i=i.map(e=>"string"==typeof e?e:void 0)).toString();else{let e=Object.keys(t);for(let t=1;t<e.length;t++){let i,r;(i=e[t-1])>(r=e[t])&&(e[t-1]=r,e[t]=i,t?t-=2:t--)}r=e.toString()}(a=e.find(e=>{if(e.tag===r)return!0}))||(a=tN.find(e=>{if(e.tag===r)return!0}))}return a}function y(t,y,v){let b,w,_,x;if(void 0===t)return"undefined";if(null===t)return;let S=typeof v,E=typeof y;if(b="",w="","number"===S)for(x=0;x<v;x+=1)w+=" ";else"string"===S&&(w=v);if(_=y,y&&"function"!==E&&("object"!==E||"number"!=typeof y.length))throw Error("JSOX.stringify");r.length=0,i=new WeakMap;let k=T("",{"":t});return tN.length=0,k;function T(t,i){var y=b;let v=eF.cb,x=eB.cb;eF.cb=E,eB.cb=k;let S=C(t,i);return eF.cb=v,eB.cb=x,S;function E(){let e=[],t=r.length;for(let i=0;i<this.length;i+=1)r[t]=i,e[i]=T(i,this)||"null";return r.length=t,a.length=t,0===e.length?"[]":b?["[\n",b,e.join(",\n"+b),"\n",y,"]"].join(""):"["+e.join(",")+"]"}function k(){let e={tmp:null},t="{",i=!0;for(let[a,o]of this){e.tmp=o;let l=r.length;r[l]=a,t+=(i?"":",")+u(a)+":"+T("tmp",e),r.length=l,i=!1}return t+"}"}function C(t,i){let v,x,S,E,k,C,N;let O=r.length,P=!0,I=i[t],L="object"==typeof I;L&&null!==I&&d&&!p.find(e=>e===I)&&(p.push(I),a[O]=I,P=!1,L="object"==typeof(I=d.apply(I,[h])),p.pop(),a.length=O,L="object"==typeof I);let D=null!=I&&Object.getPrototypeOf(I),R=D&&(o.get(D)||tT.get(D)||null),$=!R&&null!=I&&(l.get(Object.keys(I).toString())||tA.get(Object.keys(I).toString())||null);"function"==typeof _&&(P=!1,I=_.call(i,t,I));let j=R&&R.cb||$&&$.cb;if(null!=I&&"object"==typeof I&&"function"==typeof j){if(p.find(e=>e===I))S=m(I);else{if("object"==typeof I&&(S=m(I)))return S;p.push(I),a[O]=I,I=j.call(I,h),P=!1,p.pop(),R&&R.name&&"string"==typeof I&&"-"!==I[0]&&(I[0]<"0"||I[0]>"9")&&'"'!==I[0]&&"'"!==I[0]&&"`"!==I[0]&&"["!==I[0]&&"{"!==I[0]&&(I=" "+I),a.length=O}}else if("object"==typeof I&&(S=m(I)))return S;switch(typeof I){case"bigint":return I+"n";case"string":{I=P?u(I):I;let i="";if(""===t&&(i=e.map(e=>e.name+"{"+e.fields.join(",")+"}").join(b?"\n":"")+tN.map(e=>e.name+"{"+e.fields.join(",")+"}").join(b?"\n":"")+(b?"\n":"")),R&&R.external)return i+R.name+I;if($&&$.external)return i+$.name+I;return i+I}case"number":case"boolean":case"null":return String(I);case"object":if(S)return"ref"+S;if(!I)return"null";if(b+=w,k=null,C=[],_&&"object"==typeof _){for(v=0,E=_.length,k=g(I,_);v<E;v+=1)"string"==typeof _[v]&&(x=_[v],r[O]=x,void 0!==(S=T(x,I))&&(k?C.push(S):C.push(u(x)+(b?": ":":")+S)));r.splice(O,1)}else{k=g(I);let e=[];for(x in I)if((!c||Object.prototype.propertyIsEnumerable.call(I,x))&&Object.prototype.hasOwnProperty.call(I,x)){let t;for(t=0;t<e.length;t++)if(e[t]>x){e.splice(t,0,x);break}t==e.length&&e.push(x)}for(let t=0;t<e.length;t++)x=e[t],Object.prototype.hasOwnProperty.call(I,x)&&(r[O]=x,void 0!==(S=T(x,I))&&(k?C.push(S):C.push(u(x)+(b?": ":":")+S)));r.splice(O,1)}N=""===t?(e.map(e=>e.name+"{"+e.fields.join(",")+"}").join(b?"\n":"")||tN.map(e=>e.name+"{"+e.fields.join(",")+"}").join(b?"\n":""))+(b?"\n":""):"",R&&R.external&&(N+=u(R.name));let M=null;return k&&(M=u(k.name)),S=N+(0===C.length?"{}":b?(k?M:"")+"{\n"+b+C.join(",\n"+b)+"\n"+y+"}":(k?M:"")+"{"+C.join(",")+"}"),b=y,S}}}}};let tD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789$_",tR={"~":-1,"=":-1,$:62,_:63,"+":62,"-":62,".":62,"/":63,",":63};for(let e=0;e<tD.length;e++)tR[tD[e]]=e;function t$(e){let t,i,r,a,o,l="",d=new Uint8Array(e),p=d.byteLength,c=p%3,u=p-c;for(let e=0;e<u;e+=3)t=(16515072&(o=d[e]<<16|d[e+1]<<8|d[e+2]))>>18,i=(258048&o)>>12,r=(4032&o)>>6,a=63&o,l+=tD[t]+tD[i]+tD[r]+tD[a];return 1==c?(t=(252&(o=d[u]))>>2,i=(3&o)<<4,l+=tD[t]+tD[i]+"=="):2==c&&(t=(64512&(o=d[u]<<8|d[u+1]))>>10,i=(1008&o)>>4,r=(15&o)<<2,l+=tD[t]+tD[i]+tD[r]+"="),l}function tj(e){let t,i;let r=new ArrayBuffer(t=e.length%4==1?((e.length+3)/4|0)*3-3:e.length%4==2?((e.length+3)/4|0)*3-2:e.length%4==3?((e.length+3)/4|0)*3-1:-1==tR[e[e.length-3]]?((e.length+3)/4|0)*3-3:-1==tR[e[e.length-2]]?((e.length+3)/4|0)*3-2:-1==tR[e[e.length-1]]?((e.length+3)/4|0)*3-1:((e.length+3)/4|0)*3),a=new Uint8Array(r),o=e.length+3>>2;for(i=0;i<o;i++){let t=tR[e[4*i]],r=4*i+1<e.length?tR[e[4*i+1]]:-1,o=r>=0&&4*i+2<e.length?tR[e[4*i+2]]:-1,l=o>=0&&4*i+3<e.length?tR[e[4*i+3]]:-1;r>=0&&(a[3*i+0]=t<<2|r>>4),o>=0&&(a[3*i+1]=r<<4|o>>2&15),l>=0&&(a[3*i+2]=o<<6|63&l)}return r}Object.freeze(tR),ex.stringify=function(e,t,i){return ex.stringifier().stringify(e,t,i)};let tM=[[0,256,[16767487,16739071,130048,3670016,0,16777208,16777215,8388607]]].map(e=>({firstChar:e[0],lastChar:e[1],bits:e[2]}));function tU({propsString:e}){let t={},i="",r=!0;for(let a=0;a<e.length;a++){let o=e[a];if(r)"="===o||" "===o?i&&(" "===o?(t[i]=!0,i=""):r=!1):i+=o;else{let o=tF(e,a);t[i]=o.value,a=o.newIndex,i="",r=!0}}return i&&(t[i]=!0),t}function tF(e,t){let i=e[t];return'"'===i?tz(e,t):"'"===i?tz(e,t,!0):"{"===i?tq(e,t):"["===i?tB(e,t):tH(e,t)}function tB(e,t){let i=1,r="",a=t+1;for(;a<e.length&&i>0;)"["===e[a]?i++:"]"===e[a]&&i--,i>0&&(r+=e[a]),a++;return{newIndex:a,value:ex.parse(`[${r}]`)}}function tz(e,t,i=!1){let r="",a=t+1;for(;a<e.length&&(e[a]!==(i?"'":'"')||"\\"===e[a-1]);)r+=e[a],a++;return{newIndex:a,value:r}}function tq(e,t){let i=1,r="",a=t+1;for(;a<e.length&&i>0;)"{"===e[a]?i++:"}"===e[a]&&i--,i>0&&(r+=e[a]),a++;return{newIndex:a,value:tV(r)}}function tV(e){return"{"!==e[0]?ex.parse(e):ex.parse(e.replace(/(\w+):/g,'"$1":'))}function tH(e,t){let i="",r=t;for(;r<e.length&&" "!==e[r];)i+=e[r],r++;return{newIndex:r-1,value:i}}function tW({props:e}){let t=[];for(let[i,r]of Object.entries(e))"string"==typeof r?t.push(`${i}="${tG(r)}"`):"number"==typeof r?t.push(`${i}={${r}}`):"boolean"==typeof r?r&&t.push(`${i}`):null!==r&&"object"==typeof r&&(Array.isArray(r)?t.push(`${i}={[${r.map(e=>JSON.stringify(e,tK)).join(", ")}]}`):t.push(`${i}={${JSON.stringify(r,tK)}}`));return t.join(" ")}function tG(e){return e.replace(/"/g,"&quot;")}function tK(e,t){return"string"==typeof t?t.replace(/'/g,"\\'"):t}function tJ({isEndOptional:e,lines:t,regexpEndRegex:i,startLineIndex:r,startMatch:a,trimChildren:o}){let l="",d="",p=t.slice(r),c=!1,u=0,h=0,m=null,g=!1,y=0,v=p[0].slice(0,a.index),b=0,w=r;t:for(let[r,v]of p.entries()){let _=o?v.trim():v,x=0;if(o)for(let e=0;e<v.length;e++)if(" "===v[e])x++;else break;let S=0;for(0===r&&(S=(a.index??0)+a[0].length-x);S<_.length;){let e=_[S],t=_[S+1];if(c){if("`"===e&&y++,y%2==0){if("<"===e&&"/"===t){if(--u<0){"\n"===d[d.length-1]&&(d=d.slice(0,-1)),w=r;for(let e=S;e<_.length;e++)if(">"===_[e]){b=e+1;break}break t}}else if("/"===e&&">"===t){if(--u<0){"\n"===d[d.length-1]&&(d=d.slice(0,-1)),w=r,b=S+2;break t}}else"<"===e&&"/"!==t&&u++}d+=e}else{if("{"!==e||m?"}"!==e||m?'"'!==e&&"'"!==e||m?e===m&&(m=null):m=e:h--:h++,"/"!==e||">"!==t||0!==h||m){if(">"===e&&0===h&&!m){c=!0,S++;continue}}else{g=!0,w=r,b=S+2;break t}l+=e}S++}if(c?d?.length>0&&r>0&&(d+="\n"):l+="\n",i&&u<0){let e=_.match(i);if(e?.index!==void 0){w=r,b=e.index+e[0].length-1;break}}if(r===p.length-1&&!e&&!g)throw Error("End match not found for lines "+t.join("\n")+"\n\n. Start match: "+JSON.stringify(a))}return{afterEndLine:p[w].trim().slice(b),beforeStartLine:v,content:d,endLineIndex:r+w,endlineLastCharIndex:b,propsString:l}}var tQ=i(38200),tY=i(40954);class tZ extends tQ.K{__cacheBuster;__fields;constructor({cacheBuster:e,fields:t,format:i,key:r}){super(i,r),this.__fields=t,this.__cacheBuster=e||0}static clone(e){return new this({cacheBuster:e.__cacheBuster,fields:e.__fields,format:e.__format,key:e.__key})}static getType(){return"block"}static importDOM(){return{}}static importJSON(e){1===e.version&&(e={...e,fields:{...e.fields.data},version:2});let t=tX(e.fields);return t.setFormat(e.format),t}static isInline(){return!1}decorate(e,t){return null}exportDOM(){let e=document.createElement("div"),t=document.createTextNode(this.getTextContent());return e.append(t),{element:e}}exportJSON(){return{...super.exportJSON(),type:"block",fields:this.getFields(),version:2}}getCacheBuster(){return this.getLatest().__cacheBuster}getFields(){return this.getLatest().__fields}getTextContent(){return"Block Field"}setFields(e,t){let i=this.getWritable();i.__fields=e,!t&&i.__cacheBuster++}}function tX(e){return new tZ({fields:{...e,id:e?.id||new tY.default().toHexString()}})}function t1(e){return e instanceof tZ}class t0 extends h.Ijf{__cacheBuster;__fields;constructor({cacheBuster:e,fields:t,key:i}){super(i),this.__fields=t,this.__cacheBuster=e||0}static clone(e){return new this({cacheBuster:e.__cacheBuster,fields:e.__fields,key:e.__key})}static getType(){return"inlineBlock"}static importDOM(){return{}}static importJSON(e){return t2(e.fields)}static isInline(){return!1}canIndent(){return!0}createDOM(){let e=document.createElement("span");return e.classList.add("inline-block-container"),e}decorate(e,t){return null}exportDOM(){let e=document.createElement("span");e.classList.add("inline-block-container");let t=document.createTextNode(this.getTextContent());return e.append(t),{element:e}}exportJSON(){return{type:"inlineBlock",fields:this.getFields(),version:1}}getCacheBuster(){return this.getLatest().__cacheBuster}getFields(){return this.getLatest().__fields}getTextContent(){return"Block Field"}isInline(){return!0}setFields(e,t){let i=this.getWritable();i.__fields=e,!t&&i.__cacheBuster++}updateDOM(){return!1}}function t2(e){return new t0({fields:{...e,id:e?.id||new tY.default().toHexString()}})}function t6(e){return e instanceof t0}function t4(e){let t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),i=`<${t}`,r=`</${t}`,a="\\s*",o=">",l=`${i}(?=\\s|>|$)`;return{regExpEnd:RegExp(`${r}${a}${o}`,"i"),regExpStart:RegExp(l,"i")}}let t3=({blocks:e,inlineBlocks:t})=>{if(!e?.length&&!t?.length)return[];let i=[];if(e?.length)for(let t of e){let e=t5(t,!1);e&&(i=i.concat(e))}if(t?.length)for(let e of t){let t=t5(e,!0);t&&(i=i.concat(t))}return i};function t5(e,t){if(!e.jsx)return null;let i=t4(e.slug),r=[];return t?r.push(({allNodes:t,allTransformers:r})=>({type:"text-match",dependencies:[t0],export:i=>{if(!t6(i)||i.getFields()?.blockType?.toLowerCase()!==e.slug.toLowerCase())return null;let a=i.getFields(),o=t9(t,r),l=e.jsx.export({fields:a,lexicalToMarkdown:o});if(!1===l)return null;if("string"==typeof l)return l;let d=l.props&&Object.keys(l.props)?.length>0,p=l.props??{};return l?.children?.length?`<${a.blockType}${d?" "+tW({props:p}):""}>${l.children}</${a.blockType}>`:`<${a.blockType}${d?" "+tW({props:p}):""}/>`},getEndIndex:(e,t)=>{let{endlineLastCharIndex:r}=tJ({isEndOptional:!1,lines:[e.getTextContent()],regexpEndRegex:i.regExpEnd,startLineIndex:0,startMatch:t,trimChildren:!1});return r},importRegExp:e.jsx?.customStartRegex??i.regExpStart,regExp:/___ignoreignoreignore___/g,replace(a,o){let{content:l,propsString:d}=tJ({isEndOptional:!1,lines:[a.getTextContent()],regexpEndRegex:i.regExpEnd,startLineIndex:0,startMatch:{...o,index:0},trimChildren:!1});if(!e?.jsx?.import)return;let p=t8(t,r),c=e.jsx.import({children:l,closeMatch:null,htmlToLexical:null,markdownToLexical:p,openMatch:o,props:d?tU({propsString:d}):{}});if(!1===c)return;let u=t2({blockType:e.slug,...c});a.replace(u)}})):r.push(({allNodes:t,allTransformers:r})=>({dependencies:[tZ],export:i=>{if(!t1(i)||i.getFields()?.blockType?.toLowerCase()!==e.slug.toLowerCase())return null;let a=i.getFields(),o=t9(t,r),l=e.jsx.export({fields:a,lexicalToMarkdown:o});if(!1===l)return null;if("string"==typeof l)return l;let d=l.props&&Object.keys(l.props)?.length>0,p=l.props??{};if(l?.children?.length){let t=l.children,i="";if(t.includes("\n"))for(let r of t.split("\n")){let t="";e?.jsx?.doNotTrimChildren||""===r||(t="  "),t+=r+"\n",i+=t}else i=(e?.jsx?.doNotTrimChildren?"":"  ")+t+"\n";return`<${a.blockType}${d?" "+tW({props:p}):""}>
${i}</${a.blockType}>`}return`<${a.blockType}${d?" "+tW({props:p}):""}/>`},handleImportAfterStartMatch:e.jsx?.customEndRegex?void 0:({lines:i,rootNode:a,startLineIndex:o,startMatch:l,transformer:d})=>{let p="object"==typeof d.regExpEnd&&"regExp"in d.regExpEnd?d.regExpEnd.regExp:d.regExpEnd,{afterEndLine:c,beforeStartLine:u,content:m,endLineIndex:g,propsString:y}=tJ({isEndOptional:d.regExpEnd&&"object"==typeof d.regExpEnd&&"optional"in d.regExpEnd?d.regExpEnd.optional:!d.regExpEnd,lines:i,regexpEndRegex:p,startLineIndex:o,startMatch:l,trimChildren:!1}),v="";if(e?.jsx?.doNotTrimChildren)v=m.endsWith("\n")?m.slice(0,-1):m;else if(m.includes("\n")){let e=m.split("\n"),t=0;for(let i of e){if(t++,i.startsWith("  "))v+=i.slice(2);else if(""===i)v+=i;else{v=m.endsWith("\n")?m.slice(0,-1):m;break}v+=t===e.length?"":"\n"}}else v=(m.startsWith("  ")?m.slice(2):m)+"\n";if(!e?.jsx?.import)return[!1,o];let b=t8(t,r),w=e.jsx.import({children:v,closeMatch:null,htmlToLexical:null,markdownToLexical:b,openMatch:l,props:y?tU({propsString:y}):{}});if(!1===w)return[!1,o];let _=tX({blockType:e.slug,...w});if(_){let e=null,t=null;if(u?.length){e=b({markdown:u})?.root?.children??[];let t=e?.[0];t&&a.append((0,h.oCe)(t))}if(a.append(_),c?.length){t=b({markdown:c})?.root?.children;let e=a.getChildren()[a.getChildren().length-1],i=h.oCe(t[0])?.getChildren();if(i?.length)for(let t of i)e.append(t)}}return[!0,g]},regExpEnd:e.jsx?.customEndRegex??i.regExpEnd,regExpStart:e.jsx?.customStartRegex??i.regExpStart,type:"multiline-element",replace:(i,a,o,l,d)=>{if(e?.jsx?.import){if(!d){let e="";if(a)for(let t of a)e+=t.getTextContent();d=[e]}let p="";p=e?.jsx?.doNotTrimChildren?d.join("\n"):d.join("\n").trim();let c=o[1]?.trim(),u=t8(t,r),h=e.jsx.import({children:p,closeMatch:l,htmlToLexical:null,markdownToLexical:u,openMatch:o,props:c?tU({propsString:c}):{}});if(!1===h)return!1;let m=tX({blockType:e.slug,...h});return void(m&&i.append(m))}return!1}})),r}function t8(e,t){return({markdown:i})=>{let r=m({nodes:g({nodes:e})});return r.update(()=>{ev(i,t)},{discrete:!0}),r.getEditorState().toJSON()}}function t9(e,t){return({editorState:i})=>{let r=m({nodes:g({nodes:e})});try{r.setEditorState(r.parseEditorState(i))}catch(e){console.error("getLexicalToMarkdown: ERROR parsing editor state",e)}let a="";return r.getEditorState().read(()=>{a=eb(t)}),a}}var t7=i(47264);let ie=e=>async({node:t,validation:i})=>{let r=t.fields??{},{options:{id:a,collectionSlug:o,data:l,operation:d,preferences:p,req:c}}=i,u=e.find(e=>e.slug===r.blockType);if(!u)return`Block ${r.blockType} not found`;let h=await (0,t7.P)({id:a,collectionSlug:o,data:r,documentData:l,fields:u.fields,fieldSchemaMap:void 0,initialBlockData:r,operation:"create"===d||"update"===d?d:"update",permissions:{},preferences:p,renderAllFields:!1,req:c,schemaPath:""}),m=new Set;for(let e in h){let t=h[e];if(t?.errorPaths?.length)for(let e of t.errorPaths)m.add(e)}let g=Array.from(m);return!g.length||"The following fields are invalid: "+g.join(", ")},it=(0,l.W)({feature:async({config:e,isRoot:t,parentIsLocalized:i,props:l})=>{let p=e.collections.map(e=>e.slug)||[],h=await (0,r.G)({config:e,fields:[{name:"lexical_blocks",type:"blocks",blockReferences:l.blocks??[],blocks:[]},{name:"lexical_inline_blocks",type:"blocks",blockReferences:l.inlineBlocks??[],blocks:[]}],parentIsLocalized:i,requireFieldLevelRichTextEditor:t,validRelationships:p}),m=[];for(let t of h[0].blockReferences??h[0].blocks){let i="string"==typeof t?e?.blocks?.find(e=>e.slug===t):t;if(!i)throw Error(`Block not found for slug: ${"string"==typeof t?t:t?.slug}`);m.push(i)}let g=[];for(let t of h[1].blockReferences??h[1].blocks){let i="string"==typeof t?e?.blocks?.find(e=>e.slug===t):t;if(!i)throw Error(`Block not found for slug: ${"string"==typeof t?t:t?.slug}`);g.push(i)}return{ClientFeature:"@payloadcms/richtext-lexical/client#BlocksFeatureClient",generatedTypes:{modifyOutputSchema:({collectionIDFieldTypes:e,config:t,currentSchema:i,field:r,i18n:l,interfaceNameDefinitions:d})=>{if(!m?.length&&!g?.length)return i;let p=[];return m?.length&&p.push({name:r?.name+"_lexical_blocks",type:"blocks",blocks:m.map(e=>({...e,flattenedFields:(0,a.u)({fields:e.fields})}))}),g?.length&&p.push({name:r?.name+"_lexical_inline_blocks",type:"blocks",blocks:g.map(e=>({...e,flattenedFields:(0,a.u)({fields:e.fields})}))}),p.length&&(0,o.pi)(e,p,d,t,l),i}},generateSchemaMap:({config:e})=>{let t=new Map;if(m?.length)for(let e of m){let i=[...e.fields];e?.admin?.components&&i.unshift({name:"_components",type:"ui",admin:{components:{Block:e.admin?.components?.Block,BlockLabel:e.admin?.components?.Label}}}),t.set(`lexical_blocks.${e.slug}.fields`,{fields:i}),t.set(`lexical_blocks.${e.slug}`,{name:`lexical_blocks_${e.slug}`,type:"blocks",blocks:[e]})}if(g?.length)for(let e of g){let i=[...e.fields];e?.admin?.components&&i.unshift({name:"_components",type:"ui",admin:{components:{Block:e.admin?.components?.Block,BlockLabel:e.admin?.components?.Label}}}),t.set(`lexical_inline_blocks.${e.slug}.fields`,{fields:i}),t.set(`lexical_inline_blocks.${e.slug}`,{name:`lexical_inline_blocks_${e.slug}`,type:"blocks",blocks:[e]})}return t},i18n:u,markdownTransformers:t3({blocks:m,inlineBlocks:g}),nodes:[(0,d.d)({getSubFields:({node:e})=>{if(!e)return m?.length?[{name:"lexical_blocks",type:"blocks",blocks:m}]:[];let t=e.fields.blockType,i=m?.find(e=>e.slug===t);return i?.fields},getSubFieldsData:({node:e})=>e?.fields,graphQLPopulationPromises:[c(m)],node:tZ,validations:[ie(m)]}),(0,d.d)({getSubFields:({node:e})=>{if(!e)return g?.length?[{name:"lexical_inline_blocks",type:"blocks",blocks:g}]:[];let t=e.fields.blockType,i=g?.find(e=>e.slug===t);return i?.fields},getSubFieldsData:({node:e})=>e?.fields,graphQLPopulationPromises:[c(g)],node:t0,validations:[ie(g)]})],sanitizedServerFeatureProps:l}},key:"blocks"})},77599:(e,t,i)=>{"use strict";function r(e){return e}i.d(t,{d:()=>r})},3488:(e,t,i)=>{"use strict";i.d(t,{CI:()=>tb});var r=i(43857),a=i(57279),o=i(53794),l=i(4335),d=i(17399),p=i(72048);let c={ar:{alignCenterLabel:"  ",alignJustifyLabel:" ",alignLeftLabel:"  ",alignRightLabel:"  "},az:{alignCenterLabel:"Mrkz D\xfczlt",alignJustifyLabel:"D\xfczldin Sslndirin",alignLeftLabel:"Sola Doru Hizalama",alignRightLabel:"Saa Doru Hizalama"},bg:{alignCenterLabel:"",alignJustifyLabel:"   ",alignLeftLabel:" ",alignRightLabel:" "},cs:{alignCenterLabel:"Zarovnat na sted",alignJustifyLabel:"Zarovnat do bloku",alignLeftLabel:"Zarovnat vlevo",alignRightLabel:"Zarovnat vpravo"},da:{alignCenterLabel:"Centrer teksten",alignJustifyLabel:"Just\xe9r til begge sider",alignLeftLabel:"Just\xe9r til venstre",alignRightLabel:"Juster til h\xf8jre"},de:{alignCenterLabel:"Zentrieren",alignJustifyLabel:"Blocksatz",alignLeftLabel:"Linksb\xfcndig",alignRightLabel:"Rechtsb\xfcndig"},en:{alignCenterLabel:"Align Center",alignJustifyLabel:"Align Justify",alignLeftLabel:"Align Left",alignRightLabel:"Align Right"},es:{alignCenterLabel:"Alinear al centro",alignJustifyLabel:"Alinear Justificar",alignLeftLabel:"Alinear a la izquierda",alignRightLabel:"Alinear a la derecha"},et:{alignCenterLabel:"Keskjoondus",alignJustifyLabel:"R\xf6\xf6pjoondus",alignLeftLabel:"Vasakjoondus",alignRightLabel:"Paremjoondus"},fa:{alignCenterLabel:"  ",alignJustifyLabel:"    ",alignLeftLabel:" ",alignRightLabel:" "},fr:{alignCenterLabel:"Aligner au centre",alignJustifyLabel:"Aligner Justifier",alignLeftLabel:"Aligner \xe0 gauche",alignRightLabel:"Aligner \xe0 droite"},he:{alignCenterLabel:"",alignJustifyLabel:" -",alignLeftLabel:" ",alignRightLabel:" "},hr:{alignCenterLabel:"Poravnaj sredinje",alignJustifyLabel:"Poravnaj opravdaj",alignLeftLabel:"Poravnaj lijevo",alignRightLabel:"Poravnaj desno"},hu:{alignCenterLabel:"K\xf6z\xe9pre igaz\xedt\xe1s",alignJustifyLabel:"Igaz\xedt\xe1s Sorkiz\xe1r\xe1s",alignLeftLabel:"Igaz\xedt\xe1s balra",alignRightLabel:"Igaz\xedt\xe1s jobbra"},it:{alignCenterLabel:"Allinea al centro",alignJustifyLabel:"Allinea Giustifica",alignLeftLabel:"Allinea a sinistra",alignRightLabel:"Allinea a destra"},ja:{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""},ko:{alignCenterLabel:" ",alignJustifyLabel:" ",alignLeftLabel:" ",alignRightLabel:" "},my:{alignCenterLabel:"Pusat Selaras",alignJustifyLabel:"Penjajaran Justify",alignLeftLabel:"",alignRightLabel:"Penjajaran Kanan"},nb:{alignCenterLabel:"Sentrer tekst",alignJustifyLabel:"Juster linje",alignLeftLabel:"Juster til venstre",alignRightLabel:"Juster til h\xf8yre"},nl:{alignCenterLabel:"Centreer uitlijnen",alignJustifyLabel:"Uitlijnen Rechtvaardigen",alignLeftLabel:"Links uitlijnen",alignRightLabel:"Rechts uitlijnen"},pl:{alignCenterLabel:"Wyrodkuj",alignJustifyLabel:"Wyjustuj wyr\xf3wnanie",alignLeftLabel:"Wyr\xf3wnaj do lewej",alignRightLabel:"Wyr\xf3wnaj do prawej"},pt:{alignCenterLabel:"Alinhar ao Centro",alignJustifyLabel:"Alinhar Justificar",alignLeftLabel:"Alinhar \xe0 Esquerda",alignRightLabel:"Alinhar \xe0 Direita"},ro:{alignCenterLabel:"Aliniai Centrul",alignJustifyLabel:"Aliniaza Justifica",alignLeftLabel:"Aliniai la st\xe2nga",alignRightLabel:"Aliniai la dreapta"},rs:{alignCenterLabel:"  ",alignJustifyLabel:" ",alignLeftLabel:" ",alignRightLabel:" "},"rs-latin":{alignCenterLabel:"Poravnaj po sredini",alignJustifyLabel:"Poravnaj obostrano",alignLeftLabel:"Poravnaj levo",alignRightLabel:"Poravnaj desno"},ru:{alignCenterLabel:"  ",alignJustifyLabel:"  ",alignLeftLabel:"   ",alignRightLabel:"   "},sk:{alignCenterLabel:"Vycentrova",alignJustifyLabel:"Zarovna do bloku",alignLeftLabel:"Zarovna doava",alignRightLabel:"Zarovna doprava"},sl:{alignCenterLabel:"Poravnaj na sredino",alignJustifyLabel:"Poravnaj Obojestransko",alignLeftLabel:"Poravnaj na levo",alignRightLabel:"Poravnaj na desno"},sv:{alignCenterLabel:"Centrera",alignJustifyLabel:"Justera Justify",alignLeftLabel:"Justera till v\xe4nster",alignRightLabel:"Justera till h\xf6ger"},th:{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""},tr:{alignCenterLabel:"Ortaya Hizala",alignJustifyLabel:"Hizala Yasla",alignLeftLabel:"Sola Hizala",alignRightLabel:"Saa Hizala"},uk:{alignCenterLabel:"  ",alignJustifyLabel:"  ",alignLeftLabel:"   ",alignRightLabel:"   "},vi:{alignCenterLabel:"Cn gia",alignJustifyLabel:"Cn u",alignLeftLabel:"Cn l tr\xe1i",alignRightLabel:"Cn phi"},zh:{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""},"zh-TW":{alignCenterLabel:"",alignJustifyLabel:"",alignLeftLabel:"",alignRightLabel:""}},u=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#AlignFeatureClient",i18n:c},key:"align"});var h=i(8964);async function m({converters:e,currentDepth:t,depth:i,draft:r,lexicalNodes:a,overrideAccess:o,parent:l,req:d,showHiddenFields:p}){let c=e.find(e=>e.nodeTypes.includes("unknown"));return(await Promise.all(a.map(async(a,u)=>{let h=e.find(e=>e.nodeTypes.includes(a.type));try{if(!h){if(c)return await c.converter({childIndex:u,converters:e,currentDepth:t,depth:i,draft:r,node:a,overrideAccess:o,parent:l,req:d,showHiddenFields:p});return"<span>unknown node</span>"}return await h.converter({childIndex:u,converters:e,currentDepth:t,depth:i,draft:r,node:a,overrideAccess:o,parent:l,req:d,showHiddenFields:p})}catch(e){return console.error("Error converting lexical node to HTML:",e,"node:",a),""}}))).join("")||""}var g=i(77599);let y={type:"element",dependencies:[h.rT],export:(e,t)=>{if(!(0,h.O)(e))return null;let i=t(e).split("\n"),r=[];for(let e of i)r.push("> "+e);return r.join("\n")},regExp:/^>\s/,replace:(e,t,i,r)=>{if(r){let i=e.getPreviousSibling();if((0,h.O)(i)){i.splice(i.getChildrenSize(),0,[...t]),i.select(0,0),e.remove();return}}let a=(0,h.Z1)();a.append(...t),e.replace(a),a.select(0,0)}},v={ar:{label:""},az:{label:"Blokkvota"},bg:{label:""},cs:{label:"Citace"},da:{label:"Blokering"},de:{label:"Blockzitat"},en:{label:"Blockquote"},es:{label:"Cita en bloque"},et:{label:"Tsitaat"},fa:{label:"  "},fr:{label:"Citation"},he:{label:" "},hr:{label:"Blok citat"},hu:{label:"Id\xe9zetblokk"},it:{label:"Citazione"},ja:{label:""},ko:{label:""},my:{label:""},nb:{label:"Blokksitat"},nl:{label:"Citaat"},pl:{label:"Cytat blokowy"},pt:{label:"Cita\xe7\xe3o em bloco"},ro:{label:"Citat"},rs:{label:" "},"rs-latin":{label:"Blok citata"},ru:{label:""},sk:{label:"Cit\xe1t"},sl:{label:"Citat"},sv:{label:"Blockcitat"},th:{label:""},tr:{label:"Alnt"},uk:{label:""},vi:{label:"Tr\xedch dn"},zh:{label:""},"zh-TW":{label:""}},b=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#BlockquoteFeatureClient",clientFeatureProps:null,i18n:v,markdownTransformers:[y],nodes:[(0,g.d)({converters:{html:{converter:async({converters:e,currentDepth:t,depth:i,draft:r,node:a,overrideAccess:o,parent:l,req:d,showHiddenFields:p})=>{let c=await m({converters:e,currentDepth:t,depth:i,draft:r,lexicalNodes:a.children,overrideAccess:o,parent:{...a,parent:l},req:d,showHiddenFields:p}),u=[a.format?`text-align: ${a.format};`:"",a.indent>0?`padding-inline-start: ${2*Number(a.indent)}rem;`:""].filter(Boolean).join(" ");return`<blockquote${u?` style='${u}'`:""}>${c}</blockquote>`},nodeTypes:[h.rT.getType()]}},node:h.rT})]},key:"blockquote"}),w={type:"text-format",format:["bold","italic"],tag:"***"},_={type:"text-format",format:["bold","italic"],intraword:!1,tag:"___"},x={type:"text-format",format:["bold"],tag:"**"},S={type:"text-format",format:["bold"],intraword:!1,tag:"__"},E=(0,p.W)({dependenciesSoft:["italic"],feature:({featureProviderMap:e})=>{let t=[x,S];return e.get("italic")&&t.push(_,w),{ClientFeature:"@payloadcms/richtext-lexical/client#BoldFeatureClient",markdownTransformers:t}},key:"bold"}),k={type:"text-format",format:["code"],tag:"`"},T=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#InlineCodeFeatureClient",markdownTransformers:[k]},key:"inlineCode"}),C={type:"text-format",format:["italic"],tag:"*"},N={type:"text-format",format:["italic"],intraword:!1,tag:"_"},O=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#ItalicFeatureClient",markdownTransformers:[C,N]},key:"italic"}),P={type:"text-format",format:["strikethrough"],tag:"~~"},I=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#StrikethroughFeatureClient",markdownTransformers:[P]},key:"strikethrough"}),L=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#SubscriptFeatureClient"},key:"subscript"}),D=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#SuperscriptFeatureClient"},key:"superscript"}),R=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#UnderlineFeatureClient"},key:"underline"}),$=e=>(t,i,r)=>{let a=e(r);a&&(a.append(...i),t.replace(a),a.select(0,0))},j=e=>{let t=e.map(e=>Number(e.slice(1))),i=RegExp(`^(${t.map(e=>`#{${e}}`).join("|")})\\s`);return{type:"element",dependencies:[h.c2],export:(e,t)=>{if(!(0,h.rc)(e))return null;let i=Number(e.getTag().slice(1));return"#".repeat(i)+" "+t(e)},regExp:i,replace:$(e=>{let t="h"+e[1]?.length;return(0,h.V1)(t)})}},M={ar:{label:" {{headingLevel}}"},az:{label:"Balq {{headingLevel}}"},bg:{label:" {{headingLevel}}"},cs:{label:"Nadpis {{headingLevel}}"},da:{label:"Overskrift {{overskriftNiveau}}"},de:{label:"\xdcberschrift {{headingLevel}}"},en:{label:"Heading {{headingLevel}}"},es:{label:"Encabezado {{headingLevel}}"},et:{label:"Pealkiri {{headingLevel}}"},fa:{label:"[SKIPPED]"},fr:{label:"En-t\xeate {{headingLevel}}"},he:{label:" {{ }}"},hr:{label:"Naslov {{headingLevel}}"},hu:{label:"C\xedmsor {{headingLevel}}"},it:{label:"Intestazione {{headingLevel}}"},ja:{label:"{{headingLevel}}"},ko:{label:" {{headingLevel}}"},my:{label:"[SURAT]\n\nKepala {{headingLevel}}"},nb:{label:"Overskrift {{headingLevel}}"},nl:{label:"Kop {{headingLevel}}"},pl:{label:"Nag\xf3wek {{headingLevel}}"},pt:{label:"Cabe\xe7alho {{headingLevel}}"},ro:{label:"Titlu {{headingLevel}}"},rs:{label:" {{headingLevel}}"},"rs-latin":{label:"Naslov {{headingLevel}}"},ru:{label:" {{headingLevel}}"},sk:{label:"Nadpis {{headingLevel}}"},sl:{label:"Naslov {{headingLevel}}"},sv:{label:"Rubrik {{headingLevel}}"},th:{label:" {{headingLevel}}"},tr:{label:"Balk {{headingLevel}}"},uk:{label:" {{headingLevel}}"},vi:{label:"Ti\xeau  {{headingLevel}}"},zh:{label:" {{headingLevel}}"},"zh-TW":{label:" {{headingLevel}}"}},U=(0,p.W)({feature:({props:e})=>{e||(e={});let{enabledHeadingSizes:t=["h1","h2","h3","h4","h5","h6"]}=e;return{ClientFeature:"@payloadcms/richtext-lexical/client#HeadingFeatureClient",clientFeatureProps:e,i18n:M,markdownTransformers:[j(t)],nodes:[(0,g.d)({converters:{html:{converter:async({converters:e,currentDepth:t,depth:i,draft:r,node:a,overrideAccess:o,parent:l,req:d,showHiddenFields:p})=>{let c=await m({converters:e,currentDepth:t,depth:i,draft:r,lexicalNodes:a.children,overrideAccess:o,parent:{...a,parent:l},req:d,showHiddenFields:p}),u=[a.format?`text-align: ${a.format};`:"",a.indent>0?`padding-inline-start: ${2*Number(a.indent)}rem;`:""].filter(Boolean).join(" ");return`<${a?.tag}${u?` style='${u}'`:""}>${c}</${a?.tag}>`},nodeTypes:[h.c2.getType()]}},node:h.c2})],sanitizedServerFeatureProps:e}},key:"heading"}),F={ar:{label:" "},az:{label:"\xdcf\xfcqi Xtt"},bg:{label:" "},cs:{label:"Vodorovn\xfd prav\xedtko"},da:{label:"Horisontal Regel"},de:{label:"Trennlinie"},en:{label:"Horizontal Rule"},es:{label:"Regla Horizontal"},et:{label:"Horisontaalne reegel"},fa:{label:" "},fr:{label:"R\xe8gle horizontale"},he:{label:" "},hr:{label:"Vodoravna linija"},hu:{label:"V\xedzszintes vonal"},it:{label:"Regola Orizzontale"},ja:{label:""},ko:{label:" "},my:{label:"Peraturan Mendatar"},nb:{label:"Horisontal Regel"},nl:{label:"Horizontale Regel"},pl:{label:"Pozioma Linia"},pt:{label:"Regra Horizontal"},ro:{label:"Linie orizontal"},rs:{label:" "},"rs-latin":{label:"Horizontalna linija"},ru:{label:" "},sk:{label:"Vodorovn\xe1 iara"},sl:{label:"Vodoravna rta"},sv:{label:"Horisontell linje"},th:{label:""},tr:{label:"Yatay \xc7izgi"},uk:{label:" "},vi:{label:"Quy tc ngang"},zh:{label:""},"zh-TW":{label:""}};var B=i(56983),z=i(87650);(0,z.fAf)("INSERT_HORIZONTAL_RULE_COMMAND");class q extends z.Ijf{static clone(e){return new this(e.__key)}static getType(){return"horizontalrule"}static importDOM(){return{hr:()=>({conversion:V,priority:0})}}static importJSON(e){return H()}createDOM(e){let t=document.createElement("hr");return(0,B.Yo)(t,e.theme.hr),t}decorate(){return null}exportDOM(){return{element:document.createElement("hr")}}exportJSON(){return{type:"horizontalrule",version:1}}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}}function V(){return{node:H()}}function H(){return(0,z.U2B)(new q)}function W(e){return e instanceof q}let G={type:"element",dependencies:[q],export:(e,t)=>W(e)?"---":null,regExp:/^---\s*$/,replace:e=>{let t=H();t&&e.replace(t)}},K=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#HorizontalRuleFeatureClient",i18n:F,markdownTransformers:[G],nodes:[(0,g.d)({converters:{html:{converter:()=>"<hr/>",nodeTypes:[q.getType()]}},node:q})]},key:"horizontalRule"}),J={ar:{decreaseLabel:"  ",increaseLabel:"  "},az:{decreaseLabel:"nterval Azaltn",increaseLabel:"Girintiyi Artrn"},bg:{decreaseLabel:" ",increaseLabel:" "},cs:{decreaseLabel:"Zmenit odsazen\xed",increaseLabel:"Zvtit odsazen\xed"},da:{decreaseLabel:"Reducer Indrykning",increaseLabel:"For\xf8g indrykning"},de:{decreaseLabel:"Einzug verkleinern",increaseLabel:"Einzug erh\xf6hen"},en:{decreaseLabel:"Decrease Indent",increaseLabel:"Increase Indent"},es:{decreaseLabel:"Disminuir Sangr\xeda",increaseLabel:"Aumentar Sangr\xeda"},et:{decreaseLabel:"Taande v\xe4hendamine",increaseLabel:"Taande suurendamine"},fa:{decreaseLabel:" ",increaseLabel:" "},fr:{decreaseLabel:"Diminuer l'indentation",increaseLabel:"Augmenter l'indentation"},he:{decreaseLabel:" ",increaseLabel:" "},hr:{decreaseLabel:"Smanji uvlaenje",increaseLabel:"Poveaj uvlaenje"},hu:{decreaseLabel:"Cs\xf6kkentse a beh\xfaz\xe1st",increaseLabel:"Beh\xfaz\xe1s n\xf6vel\xe9se"},it:{decreaseLabel:"Diminuisci rientro",increaseLabel:"Aumenta Rientro"},ja:{decreaseLabel:"",increaseLabel:""},ko:{decreaseLabel:" ",increaseLabel:" "},my:{decreaseLabel:"Kurangkan Inden",increaseLabel:"Tingkatkan Inden"},nb:{decreaseLabel:"Reduser innrykk",increaseLabel:"\xd8ke innrykk"},nl:{decreaseLabel:"Verminder Inspringing",increaseLabel:"Inspring verhogen"},pl:{decreaseLabel:"Zmniejsz wcicie",increaseLabel:"Zwiksz wcicie"},pt:{decreaseLabel:"Diminuir recuo",increaseLabel:"Aumentar Indenta\xe7\xe3o"},ro:{decreaseLabel:"Reducere indentare",increaseLabel:"Crete indentarea"},rs:{decreaseLabel:" ",increaseLabel:" "},"rs-latin":{decreaseLabel:"Smanji uvlaenje",increaseLabel:"Poveaj uvlaenje"},ru:{decreaseLabel:" ",increaseLabel:" "},sk:{decreaseLabel:"Zn\xedi odsadenie",increaseLabel:"Zv\xe4i odsadenie"},sl:{decreaseLabel:"Zmanjaj zamik",increaseLabel:"Poveaj zamik"},sv:{decreaseLabel:"Minska indrag",increaseLabel:"\xd6ka indrag"},th:{decreaseLabel:"",increaseLabel:""},tr:{decreaseLabel:"Girintiyi Azalt",increaseLabel:"Girintiyi Artr"},uk:{decreaseLabel:" ",increaseLabel:" "},vi:{decreaseLabel:"Gim l",increaseLabel:"Tng l"},zh:{decreaseLabel:"",increaseLabel:""},"zh-TW":{decreaseLabel:"",increaseLabel:""}},Q=(0,p.W)({feature:({props:e})=>({ClientFeature:"@payloadcms/richtext-lexical/client#IndentFeatureClient",clientFeatureProps:e,i18n:J}),key:"indent"});var Y=i(95859),Z=i(66974),X=i(40954);let ee=new Set(["http:","https:","mailto:","sms:","tel:"]);class et extends z.HX${__fields;__id;constructor({id:e,fields:t={linkType:"custom",newTab:!1},key:i}){super(i),this.__fields=t,this.__id=e}static clone(e){return new et({id:e.__id,fields:e.__fields,key:e.__key})}static getType(){return"link"}static importDOM(){return{a:e=>({conversion:ei,priority:1})}}static importJSON(e){let t=er({}).updateFromJSON(e);return 1===e.version&&"object"==typeof e.fields?.doc?.value&&e.fields?.doc?.value?.id&&(e.fields.doc.value=e.fields.doc.value.id,e.version=2),2!==e.version||e.id||(e.id=new X.default().toHexString(),e.version=3),t}canBeEmpty(){return!1}canInsertTextAfter(){return!1}canInsertTextBefore(){return!1}createDOM(e){let t=document.createElement("a");return this.__fields?.linkType==="custom"&&(t.href=this.sanitizeUrl(this.__fields.url??"")),this.__fields?.newTab&&(t.target="_blank"),this.__fields?.newTab===!0&&this.__fields?.linkType==="custom"&&(t.rel=en(t.rel,"add","noopener")),(0,B.Yo)(t,e.theme.link),t}exportJSON(){let e=this.getFields();e?.linkType==="internal"?delete e.url:e?.linkType==="custom"&&delete e.doc;let t={...super.exportJSON(),type:"link",fields:e,version:3},i=this.getID();return i&&(t.id=i),t}extractWithChild(e,t,i){if(!(0,z.OPZ)(t))return!1;let r=t.anchor.getNode(),a=t.focus.getNode();return this.isParentOf(r)&&this.isParentOf(a)&&t.getTextContent().length>0}getFields(){return this.getLatest().__fields}getID(){return this.getLatest().__id}insertNewAfter(e,t=!0){let i=this.getParentOrThrow().insertNewAfter(e,t);if((0,z.F7b)(i)){let e=er({fields:this.__fields});return i.append(e),e}return null}isInline(){return!0}sanitizeUrl(e){try{let t=new URL(e);if(!ee.has(t.protocol))return"about:blank"}catch(e){return"https://"}return e}setFields(e){let t=this.getWritable();return t.__fields=e,t}setID(e){let t=this.getWritable();return t.__id=e,t}updateDOM(e,t,i){let r=this.__fields?.url,a=this.__fields?.newTab;return null!=r&&r!==e.__fields?.url&&this.__fields?.linkType==="custom"&&(t.href=r),this.__fields?.linkType==="internal"&&e.__fields?.linkType==="custom"&&t.removeAttribute("href"),null==t.rel&&(t.rel=""),a!==e.__fields?.newTab&&(a?(t.target="_blank",this.__fields?.linkType==="custom"&&(t.rel=en(t.rel,"add","noopener"))):(t.removeAttribute("target"),t.rel=en(t.rel,"remove","noopener"))),!1}updateFromJSON(e){return super.updateFromJSON(e).setFields(e.fields).setID(e.id)}}function ei(e){let t=null;if((0,z.bgD)(e)){let i=e.textContent;null!==i&&""!==i&&(t=er({id:new X.default().toHexString(),fields:{doc:null,linkType:"custom",newTab:"_blank"===e.getAttribute("target"),url:e.getAttribute("href")??""}}))}return{node:t}}function er({id:e,fields:t}){return(0,z.U2B)(new et({id:e??new X.default().toHexString(),fields:t}))}function ea(e){return e instanceof et}(0,z.fAf)("TOGGLE_LINK_COMMAND");function en(e,t,i){let r;let a=`${e}`;if("add"===t){if(a.includes(i)){let e=RegExp(i,"g");a=a.replace(e,"").trim()}r=0===(a=a.trim()).length?`${i}`:`${a} ${i}`}else{let e=RegExp(i,"g");r=a.replace(e,"").trim()}return r}let es={type:"text-match",dependencies:[et],export:(e,t)=>{if(!ea(e))return null;let i=e,{url:r}=i.getFields(),a=t(i);return`[${a}](${r})`},importRegExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)/,regExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)$/,replace:(e,t)=>{let[,i,r]=t,a=er({fields:{doc:null,linkType:"custom",newTab:!1,url:r}}),o=(0,z.MXo)(i);return o.setFormat(e.getFormat()),a.append(o),e.replace(a),o},trigger:")"};class eo extends et{static clone(e){return new eo({id:"",fields:e.__fields,key:e.__key})}static getType(){return"autolink"}static importDOM(){return null}static importJSON(e){let t=el({}).updateFromJSON(e);return 1===e.version&&"object"==typeof e.fields?.doc?.value&&e.fields?.doc?.value?.id&&(e.fields.doc.value=e.fields.doc.value.id,e.version=2),t}exportJSON(){let e=super.exportJSON();return{type:"autolink",children:e.children,direction:e.direction,fields:e.fields,format:e.format,indent:e.indent,version:2}}insertNewAfter(e,t=!0){let i=this.getParentOrThrow().insertNewAfter(e,t);if((0,z.F7b)(i)){let e=el({fields:this.__fields});return i.append(e),e}return null}updateFromJSON(e){return super.updateFromJSON(e).setFields(e.fields)}}function el({fields:e}){return(0,z.U2B)(new eo({id:"",fields:e}))}var ed=i(97651);let ep=e=>({context:t,currentDepth:i,depth:r,draft:a,editorPopulationPromises:o,field:l,fieldPromises:d,findMany:p,flattenLocales:c,node:u,overrideAccess:h,parentIsLocalized:m,populationPromises:g,req:y,showHiddenFields:v})=>{e.fields?.length&&Array.isArray(e.fields)&&(0,ed.a)({context:t,currentDepth:i,data:u.fields,depth:r,draft:a,editorPopulationPromises:o,fieldPromises:d,fields:e.fields,findMany:p,flattenLocales:c,overrideAccess:h,parentIsLocalized:m||l.localized||!1,populationPromises:g,req:y,showHiddenFields:v,siblingDoc:u.fields})},ec={ar:{label:"",loadingWithEllipsis:" ..."},az:{label:"Ke\xe7id",loadingWithEllipsis:"Y\xfcklnir..."},bg:{label:"",loadingWithEllipsis:" ..."},cs:{label:"Odkaz",loadingWithEllipsis:"Na\xedt\xe1n\xed..."},da:{label:"Link",loadingWithEllipsis:"Indl\xe6ser..."},de:{label:"Verkn\xfcpfung",loadingWithEllipsis:"Laden..."},en:{label:"Link",loadingWithEllipsis:"Loading..."},es:{label:"Enlace",loadingWithEllipsis:"Cargando..."},et:{label:"Link",loadingWithEllipsis:"Laadimine..."},fa:{label:"",loadingWithEllipsis:"  ..."},fr:{label:"Lien",loadingWithEllipsis:"Chargement..."},he:{label:"",loadingWithEllipsis:"..."},hr:{label:"Poveznica",loadingWithEllipsis:"Uitavanje..."},hu:{label:"Hivatkoz\xe1s",loadingWithEllipsis:"Bet\xf6lt\xe9s..."},it:{label:"Collegamento",loadingWithEllipsis:"Caricamento..."},ja:{label:"",loadingWithEllipsis:"..."},ko:{label:"",loadingWithEllipsis:" ..."},my:{label:"",loadingWithEllipsis:"..."},nb:{label:"Lenke",loadingWithEllipsis:"Laster..."},nl:{label:"Link",loadingWithEllipsis:"Laden..."},pl:{label:"cze",loadingWithEllipsis:"adowanie..."},pt:{label:"Liga\xe7\xe3o",loadingWithEllipsis:"Carregando..."},ro:{label:"Legtur",loadingWithEllipsis:"Se \xeencarc..."},rs:{label:"",loadingWithEllipsis:"..."},"rs-latin":{label:"Veza",loadingWithEllipsis:"Uitavanje..."},ru:{label:"",loadingWithEllipsis:"..."},sk:{label:"Odkaz",loadingWithEllipsis:"Na\xedtava sa..."},sl:{label:"Povezava",loadingWithEllipsis:"Nalaganje..."},sv:{label:"L\xe4nk",loadingWithEllipsis:"Laddar..."},th:{label:"",loadingWithEllipsis:"..."},tr:{label:"Balant",loadingWithEllipsis:"Y\xfckleniyor..."},uk:{label:"",loadingWithEllipsis:"..."},vi:{label:"Li\xean kt",loadingWithEllipsis:"ang ti..."},zh:{label:"",loadingWithEllipsis:"..."},"zh-TW":{label:"",loadingWithEllipsis:"..."}},eu=/^(?:[a-zA-Z][a-zA-Z\d+.-]*:(?:\/\/)?(?:[-;:&=+$,\w]+@)?[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|www\.[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|(?:tel|mailto):[\w+.-]+)(?:\/[+~%/\w-]*)?(?:\?[-;&=%\w]*)?(?:#\w+)?$/,eh=/^(?:\/[\w\-./]*(?:#\w[\w-]*)?|#[\w\-]+)$/;function ef(e){return!!e&&!e.includes(" ")}function em(e){if(!e)return!1;if("https://"===e||eu.test(e)||eh.test(e))return!0;try{return new URL(e),!0}catch{}return!1}let eg=(e,t,i,r)=>{let a;a=t||(i?e.collections.filter(({slug:e})=>!i.includes(e)).map(({slug:e})=>e):e.collections.filter(({admin:{enableRichTextLink:e,hidden:t}})=>("function"==typeof t||!t)&&e).map(({slug:e})=>e));let o=[{name:"text",type:"text",label:({t:e})=>e("fields:textToDisplay"),required:!0},{name:"linkType",type:"radio",admin:{description:({t:e})=>e("fields:chooseBetweenCustomTextOrDocument")},defaultValue:"custom",label:({t:e})=>e("fields:linkType"),options:[{label:({t:e})=>e("fields:customURL"),value:"custom"}],required:!0},{name:"url",type:"text",hooks:{beforeChange:[({value:e})=>e?em(e)?e:encodeURIComponent(e):void 0]},label:({t:e})=>e("fields:enterURL"),required:!0,validate:(e,t)=>{if(t?.siblingData?.linkType!=="internal"&&!ef(e))return"Invalid URL"}}];return a?.length&&(o[1].options.push({label:({t:e})=>e("fields:internalLink"),value:"internal"}),o[2].admin={condition:(e,t)=>"internal"!==t.linkType},o.push({name:"doc",admin:{condition:(e,t)=>"internal"===t.linkType},type:"relationship",filterOptions:t||i?null:({relationTo:t,user:i})=>{let r=e.collections.find(({slug:e})=>e===t)?.admin.hidden;return!("function"==typeof r&&r({user:i}))},label:({t:e})=>e("fields:chooseDocumentToLink"),maxDepth:r,relationTo:a,required:!0})),o.push({name:"newTab",type:"checkbox",label:({t:e})=>e("fields:openInNewTab")}),o};function ey(e,t,i,r,a){let o=eg(t,i,r,a);return"function"==typeof e?e({config:t,defaultFields:o}):Array.isArray(e)?e:o}var ev=i(47264);let eb=(e,t)=>async({node:e,validation:{options:{id:i,collectionSlug:r,data:a,operation:o,preferences:l,req:d}}})=>{let p=await (0,ev.P)({id:i,collectionSlug:r,data:e.fields,documentData:a,fields:t,fieldSchemaMap:void 0,initialBlockData:e.fields,operation:"create"===o||"update"===o?o:"update",permissions:{},preferences:l,renderAllFields:!1,req:d,schemaPath:""}),c=new Set;for(let e in p){let t=p[e];if(t?.errorPaths?.length)for(let e of t.errorPaths)c.add(e)}let u=Array.from(c);return!u.length||"The following fields are invalid: "+u.join(", ")},ew=(0,p.W)({feature:async({config:e,isRoot:t,parentIsLocalized:i,props:r})=>{r||(r={});let a=e.collections.map(e=>e.slug)||[],o=ey(r.fields?r.fields:null,e,r.enabledCollections,r.disabledCollections,r.maxDepth),l=await (0,Z.G)({config:e,fields:o,parentIsLocalized:i,requireFieldLevelRichTextEditor:t,validRelationships:a});r.fields=l;let d=l.filter(e=>!("name"in e)||"text"!==e.name),p=null,c=null;for(let e of l)"name"in e&&"linkType"===e.name&&(p=e),"name"in e&&"url"===e.name&&(c=e);return{ClientFeature:"@payloadcms/richtext-lexical/client#LinkFeatureClient",clientFeatureProps:{defaultLinkType:p?"defaultValue"in p&&"string"==typeof p.defaultValue?p.defaultValue:"custom":void 0,defaultLinkURL:c?"defaultValue"in c&&"string"==typeof c.defaultValue?c.defaultValue:"https://":void 0,disableAutoLinks:r.disableAutoLinks,disabledCollections:r.disabledCollections,enabledCollections:r.enabledCollections},generateSchemaMap:()=>{if(!l||!Array.isArray(l)||0===l.length)return null;let e=new Map;return e.set("fields",{fields:l}),e},i18n:ec,markdownTransformers:[es],nodes:[r?.disableAutoLinks===!0?null:(0,g.d)({converters:{html:{converter:async({converters:e,currentDepth:t,depth:i,draft:r,node:a,overrideAccess:o,parent:l,req:d,showHiddenFields:p})=>{let c=await m({converters:e,currentDepth:t,depth:i,draft:r,lexicalNodes:a.children,overrideAccess:o,parent:{...a,parent:l},req:d,showHiddenFields:p}),u=a.fields.url??"";return"internal"===a.fields.linkType&&(u="object"!=typeof a.fields.doc?.value?String(a.fields.doc?.value):String(a.fields.doc?.value?.id)),`<a href="${u}"${a.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${c}</a>`},nodeTypes:[eo.getType()]}},node:eo,validations:[eb(r,d)]}),(0,g.d)({converters:{html:{converter:async({converters:e,currentDepth:t,depth:i,draft:r,node:a,overrideAccess:o,parent:l,req:d,showHiddenFields:p})=>{let c=await m({converters:e,currentDepth:t,depth:i,draft:r,lexicalNodes:a.children,overrideAccess:o,parent:{...a,parent:l},req:d,showHiddenFields:p}),u="custom"===a.fields.linkType?Y(a.fields.url):a.fields.doc?.value;return`<a href="${u}"${a.fields.newTab?' rel="noopener noreferrer" target="_blank"':""}>${c}</a>`},nodeTypes:[et.getType()]}},getSubFields:()=>d,getSubFieldsData:({node:e})=>e?.fields,graphQLPopulationPromises:[ep(r)],node:et,validations:[eb(r,d)]})].filter(Boolean),sanitizedServerFeatureProps:r}},key:"link"});var e_=i(71211),ex=i(9576);let eS={converter:async({converters:e,currentDepth:t,depth:i,draft:r,node:a,overrideAccess:o,parent:l,req:d,showHiddenFields:p})=>{let c=await m({converters:e,currentDepth:t,depth:i,draft:r,lexicalNodes:a.children,overrideAccess:o,parent:{...a,parent:l},req:d,showHiddenFields:p});return`<${a?.tag} class="list-${a?.listType}">${c}</${a?.tag}>`},nodeTypes:[e_.EG.getType()]},eE={converter:async({converters:e,currentDepth:t,depth:i,draft:r,node:a,overrideAccess:o,parent:l,req:d,showHiddenFields:p})=>{let c=a.children.some(e=>"list"===e.type),u=await m({converters:e,currentDepth:t,depth:i,draft:r,lexicalNodes:a.children,overrideAccess:o,parent:{...a,parent:l},req:d,showHiddenFields:p});if(!("listType"in l)||l?.listType!=="check")return`<li ${c?'class="nestedListItem" ':""}value=${a?.value}>${u}</li>`;{let e=(0,ex.Z)();return`<li aria-checked=${a.checked?"true":"false"} class="${"list-item-checkbox"+(a.checked?" list-item-checkbox-checked":" list-item-checkbox-unchecked")+(c?" nestedListItem":"")}"
          role="checkbox"
          tabIndex=-1
          value=${a?.value}
      >
      ${c?u:`
        <input type="checkbox" id="${e}"${a.checked?" checked":""}>
        <label for="${e}">${u}</label><br>
      `}


          </li>`}},nodeTypes:[e_.NK.getType()]},ek=4,eT=e=>(t,i,r)=>{let a=t.getPreviousSibling(),o=t.getNextSibling(),l=(0,e_.oU)("check"===e?"x"===r[3]:void 0);if((0,e_.I3)(o)&&o.getListType()===e){let e=o.getFirstChild();null!==e?e.insertBefore(l):o.append(l),t.remove()}else if((0,e_.I3)(a)&&a.getListType()===e)a.append(l),t.remove();else{let i=(0,e_.FH)(e,"number"===e?Number(r[2]):void 0);i.append(l),t.replace(i)}l.append(...i),l.select(0,0);let d=Math.floor(r[1].length/ek);d&&l.setIndent(d)},eA=(e,t,i)=>{let r=[],a=e.getChildren(),o=0;for(let l of a)if((0,e_.QG)(l)){if(1===l.getChildrenSize()){let e=l.getFirstChild();if((0,e_.I3)(e)){r.push(eA(e,t,i+1));continue}}let a=" ".repeat(i*ek),d=e.getListType(),p="number"===d?`${e.getStart()+o}. `:"check"===d?`- [${l.getChecked()?"x":" "}] `:"- ";r.push(a+p+t(l)),o++}return r.join("\n")},eC={type:"element",dependencies:[e_.EG,e_.NK],export:(e,t)=>(0,e_.I3)(e)?eA(e,t,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:eT("check")},eN={ar:{label:" "},az:{label:"Yoxlama Siyahs"},bg:{label:"  "},cs:{label:"Seznam kontrol"},da:{label:"Tjekliste"},de:{label:"Checkliste"},en:{label:"Check List"},es:{label:"Lista de comprobaci\xf3n"},et:{label:""},fa:{label:" "},fr:{label:"Liste de contr\xf4le"},he:{label:" "},hr:{label:"Kontrolni popis"},hu:{label:"Ellenrzlista"},it:{label:"Lista di controllo"},ja:{label:""},ko:{label:" "},my:{label:"Senarai Semak"},nb:{label:"Sjekkliste"},nl:{label:"Checklist"},pl:{label:"Lista kontrolna"},pt:{label:"Lista de Verifica\xe7\xe3o"},ro:{label:"List de verificare"},rs:{label:" "},"rs-latin":{label:"Kontrolna lista"},ru:{label:" "},sk:{label:"Kontroln\xfd zoznam"},sl:{label:"Nimekiri"},sv:{label:"Kontrollista"},th:{label:""},tr:{label:"Kontrol Listesi"},uk:{label:" "},vi:{label:"Danh s\xe1ch kim tra"},zh:{label:""},"zh-TW":{label:""}},eO=(0,p.W)({feature:({featureProviderMap:e})=>({ClientFeature:"@payloadcms/richtext-lexical/client#ChecklistFeatureClient",i18n:eN,markdownTransformers:[eC],nodes:e.has("unorderedList")||e.has("orderedList")?[]:[(0,g.d)({converters:{html:eS},node:e_.EG}),(0,g.d)({converters:{html:eE},node:e_.NK})]}),key:"checklist"}),eP={type:"element",dependencies:[e_.EG,e_.NK],export:(e,t)=>(0,e_.I3)(e)?eA(e,t,0):null,regExp:/^(\s*)(\d+)\.\s/,replace:eT("number")},eI={ar:{label:" "},az:{label:"Sral Siyah"},bg:{label:" "},cs:{label:"Seazen\xfd seznam"},da:{label:"Ordnet Liste"},de:{label:"Geordnete Liste"},en:{label:"Ordered List"},es:{label:"Lista ordenada"},et:{label:"Sorteeritud loend"},fa:{label:"  "},fr:{label:"Liste ordonn\xe9e"},he:{label:" "},hr:{label:"Narueni popis"},hu:{label:"Rendelt lista"},it:{label:"Elenco ordinato"},ja:{label:""},ko:{label:" "},my:{label:" "},nb:{label:"Ordnet Liste"},nl:{label:"Geordende Lijst"},pl:{label:"Uporzdkowana lista"},pt:{label:"Lista Ordenada"},ro:{label:"Lista ordonat"},rs:{label:" "},"rs-latin":{label:"Ureena lista"},ru:{label:" "},sk:{label:"Zoraden\xfd zoznam"},sl:{label:"Urejen seznam"},sv:{label:"Ordnad Lista"},th:{label:""},tr:{label:"Sral Liste"},uk:{label:" "},vi:{label:"Danh s\xe1ch \xe3 sp xp"},zh:{label:""},"zh-TW":{label:""}},eL=(0,p.W)({feature:({featureProviderMap:e})=>({ClientFeature:"@payloadcms/richtext-lexical/client#OrderedListFeatureClient",i18n:eI,markdownTransformers:[eP],nodes:e.has("unorderedList")?[]:[(0,g.d)({converters:{html:eS},node:e_.EG}),(0,g.d)({converters:{html:eE},node:e_.NK})]}),key:"orderedList"}),eD={type:"element",dependencies:[e_.EG,e_.NK],export:(e,t)=>(0,e_.I3)(e)?eA(e,t,0):null,regExp:/^(\s*)[-*+]\s/,replace:eT("bullet")},eR={ar:{label:"  "},az:{label:"Srasz Siyah"},bg:{label:" "},cs:{label:"Neuspo\xe1dan\xfd seznam"},da:{label:"Usorteret Liste"},de:{label:"Ungeordnete Liste"},en:{label:"Unordered List"},es:{label:"Lista desordenada"},et:{label:"Sorteerimata loend"},fa:{label:"  "},fr:{label:"Liste non ordonn\xe9e"},he:{label:"  "},hr:{label:"Neureeni popis"},hu:{label:"Rendezetlen lista"},it:{label:"Elenco non ordinato"},ja:{label:""},ko:{label:" "},my:{label:"Senarai Tidak Tertib"},nb:{label:"Usortert liste"},nl:{label:"Ongeordende lijst"},pl:{label:"Nieuporzdkowana lista"},pt:{label:"Lista N\xe3o Ordenada"},ro:{label:"List neordonat"},rs:{label:" "},"rs-latin":{label:"Neureena lista"},ru:{label:" "},sk:{label:"Neusporiadan\xfd zoznam"},sl:{label:"Neurejen seznam"},sv:{label:"Oordnad lista"},th:{label:""},tr:{label:"Srasz Liste"},uk:{label:" "},vi:{label:"Danh s\xe1ch kh\xf4ng theo th t"},zh:{label:""},"zh-TW":{label:""}},e$=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#UnorderedListFeatureClient",i18n:eR,markdownTransformers:[eD],nodes:[(0,g.d)({converters:{html:eS},node:e_.EG}),(0,g.d)({converters:{html:eE},node:e_.NK})]},key:"unorderedList"}),ej={ar:{label:"",label2:" "},az:{label:"Paraqraf",label2:"Normal Mtn"},bg:{label:"",label2:" "},cs:{label:"Odstavec",label2:"Norm\xe1ln\xed text"},da:{label:"Afsnit",label2:"Normal tekst"},de:{label:"Paragraph",label2:"Normaler Text"},en:{label:"Paragraph",label2:"Normal Text"},es:{label:"P\xe1rrafo",label2:"Texto normal"},et:{label:"Paragrahv",label2:"Tavaline tekst"},fa:{label:"",label2:" "},fr:{label:"Paragraphe",label2:"Texte normal"},he:{label:"",label2:" "},hr:{label:"Odlomak",label2:"Normalan tekst"},hu:{label:"Bekezd\xe9s",label2:"Norm\xe1l sz\xf6veg"},it:{label:"Paragrafo",label2:"Testo normale"},ja:{label:"",label2:""},ko:{label:"",label2:" "},my:{label:"Perenggan",label2:""},nb:{label:"Avsnitt",label2:"Normal tekst"},nl:{label:"Paragraaf",label2:"Normale tekst"},pl:{label:"Akapit",label2:"Normalny tekst"},pt:{label:"Par\xe1grafo",label2:"Texto Normal"},ro:{label:"Paragraf",label2:"Text normal"},rs:{label:"",label2:"O "},"rs-latin":{label:"Paragraf",label2:"Obian tekst"},ru:{label:"",label2:" "},sk:{label:"Odsek",label2:"Norm\xe1lny text"},sl:{label:"Odstavek",label2:"Navaden besedilo"},sv:{label:"Stycke",label2:"Normal Text"},th:{label:"",label2:""},tr:{label:"Paragraf",label2:"Normal Metin"},uk:{label:"",label2:" "},vi:{label:"on vn",label2:"Vn bn b\xecnh thng"},zh:{label:"",label2:""},"zh-TW":{label:"",label2:""}},eM=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#ParagraphFeatureClient",clientFeatureProps:null,i18n:ej},key:"paragraph"});var eU=i(30653);let eF=e=>({currentDepth:t,depth:i,draft:r,node:a,overrideAccess:o,populationPromises:l,req:d,showHiddenFields:p})=>{if(a?.value){let c=a?.value?.id||a?.value,u=d.payload.collections[a?.relationTo];if(u){let h=e?.maxDepth!==void 0&&e?.maxDepth<i?e?.maxDepth:i;l.push((0,eU.x)({id:c,collectionSlug:u.config.slug,currentDepth:t,data:a,depth:h,draft:r,key:"value",overrideAccess:o,req:d,showHiddenFields:p}))}}},eB={ar:{label:""},az:{label:"M\xfcnasibt"},bg:{label:""},cs:{label:"Vztah"},da:{label:"Forhold"},de:{label:"Beziehung"},en:{label:"Relationship"},es:{label:"Relaci\xf3n"},et:{label:"Seos"},fa:{label:""},fr:{label:"Relation"},he:{label:""},hr:{label:"Odnos"},hu:{label:"Kapcsolat"},it:{label:"Relazione"},ja:{label:""},ko:{label:""},my:{label:"Hubungan"},nb:{label:"Forhold"},nl:{label:"Relatie"},pl:{label:"Relacja"},pt:{label:"Relacionamento"},ro:{label:"Relaie"},rs:{label:""},"rs-latin":{label:"Relacija"},ru:{label:""},sk:{label:"Vzah"},sl:{label:"Odnos"},sv:{label:"Relation"},th:{label:""},tr:{label:"liki"},uk:{label:""},vi:{label:"Mi quan h"},zh:{label:""},"zh-TW":{label:""}};var ez=i(38200);function eq(e){let t=e.getAttribute("data-lexical-relationship-id"),i=e.getAttribute("data-lexical-relationship-relationTo");return null!=t&&null!=i?{node:eH({relationTo:i,value:t})}:null}class eV extends ez.K{__data;constructor({data:e,format:t,key:i}){super(t,i),this.__data=e}static clone(e){return new this({data:e.__data,format:e.__format,key:e.__key})}static getType(){return"relationship"}static importDOM(){return{div:e=>e.hasAttribute("data-lexical-relationship-relationTo")&&e.hasAttribute("data-lexical-relationship-id")?{conversion:eq,priority:2}:null}}static importJSON(e){1===e.version&&e?.value?.id&&(e.value=e.value.id);let t=eH({relationTo:e.relationTo,value:e.value});return t.setFormat(e.format),t}static isInline(){return!1}decorate(e,t){return null}exportDOM(){let e=document.createElement("div");e.setAttribute("data-lexical-relationship-id",String("object"==typeof this.__data?.value?this.__data?.value?.id:this.__data?.value)),e.setAttribute("data-lexical-relationship-relationTo",this.__data?.relationTo);let t=document.createTextNode(this.getTextContent());return e.append(t),{element:e}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"relationship",version:2}}getData(){return this.getLatest().__data}getTextContent(){return`${this.__data?.relationTo} relation to ${"object"==typeof this.__data?.value?this.__data?.value?.id:this.__data?.value}`}setData(e){this.getWritable().__data=e}}function eH(e){return new eV({data:e})}let eW=(0,p.W)({feature:({props:e})=>{let{maxDepth:t,...i}=e??{};return{ClientFeature:"@payloadcms/richtext-lexical/client#RelationshipFeatureClient",clientFeatureProps:i,i18n:eB,nodes:[(0,g.d)({graphQLPopulationPromises:[eF(e)],hooks:{afterRead:[({currentDepth:e,depth:i,draft:r,node:a,overrideAccess:o,populateArg:l,populationPromises:d,req:p,showHiddenFields:c})=>{if(!a?.value)return a;let u=p.payload.collections[a?.relationTo];if(!u)return a;let h=a?.value?.id||a?.value,m=void 0!==t&&t<i?t:i;return d.push((0,eU.x)({id:h,collectionSlug:u.config.slug,currentDepth:e,data:a,depth:m,draft:r,key:"value",overrideAccess:o,req:p,select:l?.[u.config.slug]??u.config.defaultPopulate,showHiddenFields:c})),a}]},node:eV})]}},key:"relationship"}),eG=(0,p.W)({feature:{ClientFeature:"@payloadcms/richtext-lexical/client#InlineToolbarFeatureClient"},key:"toolbarInline"}),eK=e=>({context:t,currentDepth:i,depth:r,draft:a,editorPopulationPromises:o,field:l,fieldPromises:d,findMany:p,flattenLocales:c,node:u,overrideAccess:h,parentIsLocalized:m,populationPromises:g,req:y,showHiddenFields:v})=>{if(u?.value){let b=y.payload.collections[u?.relationTo];if(b){let w=u?.value?.id||u?.value,_=e?.maxDepth!==void 0&&e?.maxDepth<r?e?.maxDepth:r;g.push((0,eU.x)({id:w,collectionSlug:b.config.slug,currentDepth:i,data:u,depth:_,draft:a,key:"value",overrideAccess:h,req:y,showHiddenFields:v}));let x=e?.collections?.[u?.relationTo]?.fields;if(Array.isArray(x)){if(!x?.length)return;(0,ed.a)({context:t,currentDepth:i,data:u.fields||{},depth:r,parentIsLocalized:m||l.localized||!1,draft:a,editorPopulationPromises:o,fieldPromises:d,fields:x,findMany:p,flattenLocales:c,overrideAccess:h,populationPromises:g,req:y,showHiddenFields:v,siblingDoc:u.fields||{}})}}}},eJ={ar:{label:""},az:{label:"Y\xfcklyin"},bg:{label:""},cs:{label:"Nahr\xe1t"},da:{label:"Upload"},de:{label:"Datei"},en:{label:"Upload"},es:{label:"Subir"},et:{label:"Lae \xfcles"},fa:{label:""},fr:{label:"T\xe9l\xe9charger"},he:{label:""},hr:{label:"Prenesi"},hu:{label:"Felt\xf6lt\xe9s"},it:{label:"Carica"},ja:{label:""},ko:{label:""},my:{label:""},nb:{label:"Last opp"},nl:{label:"Uploaden"},pl:{label:"Przelij"},pt:{label:"Carregar"},ro:{label:"\xcencarc"},rs:{label:""},"rs-latin":{label:"Otpremi"},ru:{label:""},sk:{label:"Nahra"},sl:{label:"Naloi"},sv:{label:"Ladda upp"},th:{label:""},tr:{label:"Y\xfckle"},uk:{label:""},vi:{label:"Ti l\xean"},zh:{label:""},"zh-TW":{label:""}};var eQ=i(19510);function eY(e){return null!=e.parentElement&&"LI"===e.parentElement.tagName&&null===e.previousSibling&&"checkbox"===e.getAttribute("aria-roledescription")}function eZ(e){if(e.hasAttribute("data-lexical-upload-relation-to")&&e.hasAttribute("data-lexical-upload-id")){let t=e.getAttribute("data-lexical-upload-id"),i=e.getAttribute("data-lexical-upload-relation-to");if(null!=t&&null!=i)return{node:e1({data:{fields:{},relationTo:i,value:t}})}}let t=e;return t.src.startsWith("file:///")||eY(t),null}i(71159);class eX extends ez.K{__data;constructor({data:e,format:t,key:i}){super(t,i),this.__data=e}static clone(e){return new this({data:e.__data,format:e.__format,key:e.__key})}static getType(){return"upload"}static importDOM(){return{img:e=>({conversion:eZ,priority:0})}}static importJSON(e){1===e.version&&e?.value?.id&&(e.value=e.value.id),2!==e.version||e?.id||(e.id=new X.default().toHexString(),e.version=3);let t=e1({data:{id:e.id,fields:e.fields,relationTo:e.relationTo,value:e.value}});return t.setFormat(e.format),t}static isInline(){return!1}decorate(){return(0,eQ.jsx)(RawUploadComponent,{data:this.__data,format:this.__format,nodeKey:this.getKey()})}exportDOM(){let e=document.createElement("img");return e.setAttribute("data-lexical-upload-id",String(this.__data?.value)),e.setAttribute("data-lexical-upload-relation-to",this.__data?.relationTo),{element:e}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"upload",version:3}}getData(){return this.getLatest().__data}setData(e){this.getWritable().__data=e}updateDOM(){return!1}}function e1({data:e}){return e?.id||(e.id=new X.default().toHexString()),(0,z.U2B)(new eX({data:e}))}var e0=i(18032);let e2=e=>async({node:t,validation:{options:{id:i,data:r,operation:a,preferences:o,req:l,req:{payload:d,t:p}}}})=>{let c=d.collections[t.relationTo]?.customIDType||d.db.defaultIDType,u=t?.value?.id||t?.value;if(!(0,e0.k)(u,c))return p("validation:validUploadID");if(!e?.collections||0===Object.keys(e?.collections).length)return!0;let h=e?.collections[t.relationTo];if(!h?.fields?.length)return!0;let m=await (0,ev.P)({id:i,collectionSlug:t.relationTo,data:t?.fields??{},documentData:r,fields:h.fields,fieldSchemaMap:void 0,initialBlockData:t?.fields??{},operation:"create"===a||"update"===a?a:"update",permissions:{},preferences:o,renderAllFields:!1,req:l,schemaPath:""}),g=new Set;for(let e in m){let t=m[e];if(t?.errorPaths?.length)for(let e of t.errorPaths)g.add(e)}let y=Array.from(g);return!y.length||"The following fields are invalid: "+y.join(", ")};function e6(e,t){return e?.startsWith("http")?e:(t?.config?.serverURL||"")+e}let e4=(0,p.W)({feature:async({config:e,isRoot:t,parentIsLocalized:i,props:r})=>{r||(r={collections:{}});let a={collections:{}};if(r.collections)for(let e in r.collections)a.collections[e]={hasExtraFields:r.collections[e].fields.length>=1};let o=e.collections.map(e=>e.slug)||[];for(let a in r.collections){let l=r.collections[a];l.fields?.length&&(l.fields=await (0,Z.G)({config:e,fields:l.fields,parentIsLocalized:i,requireFieldLevelRichTextEditor:t,validRelationships:o}))}return{ClientFeature:"@payloadcms/richtext-lexical/client#UploadFeatureClient",clientFeatureProps:a,generateSchemaMap:({props:e})=>{if(!e?.collections)return null;let t=new Map;for(let i in e.collections){let r=e.collections[i];r.fields?.length&&t.set(i,{fields:r.fields})}return t},i18n:eJ,nodes:[(0,g.d)({converters:{html:{converter:async({currentDepth:e,depth:t,draft:i,node:r,overrideAccess:a,req:o,showHiddenFields:l})=>{let d=r?.value?.id||r?.value;if(!o?.payload)return`<img src="${d}" />`;{let p={};try{await (0,eU.x)({id:d,collectionSlug:r.relationTo,currentDepth:e,data:p,depth:t,draft:i,key:"value",overrideAccess:a,req:o,showHiddenFields:l})}catch(e){return console.error("Lexical upload node HTML converter: error fetching upload file",e,"Node:",r),"<img />"}let c=e6(p?.value?.url??"",o?.payload);if(!p?.value?.mimeType?.startsWith("image"))return`<a href="${c}" rel="noopener noreferrer">${p.value?.filename}</a>`;if(!p?.value?.sizes||!Object.keys(p?.value?.sizes).length)return`<img src="${c}" alt="${p?.value?.filename}" width="${p?.value?.width}"  height="${p?.value?.height}"/>`;let u="<picture>";for(let e in p.value?.sizes){let t=p.value.sizes[e];if(!t.width||!t.height||!t.mimeType||!t.filesize||!t.filename||!t.url)continue;let i=e6(t?.url,o?.payload);u+=`<source srcset="${i}" media="(max-width: ${t.width}px)" type="${t.mimeType}">`}return u+`<img src="${c}" alt="Image" width="${p.value?.width}" height="${p.value?.height}"></picture>`}},nodeTypes:[eX.getType()]}},getSubFields:({node:e,req:t})=>{if(!e){let e=[];for(let t in r?.collections){let i=r.collections[t].fields;e=e.concat(i)}return e}if(t?t.payload.collections[e?.relationTo]:null){let t=r?.collections?.[e?.relationTo]?.fields;if(Array.isArray(t))return t?.length?t:null}return null},getSubFieldsData:({node:e})=>e?.fields,graphQLPopulationPromises:[eK(r)],hooks:{afterRead:[({currentDepth:e,depth:t,draft:i,node:a,overrideAccess:o,populateArg:l,populationPromises:d,req:p,showHiddenFields:c})=>{if(!a?.value)return a;let u=p.payload.collections[a?.relationTo];if(!u)return a;let h=a?.value?.id||a?.value,m=r?.maxDepth!==void 0&&r?.maxDepth<t?r?.maxDepth:t;return d.push((0,eU.x)({id:h,collectionSlug:u.config.slug,currentDepth:e,data:a,depth:m,draft:i,key:"value",overrideAccess:o,req:p,select:l?.[u.config.slug]??u.config.defaultPopulate,showHiddenFields:c})),a}]},node:eX,validations:[e2(r)]})],sanitizedServerFeatureProps:r}},key:"upload"}),e3={namespace:"lexical",theme:{block:"LexicalEditorTheme__block",blockCursor:"LexicalEditorTheme__blockCursor",characterLimit:"LexicalEditorTheme__characterLimit",code:"LexicalEditorTheme__code",codeHighlight:{atrule:"LexicalEditorTheme__tokenAttr",attr:"LexicalEditorTheme__tokenAttr",boolean:"LexicalEditorTheme__tokenProperty",builtin:"LexicalEditorTheme__tokenSelector",cdata:"LexicalEditorTheme__tokenComment",char:"LexicalEditorTheme__tokenSelector",class:"LexicalEditorTheme__tokenFunction","class-name":"LexicalEditorTheme__tokenFunction",comment:"LexicalEditorTheme__tokenComment",constant:"LexicalEditorTheme__tokenProperty",deleted:"LexicalEditorTheme__tokenProperty",doctype:"LexicalEditorTheme__tokenComment",entity:"LexicalEditorTheme__tokenOperator",function:"LexicalEditorTheme__tokenFunction",important:"LexicalEditorTheme__tokenVariable",inserted:"LexicalEditorTheme__tokenSelector",keyword:"LexicalEditorTheme__tokenAttr",namespace:"LexicalEditorTheme__tokenVariable",number:"LexicalEditorTheme__tokenProperty",operator:"LexicalEditorTheme__tokenOperator",prolog:"LexicalEditorTheme__tokenComment",property:"LexicalEditorTheme__tokenProperty",punctuation:"LexicalEditorTheme__tokenPunctuation",regex:"LexicalEditorTheme__tokenVariable",selector:"LexicalEditorTheme__tokenSelector",string:"LexicalEditorTheme__tokenSelector",symbol:"LexicalEditorTheme__tokenProperty",tag:"LexicalEditorTheme__tokenProperty",url:"LexicalEditorTheme__tokenOperator",variable:"LexicalEditorTheme__tokenVariable"},embedBlock:{base:"LexicalEditorTheme__embedBlock",focus:"LexicalEditorTheme__embedBlockFocus"},hashtag:"LexicalEditorTheme__hashtag",heading:{h1:"LexicalEditorTheme__h1",h2:"LexicalEditorTheme__h2",h3:"LexicalEditorTheme__h3",h4:"LexicalEditorTheme__h4",h5:"LexicalEditorTheme__h5",h6:"LexicalEditorTheme__h6"},hr:"LexicalEditorTheme__hr",hrSelected:"LexicalEditorTheme__hrSelected",indent:"LexicalEditorTheme__indent",inlineImage:"LexicalEditor__inline-image",link:"LexicalEditorTheme__link",list:{checklist:"LexicalEditorTheme__checklist",listitem:"LexicalEditorTheme__listItem",listitemChecked:"LexicalEditorTheme__listItemChecked",listitemUnchecked:"LexicalEditorTheme__listItemUnchecked",nested:{listitem:"LexicalEditorTheme__nestedListItem"},olDepth:["LexicalEditorTheme__ol1","LexicalEditorTheme__ol2","LexicalEditorTheme__ol3","LexicalEditorTheme__ol4","LexicalEditorTheme__ol5"],ul:"LexicalEditorTheme__ul"},ltr:"LexicalEditorTheme__ltr",mark:"LexicalEditorTheme__mark",markOverlap:"LexicalEditorTheme__markOverlap",paragraph:"LexicalEditorTheme__paragraph",quote:"LexicalEditorTheme__quote",relationship:"LexicalEditorTheme__relationship",rtl:"LexicalEditorTheme__rtl",tab:"LexicalEditorTheme__tabNode",table:"LexicalEditorTheme__table",tableAddColumns:"LexicalEditorTheme__tableAddColumns",tableAddRows:"LexicalEditorTheme__tableAddRows",tableAlignment:{center:"LexicalEditorTheme__tableAlignmentCenter",right:"LexicalEditorTheme__tableAlignmentRight"},tableCell:"LexicalEditorTheme__tableCell",tableCellActionButton:"LexicalEditorTheme__tableCellActionButton",tableCellActionButtonContainer:"LexicalEditorTheme__tableCellActionButtonContainer",tableCellHeader:"LexicalEditorTheme__tableCellHeader",tableCellResizer:"LexicalEditorTheme__tableCellResizer",tableCellSelected:"LexicalEditorTheme__tableCellSelected",tableFrozenColumn:"LexicalEditorTheme__tableFrozenColumn",tableRowStriping:"LexicalEditorTheme__tableRowStriping",tableScrollableWrapper:"LexicalEditorTheme__tableScrollableWrapper",tableSelected:"LexicalEditorTheme__tableSelected",tableSelection:"LexicalEditorTheme__tableSelection",text:{bold:"LexicalEditorTheme__textBold",code:"LexicalEditorTheme__textCode",italic:"LexicalEditorTheme__textItalic",strikethrough:"LexicalEditorTheme__textStrikethrough",subscript:"LexicalEditorTheme__textSubscript",superscript:"LexicalEditorTheme__textSuperscript",underline:"LexicalEditorTheme__textUnderline",underlineStrikethrough:"LexicalEditorTheme__textUnderlineStrikethrough"},upload:"editor-upload"}},e5=[E(),O(),R(),I(),L(),D(),T(),eM(),U(),u(),Q(),e$(),eL(),eO(),ew(),eW(),b(),e4(),K(),eG()],e8={features:e5,lexical:e3};function e9(e){let t={};for(let i of e)t[i.key]={dependencies:i.dependencies||[],dependenciesPriority:i.dependenciesPriority||[],dependenciesSoft:i.dependenciesSoft||[],featureProvider:i};return t}function e7(e){let t=e9(e),i={},r=[];for(let e in t)i[e]||te(t,e,i,r);return r.reverse()}function te(e,t,i,r,a=[]){if(!e[t])throw Error(`Feature key ${t} is not present in the dependency graph.`);if(a.includes(t))throw Error(`Circular dependency detected: ${a.join(" -> ")} -> ${t}`);if(!i[t]){for(let o of(i[t]=!0,a.push(t),e[t].dependenciesPriority))i[o]||te(e,o,i,r,a);for(let o of e[t].dependencies)i[o]||e[t].dependenciesPriority.includes(o)||te(e,o,i,r,a);for(let o of e[t].dependenciesSoft)!e[o]||i[o]||e[t].dependenciesPriority.includes(o)||e[t].dependencies.includes(o)||te(e,o,i,r,a);r.push(e[t].featureProvider),a.pop()}}function tt(e){return e7(e)}async function ti({config:e,isRoot:t,parentIsLocalized:i,unSanitizedEditorConfig:r}){r.features=r.features.reverse().filter((e,t,i)=>i.findIndex(t=>t.key===e.key)===t).reverse(),r.features=tt(r.features);let a=new Map(r.features.map(e=>[e.key,e])),o=new Map,l=0;for(let d of r.features){if(!d.key)throw Error("A Feature you've added does not have a key. Please add a key to the feature. This is used to uniquely identify the feature.");if(d.dependencies?.length){for(let e of d.dependencies)if(!r.features.find(t=>t.key===e))throw Error(`Feature ${d.key} has a dependency ${e} which does not exist.`)}if(d.dependenciesPriority?.length){for(let e of d.dependenciesPriority)if(!o.get(e)){if(r.features.find(t=>t.key===e))throw Error(`Feature ${d.key} has a priority dependency ${e} which is not loaded before it.`);throw Error(`Feature ${d.key} has a priority dependency ${e} which does not exist.`)}}let p="function"==typeof d.feature?await d.feature({config:e,featureProviderMap:a,isRoot:t,parentIsLocalized:i,resolvedFeatures:o,unSanitizedEditorConfig:r}):d.feature;p.key=d.key,p.order=l,p.dependencies=d.dependencies,p.dependenciesPriority=d.dependenciesPriority,p.dependenciesSoft=d.dependenciesSoft,o.set(d.key,p),l++}return o}let tr=e=>{let t={converters:{html:[]},enabledFeatures:[],generatedTypes:{modifyOutputSchemas:[]},getSubFields:new Map,getSubFieldsData:new Map,graphQLPopulationPromises:new Map,hooks:{afterChange:[],afterRead:[],beforeChange:[],beforeValidate:[]},i18n:{},markdownTransformers:[],nodeHooks:{afterChange:new Map,afterRead:new Map,beforeChange:new Map,beforeValidate:new Map},nodes:[],validations:new Map};return e?.size&&e.forEach(e=>{if(e?.generatedTypes?.modifyOutputSchema&&t.generatedTypes.modifyOutputSchemas.push(e.generatedTypes.modifyOutputSchema),e?.hooks?.beforeValidate?.length&&(t.hooks.beforeValidate=t.hooks.beforeValidate?.concat(e.hooks.beforeValidate)),e?.hooks?.beforeChange?.length&&(t.hooks.beforeChange=t.hooks.beforeChange?.concat(e.hooks.beforeChange)),e?.hooks?.afterRead?.length&&(t.hooks.afterRead=t.hooks.afterRead?.concat(e.hooks.afterRead)),e?.hooks?.afterChange?.length&&(t.hooks.afterChange=t.hooks.afterChange?.concat(e.hooks.afterChange)),e?.i18n)for(let i in e.i18n)t.i18n[i]||(t.i18n[i]={lexical:{}}),t.i18n[i].lexical[e.key]=e.i18n[i];if(e.nodes?.length){for(let i of e.nodes)t.nodes.push(i);e.nodes.forEach(e=>{let i="with"in e.node?e.node.replace.getType():e.node.getType();e?.graphQLPopulationPromises?.length&&t.graphQLPopulationPromises.set(i,e.graphQLPopulationPromises),e?.validations?.length&&t.validations.set(i,e.validations),e?.converters?.html&&t.converters.html.push(e.converters.html),e?.hooks?.afterChange&&t.nodeHooks?.afterChange?.set(i,e.hooks.afterChange),e?.hooks?.afterRead&&t.nodeHooks?.afterRead?.set(i,e.hooks.afterRead),e?.hooks?.beforeChange&&t.nodeHooks?.beforeChange?.set(i,e.hooks.beforeChange),e?.hooks?.beforeValidate&&t.nodeHooks?.beforeValidate?.set(i,e.hooks.beforeValidate),e?.getSubFields&&t.getSubFields?.set(i,e.getSubFields),e?.getSubFieldsData&&t.getSubFieldsData?.set(i,e.getSubFieldsData)})}if(e.markdownTransformers?.length)for(let i of e.markdownTransformers)"function"==typeof i?t.markdownTransformers.push(i({allNodes:t.nodes,allTransformers:t.markdownTransformers})):t.markdownTransformers.push(i);t.enabledFeatures.push(e.key)}),t};async function ta(e,t,i){let r=await ti({config:t,parentIsLocalized:i,unSanitizedEditorConfig:e});return{features:tr(r),lexical:e.lexical,resolvedFeatureMap:r}}let tn=global._payload_lexical_defaultSanitizedServerEditorConfig;tn||(tn=global._payload_lexical_defaultSanitizedServerEditorConfig=null);let ts=async e=>{let{config:t,parentIsLocalized:i}=e;return tn?await tn:(tn=ta(e8,t,i),global.payload_lexical_defaultSanitizedServerEditorConfig=tn,tn=await tn,global.payload_lexical_defaultSanitizedServerEditorConfig=tn,tn)},to={ar:{placeholder:"     '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},az:{placeholder:"Yazmaa balayn v ya mrlr \xfc\xe7\xfcn '/' d\xfcymsini basn...",slashMenuBasicGroupLabel:"sas",slashMenuListGroupLabel:"Siyahlar",toolbarItemsActive:"{{count}} aktiv"},bg:{placeholder:"     '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},cs:{placeholder:"Zante ps\xe1t nebo stisknte '/' pro p\xedkazy...",slashMenuBasicGroupLabel:"Z\xe1kladn\xed",slashMenuListGroupLabel:"Seznamy",toolbarItemsActive:"{{count}} aktivn\xed"},da:{placeholder:"Begynd at skrive, eller tryk p\xe5 '/' for kommandoer...",slashMenuBasicGroupLabel:"Grundl\xe6ggende",slashMenuListGroupLabel:"Lister",toolbarItemsActive:"{{count}} aktive"},de:{placeholder:"Beginne zu tippen oder dr\xfccke '/' f\xfcr Befehle...",slashMenuBasicGroupLabel:"Basis",slashMenuListGroupLabel:"Listen",toolbarItemsActive:"{{count}} aktiv"},en:{placeholder:"Start typing, or press '/' for commands...",slashMenuBasicGroupLabel:"Basic",slashMenuListGroupLabel:"Lists",toolbarItemsActive:"{{count}} active"},es:{placeholder:"Comience a escribir, o presione '/' para comandos...",slashMenuBasicGroupLabel:"B\xe1sico",slashMenuListGroupLabel:"Listas",toolbarItemsActive:"{{count}} activo"},et:{placeholder:"Alusta kirjutamist v\xf5i vajuta '/' k\xe4skude jaoks...",slashMenuBasicGroupLabel:"P\xf5hiline",slashMenuListGroupLabel:"Loendid",toolbarItemsActive:"{{count}} aktiivne"},fa:{placeholder:"       '/'    ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:" ",toolbarItemsActive:"{{count}} "},fr:{placeholder:"Commencez \xe0 taper, ou appuyez sur '/' pour les commandes...",slashMenuBasicGroupLabel:"De base",slashMenuListGroupLabel:"Listes",toolbarItemsActive:"{{count}} actif"},he:{placeholder:" ,    '/'   ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},hr:{placeholder:"Ponite tipkati, ili pritisnite '/' za naredbe...",slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Popisi",toolbarItemsActive:"{{count}} aktivno"},hu:{placeholder:"Kezdje el g\xe9pelni, vagy nyomja meg a '/' billentyt a parancsokhoz...",slashMenuBasicGroupLabel:"Alapvet",slashMenuListGroupLabel:"List\xe1k",toolbarItemsActive:"{{count}} akt\xedv"},it:{placeholder:"Inizia a digitare, oppure premi '/' per i comandi...",slashMenuBasicGroupLabel:"Base",slashMenuListGroupLabel:"Elenchi",toolbarItemsActive:"{{count}} attivo"},ja:{placeholder:"'/'",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},ko:{placeholder:" ,   '/' ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},my:{placeholder:"Mula menaip, atau tekan '/' untuk arahan...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"Senarai",toolbarItemsActive:"{{count}} aktif"},nb:{placeholder:"Begynn \xe5 skrive, eller trykk '/' for kommandoer...",slashMenuBasicGroupLabel:"Grunnleggende",slashMenuListGroupLabel:"Lister",toolbarItemsActive:"{{count}} aktiv"},nl:{placeholder:"Begin met typen, of druk op '/' voor opdrachten...",slashMenuBasicGroupLabel:"Basis",slashMenuListGroupLabel:"Lijsten",toolbarItemsActive:"{{count}} actief"},pl:{placeholder:"Rozpocznij pisanie lub nacinij '/' dla polece...",slashMenuBasicGroupLabel:"Podstawowy",slashMenuListGroupLabel:"Listy",toolbarItemsActive:"{{count}} aktywny"},pt:{placeholder:"Comece a digitar, ou pressione '/' para comandos...",slashMenuBasicGroupLabel:"B\xe1sico",slashMenuListGroupLabel:"Listas",toolbarItemsActive:"{{count}} ativo"},ro:{placeholder:"\xcencepei s tastai sau apsai '/' pentru comenzi...",slashMenuBasicGroupLabel:"De baz",slashMenuListGroupLabel:"Liste",toolbarItemsActive:"{{count}} activ"},rs:{placeholder:"  ,   '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},"rs-latin":{placeholder:"Ponite da kucate, ili pritisnite '/' za komande...",slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Liste",toolbarItemsActive:"{{count}} aktivan"},ru:{placeholder:"    '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},sk:{placeholder:"Zanite p\xedsa alebo stlate '/' pre pr\xedkazy...",slashMenuBasicGroupLabel:"Z\xe1kladn\xfd",slashMenuListGroupLabel:"Zoznamy",toolbarItemsActive:"{{count}} akt\xedvne"},sl:{placeholder:'Zanite tipkati ali pritisnite "/" za ukaze...',slashMenuBasicGroupLabel:"Osnovno",slashMenuListGroupLabel:"Seznami",toolbarItemsActive:"{{count}} aktivno"},sv:{placeholder:"B\xf6rja skriva, eller tryck p\xe5 '/' f\xf6r kommandon...",slashMenuBasicGroupLabel:"Grundl\xe4ggande",slashMenuListGroupLabel:"Listor",toolbarItemsActive:"{{count}} aktiv"},th:{placeholder:" '/' ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},tr:{placeholder:"Yazmaya balayn veya komutlar i\xe7in '/' tuuna basn...",slashMenuBasicGroupLabel:"Temel",slashMenuListGroupLabel:"Listeler",toolbarItemsActive:"{{count}} aktif"},uk:{placeholder:" ,   '/'  ...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},vi:{placeholder:"Bt u g\xf5, hoc nhn '/'  gi lnh...",slashMenuBasicGroupLabel:"C bn",slashMenuListGroupLabel:"Danh s\xe1ch",toolbarItemsActive:"{{count}} ang hot ng"},zh:{placeholder:"'/'...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "},"zh-TW":{placeholder:"'/'...",slashMenuBasicGroupLabel:"",slashMenuListGroupLabel:"",toolbarItemsActive:"{{count}} "}};function tl({callback:e,nodes:t}){for(let i of t)e(i),"children"in i&&Array.isArray(i?.children)&&i?.children?.length&&tl({callback:e,nodes:i.children})}let td=({context:e,currentDepth:t,depth:i,draft:r,editorPopulationPromises:a,field:o,fieldPromises:l,findMany:d,flattenLocales:p,overrideAccess:c,parentIsLocalized:u,populationPromises:h,req:m,showHiddenFields:g,siblingDoc:y})=>{i&&t<=i&&tl({callback:v=>{let b=a?.get(v.type);if(b)for(let w of b)w({context:e,currentDepth:t,depth:i,draft:r,editorPopulationPromises:a,field:o,fieldPromises:l,findMany:d,flattenLocales:p,node:v,overrideAccess:c,parentIsLocalized:u,populationPromises:h,req:m,showHiddenFields:g,siblingDoc:y})},nodes:y[o?.name]?.root?.children??[]})},tp=async e=>{let t=[];if(e.features&&"function"==typeof e.features){let i=e.config.editor,r=[];"object"==typeof i&&"features"in i&&(r=i.features),t=e.features({defaultFeatures:e5,rootFeatures:r})}else t=e.features;t||(t=e5);let i=e.lexical??e8.lexical,r=await ti({config:e.config,isRoot:e.isRoot??!1,parentIsLocalized:e.parentIsLocalized??!1,unSanitizedEditorConfig:{features:t,lexical:i}});return{features:t,resolvedFeatureMap:r,sanitizedConfig:{features:tr(r),lexical:e.lexical,resolvedFeatureMap:r}}};var tc=i(9291);let tu=e=>({addToImportMap:t,baseDir:i,config:r,importMap:a,imports:o})=>{for(let l of(t("@payloadcms/richtext-lexical/rsc#RscEntryLexicalCell"),t("@payloadcms/richtext-lexical/rsc#RscEntryLexicalField"),t("@payloadcms/richtext-lexical/rsc#LexicalDiffComponent"),e.resolvedFeatureMap.values())){if("componentImports"in l){if("function"==typeof l.componentImports)l.componentImports({addToImportMap:t,baseDir:i,config:r,importMap:a,imports:o});else if(Array.isArray(l.componentImports)&&l.componentImports?.length)l.componentImports.forEach(e=>{t(e)});else if("object"==typeof l.componentImports)for(let e of Object.values(l.componentImports))t(e)}let e=l.ClientFeature;if(e&&t(e),l.nodes?.length)for(let e of l.nodes){if("function"!=typeof e?.getSubFields)continue;let l=e.getSubFields({});l?.length&&(0,tc.O)({addToImportMap:t,baseDir:i,config:r,fields:l,importMap:a,imports:o})}}};var th=i(44406);let tf=e=>({config:t,field:i,i18n:r,schemaMap:a,schemaPath:o})=>{for(let[l,d]of e.resolvedFeatureMap.entries()){if(!("generateSchemaMap"in d)||"function"!=typeof d.generateSchemaMap)continue;let e=d.generateSchemaMap({config:t,field:i,i18n:r,props:d.sanitizedServerFeatureProps,schemaMap:a,schemaPath:o});if(e)for(let[i,d]of e.entries())"fields"in d&&(0,th.J)({config:t,fields:d.fields,i18n:r,parentIndexPath:"",parentSchemaPath:`${o}.lexical_internal_feature.${l}.${i}`,schemaMap:a}),a.set(`${o}.lexical_internal_feature.${l}.${i}`,d)}return a},tm=({flattenedNodes:e,nodeIDMap:t,nodes:i})=>{if(i?.length)for(let r of i)e&&e.push(r),t&&(r&&"id"in r&&r.id?t[r.id]=r:"fields"in r&&"object"==typeof r.fields&&r.fields&&"id"in r.fields&&r?.fields?.id&&(t[r.fields.id]=r)),"children"in r&&Array.isArray(r?.children)&&r?.children?.length&&tm({flattenedNodes:e,nodeIDMap:t,nodes:r.children})};var tg=i(85572);async function ty({nodes:e,nodeValidations:t,validation:i}){for(let r of e){let e=t.get(r.type);if(e)for(let a of e){let e=await a({node:r,nodeValidations:t,validation:i});if(!0!==e)return`${r.type} node failed to validate: ${e}`}if("children"in r&&r?.children){let e=await ty({nodes:r.children,nodeValidations:t,validation:i});if(!0!==e)return e}}return!0}let tv=({editorConfig:e})=>async(t,i)=>{let{req:{t:r},required:a}=i;if(a&&!1===(0,tg.b)(t))return r("validation:required");let o=t?.root?.children;return!(o&&Array.isArray(o)&&o?.length)||await ty({nodes:o,nodeValidations:e.features.validations,validation:{options:i,value:t}})};function tb(e){return async({config:t,isRoot:i,parentIsLocalized:p})=>{let c,u,h=[];if(e&&(e.features||e.lexical)){let r=await tp({config:t,features:e?.features,isRoot:i,lexical:e?.lexical,parentIsLocalized:p});u=r.sanitizedConfig,h=r.features,c=r.resolvedFeatureMap}else u=await ts({config:t,parentIsLocalized:p}),h=e5,c=u.resolvedFeatureMap;let m=u.features.i18n;for(let e in to)m[e]||(m[e]={lexical:{}}),m[e].lexical.general=to[e];return{CellComponent:{path:"@payloadcms/richtext-lexical/rsc#RscEntryLexicalCell",serverProps:{admin:e?.admin,sanitizedEditorConfig:u}},DiffComponent:{path:"@payloadcms/richtext-lexical/rsc#LexicalDiffComponent",serverProps:{admin:e?.admin,sanitizedEditorConfig:u}},editorConfig:u,features:h,FieldComponent:{path:"@payloadcms/richtext-lexical/rsc#RscEntryLexicalField",serverProps:{admin:e?.admin,sanitizedEditorConfig:u}},generateImportMap:tu({resolvedFeatureMap:c}),generateSchemaMap:tf({resolvedFeatureMap:c}),graphQLPopulationPromises({context:e,currentDepth:t,depth:i,draft:r,field:a,fieldPromises:o,findMany:l,flattenLocales:d,overrideAccess:p,parentIsLocalized:c,populationPromises:h,req:m,showHiddenFields:g,siblingDoc:y}){u?.features?.graphQLPopulationPromises?.size&&td({context:e,currentDepth:t??0,depth:i,draft:r,editorPopulationPromises:u.features.graphQLPopulationPromises,field:a,fieldPromises:o,findMany:l,flattenLocales:d,overrideAccess:p,parentIsLocalized:c,populationPromises:h,req:m,showHiddenFields:g,siblingDoc:y})},hooks:{afterChange:[async e=>{let{collection:t,context:i,data:a,field:o,global:l,indexPath:d,operation:p,originalDoc:c,parentIsLocalized:h,path:m,previousDoc:g,previousValue:y,req:v,schemaPath:b}=e,{value:w}=e;if(u?.features?.hooks?.afterChange?.length)for(let t of u.features.hooks.afterChange)w=await t(e);if(!u.features.nodeHooks?.afterChange?.size&&!u.features.getSubFields?.size)return w;let _=i,x={},S={},E=_?.internal?.richText?.[m.join(".")]?.originalNodeIDMap;if(!E||!Object.keys(E).length||!w)return w;for(let[e,i]of(tm({nodeIDMap:x,nodes:w?.root?.children??[]}),tm({nodeIDMap:S,nodes:y?.root?.children??[]}),Object.entries(x))){let y=u.features.nodeHooks?.afterChange,w=y?.get(i.type);if(w)for(let t of w){if(!E[e]){console.warn("(afterChange) No original node found for node with id",e,"node:",i,"path",m.join("."));continue}i=await t({context:_,node:i,operation:p,originalNode:E[e],parentRichTextFieldPath:m,parentRichTextFieldSchemaPath:b,previousNode:S[e],req:v})}let x=u.features.getSubFields?.get(i.type),k=u.features.getSubFieldsData?.get(i.type);if(x&&k){let u=x({node:i,req:v}),y=k({node:i,req:v})??{},w=k({node:E[e],req:v})??{},T=k({node:S[e],req:v})??{};u?.length&&await (0,r.J)({blockData:y,collection:t,context:_,data:a??{},doc:c,fields:u,global:l,operation:p,parentIndexPath:d.join("-"),parentIsLocalized:h||o.localized||!1,parentPath:m.join("."),parentSchemaPath:b.join("."),previousDoc:g,previousSiblingDoc:{...T},req:v,siblingData:y||{},siblingDoc:{...w}})}}return w}],afterRead:[async e=>{let{collection:t,context:i,currentDepth:r,depth:o,draft:l,fallbackLocale:d,field:p,fieldPromises:c,findMany:h,flattenLocales:m,global:g,indexPath:y,locale:v,originalDoc:b,overrideAccess:w,parentIsLocalized:_,path:x,populate:S,populationPromises:E,req:k,schemaPath:T,showHiddenFields:C,triggerAccessControl:N,triggerHooks:O}=e,{value:P}=e;if(u?.features?.hooks?.afterRead?.length)for(let t of u.features.hooks.afterRead)P=await t(e);if(!u.features.nodeHooks?.afterRead?.size&&!u.features.getSubFields?.size)return P;let I=[];for(let e of(tm({flattenedNodes:I,nodes:P?.root?.children??[]}),I)){let P=u.features.nodeHooks?.afterRead,I=P?.get(e.type);if(I)for(let t of I)e=await t({context:i,currentDepth:r,depth:o,draft:l,fallbackLocale:d,fieldPromises:c,findMany:h,flattenLocales:m,locale:v,node:e,overrideAccess:w,parentRichTextFieldPath:x,parentRichTextFieldSchemaPath:T,populateArg:S,populationPromises:E,req:k,showHiddenFields:C,triggerAccessControl:N,triggerHooks:O});let L=u.features.getSubFields?.get(e.type),D=u.features.getSubFieldsData?.get(e.type);if(L&&D){let u=L({node:e,req:k}),P=D({node:e,req:k})??{};u?.length&&(0,a.J)({blockData:P,collection:t,context:i,currentDepth:r,depth:o,doc:b,draft:l,fallbackLocale:d,fieldPromises:c,fields:u,findMany:h,flattenLocales:m,global:g,locale:v,overrideAccess:w,parentIndexPath:y.join("-"),parentIsLocalized:_||p.localized||!1,parentPath:x.join("."),parentSchemaPath:T.join("."),populate:S,populationPromises:E,req:k,showHiddenFields:C,siblingDoc:P,triggerAccessControl:N,triggerHooks:O})}}return P}],beforeChange:[async e=>{let{collection:t,context:i,data:r,docWithLocales:a,errors:l,field:d,fieldLabelPath:p,global:c,indexPath:h,mergeLocaleActions:m,operation:g,originalDoc:y,overrideAccess:v,parentIsLocalized:b,path:w,previousValue:_,req:x,schemaPath:S,siblingData:E,siblingDocWithLocales:k,skipValidation:T}=e,{value:C}=e;if(u?.features?.hooks?.beforeChange?.length)for(let t of u.features.hooks.beforeChange)C=await t(e);if(!u.features.nodeHooks?.beforeChange?.size&&!u.features.getSubFields?.size)return C;let N=i,O={},P=N?.internal?.richText?.[w.join(".")]?.originalNodeIDMap;if(!P||!Object.keys(P).length||!C)return C;let I={},L={};for(let[e,i]of(tm({nodeIDMap:O,nodes:C?.root?.children??[]}),tm({nodeIDMap:I,nodes:_?.root?.children??[]}),d.name&&k?.[d.name]&&tm({nodeIDMap:L,nodes:k[d.name]?.root?.children??[]}),Object.entries(O))){let _=u.features.nodeHooks?.beforeChange,E=_?.get(i.type);if(E)for(let t of E){if(!P[e]){console.warn("(beforeChange) No original node found for node with id",e,"node:",i,"path",w.join("."));continue}i=await t({context:N,errors:l,mergeLocaleActions:m,node:i,operation:g,originalNode:P[e],originalNodeWithLocales:L[e],parentRichTextFieldPath:w,parentRichTextFieldSchemaPath:S,previousNode:I[e],req:x,skipValidation:T})}let k=u.features.getSubFields?.get(i.type),C=u.features.getSubFieldsData?.get(i.type);if(k&&C){let u=k({node:i,req:x}),_=C({node:i,req:x})??{},E=C({node:L[e],req:x})??{},O=C({node:I[e],req:x})??{};u?.length&&await (0,o.J)({id:e,blockData:_,collection:t,context:N,data:r??{},doc:y??{},docWithLocales:a??{},errors:l,fieldLabelPath:p,fields:u,global:c,mergeLocaleActions:m,operation:g,overrideAccess:v,parentIndexPath:h.join("-"),parentIsLocalized:b||d.localized||!1,parentPath:w.join("."),parentSchemaPath:S.join("."),req:x,siblingData:_,siblingDoc:O,siblingDocWithLocales:E??{},skipValidation:T})}}let D={},R=E[d.name];return tm({nodeIDMap:D,nodes:R?.root?.children??[]}),N.internal||(N.internal={}),N.internal.richText||(N.internal.richText={}),N.internal.richText[w.join(".")]={originalNodeIDMap:D},C}],beforeValidate:[async e=>{let{collection:t,context:i,data:r,field:a,global:o,indexPath:d,operation:p,originalDoc:c,overrideAccess:h,parentIsLocalized:m,path:g,previousValue:y,req:v,schemaPath:b}=e,{value:w}=e;if(u?.features?.hooks?.beforeValidate?.length)for(let t of u.features.hooks.beforeValidate)w=await t(e);if(!u.features.nodeHooks?.beforeValidate?.size&&!u.features.nodeHooks?.afterChange?.size&&!u.features.nodeHooks?.beforeChange?.size&&!u.features.getSubFields?.size)return w;let _={};if(tm({nodeIDMap:_,nodes:y?.root?.children??[]}),i.internal||(i.internal={}),i.internal.richText||(i.internal.richText={}),i.internal.richText[g.join(".")]={originalNodeIDMap:_},!u.features.nodeHooks?.beforeValidate?.size)return w;let x={};for(let[e,y]of(tm({nodeIDMap:x,nodes:w?.root?.children??[]}),Object.entries(x))){let w=u.features.nodeHooks.beforeValidate,x=w?.get(y.type);if(x)for(let t of x){if(!_[e]){console.warn("(beforeValidate) No original node found for node with id",e,"node:",y,"path",g.join("."));continue}y=await t({context:i,node:y,operation:p,originalNode:_[e],overrideAccess:h,parentRichTextFieldPath:g,parentRichTextFieldSchemaPath:b,req:v})}let S=u.features.getSubFields?.get(y.type),E=u.features.getSubFieldsData?.get(y.type);if(S&&E){let u=S({node:y,req:v}),w=E({node:y,req:v})??{},x=E({node:_[e],req:v})??{};u?.length&&await (0,l.J)({id:e,blockData:w,collection:t,context:i,data:r,doc:c,fields:u,global:o,operation:p,overrideAccess:h,parentIndexPath:d.join("-"),parentIsLocalized:m||a.localized||!1,parentPath:g.join("."),parentSchemaPath:b.join("."),req:v,siblingData:w,siblingDoc:x})}}return w}]},i18n:m,outputSchema:({collectionIDFieldTypes:e,config:t,field:i,i18n:r,interfaceNameDefinitions:a,isRequired:o})=>{let l={type:(0,d.R_)("object",o),properties:{root:{type:"object",additionalProperties:!1,properties:{type:{type:"string"},children:{type:"array",items:{type:"object",additionalProperties:!0,properties:{type:{type:"string"},version:{type:"integer"}},required:["type","version"]}},direction:{oneOf:[{enum:["ltr","rtl"]},{type:"null"}]},format:{type:"string",enum:["left","start","center","right","end","justify",""]},indent:{type:"integer"},version:{type:"integer"}},required:["children","direction","format","indent","type","version"]}},required:["root"]};for(let d of u.features.generatedTypes.modifyOutputSchemas)l=d({collectionIDFieldTypes:e,config:t,currentSchema:l,field:i,i18n:r,interfaceNameDefinitions:a,isRequired:o});return l},validate:tv({editorConfig:u})}}}},30653:(e,t,i)=>{"use strict";i.d(t,{x:()=>a});var r=i(62437);let a=async({id:e,collectionSlug:t,currentDepth:i,data:a,depth:o,draft:l,key:d,overrideAccess:p,req:c,select:u,showHiddenFields:h})=>{if(!(o&&i<=o))return;let m=a,g=await c.payloadDataLoader?.load(r.u({collectionSlug:t,currentDepth:i+1,depth:o,docID:e,draft:l,fallbackLocale:c.fallbackLocale,locale:c.locale,overrideAccess:p,select:u,showHiddenFields:h,transactionID:c.transactionID}));g?m[d]=g:m[d]=null}},97651:(e,t,i)=>{"use strict";i.d(t,{a:()=>a});var r=i(57279);let a=({context:e,currentDepth:t=0,data:i,depth:a,draft:o,fieldPromises:l,fields:d,findMany:p,flattenLocales:c,overrideAccess:u=!1,parentIsLocalized:h,populationPromises:m,req:g,showHiddenFields:y,siblingDoc:v})=>{(0,r.J)({collection:null,context:e,currentDepth:t,depth:a,doc:i,draft:o,fallbackLocale:g.fallbackLocale,fieldPromises:l,fields:d,findMany:p,flattenLocales:c,global:null,locale:g.locale,overrideAccess:u,parentIndexPath:"",parentIsLocalized:h,parentPath:"",parentSchemaPath:"",populationPromises:m,req:g,showHiddenFields:y,siblingDoc:v,triggerHooks:!1})}},72048:(e,t,i)=>{"use strict";i.d(t,{W:()=>r});let r=({dependencies:e,dependenciesPriority:t,dependenciesSoft:i,feature:r,key:a})=>o=>{let l={dependencies:e,dependenciesPriority:t,dependenciesSoft:i,key:a,serverFeatureProps:o};if("function"==typeof r)l.feature=async({config:e,featureProviderMap:t,isRoot:i,parentIsLocalized:a,resolvedFeatures:l,unSanitizedEditorConfig:d})=>{let p=await r({config:e,featureProviderMap:t,isRoot:i,parentIsLocalized:a,props:o,resolvedFeatures:l,unSanitizedEditorConfig:d});return null===p.sanitizedServerFeatureProps&&(p.sanitizedServerFeatureProps=o),p};else{let e={...r};e.sanitizedServerFeatureProps=o,l.feature=e}return l}},85572:(e,t,i)=>{"use strict";function r(e){let t=!!e?.root?.children?.length,i=!1;if(e?.root?.children?.length===1&&e?.root?.children[0]?.type==="paragraph"){let t=e?.root?.children[0];if(t?.children&&t?.children?.length!==0){if(t?.children?.length===1){let e=t?.children[0];e?.type!=="text"||e?.text?.length||(i=!0)}}else i=!0}return!!t&&!i}i.d(t,{b:()=>r})},42727:(e,t,i)=>{"use strict";i.d(t,{T:()=>J});var r=i(21841),a=i(71017);let o=({adapter:e,collection:t,disablePayloadAccessControl:i,generateFileURL:r,size:a})=>async({data:o,value:l})=>{let d=a?o?.sizes?.[a.name]?.filename:o?.filename,p=o?.prefix,c=l;return i&&d&&(c=await e.generateURL?.({collection:t,data:o,filename:d,prefix:p})),r&&(c=await r({collection:t,filename:d,prefix:p,size:a})),c},l=({adapter:e,collection:t,disablePayloadAccessControl:i,generateFileURL:r,prefix:l})=>{let d={name:"url",type:"text",admin:{hidden:!0,readOnly:!0},label:"URL"},p={name:"prefix",type:"text",admin:{hidden:!0,readOnly:!0}},c=[...t.fields,...e.fields||[]],u=-1,h=c.find((e,t)=>"name"in e&&"url"===e.name&&(u=t,!0));if(u>-1&&c.splice(u,1),c.push({...d,...h||{},hooks:{afterRead:[o({adapter:e,collection:t,disablePayloadAccessControl:i,generateFileURL:r}),...h?.hooks?.afterRead||[]]}}),"object"==typeof t.upload&&t.upload.imageSizes){let a=-1,l=c.find((e,t)=>"name"in e&&"sizes"===e.name&&(a=t,!0));a>-1&&c.splice(a,1);let p={...l||{},name:"sizes",type:"group",admin:{hidden:!0},fields:t.upload.imageSizes.map(a=>{let p=l?.fields.find(e=>"name"in e&&e.name===a.name),c=p?.fields.find(e=>"name"in e&&"url"===e.name);return{...p,name:a.name,type:"group",fields:[...e.fields||[],{...c||{},...d,hooks:{afterRead:[o({adapter:e,collection:t,disablePayloadAccessControl:i,generateFileURL:r,size:a}),...c?.hooks?.afterRead||[]]}}]}})};c.push(p)}if(void 0!==l){let e=-1,t=c.find((t,i)=>"name"in t&&"prefix"===t.name&&(e=i,!0));e>-1&&c.splice(e,1),c.push({...p,...t||{},defaultValue:a.posix.join(l)})}return c},d=({adapter:e,collection:t})=>async({doc:i,req:r})=>{try{let a=[i.filename,...Object.values(i?.sizes||[]).map(e=>e?.filename)].map(async a=>{a&&await e.handleDelete({collection:t,doc:i,filename:a,req:r})});await Promise.all(a)}catch(e){r.payload.logger.error({err:e,msg:`There was an error while deleting files corresponding to the ${t.labels?.singular} with ID ${i.id}.`})}return i};function p({data:e,req:t}){let i=t.file,r=[];return i&&e.filename&&e.mimeType&&(r=[{buffer:i.data,clientUploadContext:i.clientUploadContext,filename:e.filename,filesize:i.size,mimeType:e.mimeType,tempFilePath:i.tempFilePath}],e?.sizes&&Object.entries(e.sizes).forEach(([i,a])=>{t.payloadUploadSizes?.[i]&&e.mimeType&&(r=r.concat([{buffer:t.payloadUploadSizes[i],filename:`${a.filename}`,filesize:t.payloadUploadSizes[i].length,mimeType:e.mimeType}]))})),r}let c=({adapter:e,collection:t})=>async({data:i,originalDoc:r,req:a})=>{try{let o=p({data:i,req:a});if(o.length>0){if(r){let i=[];"string"==typeof r?.filename&&i.push(r.filename),"object"==typeof r.sizes&&(i=i.concat(Object.values(r?.sizes||[]).map(e=>e?.filename)));let o=i.map(async i=>{i&&await e.handleDelete({collection:t,doc:r,filename:i,req:a})});await Promise.all(o)}let l=o.map(async r=>{await e.handleUpload({clientUploadContext:r.clientUploadContext,collection:t,data:i,file:r,req:a})});await Promise.all(l)}}catch(e){throw a.payload.logger.error(`There was an error while uploading files corresponding to the collection ${t.slug} with filename ${i.filename}:`),a.payload.logger.error({err:e}),e}return i},u=e=>t=>{let{collections:i,enabled:r}=e,a={...t};if(!1===r)return a;let o=[];return{...a,collections:(a.collections||[]).map(e=>{let t=i[e.slug];if(t?.adapter){let i=t.adapter({collection:e,prefix:t.prefix});i.onInit&&o.push(i.onInit);let r=l({adapter:i,collection:e,disablePayloadAccessControl:t.disablePayloadAccessControl,generateFileURL:t.generateFileURL,prefix:t.prefix}),a=[..."object"==typeof e.upload&&Array.isArray(e.upload.handlers)?e.upload.handlers:[]];t.disablePayloadAccessControl?i.clientUploads&&a.push((e,t)=>{if("clientUploadContext"in t.params)return i.staticHandler(e,t)}):a.push(i.staticHandler);let p=()=>{if(t.disablePayloadAccessControl)return!0;let i="object"==typeof e.upload&&!0===e.upload.skipSafeFetch,r="object"==typeof e.upload&&Array.isArray(e.upload.skipSafeFetch);if(i)return!0;if(r){let t="object"==typeof e.upload&&Array.isArray(e.upload.skipSafeFetch)?e.upload.skipSafeFetch:[];return t.some(e=>1===Object.keys(e).length&&"localhost"===e.hostname),[...t]}return!1};return{...e,fields:r,hooks:{...e.hooks||{},afterDelete:[...e.hooks?.afterDelete||[],d({adapter:i,collection:e})],beforeChange:[...e.hooks?.beforeChange||[],c({adapter:i,collection:e})]},upload:{..."object"==typeof e.upload?e.upload:{},adapter:i.name,disableLocalStorage:"boolean"!=typeof t.disableLocalStorage||t.disableLocalStorage,handlers:a,skipSafeFetch:p()}}}return e}),onInit:async e=>{o.forEach(e=>e()),a.onInit&&await a.onInit(e)}}},h=({clientHandler:e,collections:t,config:i,enabled:r,extraClientHandlerProps:a,serverHandler:o,serverHandlerPath:l})=>{if(r){i.endpoints||(i.endpoints=[]);let e=0;for(let t of i.endpoints)t.path?.startsWith(l)&&e++;e&&(l=`${l}-${e}`),i.endpoints.push({handler:o,method:"post",path:l})}for(let o in i.admin||(i.admin={}),i.admin.dependencies||(i.admin.dependencies={}),i.admin.dependencies[e]={type:"function",path:e},i.admin.components||(i.admin.components={}),i.admin.components.providers||(i.admin.components.providers=[]),t){let d;let p=t[o];p&&"object"==typeof p&&"prefix"in p&&"string"==typeof p.prefix&&(d=p.prefix),i.admin.components.providers.push({clientProps:{collectionSlug:o,enabled:r,extra:a?a(p):void 0,prefix:d,serverHandlerPath:l},path:e})}};var m=i(61401);function g(e){let{port:t,query:i}=e,{protocol:r,path:a,hostname:o}=e;r&&":"!==r.slice(-1)&&(r+=":"),t&&(o+=`:${t}`),a&&"/"!==a.charAt(0)&&(a=`/${a}`);let l=i?(0,m.I)(i):"";l&&"?"!==l[0]&&(l=`?${l}`);let d="";if(null!=e.username||null!=e.password){let t=e.username??"",i=e.password??"";d=`${t}:${i}@`}let p="";return e.fragment&&(p=`#${e.fragment}`),`${r}//${d}${o}${a}${l}${p}`}var y=i(36313),v=i(41966);i(19066);var b=i(58997);i(33121);let w="X-Amz-S3session-Token",_=w.toLowerCase();class x extends b.L1{async signWithCredentials(e,t,i){let r=S(t);e.headers[_]=t.sessionToken;let a=this;return E(a,r),a.signRequest(e,i??{})}async presignWithCredentials(e,t,i){let r=S(t);delete e.headers[_],e.headers[w]=t.sessionToken,e.query=e.query??{},e.query[w]=t.sessionToken;let a=this;return E(a,r),this.presign(e,i)}}function S(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function E(e,t){let i=setTimeout(()=>{throw Error("SignatureV4S3Express credential override was created but not called.")},10),r=e.credentialProvider,a=()=>(clearTimeout(i),e.credentialProvider=r,Promise.resolve(t));e.credentialProvider=a}i(28391),i(39701),i(80248);let k={CrtSignerV4:null};class T{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return"function"==typeof k.CrtSignerV4?"crt":"function"==typeof b.q4.SignatureV4a?"js":"none"}constructor(e){this.sigv4Signer=new x(e),this.signerOptions=e}async sign(e,t={}){return"*"===t.signingRegion?this.getSigv4aSigner().sign(e,t):this.sigv4Signer.sign(e,t)}async signWithCredentials(e,t,i={}){if("*"===i.signingRegion){let r=this.getSigv4aSigner(),a=k.CrtSignerV4;if(a&&r instanceof a)return r.signWithCredentials(e,t,i);throw Error('signWithCredentials with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.signWithCredentials(e,t,i)}async presign(e,t={}){if("*"===t.signingRegion){let i=this.getSigv4aSigner(),r=k.CrtSignerV4;if(r&&i instanceof r)return i.presign(e,t);throw Error('presign with signingRegion \'*\' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt')}return this.sigv4Signer.presign(e,t)}async presignWithCredentials(e,t,i={}){if("*"===i.signingRegion)throw Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(e,t,i)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=k.CrtSignerV4,t=b.q4.SignatureV4a;if("node"===this.signerOptions.runtime){if(!e&&!t)throw Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(e&&"function"==typeof e)this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1});else if(t&&"function"==typeof t)this.sigv4aSigner=new t({...this.signerOptions});else throw Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!t||"function"!=typeof t)throw Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new t({...this.signerOptions})}}return this.sigv4aSigner}}let C="UNSIGNED-PAYLOAD",N="X-Amz-Content-Sha256";class O{signer;constructor(e){let t={service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1,applyChecksum:e.applyChecksum||!1,...e};this.signer=new T(t)}presign(e,{unsignableHeaders:t=new Set,hoistableHeaders:i=new Set,unhoistableHeaders:r=new Set,...a}={}){return this.prepareRequest(e,{unsignableHeaders:t,unhoistableHeaders:r,hoistableHeaders:i}),this.signer.presign(e,{expiresIn:900,unsignableHeaders:t,unhoistableHeaders:r,...a})}presignWithCredentials(e,t,{unsignableHeaders:i=new Set,hoistableHeaders:r=new Set,unhoistableHeaders:a=new Set,...o}={}){return this.prepareRequest(e,{unsignableHeaders:i,unhoistableHeaders:a,hoistableHeaders:r}),this.signer.presignWithCredentials(e,t,{expiresIn:900,unsignableHeaders:i,unhoistableHeaders:a,...o})}prepareRequest(e,{unsignableHeaders:t=new Set,unhoistableHeaders:i=new Set,hoistableHeaders:r=new Set}={}){t.add("content-type"),Object.keys(e.headers).map(e=>e.toLowerCase()).filter(e=>e.startsWith("x-amz-server-side-encryption")).forEach(e=>{r.has(e)||i.add(e)}),e.headers[N]=C;let a=e.headers.host,o=e.port,l=`${e.hostname}${null!=e.port?":"+o:""}`;a&&(a!==e.hostname||null==e.port)||(e.headers.host=l)}}let P=async(e,t,i={})=>{let r,a;if("function"==typeof e.config.endpointProvider){let i=await (0,y.UM)(t.input,t.constructor,e.config),o=i.properties?.authSchemes?.[0];a=o?.name==="sigv4a"?o?.signingRegionSet?.join(","):o?.signingRegion,r=new O({...e.config,signingName:o?.signingName,region:async()=>a})}else r=new O(e.config);let o=(e,t)=>async e=>{let o;let{request:l}=e;if(!v.aW.isInstance(l))throw Error("Request to be presigned is not an valid HTTP request.");delete l.headers["amz-sdk-invocation-id"],delete l.headers["amz-sdk-request"],delete l.headers["x-amz-user-agent"];let d={...i,signingRegion:i.signingRegion??t.signing_region??a,signingService:i.signingService??t.signing_service};return{response:{},output:{$metadata:{httpStatusCode:200},presigned:o=t.s3ExpressIdentity?await r.presignWithCredentials(l,t.s3ExpressIdentity,d):await r.presign(l,d)}}},l="presignInterceptMiddleware",d=e.middlewareStack.clone();d.addRelativeTo(o,{name:l,relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let p=t.resolveMiddleware(d,e.config,{}),{output:c}=await p({input:t.input}),{presigned:u}=c;return g(u)};var I=i(71207),L=i(28294);let D=({req:e})=>!!e.user,R=({access:e=D,acl:t,bucket:i,collections:o,getStorageClient:l})=>async d=>{if(!d.json)throw new I.H("Content-Type expected to be application/json",400);let{collectionSlug:p,filename:c,mimeType:u}=await d.json(),h=o[p];if(!h)throw new I.H(`Collection ${p} was not found in S3 options`);let m="object"==typeof h&&h.prefix||"";if(!await e({collectionSlug:p,req:d}))throw new L.r;let g=a.posix.join(m,c),y=await P(l(),new r.PutObjectCommand({ACL:t,Bucket:i,ContentType:u,Key:g}),{expiresIn:600});return Response.json({url:y})},$=({bucket:e,config:{endpoint:t}})=>({filename:i,prefix:r=""})=>{let o="string"==typeof t?t:t?.toString();return`${o}/${e}/${a.posix.join(r,i)}`},j=({bucket:e,getStorageClient:t})=>async({doc:{prefix:i=""},filename:r})=>{await t().deleteObject({Bucket:e,Key:a.posix.join(i,r)})};var M=i(81128),U=i(57147);let F=52428800,B=({acl:e,bucket:t,getStorageClient:i,prefix:r=""})=>async({data:o,file:l})=>{let d=a.posix.join(o.prefix||r,l.filename),p=l.tempFilePath?U.createReadStream(l.tempFilePath):l.buffer;if(l.buffer.length>0&&l.buffer.length<F)return await i().putObject({ACL:e,Body:p,Bucket:t,ContentType:l.mimeType,Key:d}),o;let c=new M.g({client:i(),params:{ACL:e,Body:p,Bucket:t,ContentType:l.mimeType,Key:d},partSize:F,queueSize:4});return await c.done(),o};async function z({clientUploadContext:e,collection:t,filename:i,req:r}){if(e&&"object"==typeof e&&"prefix"in e&&"string"==typeof e.prefix)return e.prefix;let a=t?.upload?.imageSizes||[],o=await r.payload.find({collection:t.slug,depth:0,draft:!0,limit:1,pagination:!1,where:{or:[{filename:{equals:i}},...a.map(e=>({[`sizes.${e.name}.filename`]:{equals:i}}))]}});return o?.docs?.[0]?.prefix||""}let q=e=>"object"==typeof e&&null!==e&&"pipe"in e&&"function"==typeof e.pipe&&"destroy"in e&&"function"==typeof e.destroy,V=e=>{e?.Body&&q(e.Body)&&e.Body.destroy()},H=async e=>{let t=[];for await(let i of e)t.push("string"==typeof i?Buffer.from(i):i);return Buffer.concat(t)},W=({bucket:e,collection:t,getStorageClient:i,signedDownloads:o})=>async(l,{headers:d,params:{clientUploadContext:p,filename:c}})=>{let u;try{let h=await z({clientUploadContext:p,collection:t,filename:c,req:l}),m=a.posix.join(h,c);if(o&&!p){let a=!0;if("object"==typeof o&&"function"==typeof o.shouldUseSignedURL&&(a=await o.shouldUseSignedURL({collection:t,filename:c,req:l})),a){let t=new r.GetObjectCommand({Bucket:e,Key:m}),a=await P(i(),t,"object"==typeof o?o:{expiresIn:7200});return Response.redirect(a,302)}}if(!(u=await i().getObject({Bucket:e,Key:m})).Body)return new Response(null,{status:404,statusText:"Not Found"});let g=new Headers(d);g.append("Content-Length",String(u.ContentLength)),g.append("Content-Type",String(u.ContentType)),g.append("Accept-Ranges",String(u.AcceptRanges)),g.append("ETag",String(u.ETag));let y=l.headers.get("etag")||l.headers.get("if-none-match"),v=u.ETag;if(t.upload&&"object"==typeof t.upload&&"function"==typeof t.upload.modifyResponseHeaders&&(g=t.upload.modifyResponseHeaders({headers:g})||g),y&&y===v)return new Response(null,{headers:g,status:304});if(u.Body&&q(u.Body)){let e=u.Body;e.on("error",t=>{l.payload.logger.error({err:t,key:m,msg:"Error streaming S3 object, destroying stream"}),e.destroy()})}let b=await H(u.Body);return new Response(b,{headers:g,status:200})}catch(e){if(e instanceof r.NoSuchKey)return new Response(null,{status:404,statusText:"Not Found"});return l.payload.logger.error(e),new Response("Internal Server Error",{status:500})}finally{V(u)}},G=null,K={httpAgent:{keepAlive:!0,maxSockets:100},httpsAgent:{keepAlive:!0,maxSockets:100}},J=e=>t=>{let i=()=>G||(G=new r.S3({requestHandler:K,...e.config??{}})),a=!1===e.enabled;if(h({clientHandler:"@payloadcms/storage-s3/client#S3ClientUploadHandler",collections:e.collections,config:t,enabled:!a&&!!e.clientUploads,serverHandler:R({access:"object"==typeof e.clientUploads?e.clientUploads.access:void 0,acl:e.acl,bucket:e.bucket,collections:e.collections,getStorageClient:i}),serverHandlerPath:"/storage-s3-generate-signed-url"}),a)return t;let o=Q(i,e),l=Object.entries(e.collections).reduce((e,[t,i])=>({...e,[t]:{...!0===i?{}:i,adapter:o}}),{}),d={...t,collections:(t.collections||[]).map(e=>l[e.slug]?{...e,upload:{..."object"==typeof e.upload?e.upload:{},disableLocalStorage:!0}}:e)};return u({collections:l})(d)};function Q(e,{acl:t,bucket:i,clientUploads:r,collections:a,config:o={},signedDownloads:l}){return({collection:d,prefix:p})=>{let c=a[d.slug],u="object"==typeof c?c.signedDownloads??!1:null;return null===u&&(u=l??null),{name:"s3",clientUploads:r,generateURL:$({bucket:i,config:o}),handleDelete:j({bucket:i,getStorageClient:e}),handleUpload:B({acl:t,bucket:i,collection:d,getStorageClient:e,prefix:p}),staticHandler:W({bucket:i,collection:d,getStorageClient:e,signedDownloads:u??!1})}}}},94894:(e,t,i)=>{"use strict";i.d(t,{en:()=>r});let r={dateFNSKey:"en-US",translations:{authentication:{account:"Account",accountOfCurrentUser:"Account of current user",accountVerified:"Account verified successfully.",alreadyActivated:"Already Activated",alreadyLoggedIn:"Already logged in",apiKey:"API Key",authenticated:"Authenticated",backToLogin:"Back to login",beginCreateFirstUser:"To begin, create your first user.",changePassword:"Change Password",checkYourEmailForPasswordReset:"If the email address is associated with an account, you will receive instructions to reset your password shortly. Please check your spam or junk mail folder if you don't see the email in your inbox.",confirmGeneration:"Confirm Generation",confirmPassword:"Confirm Password",createFirstUser:"Create first user",emailNotValid:"The email provided is not valid",emailOrUsername:"Email or Username",emailSent:"Email Sent",emailVerified:"Email verified successfully.",enableAPIKey:"Enable API Key",failedToUnlock:"Failed to unlock",forceUnlock:"Force Unlock",forgotPassword:"Forgot Password",forgotPasswordEmailInstructions:"Please enter your email below. You will receive an email message with instructions on how to reset your password.",forgotPasswordUsernameInstructions:"Please enter your username below. Instructions on how to reset your password will be sent to email address associated with your username.",usernameNotValid:"The username provided is not valid",forgotPasswordQuestion:"Forgot password?",generate:"Generate",generateNewAPIKey:"Generate new API key",generatingNewAPIKeyWillInvalidate:"Generating a new API key will <1>invalidate</1> the previous key. Are you sure you wish to continue?",lockUntil:"Lock Until",logBackIn:"Log back in",loggedIn:"To log in with another user, you should <0>log out</0> first.",loggedInChangePassword:"To change your password, go to your <0>account</0> and edit your password there.",loggedOutInactivity:"You have been logged out due to inactivity.",loggedOutSuccessfully:"You have been logged out successfully.",loggingOut:"Logging out...",login:"Login",loginAttempts:"Login Attempts",loginUser:"Login user",loginWithAnotherUser:"To log in with another user, you should <0>log out</0> first.",logOut:"Log out",logout:"Logout",logoutSuccessful:"Logout successful.",logoutUser:"Logout user",newAccountCreated:'A new account has just been created for you to access <a href="{{serverURL}}">{{serverURL}}</a> Please click on the following link or paste the URL below into your browser to verify your email: <a href="{{verificationURL}}">{{verificationURL}}</a><br> After verifying your email, you will be able to log in successfully.',newAPIKeyGenerated:"New API Key Generated.",newPassword:"New Password",passed:"Authentication Passed",passwordResetSuccessfully:"Password reset successfully.",resetPassword:"Reset Password",resetPasswordExpiration:"Reset Password Expiration",resetPasswordToken:"Reset Password Token",resetYourPassword:"Reset Your Password",stayLoggedIn:"Stay logged in",successfullyRegisteredFirstUser:"Successfully registered first user.",successfullyUnlocked:"Successfully unlocked",tokenRefreshSuccessful:"Token refresh successful.",unableToVerify:"Unable to Verify",username:"Username",verified:"Verified",verifiedSuccessfully:"Verified Successfully",verify:"Verify",verifyUser:"Verify User",verifyYourEmail:"Verify your email",youAreInactive:"You haven't been active in a little while and will shortly be automatically logged out for your own security. Would you like to stay logged in?",youAreReceivingResetPassword:"You are receiving this because you (or someone else) have requested the reset of the password for your account. Please click on the following link, or paste this into your browser to complete the process:",youDidNotRequestPassword:"If you did not request this, please ignore this email and your password will remain unchanged."},error:{accountAlreadyActivated:"This account has already been activated.",autosaving:"There was a problem while autosaving this document.",correctInvalidFields:"Please correct invalid fields.",deletingFile:"There was an error deleting file.",deletingTitle:"There was an error while deleting {{title}}. Please check your connection and try again.",documentNotFound:"The document with ID {{id}} could not be found. It may have been deleted or never existed, or you may not have access to it.",emailOrPasswordIncorrect:"The email or password provided is incorrect.",followingFieldsInvalid_one:"The following field is invalid:",followingFieldsInvalid_other:"The following fields are invalid:",incorrectCollection:"Incorrect Collection",insufficientClipboardPermissions:"Clipboard access denied. Please check your clipboard permissions.",invalidClipboardData:"Invalid clipboard data.",invalidFileType:"Invalid file type",invalidFileTypeValue:"Invalid file type: {{value}}",invalidRequestArgs:"Invalid arguments passed in request: {{args}}",loadingDocument:"There was a problem loading the document with ID of {{id}}.",localesNotSaved_one:"The following locale could not be saved:",localesNotSaved_other:"The following locales could not be saved:",logoutFailed:"Logout failed.",missingEmail:"Missing email.",missingIDOfDocument:"Missing ID of document to update.",missingIDOfVersion:"Missing ID of version.",missingRequiredData:"Missing required data.",noFilesUploaded:"No files were uploaded.",noMatchedField:'No matched field found for "{{label}}"',notAllowedToAccessPage:"You are not allowed to access this page.",notAllowedToPerformAction:"You are not allowed to perform this action.",notFound:"The requested resource was not found.",noUser:"No User",previewing:"There was a problem previewing this document.",problemUploadingFile:"There was a problem while uploading the file.",tokenInvalidOrExpired:"Token is either invalid or has expired.",tokenNotProvided:"Token not provided.",unableToCopy:"Unable to copy.",unableToDeleteCount:"Unable to delete {{count}} out of {{total}} {{label}}.",unableToReindexCollection:"Error reindexing collection {{collection}}. Operation aborted.",unableToUpdateCount:"Unable to update {{count}} out of {{total}} {{label}}.",unauthorized:"Unauthorized, you must be logged in to make this request.",unauthorizedAdmin:"Unauthorized, this user does not have access to the admin panel.",unknown:"An unknown error has occurred.",unPublishingDocument:"There was a problem while un-publishing this document.",unspecific:"An error has occurred.",unverifiedEmail:"Please verify your email before logging in.",userEmailAlreadyRegistered:"A user with the given email is already registered.",userLocked:"This user is locked due to having too many failed login attempts.",usernameAlreadyRegistered:"A user with the given username is already registered.",usernameOrPasswordIncorrect:"The username or password provided is incorrect.",valueMustBeUnique:"Value must be unique",verificationTokenInvalid:"Verification token is invalid."},fields:{addLabel:"Add {{label}}",addLink:"Add Link",addNew:"Add new",addNewLabel:"Add new {{label}}",addRelationship:"Add Relationship",addUpload:"Add Upload",block:"block",blocks:"blocks",blockType:"Block Type",chooseBetweenCustomTextOrDocument:"Choose between entering a custom text URL or linking to another document.",chooseDocumentToLink:"Choose a document to link to",chooseFromExisting:"Choose from existing",chooseLabel:"Choose {{label}}",collapseAll:"Collapse All",customURL:"Custom URL",editLabelData:"Edit {{label}} data",editLink:"Edit Link",editRelationship:"Edit Relationship",enterURL:"Enter a URL",internalLink:"Internal Link",itemsAndMore:"{{items}} and {{count}} more",labelRelationship:"{{label}} Relationship",latitude:"Latitude",linkedTo:"Linked to <0>{{label}}</0>",linkType:"Link Type",longitude:"Longitude",newLabel:"New {{label}}",openInNewTab:"Open in new tab",passwordsDoNotMatch:"Passwords do not match.",relatedDocument:"Related Document",relationTo:"Relation To",removeRelationship:"Remove Relationship",removeUpload:"Remove Upload",saveChanges:"Save changes",searchForBlock:"Search for a block",selectExistingLabel:"Select existing {{label}}",selectFieldsToEdit:"Select fields to edit",showAll:"Show All",swapRelationship:"Swap Relationship",swapUpload:"Swap Upload",textToDisplay:"Text to display",toggleBlock:"Toggle block",uploadNewLabel:"Upload new {{label}}"},folder:{browseByFolder:"Browse by Folder",byFolder:"By Folder",deleteFolder:"Delete Folder",folderName:"Folder Name",folders:"Folders",itemHasBeenMoved:"{{title}} has been moved to {{folderName}}",itemHasBeenMovedToRoot:"{{title}} has been moved to the root folder",itemsMovedToFolder:"{{title}} moved to {{folderName}}",itemsMovedToRoot:"{{title}} moved to the root folder",moveFolder:"Move Folder",moveItemsToFolderConfirmation:"You are about to move <1>{{count}} {{label}}</1> to <2>{{toFolder}}</2>. Are you sure?",moveItemsToRootConfirmation:"You are about to move <1>{{count}} {{label}}</1> to the root folder. Are you sure?",moveItemToFolderConfirmation:"You are about to move <1>{{title}}</1> to <2>{{toFolder}}</2>. Are you sure?",moveItemToRootConfirmation:"You are about to move <1>{{title}}</1> to the root folder. Are you sure?",movingFromFolder:"Moving {{title}} from {{fromFolder}}",newFolder:"New Folder",noFolder:"No Folder",renameFolder:"Rename Folder",searchByNameInFolder:"Search by Name in {{folderName}}",selectFolderForItem:"Select folder for {{title}}"},general:{name:"Name",aboutToDelete:"You are about to delete the {{label}} <1>{{title}}</1>. Are you sure?",aboutToDeleteCount_many:"You are about to delete {{count}} {{label}}",aboutToDeleteCount_one:"You are about to delete {{count}} {{label}}",aboutToDeleteCount_other:"You are about to delete {{count}} {{label}}",addBelow:"Add Below",addFilter:"Add Filter",adminTheme:"Admin Theme",all:"All",allCollections:"All Collections",allLocales:"All locales",and:"And",anotherUser:"Another user",anotherUserTakenOver:"Another user has taken over editing this document.",applyChanges:"Apply Changes",ascending:"Ascending",automatic:"Automatic",backToDashboard:"Back to Dashboard",cancel:"Cancel",changesNotSaved:"Your changes have not been saved. If you leave now, you will lose your changes.",clearAll:"Clear All",close:"Close",collapse:"Collapse",collections:"Collections",columns:"Columns",columnToSort:"Column to Sort",confirm:"Confirm",confirmCopy:"Confirm copy",confirmDeletion:"Confirm deletion",confirmDuplication:"Confirm duplication",confirmMove:"Confirm move",confirmReindex:"Reindex all {{collections}}?",confirmReindexAll:"Reindex all collections?",confirmReindexDescription:"This will remove existing indexes and reindex documents in the {{collections}} collections.",confirmReindexDescriptionAll:"This will remove existing indexes and reindex documents in all collections.",copied:"Copied",copy:"Copy",copyField:"Copy Field",copying:"Copying",copyRow:"Copy Row",copyWarning:"You are about to overwrite {{to}} with {{from}} for {{label}} {{title}}. Are you sure?",create:"Create",created:"Created",createdAt:"Created At",createNew:"Create New",createNewLabel:"Create new {{label}}",creating:"Creating",creatingNewLabel:"Creating new {{label}}",currentlyEditing:"is currently editing this document. If you take over, they will be blocked from continuing to edit, and may also lose unsaved changes.",custom:"Custom",dark:"Dark",dashboard:"Dashboard",delete:"Delete",deletedCountSuccessfully:"Deleted {{count}} {{label}} successfully.",deletedSuccessfully:"Deleted successfully.",deleting:"Deleting...",depth:"Depth",descending:"Descending",deselectAllRows:"Deselect all rows",document:"Document",documentLocked:"Document locked",documents:"Documents",duplicate:"Duplicate",duplicateWithoutSaving:"Duplicate without saving changes",edit:"Edit",editAll:"Edit all",editedSince:"Edited since",editing:"Editing",editingLabel_many:"Editing {{count}} {{label}}",editingLabel_one:"Editing {{count}} {{label}}",editingLabel_other:"Editing {{count}} {{label}}",editingTakenOver:"Editing taken over",editLabel:"Edit {{label}}",email:"Email",emailAddress:"Email Address",enterAValue:"Enter a value",error:"Error",errors:"Errors",exitLivePreview:"Exit Live Preview",export:"Export",fallbackToDefaultLocale:"Fallback to default locale",false:"False",filter:"Filter",filters:"Filters",filterWhere:"Filter {{label}} where",globals:"Globals",goBack:"Go back",import:"Import",isEditing:"is editing",item:"item",items:"items",language:"Language",lastModified:"Last Modified",leaveAnyway:"Leave anyway",leaveWithoutSaving:"Leave without saving",light:"Light",livePreview:"Live Preview",loading:"Loading",locale:"Locale",locales:"Locales",menu:"Menu",moreOptions:"More options",move:"Move",moveConfirm:"You are about to move {{count}} {{label}} to <1>{{destination}}</1>. Are you sure?",moveCount:"Move {{count}} {{label}}",moveDown:"Move Down",moveUp:"Move Up",moving:"Moving",movingCount:"Moving {{count}} {{label}}",newPassword:"New Password",next:"Next",no:"No",noDateSelected:"No date selected",noFiltersSet:"No filters set",noLabel:"<No {{label}}>",none:"None",noOptions:"No options",noResults:"No {{label}} found. Either no {{label}} exist yet or none match the filters you've specified above.",notFound:"Not Found",nothingFound:"Nothing found",noUpcomingEventsScheduled:"No upcoming events scheduled.",noValue:"No value",of:"of",only:"Only",open:"Open",or:"Or",order:"Order",overwriteExistingData:"Overwrite existing field data",pageNotFound:"Page not found",password:"Password",pasteField:"Paste Field",pasteRow:"Paste Row",payloadSettings:"Payload Settings",perPage:"Per Page: {{limit}}",previous:"Previous",reindex:"Reindex",reindexingAll:"Reindexing all {{collections}}.",remove:"Remove",rename:"Rename",reset:"Reset",resetPreferences:"Reset Preferences",resetPreferencesDescription:"This will reset all of your preferences to their default settings.",resettingPreferences:"Resetting Preferences.",row:"Row",rows:"Rows",save:"Save",saving:"Saving...",schedulePublishFor:"Schedule publish for {{title}}",searchBy:"Search by {{label}}",select:"Select",selectAll:"Select all {{count}} {{label}}",selectAllRows:"Select all rows",selectedCount:"{{count}} {{label}} selected",selectLabel:"Select {{label}}",selectValue:"Select a value",showAllLabel:"Show all {{label}}",sorryNotFound:"Sorrythere is nothing to correspond with your request.",sort:"Sort",sortByLabelDirection:"Sort by {{label}} {{direction}}",stayOnThisPage:"Stay on this page",submissionSuccessful:"Submission Successful.",submit:"Submit",submitting:"Submitting...",success:"Success",successfullyCreated:"{{label}} successfully created.",successfullyDuplicated:"{{label}} successfully duplicated.",successfullyReindexed:"Successfully reindexed {{count}} of {{total}} documents from {{collections}}",takeOver:"Take over",thisLanguage:"English",time:"Time",timezone:"Timezone",titleDeleted:'{{label}} "{{title}}" successfully deleted.',true:"True",unauthorized:"Unauthorized",unsavedChanges:"You have unsaved changes. Save or discard before continuing.",unsavedChangesDuplicate:"You have unsaved changes. Would you like to continue to duplicate?",untitled:"Untitled",upcomingEvents:"Upcoming Events",updatedAt:"Updated At",updatedCountSuccessfully:"Updated {{count}} {{label}} successfully.",updatedLabelSuccessfully:"Updated {{label}} successfully.",updatedSuccessfully:"Updated successfully.",updateForEveryone:"Update for everyone",updating:"Updating",uploading:"Uploading",uploadingBulk:"Uploading {{current}} of {{total}}",user:"User",username:"Username",users:"Users",value:"Value",viewReadOnly:"View read-only",welcome:"Welcome",yes:"Yes"},localization:{cannotCopySameLocale:"Cannot copy to the same locale",copyFrom:"Copy from",copyFromTo:"Copying from {{from}} to {{to}}",copyTo:"Copy to",copyToLocale:"Copy to locale",localeToPublish:"Locale to publish",selectLocaleToCopy:"Select locale to copy"},operators:{contains:"contains",equals:"equals",exists:"exists",intersects:"intersects",isGreaterThan:"is greater than",isGreaterThanOrEqualTo:"is greater than or equal to",isIn:"is in",isLessThan:"is less than",isLessThanOrEqualTo:"is less than or equal to",isLike:"is like",isNotEqualTo:"is not equal to",isNotIn:"is not in",isNotLike:"is not like",near:"near",within:"within"},upload:{addFile:"Add file",addFiles:"Add files",bulkUpload:"Bulk Upload",crop:"Crop",cropToolDescription:"Drag the corners of the selected area, draw a new area or adjust the values below.",download:"Download",dragAndDrop:"Drag and drop a file",dragAndDropHere:"or drag and drop a file here",editImage:"Edit Image",fileName:"File Name",fileSize:"File Size",filesToUpload:"Files to Upload",fileToUpload:"File to Upload",focalPoint:"Focal Point",focalPointDescription:"Drag the focal point directly on the preview or adjust the values below.",height:"Height",lessInfo:"Less info",moreInfo:"More info",noFile:"No file",pasteURL:"Paste URL",previewSizes:"Preview Sizes",selectCollectionToBrowse:"Select a Collection to Browse",selectFile:"Select a file",setCropArea:"Set crop area",setFocalPoint:"Set focal point",sizes:"Sizes",sizesFor:"Sizes for {{label}}",width:"Width"},validation:{emailAddress:"Please enter a valid email address.",enterNumber:"Please enter a valid number.",fieldHasNo:"This field has no {{label}}",greaterThanMax:"{{value}} is greater than the max allowed {{label}} of {{max}}.",invalidInput:"This field has an invalid input.",invalidSelection:"This field has an invalid selection.",invalidSelections:"This field has the following invalid selections:",lessThanMin:"{{value}} is less than the min allowed {{label}} of {{min}}.",limitReached:"Limit reached, only {{max}} items can be added.",longerThanMin:"This value must be longer than the minimum length of {{minLength}} characters.",notValidDate:'"{{value}}" is not a valid date.',required:"This field is required.",requiresAtLeast:"This field requires at least {{count}} {{label}}.",requiresNoMoreThan:"This field requires no more than {{count}} {{label}}.",requiresTwoNumbers:"This field requires two numbers.",shorterThanMax:"This value must be shorter than the max length of {{maxLength}} characters.",timezoneRequired:"A timezone is required.",trueOrFalse:"This field can only be equal to true or false.",username:"Please enter a valid username. Can contain letters, numbers, hyphens, periods and underscores.",validUploadID:"This field is not a valid upload ID."},version:{type:"Type",aboutToPublishSelection:"You are about to publish all {{label}} in the selection. Are you sure?",aboutToRestore:"You are about to restore this {{label}} document to the state that it was in on {{versionDate}}.",aboutToRestoreGlobal:"You are about to restore the global {{label}} to the state that it was in on {{versionDate}}.",aboutToRevertToPublished:"You are about to revert this document's changes to its published state. Are you sure?",aboutToUnpublish:"You are about to unpublish this document. Are you sure?",aboutToUnpublishSelection:"You are about to unpublish all {{label}} in the selection. Are you sure?",autosave:"Autosave",autosavedSuccessfully:"Autosaved successfully.",autosavedVersion:"Autosaved version",changed:"Changed",changedFieldsCount_one:"{{count}} changed field",changedFieldsCount_other:"{{count}} changed fields",compareVersion:"Compare version against:",compareVersions:"Compare Versions",comparingAgainst:"Comparing against",confirmPublish:"Confirm publish",confirmRevertToSaved:"Confirm revert to saved",confirmUnpublish:"Confirm unpublish",confirmVersionRestoration:"Confirm Version Restoration",currentDocumentStatus:"Current {{docStatus}} document",currentDraft:"Current Draft",currentlyPublished:"Currently Published",currentlyViewing:"Currently viewing",currentPublishedVersion:"Current Published Version",draft:"Draft",draftSavedSuccessfully:"Draft saved successfully.",lastSavedAgo:"Last saved {{distance}} ago",modifiedOnly:"Modified only",moreVersions:"More versions...",noFurtherVersionsFound:"No further versions found",noRowsFound:"No {{label}} found",noRowsSelected:"No {{label}} selected",preview:"Preview",previouslyPublished:"Previously Published",previousVersion:"Previous Version",problemRestoringVersion:"There was a problem restoring this version",publish:"Publish",publishAllLocales:"Publish all locales",publishChanges:"Publish changes",published:"Published",publishIn:"Publish in {{locale}}",publishing:"Publishing",restoreAsDraft:"Restore as draft",restoredSuccessfully:"Restored Successfully.",restoreThisVersion:"Restore this version",restoring:"Restoring...",reverting:"Reverting...",revertToPublished:"Revert to published",saveDraft:"Save Draft",scheduledSuccessfully:"Scheduled successfully.",schedulePublish:"Schedule Publish",selectLocales:"Select locales to display",selectVersionToCompare:"Select a version to compare",showingVersionsFor:"Showing versions for:",showLocales:"Show locales:",specificVersion:"Specific Version",status:"Status",unpublish:"Unpublish",unpublishing:"Unpublishing...",version:"Version",versionAgo:"{{distance}} ago",versionCount_many:"{{count}} versions found",versionCount_none:"No versions found",versionCount_one:"{{count}} version found",versionCount_other:"{{count}} versions found",versionCreatedOn:"{{version}} created on:",versionID:"Version ID",versions:"Versions",viewingVersion:"Viewing version for the {{entityLabel}} {{documentTitle}}",viewingVersionGlobal:"Viewing version for the global {{entityLabel}}",viewingVersions:"Viewing versions for the {{entityLabel}} {{documentTitle}}",viewingVersionsGlobal:"Viewing versions for the global {{entityLabel}}"}}}},5569:(e,t,i)=>{"use strict";function r(e,t){let i={...e};for(let a in t)Object.prototype.hasOwnProperty.call(t,a)&&("object"==typeof t[a]&&!Array.isArray(t[a])&&e[a]?i[a]=r(e[a],t[a]):i[a]=t[a]);return i}i.d(t,{u:()=>r})},76972:(e,t,i)=>{"use strict";i.d(t,{i:()=>r});let r=(e,t)=>{if("object"==typeof e&&!Object.prototype.hasOwnProperty.call(e,"$$typeof")){if(e[t.language])return e[t.language];let i=[];"string"==typeof t.fallbackLanguage?i=[t.fallbackLanguage]:Array.isArray(t.fallbackLanguage)&&(i=t.fallbackLanguage);let r=i.find(t=>e[t]);return r&&e[r]?e[r]:e[Object.keys(e)[0]]}return"function"==typeof e?e({i18n:t,t:t.t}):e}},92510:(e,t,i)=>{"use strict";i.d(t,{L:()=>g});let r=async e=>{let t;switch(e){case"ar":t=(await i.e(5931).then(i.bind(i,25931))).ar;break;case"az":t=(await i.e(979).then(i.bind(i,20979))).az;break;case"bg":t=(await i.e(3951).then(i.bind(i,43951))).bg;break;case"bn-BD":case"bn-IN":t=(await i.e(8767).then(i.bind(i,88767))).bn;break;case"ca":t=(await i.e(643).then(i.bind(i,643))).ca;break;case"cs":t=(await i.e(3075).then(i.bind(i,33075))).cs;break;case"da":t=(await i.e(7555).then(i.bind(i,57555))).da;break;case"de":t=(await i.e(4873).then(i.bind(i,74873))).de;break;case"en-US":t=(await i.e(4986).then(i.bind(i,84986))).enUS;break;case"es":t=(await i.e(7814).then(i.bind(i,37814))).es;break;case"et":t=(await i.e(1815).then(i.bind(i,96658))).et;break;case"fa-IR":t=(await i.e(7012).then(i.bind(i,27012))).faIR;break;case"fr":t=(await i.e(9768).then(i.bind(i,99768))).fr;break;case"he":t=(await i.e(3487).then(i.bind(i,3487))).he;break;case"hr":t=(await i.e(1700).then(i.bind(i,11700))).hr;break;case"hu":t=(await i.e(8729).then(i.bind(i,8729))).hu;break;case"it":t=(await i.e(2455).then(i.bind(i,92455))).it;break;case"ja":t=(await i.e(4871).then(i.bind(i,34871))).ja;break;case"ko":t=(await i.e(898).then(i.bind(i,90898))).ko;break;case"lt":t=(await i.e(7849).then(i.bind(i,50146))).lt;break;case"lv":t=(await i.e(9615).then(i.bind(i,9615))).lv;break;case"nb":t=(await i.e(8978).then(i.bind(i,98978))).nb;break;case"nl":t=(await i.e(5531).then(i.bind(i,85531))).nl;break;case"pl":t=(await i.e(3242).then(i.bind(i,93242))).pl;break;case"pt":t=(await i.e(6676).then(i.bind(i,96676))).pt;break;case"ro":t=(await i.e(1465).then(i.bind(i,41465))).ro;break;case"rs":t=(await i.e(9320).then(i.bind(i,49320))).sr;break;case"rs-Latin":t=(await i.e(7122).then(i.bind(i,87122))).srLatn;break;case"ru":t=(await i.e(8364).then(i.bind(i,38364))).ru;break;case"sk":t=(await i.e(7364).then(i.bind(i,77364))).sk;break;case"sl-SI":t=(await i.e(6757).then(i.bind(i,76757))).sl;break;case"sv":t=(await i.e(6950).then(i.bind(i,86950))).sv;break;case"th":t=(await i.e(8083).then(i.bind(i,78083))).th;break;case"tr":t=(await i.e(3413).then(i.bind(i,93413))).tr;break;case"uk":t=(await i.e(1330).then(i.bind(i,41330))).uk;break;case"vi":t=(await i.e(1623).then(i.bind(i,71623))).vi;break;case"zh-CN":t=(await i.e(3364).then(i.bind(i,43364))).zhCN;break;case"zh-TW":t=(await i.e(3250).then(i.bind(i,93250))).zhTW}return t?.default?t.default:t};var a=i(5569);let o=["authentication:account","authentication:accountOfCurrentUser","authentication:accountVerified","authentication:alreadyActivated","authentication:alreadyLoggedIn","authentication:apiKey","authentication:authenticated","authentication:backToLogin","authentication:beginCreateFirstUser","authentication:changePassword","authentication:checkYourEmailForPasswordReset","authentication:confirmGeneration","authentication:confirmPassword","authentication:createFirstUser","authentication:emailNotValid","authentication:usernameNotValid","authentication:emailOrUsername","authentication:emailSent","authentication:emailVerified","authentication:enableAPIKey","authentication:failedToUnlock","authentication:forceUnlock","authentication:forgotPassword","authentication:forgotPasswordEmailInstructions","authentication:forgotPasswordUsernameInstructions","authentication:forgotPasswordQuestion","authentication:generate","authentication:generateNewAPIKey","authentication:generatingNewAPIKeyWillInvalidate","authentication:logBackIn","authentication:loggedOutInactivity","authentication:loggedOutSuccessfully","authentication:loggingOut","authentication:login","authentication:logOut","authentication:loggedIn","authentication:loggedInChangePassword","authentication:logout","authentication:logoutUser","authentication:logoutSuccessful","authentication:newAPIKeyGenerated","authentication:newPassword","authentication:passed","authentication:passwordResetSuccessfully","authentication:resetPassword","authentication:stayLoggedIn","authentication:successfullyRegisteredFirstUser","authentication:successfullyUnlocked","authentication:username","authentication:unableToVerify","authentication:tokenRefreshSuccessful","authentication:verified","authentication:verifiedSuccessfully","authentication:verify","authentication:verifyUser","authentication:youAreInactive","error:autosaving","error:correctInvalidFields","error:deletingTitle","error:documentNotFound","error:emailOrPasswordIncorrect","error:usernameOrPasswordIncorrect","error:loadingDocument","error:insufficientClipboardPermissions","error:invalidClipboardData","error:invalidRequestArgs","error:invalidFileType","error:logoutFailed","error:noMatchedField","error:notAllowedToAccessPage","error:previewing","error:unableToCopy","error:unableToDeleteCount","error:unableToReindexCollection","error:unableToUpdateCount","error:unauthorized","error:unauthorizedAdmin","error:unknown","error:unspecific","error:unverifiedEmail","error:userEmailAlreadyRegistered","error:usernameAlreadyRegistered","error:tokenNotProvided","error:unPublishingDocument","error:problemUploadingFile","fields:addLabel","fields:addLink","fields:addNew","fields:addNewLabel","fields:addRelationship","fields:addUpload","fields:block","fields:blocks","fields:blockType","fields:chooseBetweenCustomTextOrDocument","fields:customURL","fields:chooseDocumentToLink","fields:openInNewTab","fields:enterURL","fields:internalLink","fields:chooseFromExisting","fields:linkType","fields:textToDisplay","fields:collapseAll","fields:editLink","fields:editRelationship","fields:itemsAndMore","fields:labelRelationship","fields:latitude","fields:linkedTo","fields:longitude","fields:passwordsDoNotMatch","fields:removeRelationship","fields:removeUpload","fields:saveChanges","fields:searchForBlock","fields:selectFieldsToEdit","fields:showAll","fields:swapRelationship","fields:swapUpload","fields:toggleBlock","fields:uploadNewLabel","folder:byFolder","folder:browseByFolder","folder:deleteFolder","folder:folders","folder:folderName","folder:itemsMovedToFolder","folder:itemsMovedToRoot","folder:itemHasBeenMoved","folder:itemHasBeenMovedToRoot","folder:moveFolder","folder:movingFromFolder","folder:moveItemsToFolderConfirmation","folder:moveItemsToRootConfirmation","folder:moveItemToFolderConfirmation","folder:moveItemToRootConfirmation","folder:noFolder","folder:newFolder","folder:renameFolder","folder:searchByNameInFolder","folder:selectFolderForItem","general:all","general:aboutToDeleteCount","general:aboutToDelete","general:addBelow","general:addFilter","general:adminTheme","general:allCollections","general:and","general:anotherUser","general:anotherUserTakenOver","general:applyChanges","general:ascending","general:automatic","general:backToDashboard","general:cancel","general:changesNotSaved","general:close","general:collapse","general:collections","general:confirmMove","general:yes","general:no","general:columns","general:columnToSort","general:confirm","general:confirmCopy","general:confirmDeletion","general:confirmDuplication","general:confirmReindex","general:confirmReindexAll","general:confirmReindexDescription","general:confirmReindexDescriptionAll","general:copied","general:clearAll","general:copy","general:copyField","general:copyRow","general:copyWarning","general:copying","general:create","general:created","general:createdAt","general:createNew","general:createNewLabel","general:creating","general:creatingNewLabel","general:currentlyEditing","general:custom","general:dark","general:dashboard","general:delete","general:deletedSuccessfully","general:deletedCountSuccessfully","general:deleting","general:descending","general:depth","general:deselectAllRows","general:document","general:documentLocked","general:documents","general:duplicate","general:duplicateWithoutSaving","general:edit","general:editAll","general:editing","general:editingLabel","general:editingTakenOver","general:editLabel","general:editedSince","general:email","general:emailAddress","general:enterAValue","general:error","general:errors","general:fallbackToDefaultLocale","general:false","general:filters","general:filterWhere","general:globals","general:goBack","general:isEditing","general:item","general:items","general:language","general:lastModified","general:leaveAnyway","general:leaveWithoutSaving","general:light","general:livePreview","general:exitLivePreview","general:loading","general:locale","general:locales","general:menu","general:moreOptions","general:move","general:moveConfirm","general:moveCount","general:moveDown","general:moveUp","general:moving","general:movingCount","general:name","general:next","general:noDateSelected","general:noFiltersSet","general:noLabel","general:none","general:noOptions","general:noResults","general:notFound","general:nothingFound","general:noUpcomingEventsScheduled","general:noValue","general:of","general:open","general:only","general:or","general:order","general:overwriteExistingData","general:pageNotFound","general:password","general:pasteField","general:pasteRow","general:payloadSettings","general:perPage","general:previous","general:reindex","general:reindexingAll","general:remove","general:rename","general:reset","general:resetPreferences","general:resetPreferencesDescription","general:resettingPreferences","general:row","general:rows","general:save","general:schedulePublishFor","general:saving","general:searchBy","general:select","general:selectAll","general:selectAllRows","general:selectedCount","general:selectLabel","general:selectValue","general:showAllLabel","general:sorryNotFound","general:sort","general:sortByLabelDirection","general:stayOnThisPage","general:submissionSuccessful","general:submit","general:submitting","general:success","general:successfullyCreated","general:successfullyDuplicated","general:successfullyReindexed","general:takeOver","general:thisLanguage","general:time","general:timezone","general:titleDeleted","general:import","general:export","general:allLocales","general:true","general:upcomingEvents","general:users","general:user","general:username","general:unauthorized","general:unsavedChanges","general:unsavedChangesDuplicate","general:untitled","general:updatedAt","general:updatedLabelSuccessfully","general:updatedCountSuccessfully","general:updateForEveryone","general:updatedSuccessfully","general:updating","general:value","general:viewReadOnly","general:uploading","general:uploadingBulk","general:welcome","localization:localeToPublish","localization:copyToLocale","localization:copyFromTo","localization:selectLocaleToCopy","localization:cannotCopySameLocale","localization:copyFrom","localization:copyTo","operators:equals","operators:exists","operators:isNotIn","operators:isIn","operators:contains","operators:isLike","operators:isNotLike","operators:isNotEqualTo","operators:near","operators:isGreaterThan","operators:isLessThan","operators:isGreaterThanOrEqualTo","operators:isLessThanOrEqualTo","operators:within","operators:intersects","upload:addFile","upload:addFiles","upload:bulkUpload","upload:crop","upload:cropToolDescription","upload:dragAndDrop","upload:editImage","upload:fileToUpload","upload:filesToUpload","upload:focalPoint","upload:focalPointDescription","upload:height","upload:pasteURL","upload:previewSizes","upload:selectCollectionToBrowse","upload:selectFile","upload:setCropArea","upload:setFocalPoint","upload:sizesFor","upload:sizes","upload:width","upload:fileName","upload:fileSize","upload:noFile","upload:download","validation:emailAddress","validation:enterNumber","validation:fieldHasNo","validation:greaterThanMax","validation:invalidInput","validation:invalidSelection","validation:invalidSelections","validation:lessThanMin","validation:limitReached","validation:longerThanMin","validation:notValidDate","validation:required","validation:requiresAtLeast","validation:requiresNoMoreThan","validation:requiresTwoNumbers","validation:shorterThanMax","validation:trueOrFalse","validation:timezoneRequired","validation:username","validation:validUploadID","version:aboutToPublishSelection","version:aboutToRestore","version:aboutToRestoreGlobal","version:aboutToRevertToPublished","version:aboutToUnpublish","version:aboutToUnpublishSelection","version:autosave","version:autosavedSuccessfully","version:autosavedVersion","version:versionAgo","version:moreVersions","version:changed","version:changedFieldsCount","version:confirmRevertToSaved","version:compareVersions","version:comparingAgainst","version:currentlyViewing","version:confirmPublish","version:confirmUnpublish","version:confirmVersionRestoration","version:currentDraft","version:currentPublishedVersion","version:currentlyPublished","version:draft","version:draftSavedSuccessfully","version:lastSavedAgo","version:modifiedOnly","version:noFurtherVersionsFound","version:noRowsFound","version:noRowsSelected","version:preview","version:previouslyPublished","version:previousVersion","version:problemRestoringVersion","version:publish","version:publishAllLocales","version:publishChanges","version:published","version:publishIn","version:publishing","version:restoreAsDraft","version:restoredSuccessfully","version:restoreThisVersion","version:restoring","version:reverting","version:revertToPublished","version:saveDraft","version:scheduledSuccessfully","version:schedulePublish","version:selectLocales","version:selectVersionToCompare","version:showLocales","version:specificVersion","version:status","version:type","version:unpublish","version:unpublishing","version:versionCreatedOn","version:versionID","version:version","version:versions","version:viewingVersion","version:viewingVersionGlobal","version:viewingVersions","version:viewingVersionsGlobal"];function l(e,t="",i){let r={};for(let[a,o]of Object.entries(e)){if("$schema"===a){r[a]=o;continue}if("object"==typeof o){let e=l(o,a,i);Object.keys(e).length>0&&(r[a]=e)}else for(let e of i){let[i,l]=e.split(":");t===i&&(a===l?r[l]=o:["zero","one","two","few","many","other"].forEach(e=>{a===`${l}_${e}`&&(r[`${l}_${e}`]=o)}))}}return r}function d(e){let t={};return Object.keys(e).sort().forEach(i=>{"object"==typeof e[i]?t[i]=d(e[i]):t[i]=e[i]}),t}let p=(e,t)=>"client"===t?d(l(e.translations,"",o)):e.translations,c=({count:e,key:t,translations:i})=>{let r=t.split(":"),a="",o=r.reduce((t,i,o)=>{if("string"==typeof t)return t;"number"==typeof e&&(0===e&&`${i}_zero` in t?a="_zero":1===e&&`${i}_one` in t?a="_one":2===e&&`${i}_two` in t?a="_two":e>5&&`${i}_many` in t?a="_many":e>2&&e<=5&&`${i}_few` in t?a="_few":`${i}_other` in t&&(a="_other"));let l=i;if(o===r.length-1&&a&&(l=`${i}${a}`),t&&l in t)return t[l]},i);return o||console.log("key not found:",t),o||t},u=({translationString:e,vars:t})=>e.split(/(\{\{.*?\}\})/).map(e=>{if(!(e.startsWith("{{")&&e.endsWith("}}")))return e;{let i=t[e.substring(2,e.length-2).trim()];return null!=i?i:e}}).join("");function h({key:e,translations:t,vars:i}){let r=c({count:"number"==typeof i?.count?i.count:void 0,key:e,translations:t});return i&&(r=u({translationString:r,vars:i})),r||(r=e),r}let m=e=>{let{config:t,language:i,translations:r}=e,o=i&&t?.translations?.[i]?(0,a.u)(r,t.translations[i]):r;return{t:(e,t)=>h({key:e,translations:o,vars:t}),translations:o}},g=function(e,t){let i=new Map;return async r=>{let a=t.reduce((e,t)=>e+String(r[t]),"");if(!i.has(a)){let t=await e(r);i.set(a,t)}return i.get(a)}}(async({config:e,context:t,language:i=e.fallbackLanguage})=>{if(!i||!e.supportedLanguages?.[i])throw Error(`Language ${i} not supported`);let a=p(e.supportedLanguages?.[i],t),{t:o,translations:l}=m({config:e,language:i||e.fallbackLanguage,translations:a}),d=e.supportedLanguages[i]?.dateFNSKey||"en-US";return{dateFNS:await r(d),dateFNSKey:d,fallbackLanguage:e.fallbackLanguage,language:i||e.fallbackLanguage,t:o,translations:l}},["language","context"])},47264:(e,t,i)=>{"use strict";i.d(t,{P:()=>_});var r=i(52129),a=i(58082),o=i(61400),l=i(32017);let d=async({id:e,data:t,field:i,locale:d,req:c,select:u,selectMode:h,siblingData:m,user:g})=>{if((0,r.L)({field:i,select:u,selectMode:h,siblingDoc:m})){if((0,l.j7)(i)&&void 0===m[i.name]&&void 0!==i.defaultValue)try{m[i.name]=await (0,a.o)({defaultValue:i.defaultValue,locale:d,req:c,user:g,value:m[i.name]})}catch(e){c.payload.logger.error({err:e,msg:`Error calculating default value for field: ${i.name}`})}switch(i.type){case"array":{let r=m[i.name];if(Array.isArray(r)){let a=[],o=u?.[i.name];r.forEach(r=>{a.push(p({id:e,data:t,fields:i.fields,locale:d,req:c,select:"object"==typeof o?o:void 0,selectMode:h,siblingData:r,user:g}))}),await Promise.all(a)}break}case"blocks":{let r=m[i.name];if(Array.isArray(r)){let a=[];r.forEach(r=>{let l=r.blockType,m=c.payload.blocks[l]??(i.blockReferences??i.blocks).find(e=>"string"!=typeof e&&e.slug===l),{blockSelect:y,blockSelectMode:v}=(0,o.w)({block:m,select:u?.[i.name],selectMode:h});m&&(r.blockType=l,a.push(p({id:e,data:t,fields:m.fields,locale:d,req:c,select:"object"==typeof y?y:void 0,selectMode:v,siblingData:r,user:g})))}),await Promise.all(a)}break}case"collapsible":case"row":await p({id:e,data:t,fields:i.fields,locale:d,req:c,select:u,selectMode:h,siblingData:m,user:g});break;case"group":if((0,l.j7)(i)){"object"!=typeof m[i.name]&&(m[i.name]={});let r=m[i.name],a=u?.[i.name];await p({id:e,data:t,fields:i.fields,locale:d,req:c,select:"object"==typeof a?a:void 0,selectMode:h,siblingData:r,user:g})}else await p({id:e,data:t,fields:i.fields,locale:d,req:c,select:u,selectMode:h,siblingData:m,user:g});break;case"tab":{let r,a;(0,l.JC)(i)?("object"!=typeof m[i.name]&&(m[i.name]={}),r=m[i.name],"object"==typeof u?.[i.name]&&(a=u?.[i.name])):(r=m,a=u),await p({id:e,data:t,fields:i.fields,locale:d,req:c,select:a,selectMode:h,siblingData:r,user:g});break}case"tabs":await p({id:e,data:t,fields:i.tabs.map(e=>({...e,type:"tab"})),locale:d,req:c,select:u,selectMode:h,siblingData:m,user:g})}}},p=async({id:e,data:t,fields:i,locale:r,req:a,select:o,selectMode:l,siblingData:p,user:c})=>{let u=[];i.forEach(i=>{u.push(d({id:e,data:t,field:i,locale:r,req:a,select:o,selectMode:l,siblingData:p,user:c}))}),await Promise.all(u)},c=async({id:e,data:t,fields:i,locale:r,req:a,select:o,selectMode:l,user:d})=>(await p({id:e,data:t,fields:i,locale:r,req:a,select:o,selectMode:l,siblingData:t,user:d}),t);var u=i(50768),h=i(40954),m=i(60814),g=i(80130);function y({collapsedPrefs:e,field:t,previousRow:i,row:r}){return i&&"collapsed"in i?i.collapsed??!1:void 0!==e?e.includes(r.id):t.admin.initCollapsed}let v=h.default||h,b=async e=>{let{id:t,addErrorPathToParent:i,anyParentLocalized:r=!1,blockData:a,clientFieldSchemaMap:d,collectionSlug:p,data:c,field:h,fieldSchemaMap:b,filter:_,forceFullValue:x=!1,fullData:S,includeSchema:E=!1,indexPath:k,mockRSCs:T,omitParents:C=!1,operation:N,parentPath:O,parentPermissions:P,parentSchemaPath:I,passesCondition:L,path:D,preferences:R,previousFormState:$,renderAllFields:j,renderFieldFn:M,req:U,schemaPath:F,select:B,selectMode:z,skipConditionChecks:q=!1,skipValidation:V=!1,state:H}=e;!e.clientFieldSchemaMap&&e.renderFieldFn&&console.warn("clientFieldSchemaMap is not passed to addFieldStatePromise - this will reduce performance");let W=!0,G={},K=$?.[D]?.lastRenderedPath;K&&(G.lastRenderedPath=K);let J=!j&&!$?.[D];if(J&&(G.addedByServer=!0),!1===L&&(G.passesCondition=!1),E&&(G.fieldSchema=h),(0,l.j7)(h)&&!(0,l.XI)(h)){let u=!0===(W=!0===P?P:(0,m.Ee)(P?.[h.name]))||(0,m.Ee)(W?.read);if(!(u="function"!=typeof h?.access?.read||await h.access.read({id:t,blockData:a,data:S,req:U,siblingData:c})))return;let k=h.validate,O=!0;if("function"==typeof k&&!V&&L){let e;if("json"===h.type&&"string"==typeof c[h.name])try{JSON.parse(c[h.name])}catch(t){e=t}try{O=await k(c?.[h.name],{...h,id:t,blockData:a,collectionSlug:p,data:S,event:"onChange",jsonError:e,operation:N,preferences:R,previousValue:$?.[D]?.initialValue,req:U,siblingData:c})}catch(e){O=`Error validating field at path: ${D}`,U.payload.logger.error({err:e,msg:O})}}let I=e=>{"function"==typeof i&&i(e),G.errorPaths||(G.errorPaths=[]),G.errorPaths.includes(e)||(G.errorPaths.push(e),G.valid=!1)};switch("string"==typeof O&&(G.errorMessage=O,G.valid=!1,I(D)),h.type){case"array":{let i=Array.isArray(c[h.name])?c[h.name]:[],o=B?.[h.name],{promises:u,rows:m}=i.reduce((i,c,u)=>{let m=D+"."+u;if(c.id=c?.id||new v().toHexString(),!C&&(!_||_(e))){let e=m+".id";H[e]={initialValue:c.id,value:c.id},E&&(H[e].fieldSchema=h.fields.find(e=>(0,l.Ve)(e)))}i.promises.push(w({id:t,addErrorPathToParent:I,anyParentLocalized:h.localized||r,blockData:a,clientFieldSchemaMap:d,collectionSlug:p,data:c,fields:h.fields,fieldSchemaMap:b,filter:_,forceFullValue:x,fullData:S,includeSchema:E,mockRSCs:T,omitParents:C,operation:N,parentIndexPath:"",parentPassesCondition:L,parentPath:m,parentSchemaPath:F,permissions:!0===W?W:W?.fields||{},preferences:R,previousFormState:$,renderAllFields:j,renderFieldFn:M,req:U,select:"object"==typeof o?o:void 0,selectMode:z,skipConditionChecks:q,skipValidation:V,state:H})),i.rows||(i.rows=[]);let g=($?.[D]?.rows||[]).find(e=>e.id===c.id),k={id:c.id,isLoading:!1};return g?.lastRenderedPath&&(k.lastRenderedPath=g.lastRenderedPath),i.rows.push(k),y({collapsedPrefs:R?.fields?.[D]?.collapsed,field:h,previousRow:g,row:c})&&(i.rows[i.rows.length-1].collapsed=!0),i},{promises:[],rows:void 0});await Promise.all(u),m&&(G.rows=m),null!==c[h.name]&&(G.value=x?i:i.length,G.initialValue=x?i:i.length,i.length>0&&(G.disableFormData=!0)),!C&&(!_||_(e))&&(H[D]=G);break}case"blocks":{let i=Array.isArray(c[h.name])?c[h.name]:[],{promises:a,rowMetadata:u}=i.reduce((i,a,c)=>{let u=a.blockType,m=U.payload.blocks[u]??(h.blockReferences??h.blocks).find(e=>"string"!=typeof e&&e.slug===u);if(!m)throw Error(`Block with type "${a.blockType}" was found in block data, but no block with that type is defined in the config for field with schema path ${F}.`);let{blockSelect:g,blockSelectMode:k}=(0,o.w)({block:m,select:B?.[h.name],selectMode:z}),O=D+"."+c;if(m){if(a.id=a?.id||new v().toHexString(),!C&&(!_||_(e))){let e=O+".id";H[e]={initialValue:a.id,value:a.id},E&&(H[e].fieldSchema=E?m.fields.find(e=>(0,l.Ve)(e)):void 0);let t=O+".blockType";H[t]={initialValue:a.blockType,value:a.blockType},J&&(H[t].addedByServer=J),E&&(H[t].fieldSchema=m.fields.find(e=>"name"in e&&"blockType"===e.name));let i=O+".blockName";H[i]={},a.blockName&&(H[i].initialValue=a.blockName,H[i].value=a.blockName),E&&(H[i].fieldSchema=m.fields.find(e=>"name"in e&&"blockName"===e.name))}i.promises.push(w({id:t,addErrorPathToParent:I,anyParentLocalized:h.localized||r,blockData:a,clientFieldSchemaMap:d,collectionSlug:p,data:a,fields:m.fields,fieldSchemaMap:b,filter:_,forceFullValue:x,fullData:S,includeSchema:E,mockRSCs:T,omitParents:C,operation:N,parentIndexPath:"",parentPassesCondition:L,parentPath:O,parentSchemaPath:F+"."+m.slug,permissions:!0===W?W:P?.[h.name]?.blocks?.[m.slug]===!0||P?.[h.name]?.blocks?.[m.slug]?.fields||{},preferences:R,previousFormState:$,renderAllFields:j,renderFieldFn:M,req:U,select:"object"==typeof g?g:void 0,selectMode:k,skipConditionChecks:q,skipValidation:V,state:H}));let o=($?.[D]?.rows||[]).find(e=>e.id===a.id),c={id:a.id,blockType:a.blockType,isLoading:!1};o?.lastRenderedPath&&(c.lastRenderedPath=o.lastRenderedPath),i.rowMetadata.push(c),y({collapsedPrefs:R?.fields?.[D]?.collapsed,field:h,previousRow:o,row:a})&&(i.rowMetadata[i.rowMetadata.length-1].collapsed=!0)}return i},{promises:[],rowMetadata:[]});await Promise.all(a),null===c[h.name]?(G.value=null,G.initialValue=null):(G.value=x?i:i.length,G.initialValue=x?i:i.length,i.length>0&&(G.disableFormData=!0)),G.rows=u,!C&&(!_||_(e))&&(H[D]=G);break}case"group":{(!_||_(e))&&(G.disableFormData=!0,H[D]=G);let i=B?.[h.name];await w({id:t,addErrorPathToParent:I,anyParentLocalized:h.localized||r,blockData:a,clientFieldSchemaMap:d,collectionSlug:p,data:c?.[h.name]||{},fields:h.fields,fieldSchemaMap:b,filter:_,forceFullValue:x,fullData:S,includeSchema:E,mockRSCs:T,omitParents:C,operation:N,parentIndexPath:"",parentPassesCondition:L,parentPath:D,parentSchemaPath:F,permissions:"boolean"==typeof W?W:W?.fields,preferences:R,previousFormState:$,renderAllFields:j,renderFieldFn:M,req:U,select:"object"==typeof i?i:void 0,selectMode:z,skipConditionChecks:q,skipValidation:V,state:H});break}case"relationship":case"upload":if(h.filterOptions&&("object"==typeof h.filterOptions&&("string"==typeof h.relationTo?G.filterOptions={[h.relationTo]:h.filterOptions}:G.filterOptions=h.relationTo.reduce((e,t)=>(e[t]=h.filterOptions,e),{})),"function"==typeof h.filterOptions)){let e=await (0,g.q)(h.filterOptions,{id:t,blockData:a,data:S,relationTo:h.relationTo,req:U,siblingData:c,user:U.user});G.filterOptions=e}if(h.hasMany){let e=Array.isArray(c[h.name])?c[h.name].map(e=>Array.isArray(h.relationTo)?{relationTo:e.relationTo,value:e.value&&"object"==typeof e.value?e.value?.id:e.value}:"object"==typeof e&&null!==e?e.id:e):void 0;G.value=e,G.initialValue=e}else if(Array.isArray(h.relationTo)){if(c[h.name]&&"object"==typeof c[h.name]&&"relationTo"in c[h.name]&&"value"in c[h.name]){let e="object"==typeof c[h.name]?.value&&c[h.name]?.value&&"id"in c[h.name].value?c[h.name].value.id:c[h.name].value,t={relationTo:c[h.name]?.relationTo,value:e};G.value=t,G.initialValue=t}}else{let e=c[h.name]&&"object"==typeof c[h.name]&&"id"in c[h.name]?c[h.name].id:c[h.name];G.value=e,G.initialValue=e}(!_||_(e))&&(H[D]=G);break;case"select":"function"==typeof h.filterOptions&&(G.selectFilterOptions=h.filterOptions({data:S,options:h.options,req:U,siblingData:c})),void 0!==c[h.name]&&(G.value=c[h.name],G.initialValue=c[h.name]),(!_||_(e))&&(H[D]=G);break;default:void 0!==c[h.name]&&(G.value=c[h.name],G.initialValue=c[h.name]),(!_||_(e))&&(H[D]=G)}}else if((0,l.uV)(h)&&!(0,l.j7)(h))(!_||_(e))&&(H[D]={disableFormData:!0},!1===L&&(H[D].passesCondition=!1)),await w({id:t,mockRSCs:T,select:B,selectMode:z,addErrorPathToParent:i,anyParentLocalized:(0,l.B)(h)||r,blockData:a,clientFieldSchemaMap:d,collectionSlug:p,data:c,fields:h.fields,fieldSchemaMap:b,filter:_,forceFullValue:x,fullData:S,includeSchema:E,omitParents:C,operation:N,parentIndexPath:k,parentPassesCondition:L,parentPath:O,parentSchemaPath:I,permissions:P,preferences:R,previousFormState:$,renderAllFields:j,renderFieldFn:M,req:U,skipConditionChecks:q,skipValidation:V,state:H});else if("tabs"===h.type){let e=h.tabs.map((e,o)=>{let h,m;let g=(0,l.JC)(e),{indexPath:y,path:v,schemaPath:F}=(0,u.z)({field:{...e,type:"tab"},index:o,parentIndexPath:k,parentPath:O,parentSchemaPath:I});if(g){if(!0===P)m=!0;else{let t=P?.[e.name];m=!0===t||t?.fields}"object"==typeof B?.[e.name]&&(h=B?.[e.name])}else m=P,h=B;let W=D?D.split("."):[],G=L;return L&&"function"==typeof e.admin?.condition&&(G=e.admin.condition(S,c,{blockData:a,operation:N,path:W,user:U.user})),e?.id&&(H[e.id]={passesCondition:G}),w({id:t,addErrorPathToParent:i,anyParentLocalized:e.localized||r,blockData:a,clientFieldSchemaMap:d,collectionSlug:p,data:g?c?.[e.name]||{}:c,fields:e.fields,fieldSchemaMap:b,filter:_,forceFullValue:x,fullData:S,includeSchema:E,mockRSCs:T,omitParents:C,operation:N,parentIndexPath:g?"":y,parentPassesCondition:G,parentPath:g?v:O,parentSchemaPath:g?F:I,permissions:m,preferences:R,previousFormState:$,renderAllFields:j,renderFieldFn:M,req:U,select:h,selectMode:z,skipConditionChecks:q,skipValidation:V,state:H})});await Promise.all(e)}else"ui"===h.type&&(!_||_(e))&&(H[D]=G,H[D].disableFormData=!0);if(M&&!(0,l.XI)(h)){let e=b.get(F);if(!e&&!T){if(F.endsWith(".blockType"))return;throw Error(`Field config not found for ${F}`)}if(!H[D])return;J&&(H[D].addedByServer=J),M({id:t,clientFieldSchemaMap:d,collectionSlug:p,data:S,fieldConfig:e,fieldSchemaMap:b,fieldState:H[D],formState:H,indexPath:k,lastRenderedPath:K,mockRSCs:T,operation:N,parentPath:O,parentSchemaPath:I,path:D,permissions:W,preferences:R,previousFieldState:$?.[D],renderAllFields:j,req:U,schemaPath:F,siblingData:c})}},w=async({id:e,addErrorPathToParent:t,anyParentLocalized:i=!1,blockData:a,clientFieldSchemaMap:o,collectionSlug:l,data:d,fields:p,fieldSchemaMap:c,filter:h,forceFullValue:m=!1,fullData:g,includeSchema:y=!1,mockRSCs:v,omitParents:w=!1,operation:_,parentIndexPath:x,parentPassesCondition:S=!0,parentPath:E,parentSchemaPath:k,permissions:T,preferences:C,previousFormState:N,renderAllFields:O,renderFieldFn:P,req:I,select:L,selectMode:D,skipConditionChecks:R=!1,skipValidation:$=!1,state:j={}})=>{let M=[];p.forEach((p,U)=>{let F=!0,{indexPath:B,path:z,schemaPath:q}=(0,u.z)({field:p,index:U,parentIndexPath:"name"in p?"":x,parentPath:E,parentSchemaPath:k});if("id"!==z&&!(0,r.L)({field:p,select:L,selectMode:D,siblingDoc:d}))return;let V=z?z.split("."):[];if(!R)try{F=!!((!p?.admin?.condition||p.admin.condition(g||{},d||{},{blockData:a,operation:_,path:V,user:I.user}))&&S)}catch(e){F=!1,I.payload.logger.error({err:e,msg:`Error evaluating field condition at path: ${z}`})}M.push(b({id:e,addErrorPathToParent:t,anyParentLocalized:i,blockData:a,clientFieldSchemaMap:o,collectionSlug:l,data:d,field:p,fieldIndex:U,fieldSchemaMap:c,filter:h,forceFullValue:m,fullData:g,includeSchema:y,indexPath:B,mockRSCs:v,omitParents:w,operation:_,parentIndexPath:x,parentPath:E,parentPermissions:T,parentSchemaPath:k,passesCondition:F,path:z,preferences:C,previousFormState:N,renderAllFields:O,renderFieldFn:P,req:I,schemaPath:q,select:L,selectMode:D,skipConditionChecks:R,skipValidation:$,state:j}))}),await Promise.all(M)},_=async({id:e,clientFieldSchemaMap:t,collectionSlug:i,data:r={},documentData:a,fields:o,fieldSchemaMap:l,initialBlockData:d,mockRSCs:p,operation:u,permissions:h,preferences:m,previousFormState:g,renderAllFields:y,renderFieldFn:v,req:b,schemaPath:_,select:x,selectMode:S,skipValidation:E})=>{if(!t&&v&&console.warn("clientFieldSchemaMap is not passed to fieldSchemasToFormState - this will reduce performance"),o&&o.length){let k={},T={...r};await c({id:e,data:T,fields:o,locale:b.locale,req:b,select:x,selectMode:S,siblingData:T,user:b.user});let C=T;return a&&(C=a),await w({id:e,addErrorPathToParent:null,blockData:d,clientFieldSchemaMap:t,collectionSlug:i,data:T,fields:o,fieldSchemaMap:l,fullData:C,mockRSCs:p,operation:u,parentIndexPath:"",parentPassesCondition:!0,parentPath:"",parentSchemaPath:_,permissions:h,preferences:m,previousFormState:g,renderAllFields:y,renderFieldFn:v,req:b,select:x,selectMode:S,skipValidation:E,state:k}),k}return{}}},44406:(e,t,i)=>{"use strict";i.d(t,{J:()=>l});var r=i(12687),a=i(50768),o=i(32017);let l=({config:e,fields:t,i18n:i,parentIndexPath:d,parentSchemaPath:p,schemaMap:c})=>{for(let[u,h]of t.entries()){let{indexPath:t,schemaPath:m}=(0,a.z)({field:h,index:u,parentIndexPath:"name"in h?"":d,parentPath:"",parentSchemaPath:p});switch(c.set(m,h),h.type){case"array":l({config:e,fields:h.fields,i18n:i,parentIndexPath:"",parentSchemaPath:m,schemaMap:c});break;case"blocks":(h.blockReferences??h.blocks).map(t=>{let r="string"==typeof t?e.blocks.find(e=>e.slug===t):t,a=`${m}.${r.slug}`;c.set(a,r),l({config:e,fields:r.fields,i18n:i,parentIndexPath:"",parentSchemaPath:a,schemaMap:c})});break;case"collapsible":case"row":l({config:e,fields:h.fields,i18n:i,parentIndexPath:t,parentSchemaPath:p,schemaMap:c});break;case"group":(0,o.j7)(h)?l({config:e,fields:h.fields,i18n:i,parentIndexPath:"",parentSchemaPath:m,schemaMap:c}):l({config:e,fields:h.fields,i18n:i,parentIndexPath:t,parentSchemaPath:p,schemaMap:c});break;case"richText":if(!h?.editor)throw new r.L(h);if("function"==typeof h.editor)throw Error("Attempted to access unsanitized rich text editor.");"function"==typeof h.editor.generateSchemaMap&&h.editor.generateSchemaMap({config:e,field:h,i18n:i,schemaMap:c,schemaPath:m});break;case"tabs":h.tabs.map((r,d)=>{let u=(0,o.JC)(r),{indexPath:h,schemaPath:m}=(0,a.z)({field:{...r,type:"tab"},index:d,parentIndexPath:t,parentPath:"",parentSchemaPath:p});c.set(m,r),l({config:e,fields:r.fields,i18n:i,parentIndexPath:u?"":h,parentSchemaPath:u?m:p,schemaMap:c})})}}}},80130:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});let r=async(e,t)=>{let{relationTo:i}=t,r=Array.isArray(i)?i:[i],a={};return void 0!==e&&await Promise.all(r.map(async i=>{a[i]="function"==typeof e?await e({...t,relationTo:i}):e,!0===a[i]&&(a[i]={}),!1===a[i]&&(a[i]={id:{exists:!1}})})),a}},30856:(e,t,i)=>{"use strict";function r(e){return new DataView(e.buffer,e.byteOffset)}i.d(t,{Qc:()=>L,pM:()=>P,n5:()=>O}),i(35207);let a={len:1,get:(e,t)=>r(e).getUint8(t),put:(e,t,i)=>(r(e).setUint8(t,i),t+1)},o={len:2,get:(e,t)=>r(e).getUint16(t,!0),put:(e,t,i)=>(r(e).setUint16(t,i,!0),t+2)},l={len:2,get:(e,t)=>r(e).getUint16(t),put:(e,t,i)=>(r(e).setUint16(t,i),t+2)},d={len:4,get:(e,t)=>r(e).getUint32(t,!0),put:(e,t,i)=>(r(e).setUint32(t,i,!0),t+4)},p={len:4,get:(e,t)=>r(e).getUint32(t),put:(e,t,i)=>(r(e).setUint32(t,i),t+4)},c={len:4,get:(e,t)=>r(e).getInt32(t),put:(e,t,i)=>(r(e).setInt32(t,i),t+4)},u={len:8,get:(e,t)=>r(e).getBigUint64(t,!0),put:(e,t,i)=>(r(e).setBigUint64(t,i,!0),t+8)};class h{constructor(e,t){this.len=e,this.encoding=t,this.textDecoder=new TextDecoder(t)}get(e,t){return this.textDecoder.decode(e.subarray(t,t+this.len))}}var m=i(87430);let g=Object.prototype.toString,y="[object Uint8Array]",v="[object ArrayBuffer]";function b(e,t,i){return!!e&&(e.constructor===t||g.call(e)===i)}function w(e){return b(e,Uint8Array,y)}function _(e){return b(e,ArrayBuffer,v)}function x(e){return w(e)||_(e)}new globalThis.TextDecoder("utf8");new globalThis.TextEncoder;function S(e){let{byteLength:t}=e;return 6===t?4294967296*e.getUint16(0)+e.getUint32(2):5===t?4294967296*e.getUint8(0)+e.getUint32(1):4===t?e.getUint32(0):3===t?65536*e.getUint8(0)+e.getUint16(1):2===t?e.getUint16(0):1===t?e.getUint8(0):void 0}function E(e,t){let i=e.length,r=t.length;if(0===r||r>i)return -1;let a=i-r;for(let i=0;i<=a;i++){let a=!0;for(let o=0;o<r;o++)if(e[i+o]!==t[o]){a=!1;break}if(a)return i}return -1}function k(e,t){return -1!==E(e,t)}function T(e){return[...e].map(e=>e.charCodeAt(0))}function C(e,t=0){let i=Number.parseInt(new h(6).get(e,148).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(i))return!1;let r=256;for(let i=t;i<t+148;i++)r+=e[i];for(let i=t+156;i<t+512;i++)r+=e[i];return i===r}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));let N={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4},O=4100;async function P(e){return new L().fromBuffer(e)}function I(e,t,i){for(let[r,a]of(i={offset:0,...i},t.entries()))if(i.mask){if(a!==(i.mask[r]&e[r+i.offset]))return!1}else if(a!==e[r+i.offset])return!1;return!0}class L{constructor(e){this.detectors=e?.customDetectors,this.fromTokenizer=this.fromTokenizer.bind(this),this.fromBuffer=this.fromBuffer.bind(this),this.parse=this.parse.bind(this)}async fromTokenizer(e){let t=e.position;for(let i of this.detectors||[]){let r=await i(e);if(r)return r;if(t!==e.position)return}return this.parse(e)}async fromBuffer(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`ArrayBuffer\`, got \`${typeof e}\``);let t=e instanceof Uint8Array?e:new Uint8Array(e);if(t?.length>1)return this.fromTokenizer(m.FY(t))}async fromBlob(e){return this.fromStream(e.stream())}async fromStream(e){let t=await m.GC(e);try{return await this.fromTokenizer(t)}finally{await t.close()}}check(e,t){return I(this.buffer,e,t)}checkString(e,t){return this.check(T(e),t)}async parse(e){if(this.buffer=new Uint8Array(O),void 0===e.fileInfo.size&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return(await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14}))?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);let t=await e.readToken(N);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),this.fromTokenizer(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.check([79,98,106,1]))return{ext:"avro",mime:"application/avro"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(this.buffer,{length:30});let t=new DataView(this.buffer.buffer),i={compressedSize:t.getUint32(18,!0),uncompressedSize:t.getUint32(22,!0),filenameLength:t.getUint16(26,!0),extraFieldLength:t.getUint16(28,!0)};if(i.filename=await e.readToken(new h(i.filenameLength,"utf-8")),await e.ignore(i.extraFieldLength),"META-INF/mozilla.rsa"===i.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(i.filename.endsWith(".rels")||i.filename.endsWith(".xml"))switch(i.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};case"visio":return{ext:"vsdx",mime:"application/vnd.visio"}}if(i.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(i.filename.startsWith("3D/")&&i.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===i.filename&&i.compressedSize===i.uncompressedSize){let t=await e.readToken(new h(i.compressedSize,"utf-8"));switch(t=t.trim()){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===i.compressedSize){let t=-1;for(;t<0&&e.position<e.fileInfo.size;)await e.peekBuffer(this.buffer,{mayBeLess:!0}),t=E(this.buffer,new Uint8Array([80,75,3,4])),await e.ignore(t>=0?t:this.buffer.length)}else await e.ignore(i.compressedSize)}}catch(e){if(!(e instanceof m.dL))throw e}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);let t=new Uint8Array(8);return(await e.readBuffer(t),I(t,[79,112,117,115,72,101,97,100]))?{ext:"opus",mime:"audio/opus"}:I(t,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:I(t,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:I(t,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:I(t,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:I(t,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&(96&this.buffer[8])!=0){let e=new h(4,"latin1").get(this.buffer,8).replace("\0"," ").trim();switch(e){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:if(e.startsWith("3g")){if(e.startsWith("3g2"))return{ext:"3g2",mime:"video/3gpp2"};return{ext:"3gp",mime:"video/3gpp"}}return{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await e.ignore(1350);let t=10485760,i=new Uint8Array(Math.min(t,e.fileInfo.size));if(await e.readBuffer(i,{mayBeLess:!0}),k(i,new TextEncoder().encode("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(e){if(!(e instanceof m.dL))throw e}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){let e=await this.readTiffHeader(!1);if(e)return e}if(this.check([77,77])){let e=await this.readTiffHeader(!0);if(e)return e}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function t(){let t=await e.peekNumber(a),i=128,r=0;for(;(t&i)==0&&0!==i;)++r,i>>=1;let o=new Uint8Array(r+1);return await e.readBuffer(o),o}async function i(){let e=await t(),i=await t();i[0]^=128>>i.length-1;let r=Math.min(6,i.length),a=new DataView(e.buffer),o=new DataView(i.buffer,i.length-r,r);return{id:S(a),len:S(o)}}async function r(t){for(;t>0;){let r=await i();if(17026===r.id)return(await e.readToken(new h(r.len))).replaceAll(/\00.*$/g,"");await e.ignore(r.len),--t}}let o=await i();switch(await r(o.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/wav"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([207,250,237,254]))return{ext:"macho",mime:"application/x-mach-binary"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){let e=new h(4,"latin1").get(this.buffer,2);if(e.match("^d*")&&e>=1e3&&e<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>"))return(await e.ignore(8),"debian-binary"===await e.readToken(new h(13,"ascii")))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(this.checkString("**ACE",{offset:7})&&(await e.peekBuffer(this.buffer,{length:14,mayBeLess:!0}),this.checkString("**",{offset:12})))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.check([137,80,78,71,13,10,26,10])){async function o(){return{length:await e.readToken(c),type:await e.readToken(new h(4,"latin1"))}}await e.ignore(8);do{let t=await o();if(t.length<0)return;switch(t.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(t.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function l(){let t=new Uint8Array(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(u))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){let t=await l(),i=t.size-24;if(I(t.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){let t=new Uint8Array(16);if(i-=await e.readBuffer(t),I(t,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(I(t,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(i)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await e.ignore(20),await e.readToken(new h(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.check([97,99,115,112],{offset:36}))return{ext:"icc",mime:"application/vnd.iccprofile"};if(this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){let e=new DataView(this.buffer.buffer).getUint32(12,!0);if(e>12&&this.buffer.length>=e+16)try{let t=new TextDecoder().decode(this.buffer.slice(16,e+16));if(JSON.parse(t).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188})||this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.checkString("Kaydara FBX Binary  \0"))return{ext:"fbx",mime:"application/x.autodesk.fbx"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),C(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(e){let t=await this.tokenizer.readToken(e?l:o);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){let t=await this.tokenizer.readToken(e?l:o);for(let i=0;i<t;++i){let t=await this.readTiffTag(e);if(t)return t}}async readTiffHeader(e){let t=(e?l:o).get(this.buffer,2),i=(e?p:d).get(this.buffer,4);if(42===t){if(i>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(i>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}return await this.tokenizer.ignore(i),await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(43===t)return{ext:"tif",mime:"image/tiff"}}}},13763:(e,t,i)=>{"use strict";i.d(t,{lb:()=>g});var r=i(72477),a=i(93977),o=i(87430),l=i(17484),d=i(85488);class p extends l.Z{constructor(e,t){super(t),this.fileHandle=e}async readBuffer(e,t){let i=this.normalizeOptions(e,t);if(this.position=i.position,0===i.length)return 0;let r=await this.fileHandle.read(e,i.offset,i.length,i.position);if(this.position+=r.bytesRead,r.bytesRead<i.length&&(!t||!t.mayBeLess))throw new d.dL;return r.bytesRead}async peekBuffer(e,t){let i=this.normalizeOptions(e,t),r=await this.fileHandle.read(e,i.offset,i.length,i.position);if(!i.mayBeLess&&r.bytesRead<i.length)throw new d.dL;return r.bytesRead}async close(){return await this.fileHandle.close(),super.close()}}async function c(e){let t=await (0,a.open)(e,"r"),i=await t.stat();return new p(t,{fileInfo:{path:e,size:i.size}})}async function u(e,t){let i=t??{};if(i.fileInfo=i.fileInfo??{},e.path){let t=await (0,a.stat)(e.path);i.fileInfo.path=e.path,i.fileInfo.size=t.size}return(0,o.sN)(e,i)}var h=i(30856);class m extends h.Qc{async fromStream(e){let t=await (e instanceof r.ReadableStream?o.GC(e):u(e));try{return super.fromTokenizer(t)}finally{await t.close()}}async fromFile(e){let t=await c(e);try{return await super.fromTokenizer(t)}finally{await t.close()}}async toDetectionStream(e,t={}){let{default:r}=await Promise.resolve().then(i.t.bind(i,84492,19)),{sampleSize:a=h.n5}=t;return new Promise((t,i)=>{e.on("error",i),e.once("readable",()=>{(async()=>{try{let l=new r.PassThrough,d=r.pipeline?r.pipeline(e,l,()=>{}):e.pipe(l),p=e.read(a)??e.read()??new Uint8Array(0);try{l.fileType=await this.fromBuffer(p)}catch(e){e instanceof o.dL?l.fileType=void 0:i(e)}t(d)}catch(e){i(e)}})()})})}}async function g(e,t){return new m(t).fromFile(e,t)}},53064:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o,i:()=>a});var r={"1xx":"Informational","1xx_NAME":"INFORMATIONAL","1xx_MESSAGE":"Indicates an interim response for communicating connection status or request progress prior to completing the requested action and sending a final response.",INFORMATIONAL:"1xx","2xx":"Successful","2xx_NAME":"SUCCESSFUL","2xx_MESSAGE":"Indicates that the client's request was successfully received, understood, and accepted.",SUCCESSFUL:"2xx","3xx":"Redirection","3xx_NAME":"REDIRECTION","3xx_MESSAGE":"Indicates that further action needs to be taken by the user agent in order to fulfill the request.",REDIRECTION:"3xx","4xx":"Client Error","4xx_NAME":"CLIENT_ERROR","4xx_MESSAGE":"Indicates that the client seems to have erred.",CLIENT_ERROR:"4xx","5xx":"Server Error","5xx_NAME":"SERVER_ERROR","5xx_MESSAGE":"Indicates that the server is aware that it has erred or is incapable of performing the requested method.",SERVER_ERROR:"5xx"},a={classes:r,100:"Continue","100_NAME":"CONTINUE","100_MESSAGE":"The server has received the request headers and the client should proceed to send the request body.","100_CLASS":r.INFORMATIONAL,CONTINUE:100,101:"Switching Protocols","101_NAME":"SWITCHING_PROTOCOLS","101_MESSAGE":"The requester has asked the server to switch protocols and the server has agreed to do so.","101_CLASS":r.INFORMATIONAL,SWITCHING_PROTOCOLS:101,102:"Processing","102_NAME":"PROCESSING","102_MESSAGE":"A WebDAV request may contain many sub-requests involving file operations, requiring a long time to complete the request. This code indicates that the server has received and is processing the request, but no response is available yet.[7] This prevents the client from timing out and assuming the request was lost.","102_CLASS":r.INFORMATIONAL,PROCESSING:102,103:"Early Hints","103_NAME":"EARLY_HINTS","103_MESSAGE":"Used to return some response headers before final HTTP message.","103_CLASS":r.INFORMATIONAL,EARLY_HINTS:103,200:"OK","200_NAME":"OK","200_MESSAGE":"Standard response for successful HTTP requests.","200_CLASS":r.SUCCESSFUL,OK:200,201:"Created","201_NAME":"CREATED","201_MESSAGE":"The request has been fulfilled, resulting in the creation of a new resource.","201_CLASS":r.SUCCESSFUL,CREATED:201,202:"Accepted","202_NAME":"ACCEPTED","202_MESSAGE":"The request has been accepted for processing, but the processing has not been completed.","202_CLASS":r.SUCCESSFUL,ACCEPTED:202,203:"Non-Authoritative Information","203_NAME":"NON_AUTHORITATIVE_INFORMATION","203_MESSAGE":"The server is a transforming proxy (e.g. a Web accelerator) that received a 200 OK from its origin, but is returning a modified version of the origin's response.","203_CLASS":r.SUCCESSFUL,NON_AUTHORITATIVE_INFORMATION:203,204:"No Content","204_NAME":"NO_CONTENT","204_MESSAGE":"The server successfully processed the request and is not returning any content.","204_CLASS":r.SUCCESSFUL,NO_CONTENT:204,205:"Reset Content","205_NAME":"RESET_CONTENT","205_MESSAGE":"The server successfully processed the request, but is not returning any content. Unlike a 204 response, this response requires that the requester reset the document view.","205_CLASS":r.SUCCESSFUL,RESET_CONTENT:205,206:"Partial Content","206_NAME":"PARTIAL_CONTENT","206_MESSAGE":"The server is delivering only part of the resource (byte serving) due to a range header sent by the client.","206_CLASS":r.SUCCESSFUL,PARTIAL_CONTENT:206,207:"Multi Status","207_NAME":"MULTI_STATUS","207_MESSAGE":"The message body that follows is by default an XML message and can contain a number of separate response codes, depending on how many sub-requests were made.","207_CLASS":r.SUCCESSFUL,MULTI_STATUS:207,208:"Already Reported","208_NAME":"ALREADY_REPORTED","208_MESSAGE":"The members of a DAV binding have already been enumerated in a preceding part of the (multistatus) response, and are not being included again.","208_CLASS":r.SUCCESSFUL,ALREADY_REPORTED:208,226:"IM Used","226_NAME":"IM_USED","226_MESSAGE":"The server has fulfilled a request for the resource, and the response is a representation of the result of one or more instance-manipulations applied to the current instance.","226_CLASS":r.SUCCESSFUL,IM_USED:226,300:"Multiple Choices","300_NAME":"MULTIPLE_CHOICES","300_MESSAGE":"Indicates multiple options for the resource from which the client may choose.","300_CLASS":r.REDIRECTION,MULTIPLE_CHOICES:300,301:"Moved Permanently","301_NAME":"MOVED_PERMANENTLY","301_MESSAGE":"This and all future requests should be directed to the given URI.","301_CLASS":r.REDIRECTION,MOVED_PERMANENTLY:301,302:"Found","302_NAME":"FOUND","302_MESSAGE":'This is an example of industry practice contradicting the standard. The HTTP/1.0 specification (RFC 1945) required the client to perform a temporary redirect (the original describing phrase was "Moved Temporarily"), but popular browsers implemented 302 with the functionality of a 303 See Other. Therefore, HTTP/1.1 added status codes 303 and 307 to distinguish between the two behaviours.',"302_CLASS":r.REDIRECTION,FOUND:302,303:"See Other","303_NAME":"SEE_OTHER","303_MESSAGE":"The response to the request can be found under another URI using the GET method.","303_CLASS":r.REDIRECTION,SEE_OTHER:303,304:"Not Modified","304_NAME":"NOT_MODIFIED","304_MESSAGE":"Indicates that the resource has not been modified since the version specified by the request headers If-Modified-Since or If-None-Match.","304_CLASS":r.REDIRECTION,NOT_MODIFIED:304,305:"Use Proxy","305_NAME":"USE_PROXY","305_MESSAGE":"The requested resource is available only through a proxy, the address for which is provided in the response.","305_CLASS":r.REDIRECTION,USE_PROXY:305,306:"Switch Proxy","306_NAME":"SWITCH_PROXY","306_MESSAGE":'No longer used. Originally meant "Subsequent requests should use the specified proxy.',"306_CLASS":r.REDIRECTION,SWITCH_PROXY:306,307:"Temporary Redirect","307_NAME":"TEMPORARY_REDIRECT","307_MESSAGE":"In this case, the request should be repeated with another URI; however, future requests should still use the original URI.","307_CLASS":r.REDIRECTION,TEMPORARY_REDIRECT:307,308:"Permanent Redirect","308_NAME":"PERMANENT_REDIRECT","308_MESSAGE":"The request and all future requests should be repeated using another URI.","308_CLASS":r.REDIRECTION,PERMANENT_REDIRECT:308,400:"Bad Request","400_NAME":"BAD_REQUEST","400_MESSAGE":"The server cannot or will not process the request due to an apparent client error.","400_CLASS":r.CLIENT_ERROR,BAD_REQUEST:400,401:"Unauthorized","401_NAME":"UNAUTHORIZED","401_MESSAGE":"Similar to 403 Forbidden, but specifically for use when authentication is required and has failed or has not yet been provided.","401_CLASS":r.CLIENT_ERROR,UNAUTHORIZED:401,402:"Payment Required","402_NAME":"PAYMENT_REQUIRED","402_MESSAGE":"Reserved for future use. The original intention was that this code might be used as part of some form of digital cash or micropayment scheme, as proposed for example by GNU Taler, but that has not yet happened, and this code is not usually used.","402_CLASS":r.CLIENT_ERROR,PAYMENT_REQUIRED:402,403:"Forbidden","403_NAME":"FORBIDDEN","403_MESSAGE":"The request was valid, but the server is refusing action.","403_CLASS":r.CLIENT_ERROR,FORBIDDEN:403,404:"Not Found","404_NAME":"NOT_FOUND","404_MESSAGE":"The requested resource could not be found but may be available in the future. Subsequent requests by the client are permissible.","404_CLASS":r.CLIENT_ERROR,NOT_FOUND:404,405:"Method Not Allowed","405_NAME":"METHOD_NOT_ALLOWED","405_MESSAGE":"A request method is not supported for the requested resource.","405_CLASS":r.CLIENT_ERROR,METHOD_NOT_ALLOWED:405,406:"Not Acceptable","406_NAME":"NOT_ACCEPTABLE","406_MESSAGE":"The requested resource is capable of generating only content not acceptable according to the Accept headers sent in the request.","406_CLASS":r.CLIENT_ERROR,NOT_ACCEPTABLE:406,407:"Proxy Authentication Required","407_NAME":"PROXY_AUTHENTICATION_REQUIRED","407_MESSAGE":"The client must first authenticate itself with the proxy.","407_CLASS":r.CLIENT_ERROR,PROXY_AUTHENTICATION_REQUIRED:407,408:"Request Time-out","408_NAME":"REQUEST_TIMEOUT","408_MESSAGE":"The server timed out waiting for the request.","408_CLASS":r.CLIENT_ERROR,REQUEST_TIMEOUT:408,409:"Conflict","409_NAME":"CONFLICT","409_MESSAGE":"Indicates that the request could not be processed because of conflict in the request, such as an edit conflict between multiple simultaneous updates.","409_CLASS":r.CLIENT_ERROR,CONFLICT:409,410:"Gone","410_NAME":"GONE","410_MESSAGE":"Indicates that the resource requested is no longer available and will not be available again.","410_CLASS":r.CLIENT_ERROR,GONE:410,411:"Length Required","411_NAME":"LENGTH_REQUIRED","411_MESSAGE":"The request did not specify the length of its content, which is required by the requested resource.","411_CLASS":r.CLIENT_ERROR,LENGTH_REQUIRED:411,412:"Precondition Failed","412_NAME":"PRECONDITION_FAILED","412_MESSAGE":"The server does not meet one of the preconditions that the requester put on the request.","412_CLASS":r.CLIENT_ERROR,PRECONDITION_FAILED:412,413:"Request Entity Too Large","413_NAME":"REQUEST_ENTITY_TOO_LARGE","413_MESSAGE":'The request is larger than the server is willing or able to process. Previously called "Request Entity Too Large".',"413_CLASS":r.CLIENT_ERROR,REQUEST_ENTITY_TOO_LARGE:413,414:"Request-URI Too Large","414_NAME":"REQUEST_URI_TOO_LONG","414_MESSAGE":"The URI provided was too long for the server to process.","414_CLASS":r.CLIENT_ERROR,REQUEST_URI_TOO_LONG:414,415:"Unsupported Media Type","415_NAME":"UNSUPPORTED_MEDIA_TYPE","415_MESSAGE":"The request entity has a media type which the server or resource does not support.","415_CLASS":r.CLIENT_ERROR,UNSUPPORTED_MEDIA_TYPE:415,416:"Requested Range not Satisfiable","416_NAME":"REQUESTED_RANGE_NOT_SATISFIABLE","416_MESSAGE":"The client has asked for a portion of the file (byte serving), but the server cannot supply that portion.","416_CLASS":r.CLIENT_ERROR,REQUESTED_RANGE_NOT_SATISFIABLE:416,417:"Expectation Failed","417_NAME":"EXPECTATION_FAILED","417_MESSAGE":"The server cannot meet the requirements of the Expect request-header field.","417_CLASS":r.CLIENT_ERROR,EXPECTATION_FAILED:417,418:"I'm a teapot","418_NAME":"IM_A_TEAPOT","418_MESSAGE":'Any attempt to brew coffee with a teapot should result in the error code "418 I\'m a teapot". The resulting entity body MAY be short and stout.',"418_CLASS":r.CLIENT_ERROR,IM_A_TEAPOT:418,421:"Misdirected Request","421_NAME":"MISDIRECTED_REQUEST","421_MESSAGE":"The request was directed at a server that is not able to produce a response.","421_CLASS":r.CLIENT_ERROR,MISDIRECTED_REQUEST:421,422:"Unprocessable Entity","422_NAME":"UNPROCESSABLE_ENTITY","422_MESSAGE":"The request was well-formed but was unable to be followed due to semantic errors.","422_CLASS":r.CLIENT_ERROR,UNPROCESSABLE_ENTITY:422,423:"Locked","423_NAME":"LOCKED","423_MESSAGE":"The resource that is being accessed is locked.","423_CLASS":r.CLIENT_ERROR,LOCKED:423,424:"Failed Dependency","424_NAME":"FAILED_DEPENDENCY","424_MESSAGE":"The request failed because it depended on another request and that request failed.","424_CLASS":r.CLIENT_ERROR,FAILED_DEPENDENCY:424,425:"Too Early","425_NAME":"TOO_EARLY","425_MESSAGE":"The server is unwilling to risk processing a request that might be replayed.","425_CLASS":r.CLIENT_ERROR,TOO_EARLY:425,426:"Upgrade Required","426_NAME":"UPGRADE_REQUIRED","426_MESSAGE":"The client should switch to a different protocol such as TLS/1.0, given in the Upgrade header field.","426_CLASS":r.CLIENT_ERROR,UPGRADE_REQUIRED:426,428:"Precondition Required","428_NAME":"PRECONDITION_REQUIRED","428_MESSAGE":"The origin server requires the request to be conditional.","428_CLASS":r.CLIENT_ERROR,PRECONDITION_REQUIRED:428,429:"Too Many Requests","429_NAME":"TOO_MANY_REQUESTS","429_MESSAGE":"The user has sent too many requests in a given amount of time.","429_CLASS":r.CLIENT_ERROR,TOO_MANY_REQUESTS:429,431:"Request Header Fields Too Large","431_NAME":"REQUEST_HEADER_FIELDS_TOO_LARGE","431_MESSAGE":"The server is unwilling to process the request because either an individual header field, or all the header fields collectively, are too large.","431_CLASS":r.CLIENT_ERROR,REQUEST_HEADER_FIELDS_TOO_LARGE:431,451:"Unavailable For Legal Reasons","451_NAME":"UNAVAILABLE_FOR_LEGAL_REASONS","451_MESSAGE":"A server operator has received a legal demand to deny access to a resource or to a set of resources that includes the requested resource.","451_CLASS":r.CLIENT_ERROR,UNAVAILABLE_FOR_LEGAL_REASONS:451,500:"Internal Server Error","500_NAME":"INTERNAL_SERVER_ERROR","500_MESSAGE":"A generic error message, given when an unexpected condition was encountered and no more specific message is suitable.","500_CLASS":r.SERVER_ERROR,INTERNAL_SERVER_ERROR:500,501:"Not Implemented","501_NAME":"NOT_IMPLEMENTED","501_MESSAGE":"The server either does not recognize the request method, or it lacks the ability to fulfil the request. Usually this implies future availability.","501_CLASS":r.SERVER_ERROR,NOT_IMPLEMENTED:501,502:"Bad Gateway","502_NAME":"BAD_GATEWAY","502_MESSAGE":"The server was acting as a gateway or proxy and received an invalid response from the upstream server.","502_CLASS":r.SERVER_ERROR,BAD_GATEWAY:502,503:"Service Unavailable","503_NAME":"SERVICE_UNAVAILABLE","503_MESSAGE":"The server is currently unavailable (because it is overloaded or down for maintenance). Generally, this is a temporary state.","503_CLASS":r.SERVER_ERROR,SERVICE_UNAVAILABLE:503,504:"Gateway Time-out","504_NAME":"GATEWAY_TIMEOUT","504_MESSAGE":"The server was acting as a gateway or proxy and did not receive a timely response from the upstream server.","504_CLASS":r.SERVER_ERROR,GATEWAY_TIMEOUT:504,505:"HTTP Version not Supported","505_NAME":"HTTP_VERSION_NOT_SUPPORTED","505_MESSAGE":"The server does not support the HTTP protocol version used in the request.","505_CLASS":r.SERVER_ERROR,HTTP_VERSION_NOT_SUPPORTED:505,506:"Variant Also Negotiates","506_NAME":"VARIANT_ALSO_NEGOTIATES","506_MESSAGE":"Transparent content negotiation for the request results in a circular reference.","506_CLASS":r.SERVER_ERROR,VARIANT_ALSO_NEGOTIATES:506,507:"Insufficient Storage","507_NAME":"INSUFFICIENT_STORAGE","507_MESSAGE":"The server is unable to store the representation needed to complete the request.","507_CLASS":r.SERVER_ERROR,INSUFFICIENT_STORAGE:507,508:"Loop Detected","508_NAME":"LOOP_DETECTED","508_MESSAGE":"The server detected an infinite loop while processing the request.","508_CLASS":r.SERVER_ERROR,LOOP_DETECTED:508,510:"Not Extended","510_NAME":"NOT_EXTENDED","510_MESSAGE":"Further extensions to the request are required for the server to fulfil it.","510_CLASS":r.SERVER_ERROR,NOT_EXTENDED:510,511:"Network Authentication Required","511_NAME":"NETWORK_AUTHENTICATION_REQUIRED","511_MESSAGE":"The client needs to authenticate to gain network access. Intended for use by intercepting proxies used to control access to the network.","511_CLASS":r.SERVER_ERROR,NETWORK_AUTHENTICATION_REQUIRED:511,extra:{unofficial:{103:"Checkpoint","103_NAME":"CHECKPOINT","103_MESSAGE":"Used in the resumable requests proposal to resume aborted PUT or POST requests.","103_CLASS":r.INFORMATIONAL,CHECKPOINT:103,419:"Page Expired","419_NAME":"PAGE_EXPIRED","419_MESSAGE":"Used by the Laravel Framework when a CSRF Token is missing or expired.","419_CLASS":r.CLIENT_ERROR,PAGE_EXPIRED:419,218:"This is fine","218_NAME":"THIS_IS_FINE","218_MESSAGE":"Used as a catch-all error condition for allowing response bodies to flow through Apache when ProxyErrorOverride is enabled. When ProxyErrorOverride is enabled in Apache, response bodies that contain a status code of 4xx or 5xx are automatically discarded by Apache in favor of a generic response or a custom response specified by the ErrorDocument directive.","218_CLASS":r.SUCCESSFUL,THIS_IS_FINE:218,420:"Enhance Your Calm","420_NAME":"ENHANCE_YOUR_CALM","420_MESSAGE":"Returned by version 1 of the Twitter Search and Trends API when the client is being rate limited; versions 1.1 and later use the 429 Too Many Requests response code instead.","420_CLASS":r.CLIENT_ERROR,ENHANCE_YOUR_CALM:420,450:"Blocked by Windows Parental Controls","450_NAME":"BLOCKED_BY_WINDOWS_PARENTAL_CONTROLS","450_MESSAGE":"The Microsoft extension code indicated when Windows Parental Controls are turned on and are blocking access to the requested webpage.","450_CLASS":r.CLIENT_ERROR,BLOCKED_BY_WINDOWS_PARENTAL_CONTROLS:450,498:"Invalid Token","498_NAME":"INVALID_TOKEN","498_MESSAGE":"Returned by ArcGIS for Server. Code 498 indicates an expired or otherwise invalid token.","498_CLASS":r.CLIENT_ERROR,INVALID_TOKEN:498,499:"Token Required","499_NAME":"TOKEN_REQUIRED","499_MESSAGE":"Returned by ArcGIS for Server. Code 499 indicates that a token is required but was not submitted.","499_CLASS":r.CLIENT_ERROR,TOKEN_REQUIRED:499,509:"Bandwidth Limit Exceeded","509_NAME":"BANDWIDTH_LIMIT_EXCEEDED","509_MESSAGE":"The server has exceeded the bandwidth specified by the server administrator.","509_CLASS":r.SERVER_ERROR,BANDWIDTH_LIMIT_EXCEEDED:509,530:"Site is frozen","530_NAME":"SITE_IS_FROZEN","530_MESSAGE":"Used by the Pantheon web platform to indicate a site that has been frozen due to inactivity.","530_CLASS":r.SERVER_ERROR,SITE_IS_FROZEN:530,598:"Network read timeout error","598_NAME":"NETWORK_READ_TIMEOUT_ERROR","598_MESSAGE":"Used by some HTTP proxies to signal a network read timeout behind the proxy to a client in front of the proxy.","598_CLASS":r.SERVER_ERROR,NETWORK_READ_TIMEOUT_ERROR:598},iis:{440:"Login Time-out","440_NAME":"LOGIN_TIME_OUT","440_MESSAGE":"The client's session has expired and must log in again.","440_CLASS":r.CLIENT_ERROR,LOGIN_TIME_OUT:440,449:"Retry With","449_NAME":"RETRY_WITH","449_MESSAGE":"The server cannot honour the request because the user has not provided the required information.","449_CLASS":r.CLIENT_ERROR,RETRY_WITH:449,451:"Redirect","451_NAME":"REDIRECT","451_MESSAGE":"Used in Exchange ActiveSync when either a more efficient server is available or the server cannot access the users' mailbox.","451_CLASS":r.CLIENT_ERROR,REDIRECT:451},nginx:{444:"No Response","444_NAME":"NO_RESPONSE","444_MESSAGE":"Used internally to instruct the server to return no information to the client and close the connection immediately.","444_CLASS":r.CLIENT_ERROR,NO_RESPONSE:444,494:"Request header too large","494_NAME":"REQUEST_HEADER_TOO_LARGE","494_MESSAGE":"Client sent too large request or too long header line.","494_CLASS":r.CLIENT_ERROR,REQUEST_HEADER_TOO_LARGE:494,495:"SSL Certificate Error","495_NAME":"SSL_CERTIFICATE_ERROR","495_MESSAGE":"An expansion of the 400 Bad Request response code, used when the client has provided an invalid client certificate.","495_CLASS":r.CLIENT_ERROR,SSL_CERTIFICATE_ERROR:495,496:"SSL Certificate Required","496_NAME":"SSL_CERTIFICATE_REQUIRED","496_MESSAGE":"An expansion of the 400 Bad Request response code, used when a client certificate is required but not provided.","496_CLASS":r.CLIENT_ERROR,SSL_CERTIFICATE_REQUIRED:496,497:"HTTP Request Sent to HTTPS Port","497_NAME":"HTTP_REQUEST_SENT_TO_HTTPS_PORT","497_MESSAGE":"An expansion of the 400 Bad Request response code, used when the client has made a HTTP request to a port listening for HTTPS requests.","497_CLASS":r.CLIENT_ERROR,HTTP_REQUEST_SENT_TO_HTTPS_PORT:497,499:"Client Closed Request","499_NAME":"CLIENT_CLOSED_REQUEST","499_MESSAGE":"Used when the client has closed the request before the server could send a response.","499_CLASS":r.CLIENT_ERROR,CLIENT_CLOSED_REQUEST:499},cloudflare:{520:"Unknown Error","520_NAME":"UNKNOWN_ERROR","520_MESSAGE":'The 520 error is used as a "catch-all response for when the origin server returns something unexpected", listing connection resets, large headers, and empty or invalid responses as common triggers.',"520_CLASS":r.SERVER_ERROR,UNKNOWN_ERROR:520,521:"Web Server Is Down","521_NAME":"WEB_SERVER_IS_DOWN","521_MESSAGE":"The origin server has refused the connection from Cloudflare.","521_CLASS":r.SERVER_ERROR,WEB_SERVER_IS_DOWN:521,522:"Connection Timed Out","522_NAME":"CONNECTION_TIMED_OUT","522_MESSAGE":"Cloudflare could not negotiate a TCP handshake with the origin server.","522_CLASS":r.SERVER_ERROR,CONNECTION_TIMED_OUT:522,523:"Origin Is Unreachable","523_NAME":"ORIGIN_IS_UNREACHABLE","523_MESSAGE":"Cloudflare could not reach the origin server.","523_CLASS":r.SERVER_ERROR,ORIGIN_IS_UNREACHABLE:523,524:"A Timeout Occurred","524_NAME":"A_TIMEOUT_OCCURRED","524_MESSAGE":"Cloudflare was able to complete a TCP connection to the origin server, but did not receive a timely HTTP response.","524_CLASS":r.SERVER_ERROR,A_TIMEOUT_OCCURRED:524,525:"SSL Handshake Failed","525_NAME":"SSL_HANDSHAKE_FAILED","525_MESSAGE":"Cloudflare could not negotiate a SSL/TLS handshake with the origin server.","525_CLASS":r.SERVER_ERROR,SSL_HANDSHAKE_FAILED:525,526:"Invalid SSL Certificate","526_NAME":"INVALID_SSL_CERTIFICATE","526_MESSAGE":"Cloudflare could not validate the SSL/TLS certificate that the origin server presented.","526_CLASS":r.SERVER_ERROR,INVALID_SSL_CERTIFICATE:526,527:"Railgun Error","527_NAME":"RAILGUN_ERROR","527_MESSAGE":"Error 527 indicates that the request timed out or failed after the WAN connection had been established.","527_CLASS":r.SERVER_ERROR,RAILGUN_ERROR:527}}},o=a},71079:(e,t,i)=>{"use strict";i.d(t,{g7:()=>r,xv:()=>a,zo:()=>l});let r=new TextEncoder,a=new TextDecoder,o=null;function l(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),i=0;for(let r of e)t.set(r,i),i+=r.length;return t}},27219:(e,t,i)=>{"use strict";i.d(t,{Y:()=>h});var r=i(22687),a=i(84430),o=i(87735);let l=e=>e?.[Symbol.toStringTag],d=(e,t,i)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(i)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${i}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},p=(e,t,i,p)=>{if(!(t instanceof Uint8Array)){if(p&&o.x(t)){if(o.Ct(t)&&d(e,t,i))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!(0,a.Z)(t))throw TypeError((0,r.J)(e,t,...a.V,"Uint8Array",p?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${l(t)} instances for symmetric algorithms must be of type "secret"`)}},c=(e,t,i,p)=>{if(p&&o.x(t))switch(i){case"sign":if(o.US(t)&&d(e,t,i))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(o.vv(t)&&d(e,t,i))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!(0,a.Z)(t))throw TypeError((0,r.J)(e,t,...a.V,p?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${l(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===i&&"public"===t.type)throw TypeError(`${l(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===i&&"public"===t.type)throw TypeError(`${l(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===i&&"private"===t.type)throw TypeError(`${l(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===i&&"private"===t.type)throw TypeError(`${l(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function u(e,t,i,r){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?p(t,i,r,e):c(t,i,r,e)}u.bind(void 0,!1);let h=u.bind(void 0,!0)},52741:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let r=e=>Math.floor(e.getTime()/1e3)},22687:(e,t,i)=>{"use strict";function r(e,t,...i){if((i=i.filter(Boolean)).length>2){let t=i.pop();e+=`one of type ${i.join(", ")}, or ${t}.`}else 2===i.length?e+=`one of type ${i[0]} or ${i[1]}.`:e+=`of type ${i[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}i.d(t,{J:()=>o,Z:()=>a});let a=(e,...t)=>r("Key must be ",e,...t);function o(e,t,...i){return r(`Key for the ${e} algorithm must be `,t,...i)}},45689:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let r=(...e)=>{let t;let i=e.filter(Boolean);if(0===i.length||1===i.length)return!0;for(let e of i){let i=Object.keys(e);if(!t||0===t.size){t=new Set(i);continue}for(let e of i){if(t.has(e))return!1;t.add(e)}}return!0}},87735:(e,t,i)=>{"use strict";i.d(t,{Ct:()=>d,US:()=>o,vv:()=>l,x:()=>a});var r=i(65165);function a(e){return(0,r.Z)(e)&&"string"==typeof e.kty}function o(e){return"oct"!==e.kty&&"string"==typeof e.d}function l(e){return"oct"!==e.kty&&void 0===e.d}function d(e){return a(e)&&"oct"===e.kty&&"string"==typeof e.k}},65165:(e,t,i)=>{"use strict";function r(e){return"object"==typeof e&&null!==e}function a(e){if(!r(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}i.d(t,{Z:()=>a})},21301:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});let r=60,a=3600,o=86400,l=604800,d=31557600,p=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,c=e=>{let t;let i=p.exec(e);if(!i||i[4]&&i[1])throw TypeError("Invalid time period format");let c=parseFloat(i[2]);switch(i[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(c);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(c*r);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(c*a);break;case"day":case"days":case"d":t=Math.round(c*o);break;case"week":case"weeks":case"w":t=Math.round(c*l);break;default:t=Math.round(c*d)}return"-"===i[1]||"ago"===i[4]?-t:t}},11884:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(55547);let a=function(e,t,i,a,o){let l;if(void 0!==o.crit&&a?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!a||void 0===a.crit)return new Set;if(!Array.isArray(a.crit)||0===a.crit.length||a.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let d of(l=void 0!==i?new Map([...Object.entries(i),...t.entries()]):t,a.crit)){if(!l.has(d))throw new r.jq(`Extension Header Parameter "${d}" is not recognized`);if(void 0===o[d])throw new e(`Extension Header Parameter "${d}" is missing`);if(l.get(d)&&void 0===a[d])throw new e(`Extension Header Parameter "${d}" MUST be integrity protected`)}return new Set(a.crit)}},41174:(e,t,i)=>{"use strict";i.d(t,{Jx:()=>d,cv:()=>l});var r=i(72254),a=i(71079);function o(e){let t=e;return t instanceof Uint8Array&&(t=a.xv.decode(t)),t}let l=e=>r.Buffer.from(e).toString("base64url"),d=e=>new Uint8Array(r.Buffer.from(o(e),"base64url"))},46042:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(55547);function a(e){switch(e){case"PS256":case"RS256":case"ES256":case"ES256K":return"sha256";case"PS384":case"RS384":case"ES384":return"sha384";case"PS512":case"RS512":case"ES512":return"sha512";case"EdDSA":return;default:throw new r.jq(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}},33194:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var r=i(6005),a=i(65119);function o(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function l(e,t){return e.name===t}function d(e){return parseInt(e.name.slice(4),10)}function p(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}function c(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let i=t.pop();e+=`one of ${t.join(", ")}, or ${i}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}}function u(e,t,...i){switch(t){case"HS256":case"HS384":case"HS512":{if(!l(e.algorithm,"HMAC"))throw o("HMAC");let i=parseInt(t.slice(2),10);if(d(e.algorithm.hash)!==i)throw o(`SHA-${i}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!l(e.algorithm,"RSASSA-PKCS1-v1_5"))throw o("RSASSA-PKCS1-v1_5");let i=parseInt(t.slice(2),10);if(d(e.algorithm.hash)!==i)throw o(`SHA-${i}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!l(e.algorithm,"RSA-PSS"))throw o("RSA-PSS");let i=parseInt(t.slice(2),10);if(d(e.algorithm.hash)!==i)throw o(`SHA-${i}`,"algorithm.hash");break}case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw o("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!l(e.algorithm,"ECDSA"))throw o("ECDSA");let i=p(t);if(e.algorithm.namedCurve!==i)throw o(i,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}c(e,i)}var h=i(22687),m=i(84430),g=i(87735);function y(e,t,i){if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError((0,h.Z)(t,...m.V));return(0,r.createSecretKey)(t)}if(t instanceof r.KeyObject)return t;if((0,a.b)(t))return u(t,e,i),r.KeyObject.from(t);if(g.x(t))return e.startsWith("HS")?(0,r.createSecretKey)(Buffer.from(t.k,"base64url")):t;throw TypeError((0,h.Z)(t,...m.V,"Uint8Array","JSON Web Key"))}},84430:(e,t,i)=>{"use strict";i.d(t,{V:()=>l,Z:()=>o});var r=i(65119),a=i(27637);let o=e=>(0,a.Z)(e)||(0,r.b)(e),l=["KeyObject"];(globalThis.CryptoKey||r.Z?.CryptoKey)&&l.push("CryptoKey")},27637:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(47261);let a=e=>r.types.isKeyObject(e)},12690:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var r=i(6005),a=i(55547),o=i(65119),l=i(27637),d=i(22687),p=i(84430),c=i(87735);new WeakMap;let u=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new a.jq("Unsupported key curve for this operation")}},h=(e,t)=>{let i;if((0,o.b)(e))i=r.KeyObject.from(e);else if((0,l.Z)(e))i=e;else if((0,c.x)(e))return e.crv;else throw TypeError((0,d.Z)(e,...p.V));if("secret"===i.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(i.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${i.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${i.asymmetricKeyType.slice(1)}`;case"ec":{let e=i.asymmetricKeyDetails.namedCurve;if(t)return e;return u(e)}default:throw TypeError("Invalid asymmetric key type for this operation")}},m=(e,t)=>{let i;try{i=e instanceof r.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof i||i<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},g=new Map([["ES256","P-256"],["ES256K","secp256k1"],["ES384","P-384"],["ES512","P-521"]]);function y(e,t){let i,o,l,d;if(t instanceof r.KeyObject)i=t.asymmetricKeyType,o=t.asymmetricKeyDetails;else switch(l=!0,t.kty){case"RSA":i="rsa";break;case"EC":i="ec";break;case"OKP":if("Ed25519"===t.crv){i="ed25519";break}if("Ed448"===t.crv){i="ed448";break}throw TypeError("Invalid key for this operation, its crv must be Ed25519 or Ed448");default:throw TypeError("Invalid key for this operation, its kty must be RSA, OKP, or EC")}switch(e){case"EdDSA":if(!["ed25519","ed448"].includes(i))throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ed25519 or ed448");break;case"RS256":case"RS384":case"RS512":if("rsa"!==i)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");m(t,e);break;case"PS256":case"PS384":case"PS512":if("rsa-pss"===i){let{hashAlgorithm:t,mgf1HashAlgorithm:i,saltLength:r}=o,a=parseInt(e.slice(-3),10);if(void 0!==t&&(t!==`sha${a}`||i!==t))throw TypeError(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}`);if(void 0!==r&&r>a>>3)throw TypeError(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}`)}else if("rsa"!==i)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa or rsa-pss");m(t,e),d={padding:r.constants.RSA_PKCS1_PSS_PADDING,saltLength:r.constants.RSA_PSS_SALTLEN_DIGEST};break;case"ES256":case"ES256K":case"ES384":case"ES512":{if("ec"!==i)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be ec");let r=h(t),a=g.get(e);if(r!==a)throw TypeError(`Invalid key curve for the algorithm, its curve must be ${a}, got ${r}`);d={dsaEncoding:"ieee-p1363"};break}default:throw new a.jq(`alg ${e} is not supported either by JOSE or your javascript runtime`)}return l?{format:"jwk",key:t,...d}:d?{...d,key:t}:t}},67682:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var r=i(6005),a=i(47261),o=i(46042),l=i(55547);function d(e){switch(e){case"HS256":return"sha256";case"HS384":return"sha384";case"HS512":return"sha512";default:throw new l.jq(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}var p=i(12690),c=i(33194);let u=(0,a.promisify)(r.sign),h=async(e,t,i)=>{let a=(0,c.Z)(e,t,"sign");if(e.startsWith("HS")){let t=r.createHmac(d(e),a);return t.update(i),t.digest()}return u((0,o.Z)(e),i,(0,p.Z)(e,a))}},65119:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o,b:()=>l});var r=i(6005),a=i(47261);let o=r.webcrypto,l=e=>a.types.isCryptoKey(e)},55547:(e,t,i)=>{"use strict";i.d(t,{FP:()=>l,GW:()=>p,YS:()=>a,fy:()=>o,jq:()=>d,nx:()=>h,uv:()=>c});class r extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class a extends r{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,i="unspecified",r="unspecified"){super(e,{cause:{claim:i,reason:r,payload:t}}),this.claim=i,this.reason=r,this.payload=t}}class o extends r{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,i="unspecified",r="unspecified"){super(e,{cause:{claim:i,reason:r,payload:t}}),this.claim=i,this.reason=r,this.payload=t}}class l extends r{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class d extends r{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class p extends r{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class c extends r{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class u extends r{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}class h extends r{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",t){super(e,t)}}},87650:(e,t,i)=>{"use strict";function r(e,...t){let i=new URL("https://lexical.dev/docs/error"),a=new URLSearchParams;for(let i of(a.append("code",e),t))a.append("v",i);throw i.search=a.toString(),Error(`Minified Lexical error #${e}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}i.d(t,{A3A:()=>t7,BEw:()=>rL,F7b:()=>rw,Gg4:()=>ib,GvG:()=>r8,HX$:()=>rb,Ijf:()=>rx,JhQ:()=>r$,MXo:()=>iv,OPZ:()=>iN,Ret:()=>aF,Rlh:()=>rD,Tav:()=>t9,U2B:()=>aI,WAA:()=>aY,bgD:()=>aU,dL7:()=>iH,fAf:()=>e2,k$I:()=>rS,oCe:()=>rl});let a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,o=a&&"documentMode"in document?document.documentMode:null,l=a&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),d=a&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),p=!(!a||!("InputEvent"in window)||o)&&"getTargetRanges"in new window.InputEvent("input"),c=a&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),u=a&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,h=a&&/Android/.test(navigator.userAgent),m=a&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=a&&h&&m,y=a&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!m;function v(...e){let t=[];for(let i of e)if(i&&"string"==typeof i)for(let[e]of i.matchAll(/\S+/g))t.push(e);return t}let b=1,w=3,_=9,x=11,S=0,E=1,k=2,T=0,C=1,N=2,O=4,P=8,I=128,L=2047,D=1,R=2,$=3,j=4,M=5,U=6,F=c||u||y?"\xa0":"",B="\n\n",z=d?"\xa0":F,q="---",V="A-Za-z\xc0-\xd6\xd8-\xf6\xf8------",H=RegExp("^[^"+V+"]*["+q+"]"),W=RegExp("^[^"+q+"]*["+V+"]"),G={bold:1,capitalize:1024,code:16,highlight:I,italic:2,lowercase:256,strikethrough:O,subscript:32,superscript:64,underline:P,uppercase:512},K={directionless:1,unmergeable:2},J={center:R,end:U,justify:j,left:D,right:$,start:M},Q={[R]:"center",[U]:"end",[j]:"justify",[D]:"left",[$]:"right",[M]:"start"},Y={normal:0,segmented:2,token:1},Z={[T]:"normal",[N]:"segmented",[C]:"token"},X="$";function ee(e,t,i,r,a,o){let l=e.getFirstChild();for(;null!==l;){let e=l.__key;l.__parent===t&&(rw(l)&&ee(l,e,i,r,a,o),i.has(e)||o.delete(e),a.push(e)),l=l.getNextSibling()}}let et=100,ei=!1,er=0;function ea(e){er=e.timeStamp}function en(e,t,i){let r="BR"===e.nodeName,a=t.__lexicalLineBreak;return a&&(e===a||r&&e.previousSibling===a)||r&&void 0!==r6(e,i)}function es(e,t,i){let r=aj(aN(i)),a=null,o=null;null!==r&&r.anchorNode===e&&(a=r.anchorOffset,o=r.focusOffset);let l=e.nodeValue;null!==l&&ao(t,l,a,o,!1)}function eo(e,t,i){if(iN(e)){let t=e.anchor.getNode();if(t.is(i)&&e.format!==t.getFormat())return!1}return rW(t)&&i.isAttached()}function el(e,t,i,r){for(let a=e;a&&!aZ(a);a=aS(a)){let e=r6(a,t);if(void 0!==e){let t=r0(e,i);if(t)return rS(t)||!aF(a)?void 0:[a,t]}else if(a===r)return[r,r9(i)]}}function ed(e,t,i){ei=!0;let r=performance.now()-er>et;try{rg(e,()=>{let a=iH()||function(e){return e.getEditorState().read(()=>{let e=iH();return null!==e?e.clone():null})}(e),o=new Map,l=e.getRootElement(),p=e._editorState,c=e._blockCursorElement,u=!1,h="";for(let i=0;i<t.length;i++){let m=t[i],g=m.type,y=m.target,v=el(y,e,p,l);if(!v)continue;let[b,w]=v;if("characterData"===g)r&&ib(w)&&rW(y)&&eo(a,y,w)&&es(y,w,e);else if("childList"===g){u=!0;let t=m.addedNodes;for(let i=0;i<t.length;i++){let r=t[i],a=r2(r),o=r.parentNode;if(null!=o&&r!==c&&null===a&&!en(r,o,e)){if(d){let e=(aF(r)?r.innerText:null)||r.nodeValue;e&&(h+=e)}o.removeChild(r)}}let i=m.removedNodes,r=i.length;if(r>0){let t=0;for(let a=0;a<r;a++){let r=i[a];(en(r,y,e)||c===r)&&(y.appendChild(r),t++)}r!==t&&o.set(b,w)}}}if(o.size>0)for(let[t,i]of o)i.reconcileObservedMutation(t,e);let m=i.takeRecords();if(m.length>0){for(let t=0;t<m.length;t++){let i=m[t],r=i.addedNodes,a=i.target;for(let t=0;t<r.length;t++){let i=r[t],o=i.parentNode;null==o||"BR"!==i.nodeName||en(i,a,e)||o.removeChild(i)}}i.takeRecords()}null!==a&&(u&&r7(a),d&&ab(e)&&a.insertRawText(h))})}finally{ei=!1}}function ep(e){let t=e._observer;null!==t&&ed(e,t.takeRecords(),t)}function ec(e){(function(e){0===er&&aN(e).addEventListener("textInput",ea,!0)})(e),e._observer=new MutationObserver((t,i)=>{ed(e,t,i)})}class eu{constructor(e,t=new Map,i,r=new Map,a){this.node=e,this.sharedConfigMap=t,this.unknownState=i,this.knownState=r;let o=void 0!==a?a:function(e,t,i){let r=i.size;if(t)for(let a in t){let t=e.get(a);t&&i.has(t)||r++}return r}(t,i,r);this.size=o}getValue(e){let t=this.knownState.get(e);if(void 0!==t)return t;this.sharedConfigMap.set(e.key,e);let i=e.defaultValue;if(this.unknownState&&e.key in this.unknownState){let t=this.unknownState[e.key];void 0!==t&&(i=e.parse(t)),this.updateFromKnown(e,i)}return i}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){let e={...this.unknownState};for(let[t,i]of this.knownState)t.isEqual(i,t.defaultValue)?delete e[t.key]:e[t.key]=t.unparse(i);return eh(e)?{[X]:e}:{}}getWritable(e){var t;if(this.node===e)return this;let i=new Map(this.knownState),r=eh(t=this.unknownState)&&{...t};if(r)for(let e of i.keys())delete r[e.key];return new eu(e,this.sharedConfigMap,eh(r),i,this.size)}updateFromKnown(e,t){let i=e.key;this.sharedConfigMap.set(i,e);let{knownState:r,unknownState:a}=this;r.has(e)||a&&i in a||this.size++,r.set(e,t)}updateFromUnknown(e,t){let i=this.sharedConfigMap.get(e);i?this.updateFromKnown(i,i.parse(t)):(this.unknownState=this.unknownState||{},e in this.unknownState||this.size++,this.unknownState[e]=t)}updateFromJSON(e){let{knownState:t}=this;for(let e of t.keys())t.set(e,e.defaultValue);if(this.size=t.size,this.unknownState={},e)for(let[t,i]of Object.entries(e))this.updateFromUnknown(t,i);this.unknownState=eh(this.unknownState)}}function eh(e){if(e)for(let t in e)return e}function ef(e){let t=e.getWritable(),i=t.__state?t.__state.getWritable(t):new eu(t);return t.__state=i,i}function em(e,t){let i=e.__mode,r=e.__format,a=e.__style,o=t.__mode,l=t.__format,d=t.__style,p=e.__state,c=t.__state;return(null===i||i===o)&&(null===r||r===l)&&(null===a||a===d)&&(null===e.__state||p===c||function(e,t){if(e===t)return!0;if(e&&t&&e.size!==t.size)return!1;let i=new Set,r=(e,t)=>{for(let[r,a]of e.knownState){if(i.has(r.key))continue;i.add(r.key);let e=t?t.getValue(r):r.defaultValue;if(e!==a&&!r.isEqual(e,a))return!0}return!1},a=(e,t)=>{let{unknownState:r}=e,a=t?t.unknownState:void 0;if(r){for(let[e,t]of Object.entries(r))if(!i.has(e)&&(i.add(e),t!==(a?a[e]:void 0)))return!0}return!1};return!(e&&r(e,t)||t&&r(t,e)||e&&a(e,t)||t&&a(t,e))}(p,c))}function eg(e,t){let i=e.mergeWithSibling(t),r=ri()._normalizedNodes;return r.add(e.__key),r.add(t.__key),i}function ey(e){let t,i,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&ib(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){em(t,r)&&(r=eg(t,r));break}t.remove()}for(;null!==(i=r.getNextSibling())&&ib(i)&&i.isSimpleText()&&!i.isUnmergeable();){if(""!==i.__text){em(r,i)&&(r=eg(r,i));break}i.remove()}}else r.remove()}function ev(e){return eb(e.anchor),eb(e.focus),e}function eb(e){for(;"element"===e.type;){let t,i;let r=e.getNode(),a=e.offset;if(a===r.getChildrenSize()?(t=r.getChildAtIndex(a-1),i=!0):(t=r.getChildAtIndex(a),i=!1),ib(t)){e.set(t.__key,i?t.getTextContentSize():0,"text",!0);break}if(!rw(t))break;e.set(t.__key,i?t.getChildrenSize():0,"element",!0)}}let ew,e_,ex,eS,eE,ek,eT,eA,eC,eN,eO="",eP="",eI=null,eL="",eD="",eR=!1,e$=!1,ej=null;function eM(e,t){let i=eT.get(e);if(null!==t){let i=e0(e);i.parentNode===t&&t.removeChild(i)}if(eA.has(e)||e_._keyToDOMMap.delete(e),rw(i)){let e=eQ(i,eT);eU(e,0,e.length-1,null)}void 0!==i&&ag(eN,ex,eS,i,"destroyed")}function eU(e,t,i,r){let a=t;for(;a<=i;++a){let t=e[a];void 0!==t&&eM(t,r)}}function eF(e,t){e.setProperty("text-align",t)}let eB="40px";function ez(e,t){let i=ew.theme.indent;if("string"==typeof i){let r=e.classList.contains(i);t>0&&!r?e.classList.add(i):t<1&&r&&e.classList.remove(i)}let r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||eB;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function eq(e,t){let i=e.style;0===t?eF(i,""):t===D?eF(i,"left"):t===R?eF(i,"center"):t===$?eF(i,"right"):t===j?eF(i,"justify"):t===M?eF(i,"start"):t===U&&eF(i,"end")}function eV(e,t){let i=eA.get(e);void 0===i&&r(60);let a=i.createDOM(ew,e_);if(function(e,t,i){let r=i._keyToDOMMap;(function(e,t,i){e[`__lexicalKey_${t._key}`]=i})(t,i,e),r.set(e,t)}(e,a,e_),ib(i)?a.setAttribute("data-lexical-text","true"):rS(i)&&a.setAttribute("data-lexical-decorator","true"),rw(i)){let e=i.__indent,t=i.__size;if(0!==e&&ez(a,e),0!==t){let e=t-1;!function(e,t,i,r){let a=eP;eP="",eH(e,i,0,t,i.getDOMSlot(r)),eK(i,r),eP=a}(eQ(i,eA),e,i,a)}let r=i.__format;0!==r&&eq(a,r),i.isInline()||eG(null,i,a),a_(i)&&(eO+=B,eD+=B)}else{let t=i.getTextContent();if(rS(i)){let t=i.decorate(e_,ew);null!==t&&eZ(e,t),a.contentEditable="false"}else ib(i)&&(i.isDirectionless()||(eP+=t));eO+=t,eD+=t}return null!==t&&t.insertChild(a),ag(eN,ex,eS,i,"created"),a}function eH(e,t,i,r,a){let o=eO;eO="";let l=i;for(;l<=r;++l){eV(e[l],a);let t=eA.get(e[l]);null!==t&&ib(t)&&(null===eI&&(eI=t.getFormat()),""===eL&&(eL=t.getStyle()))}a_(t)&&(eO+=B),a.element.__lexicalTextContent=eO,eO=o+eO}function eW(e,t){if(e){let i=e.__last;if(i){let e=t.get(i);if(e)return t7(e)?"line-break":rS(e)&&e.isInline()?"decorator":null}return"empty"}return null}function eG(e,t,i){let r=eW(e,eT),a=eW(t,eA);r!==a&&t.getDOMSlot(i).setManagedLineBreak(a)}function eK(e,t){let i=t.__lexicalDirTextContent||"",r=t.__lexicalDir||"";if(i!==eP||r!==ej){let i=""===eP,a=i?ej:function(e){return H.test(e)?"rtl":W.test(e)?"ltr":null}(eP);if(a!==r){let o=t.classList,l=ew.theme,d=null!==r?l[r]:void 0,p=null!==a?l[a]:void 0;if(void 0!==d){if("string"==typeof d){let e=v(d);d=l[r]=e}o.remove(...d)}if(null===a||i&&"ltr"===a)t.removeAttribute("dir");else{if(void 0!==p){if("string"==typeof p){let e=v(p);p=l[a]=e}void 0!==p&&o.add(...p)}t.dir=a}e$||(e.getWritable().__dir=a)}ej=a,t.__lexicalDirTextContent=eP,t.__lexicalDir=a}}function eJ(e,t,i){var a;let o=eP;eP="",eI=null,eL="",function(e,t,i){let a=eO,o=e.__size,l=t.__size;eO="";let d=i.element;if(1===o&&1===l){let i=e.__first,r=t.__first;if(i===r)eY(i,d);else{let e=e0(i),t=eV(r,null);try{d.replaceChild(t,e)}catch(a){if("object"==typeof a&&null!=a)throw Error(`${a.toString()} Parent: ${d.tagName}, new child: {tag: ${t.tagName} key: ${r}}, old child: {tag: ${e.tagName}, key: ${i}}.`);throw a}eM(i,null)}let a=eA.get(r);ib(a)&&(null===eI&&(eI=a.getFormat()),""===eL&&(eL=a.getStyle()))}else{let a=eQ(e,eT),p=eQ(t,eA);if(a.length!==o&&r(227),p.length!==l&&r(228),0===o)0!==l&&eH(p,t,0,l-1,i);else if(0===l){if(0!==o){let e=null==i.after&&null==i.before&&null==i.element.__lexicalLineBreak;eU(a,0,o-1,e?null:d),e&&(d.textContent="")}}else!function(e,t,i,r,a,o){let l=r-1,d=a-1,p,c,u=o.getFirstChild(),h=0,m=0;for(;h<=l&&m<=d;){let e=t[h],r=i[m];if(e===r)u=eX(eY(r,o.element)),h++,m++;else{void 0===p&&(p=new Set(t)),void 0===c&&(c=new Set(i));let a=c.has(e),l=p.has(r);if(a){if(l){let e=ax(e_,r);e===u?u=eX(eY(r,o.element)):(o.withBefore(u).insertChild(e),eY(r,o.element)),h++,m++}else eV(r,o.withBefore(u)),m++}else u=eX(e0(e)),eM(e,o.element),h++}let a=eA.get(r);null!==a&&ib(a)&&(null===eI&&(eI=a.getFormat()),""===eL&&(eL=a.getStyle()))}let g=h>l,y=m>d;if(g&&!y){let t=i[d+1],r=void 0===t?null:e_.getElementByKey(t);eH(i,e,m,d,o.withBefore(r))}else y&&!g&&eU(t,h,l,o.element)}(t,a,p,o,l,i)}a_(t)&&(eO+=B),d.__lexicalTextContent=eO,eO=a+eO}(e,t,t.getDOMSlot(i)),eK(t,i),a=t,null==eI||eI===a.__textFormat||e$||a.setTextFormat(eI),function(e){""===eL||eL===e.__textStyle||e$||e.setTextStyle(eL)}(t),eP=o}function eQ(e,t){let i=[],a=e.__first;for(;null!==a;){let e=t.get(a);void 0===e&&r(101),i.push(a),a=e.__next}return i}function eY(e,t){let i=eT.get(e),a=eA.get(e);void 0!==i&&void 0!==a||r(61);let o=eR||ek.has(e)||eE.has(e),l=ax(e_,e);if(i===a&&!o){if(rw(i)){let e=l.__lexicalTextContent;void 0!==e&&(eO+=e,eD+=e);let t=l.__lexicalDirTextContent;void 0!==t&&(eP+=t)}else{let e=i.getTextContent();ib(i)&&!i.isDirectionless()&&(eP+=e),eD+=e,eO+=e}return l}if(i!==a&&o&&ag(eN,ex,eS,a,"updated"),a.updateDOM(i,l,ew)){let i=eV(e,null);return null===t&&r(62),t.replaceChild(i,l),eM(e,null),i}if(rw(i)&&rw(a)){let e=a.__indent;e!==i.__indent&&ez(l,e);let t=a.__format;t!==i.__format&&eq(l,t),o&&(eJ(i,a,l),rk(a)||a.isInline()||eG(i,a,l)),a_(a)&&(eO+=B,eD+=B)}else{let t=a.getTextContent();if(rS(a)){let t=a.decorate(e_,ew);null!==t&&eZ(e,t)}else ib(a)&&!a.isDirectionless()&&(eP+=t);eO+=t,eD+=t}if(!e$&&rk(a)&&a.__cachedText!==eD){let e=a.getWritable();e.__cachedText=eD,a=e}return l}function eZ(e,t){let i=e_._pendingDecorators,r=e_._decorators;if(null===i){if(r[e]===t)return;i=r3(e_)}i[e]=t}function eX(e){let t=e.nextSibling;return null!==t&&t===e_._blockCursorElement&&(t=t.nextSibling),t}function e1(e,t,i,r,a,o){eO="",eD="",eP="",eR=r===k,ej=null,e_=i,ew=i._config,ex=i._nodes,eS=e_._listeners.mutation,eE=a,ek=o,eT=e._nodeMap,eA=t._nodeMap,e$=t._readOnly,eC=new Map(i._keyToDOMMap);let l=new Map;return eN=l,eY("root",null),e_=void 0,ex=void 0,eE=void 0,ek=void 0,eT=void 0,eA=void 0,ew=void 0,eC=void 0,eN=void 0,l}function e0(e){let t=eC.get(e);return void 0===t&&r(75,e),t}function e2(e){return{}}let e6={},e4={},e3={},e5={},e8={},e9={},e7={},te={},tt={},ti={},tr={},ta={},tn={},ts={},to={},tl={},td={},tp={},tc={},tu={},th={},tf={},tm={},tg={},ty={},tv={},tb={},tw={},t_={},tx={},tS={},tE={},tk={},tT={},tA={},tC={},tN=Object.freeze({}),tO=30,tP=[["keydown",function(e,t){if(tI=e.timeStamp,tL=e.key,t.isComposing())return;let{key:i,shiftKey:r,ctrlKey:a,metaKey:o,altKey:p}=e;if(!aw(t,ts,e)&&null!=i){if(tB&&au(tL))return rg(t,()=>{tY(t,tz)}),tB=!1,void(tz="");if(function(e,t,i,r){return ad(e)&&!t&&!r&&!i}(i,a,p,o))aw(t,to,e);else if(function(e,t,i,r,a){return ad(e)&&!r&&!i&&(t||a)}(i,a,r,p,o))aw(t,tl,e);else if(function(e,t,i,r){return al(e)&&!t&&!r&&!i}(i,a,p,o))aw(t,td,e);else if(function(e,t,i,r,a){return al(e)&&!r&&!i&&(t||a)}(i,a,r,p,o))aw(t,tp,e);else if(function(e,t,i){return"ArrowUp"===e&&!t&&!i}(i,a,o))aw(t,tc,e);else if(function(e,t,i){return"ArrowDown"===e&&!t&&!i}(i,a,o))aw(t,tu,e);else if(function(e,t){return ac(e)&&t}(i,r))tU=!0,aw(t,th,e);else{var c,u;if(c=i," "===c)aw(t,tf,e);else if(function(e,t){return l&&t&&"o"===e.toLowerCase()}(i,a))e.preventDefault(),tU=!0,aw(t,e5,!0);else if(function(e,t){return ac(e)&&!t}(i,r))tU=!1,aw(t,th,e);else if(function(e,t,i,r){return l?!t&&!i&&(au(e)||"h"===e.toLowerCase()&&r):!r&&!t&&!i&&au(e)}(i,p,o,a))au(i)?aw(t,tm,e):(e.preventDefault(),aw(t,e3,!0));else if(u=i,"Escape"===u)aw(t,tg,e);else if(function(e,t,i,r,a){return l?!(i||r||a)&&(ah(e)||"d"===e.toLowerCase()&&t):!t&&!r&&!a&&ah(e)}(i,a,r,p,o))ah(i)?aw(t,ty,e):(e.preventDefault(),aw(t,e3,!1));else if(function(e,t,i){return au(e)&&(l?t:i)}(i,p,a))e.preventDefault(),aw(t,tt,!0);else if(function(e,t,i){return ah(e)&&(l?t:i)}(i,p,a))e.preventDefault(),aw(t,tt,!1);else if(function(e,t){return l&&t&&au(e)}(i,o))e.preventDefault(),aw(t,ti,!0);else if(function(e,t){return l&&t&&ah(e)}(i,o))e.preventDefault(),aw(t,ti,!1);else if(function(e,t,i,r){return"b"===e.toLowerCase()&&!t&&ap(i,r)}(i,p,o,a))e.preventDefault(),aw(t,tr,"bold");else if(function(e,t,i,r){return"u"===e.toLowerCase()&&!t&&ap(i,r)}(i,p,o,a))e.preventDefault(),aw(t,tr,"underline");else if(function(e,t,i,r){return"i"===e.toLowerCase()&&!t&&ap(i,r)}(i,p,o,a))e.preventDefault(),aw(t,tr,"italic");else if(function(e,t,i,r){return"Tab"===e&&!t&&!i&&!r}(i,p,a,o))aw(t,tv,e);else if(function(e,t,i,r){return"z"===e.toLowerCase()&&!t&&ap(i,r)}(i,r,o,a))e.preventDefault(),aw(t,ta,void 0);else if(function(e,t,i,r){return l?"z"===e.toLowerCase()&&i&&t:"y"===e.toLowerCase()&&r||"z"===e.toLowerCase()&&r&&t}(i,r,o,a))e.preventDefault(),aw(t,tn,void 0);else{let p=t._editorState._selection;null===p||iN(p)?!d&&af(i,o,a)&&(e.preventDefault(),aw(t,tk,e)):function(e,t,i,r){return!t&&"c"===e.toLowerCase()&&(l?i:r)}(i,r,o,a)?(e.preventDefault(),aw(t,tS,e)):function(e,t,i,r){return!t&&"x"===e.toLowerCase()&&(l?i:r)}(i,r,o,a)?(e.preventDefault(),aw(t,tE,e)):af(i,o,a)&&(e.preventDefault(),aw(t,tk,e))}}(function(e,t,i,r){return e||t||i||r})(a,r,p,o)&&aw(t,tC,e)}}],["pointerdown",function(e,t){let i=e.target,r=e.pointerType;aB(i)&&"touch"!==r&&0===e.button&&rg(t,()=>{rS(r4(i))||(tM=!0)})}],["compositionstart",function(e,t){rg(t,()=>{let i=iH();if(iN(i)&&!t.isComposing()){let r=i.anchor,a=i.anchor.getNode();rX(r.key),(e.timeStamp<tI+tO||"element"===r.type||!i.isCollapsed()||a.getFormat()!==i.format||ib(a)&&a.getStyle()!==i.style)&&aw(t,e9,z)}})}],["compositionend",function(e,t){d?tF=!0:!u&&(c||y)?(tB=!0,tz=e.data):rg(t,()=>{tY(t,e.data)})}],["input",function(e,t){e.stopPropagation(),rg(t,()=>{let i=iH(),r=e.data,a=tQ(e);if(null!=r&&iN(i)&&tH(i,a,r,e.timeStamp,!1)){tF&&(tY(t,r),tF=!1);let a=i.anchor.getNode(),o=aj(aN(t));if(null===o)return;let l=i.isBackward(),h=l?i.anchor.offset:i.focus.offset,m=l?i.focus.offset:i.anchor.offset;p&&!i.isCollapsed()&&ib(a)&&null!==o.anchorNode&&a.getTextContent().slice(0,h)+r+a.getTextContent().slice(h+m)===an(o.anchorNode)||aw(t,e9,r);let g=r.length;d&&g>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(i.anchor.offset-=g),c||u||y||!t.isComposing()||(tI=0,rX(null))}else as(!1,t,null!==r?r:void 0),tF&&(tY(t,r||void 0),tF=!1);!function(){i7(),ep(ri())}()},{event:e}),tR=null}],["click",function(e,t){rg(t,()=>{let i=iH(),r=aj(aN(t)),a=iW();if(r){if(iN(i)){let t=i.anchor,o=t.getNode();if("element"===t.type&&0===t.offset&&i.isCollapsed()&&!rk(o)&&1===r8().getChildrenSize()&&o.getTopLevelElementOrThrow().isEmpty()&&null!==a&&i.is(a))r.removeAllRanges(),i.dirty=!0;else if(3===e.detail&&!i.isCollapsed()&&o!==i.focus.getNode()){let e=function(e,t){let i=e;for(;i!==r8()&&null!=i;){if(t(i))return i;i=i.getParent()}return null}(o,e=>rw(e)&&!e.isInline());rw(e)&&e.select(0)}}else if("touch"===e.pointerType){let i=r.anchorNode;(aF(i)||rW(i))&&r7(iV(a,r,t,e))}}aw(t,e4,e)})}],["cut",tN],["copy",tN],["dragstart",tN],["dragover",tN],["dragend",tN],["paste",tN],["focus",tN],["blur",tN],["drop",tN]];p&&tP.push(["beforeinput",(e,t)=>(function(e,t){let i=e.inputType,a=tQ(e);"deleteCompositionText"===i||d&&ab(t)||"insertCompositionText"===i||rg(t,()=>{var o;let l=iH();if("deleteContentBackward"===i){if(null===l){let e=iW();if(!iN(e))return;r7(e.clone())}if(iN(l)){let i=l.anchor.key===l.focus.key;if(o=e.timeStamp,"MediaLast"===tL&&o<tI+tO&&t.isComposing()&&i){if(rX(null),tI=0,setTimeout(()=>{rg(t,()=>{rX(null)})},tO),iN(l)){let e=l.anchor.getNode();e.markDirty(),ib(e)||r(142),tJ(l,e)}}else{rX(null),e.preventDefault();let r=l.anchor.getNode(),a=r.getTextContent(),o=r.canInsertTextAfter(),d=0===l.anchor.offset&&l.focus.offset===a.length,p=g&&i&&!d&&o;if(p&&l.isCollapsed()&&(p=!rS(av(l.anchor,!0))),!p){aw(t,e3,!0);let e=iH();g&&iN(e)&&e.isCollapsed()&&(tq=e,setTimeout(()=>tq=null))}}return}}if(!iN(l))return;let d=e.data;null!==tR&&as(!1,t,tR),l.dirty&&null===tR||!l.isCollapsed()||rk(l.anchor.getNode())||null===a||l.applyDOMRange(a),tR=null;let p=l.anchor,c=l.focus,h=p.getNode(),m=c.getNode();if("insertText"!==i&&"insertTranspose"!==i)switch(e.preventDefault(),i){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":aw(t,e9,e);break;case"insertFromComposition":rX(null),aw(t,e9,e);break;case"insertLineBreak":rX(null),aw(t,e5,!1);break;case"insertParagraph":rX(null),tU&&!u?(tU=!1,aw(t,e5,!1)):aw(t,e8,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":aw(t,e7,e);break;case"deleteByComposition":(function(e,t){return e!==t||rw(e)||rw(t)||!e.isToken()||!t.isToken()})(h,m)&&aw(t,te,e);break;case"deleteByDrag":case"deleteByCut":aw(t,te,e);break;case"deleteContent":aw(t,e3,!1);break;case"deleteWordBackward":aw(t,tt,!0);break;case"deleteWordForward":aw(t,tt,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":aw(t,ti,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":aw(t,ti,!1);break;case"formatStrikeThrough":aw(t,tr,"strikethrough");break;case"formatBold":aw(t,tr,"bold");break;case"formatItalic":aw(t,tr,"italic");break;case"formatUnderline":aw(t,tr,"underline");break;case"historyUndo":aw(t,ta,void 0);break;case"historyRedo":aw(t,tn,void 0)}else{if("\n"===d)e.preventDefault(),aw(t,e5,!1);else if(d===B)e.preventDefault(),aw(t,e8,void 0);else if(null==d&&e.dataTransfer){let t=e.dataTransfer.getData("text/plain");e.preventDefault(),l.insertRawText(t)}else null!=d&&tH(l,a,d,e.timeStamp,!0)?(e.preventDefault(),aw(t,e9,d)):tR=d;tD=e.timeStamp}})})(e,t)]);let tI=0,tL=null,tD=0,tR=null,t$=new WeakMap,tj=!1,tM=!1,tU=!1,tF=!1,tB=!1,tz="",tq=null,tV=[0,"",0,"root",0];function tH(e,t,i,r,a){let o=e.anchor,l=e.focus,d=o.getNode(),c=ri(),u=aj(aN(c)),h=null!==u?u.anchorNode:null,m=o.key,g=c.getElementByKey(m),y=i.length;return m!==l.key||!ib(d)||(!a&&(!p||tD<r+50)||d.isDirty()&&y<2||ai(i))&&o.offset!==l.offset&&!d.isComposing()||rH(d)||d.isDirty()&&y>1||(a||!p)&&null!==g&&!d.isComposing()&&h!==rK(g)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||d.getFormat()!==e.format||d.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;let i=e.anchor.offset,r=t.getParentOrThrow(),a=t.isToken();return 0===i?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||a||function(e){let t=e.getPreviousSibling();return(ib(t)||rw(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):i===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||a)}(e,d)}function tW(e,t){return rW(e)&&null!==e.nodeValue&&0!==t&&t!==e.nodeValue.length}function tG(e,t,i){let{anchorNode:a,anchorOffset:o,focusNode:l,focusOffset:d}=e;tj&&(tj=!1,tW(a,o)&&tW(l,d)&&!tq)||rg(t,()=>{if(!i)return void r7(null);if(!rB(t,a,l))return;let p=iH();if(tq&&iN(p)&&p.isCollapsed()){let e=p.anchor,t=tq.anchor;(e.key===t.key&&e.offset===t.offset+1||1===e.offset&&t.getNode().is(e.getNode().getPreviousSibling()))&&r7(p=tq.clone())}if(tq=null,iN(p)){let i=p.anchor,a=i.getNode();if(p.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(p.dirty=!0);let o=aN(t).event,l=o?o.timeStamp:performance.now(),[d,c,u,h,m]=tV,g=r8(),y=!1===t.isComposing()&&""===g.getTextContent();if(l<m+200&&i.offset===u&&i.key===h)tK(p,d,c);else if("text"===i.type)ib(a)||r(141),tJ(p,a);else if("element"===i.type&&!y){rw(a)||r(259);let e=i.getNode();e.isEmpty()?function(e,t){tK(e,t.getTextFormat(),t.getTextStyle())}(p,e):tK(p,0,"")}}else{let e=i.key,t=p.focus.key,r=p.getNodes(),a=r.length,l=p.isBackward(),c=l?d:o,u=l?o:d,h=l?t:e,m=l?e:t,g=L,y=!1;for(let e=0;e<a;e++){let t=r[e],i=t.getTextContentSize();if(ib(t)&&0!==i&&!(0===e&&t.__key===h&&c===i||e===a-1&&t.__key===m&&0===u)&&(y=!0,0==(g&=t.getFormat())))break}p.format=y?g:0}}aw(t,e6,void 0)})}function tK(e,t,i){e.format===t&&e.style===i||(e.format=t,e.style=i,e.dirty=!0)}function tJ(e,t){tK(e,t.getFormat(),t.getStyle())}function tQ(e){if(!e.getTargetRanges)return null;let t=e.getTargetRanges();return 0===t.length?null:t[0]}function tY(e,t){let i=e._compositionKey;if(rX(null),null!==i&&null!=t){if(""===t){let t=r0(i),r=rK(e.getElementByKey(i));return void(null!==r&&null!==r.nodeValue&&ib(t)&&ao(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){let t=iH();if(iN(t)){let i=t.focus;return t.anchor.set(i.key,i.offset,i.type),void aw(e,th,null)}}}as(!0,e,t)}function tZ(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}let tX=new Map;function t1(e){let t=aM(e.target);if(null===t)return;let i=rq(t.anchorNode);if(null===i)return;tM&&(tM=!1,rg(i,()=>{let r=iW(),a=t.anchorNode;(aF(a)||rW(a))&&r7(iV(r,t,i,e))}));let r=ar(i),a=r[r.length-1],o=a._key,l=tX.get(o),d=l||a;d!==i&&tG(t,d,!1),tG(t,i,!0),i!==a?tX.set(o,i):l&&tX.delete(o)}function t0(e){e._lexicalHandled=!0}function t2(e){return!0===e._lexicalHandled}function t6(e){let t=e.ownerDocument,i=t$.get(t);void 0===i&&r(162);let a=i-1;a>=0||r(164),t$.set(t,a),0===a&&t.removeEventListener("selectionchange",t1);let o=rV(e);rz(o)?(function(e){if(null!==e._parentEditor){let t=ar(e),i=t[t.length-1]._key;tX.get(i)===e&&tX.delete(i)}else tX.delete(e._key)}(o),e.__lexicalEditor=null):o&&r(198);let l=tZ(e);for(let e=0;e<l.length;e++)l[e]();e.__lexicalEventHandles=[]}function t4(e,t,i){i7();let r=e.__key,a=e.getParent();if(null===a)return;let o=function(e){let t=iH();if(!iN(t)||!rw(e))return t;let{anchor:i,focus:r}=t,a=i.getNode(),o=r.getNode();return aA(a,e)&&i.set(e.__key,0,"element"),aA(o,e)&&r.set(e.__key,0,"element"),t}(e),l=!1;if(iN(o)&&t){let t=o.anchor,i=o.focus;t.key===r&&(iJ(t,e,a,e.getPreviousSibling(),e.getNextSibling()),l=!0),i.key===r&&(iJ(i,e,a,e.getPreviousSibling(),e.getNextSibling()),l=!0)}else iP(o)&&t&&e.isSelected()&&e.selectPrevious();if(iN(o)&&t&&!l){let t=e.getIndexWithinParent();rY(e),iG(o,a,t,-1)}else rY(e);i||aP(a)||a.canBeEmpty()||!a.isEmpty()||t4(a,t),t&&rk(a)&&a.isEmpty()&&a.selectEnd()}class t3{static getType(){r(64,this.name)}static clone(e){r(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev,this.__state=e.__state}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),rQ(this,e)}getType(){return this.__type}isInline(){r(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;let t=r0(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){let t=e||iH();if(null==t)return!1;let i=t.getNodes().some(e=>e.__key===this.__key);if(ib(this))return i;if(iN(t)&&"element"===t.anchor.type&&"element"===t.focus.type){if(t.isCollapsed())return!1;let e=this.getParent();if(rS(this)&&this.isInline()&&e){let i=t.isBackward()?t.focus:t.anchor;if(e.is(i.getNode())&&i.offset===e.getChildrenSize()&&this.is(e.getLastChild()))return!1}}return i}getKey(){return this.__key}getIndexWithinParent(){let e=this.getParent();if(null===e)return -1;let t=e.getFirstChild(),i=0;for(;null!==t;){if(this.is(t))return i;i++,t=t.getNextSibling()}return -1}getParent(){let e=this.getLatest().__parent;return null===e?null:r0(e)}getParentOrThrow(){let e=this.getParent();return null===e&&r(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(aP(t))return rw(e)||e===this&&rS(e)||r(194),e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&r(67,this.__key),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:r0(e)}getPreviousSiblings(){let e=[],t=this.getParent();if(null===t)return e;let i=t.getFirstChild();for(;null!==i&&!i.is(this);)e.push(i),i=i.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:r0(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=rw(this)?this:this.getParent(),i=rw(e)?e:e.getParent(),r=t&&i?nw(t,i):null;return r?r.commonAncestor:null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){let t=nw(this,e);return null!==t&&("descendant"===t.type||("branch"===t.type?-1===ny(t):("same"!==t.type&&"ancestor"!==t.type&&r(279),!1)))}isParentOf(e){let t=nw(this,e);return null!==t&&"ancestor"===t.type}getNodesBetween(e){let t=this.isBefore(e),i=[],a=new Set,o=this;for(;null!==o;){let l=o.__key;if(a.has(l)||(a.add(l),i.push(o)),o===e)break;let d=rw(o)?t?o.getFirstChild():o.getLastChild():null;if(null!==d){o=d;continue}let p=t?o.getNextSibling():o.getPreviousSibling();if(null!==p){o=p;continue}let c=o.getParentOrThrow();if(a.has(c.__key)||i.push(c),c===e)break;let u=null,h=c;do{if(null===h&&r(68),u=t?h.getNextSibling():h.getPreviousSibling(),null===(h=h.getParent()))break;null!==u||a.has(h.__key)||i.push(h)}while(null===u);o=u}return t||i.reverse(),i}isDirty(){let e=ri()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){let e=r0(this.__key);return null===e&&r(113),e}getWritable(){i7();let e=rt(),t=ri(),i=e._nodeMap,r=this.__key,a=this.getLatest(),o=t._cloneNotNeeded,l=iH();if(null!==l&&l.setCachedNodes(null),o.has(r))return rZ(a),a;let d=aQ(a);return o.add(r),rZ(d),i.set(r,d),d}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){r(70)}updateDOM(e,t,i){r(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){let e=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...e}}static importJSON(e){r(18,this.name)}updateFromJSON(e){return function(e,t){let i=e.getWritable();return(t||i.__state)&&ef(e).updateFromJSON(t),i}(this,e.$)}static transform(){return null}remove(e){t4(this,!0,e)}replace(e,t){i7();let i=iH();null!==i&&(i=i.clone()),aL(this,e);let a=this.getLatest(),o=this.__key,l=e.__key,d=e.getWritable(),p=this.getParentOrThrow().getWritable(),c=p.__size;rY(d);let u=a.getPreviousSibling(),h=a.getNextSibling(),m=a.__prev,g=a.__next,y=a.__parent;if((t4(a,!1,!0),null===u)?p.__first=l:u.getWritable().__next=l,(d.__prev=m,null===h)?p.__last=l:h.getWritable().__prev=l,d.__next=g,d.__parent=y,p.__size=c,t&&(rw(this)&&rw(d)||r(139),this.getChildren().forEach(e=>{d.append(e)})),iN(i)){r7(i);let e=i.anchor,t=i.focus;e.key===o&&iA(e,d),t.key===o&&iA(t,d)}return r1()===o&&rX(l),d}insertAfter(e,t=!0){i7(),aL(this,e);let i=this.getWritable(),r=e.getWritable(),a=r.getParent(),o=iH(),l=!1,d=!1;if(null!==a){let t=e.getIndexWithinParent();if(rY(r),iN(o)){let e=a.__key,i=o.anchor,r=o.focus;l="element"===i.type&&i.key===e&&i.offset===t+1,d="element"===r.type&&r.key===e&&r.offset===t+1}}let p=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),u=r.__key,h=i.__next;if(null===p?c.__last=u:p.getWritable().__prev=u,c.__size++,i.__next=u,r.__next=h,r.__prev=i.__key,r.__parent=i.__parent,t&&iN(o)){let e=this.getIndexWithinParent();iG(o,c,e+1);let t=c.__key;l&&o.anchor.set(t,e+2,"element"),d&&o.focus.set(t,e+2,"element")}return e}insertBefore(e,t=!0){i7(),aL(this,e);let i=this.getWritable(),r=e.getWritable(),a=r.__key;rY(r);let o=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),d=i.__prev,p=this.getIndexWithinParent();null===o?l.__first=a:o.getWritable().__next=a,l.__size++,i.__prev=a,r.__prev=d,r.__next=i.__key,r.__parent=i.__parent;let c=iH();return t&&iN(c)&&iG(c,this.getParentOrThrow(),p),e}isParentRequired(){return!1}createParentElementNode(){return rL()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){i7();let i=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===i)return r.select(0,0);if(rw(i))return i.select();if(!ib(i)){let e=i.getIndexWithinParent()+1;return r.select(e,e)}return i.select(e,t)}selectNext(e,t){i7();let i=this.getNextSibling(),r=this.getParentOrThrow();if(null===i)return r.select();if(rw(i))return i.select(0,0);if(!ib(i)){let e=i.getIndexWithinParent();return r.select(e,e)}return i.select(e,t)}markDirty(){this.getWritable()}reconcileObservedMutation(e,t){this.markDirty()}}class t5 extends t3{static getType(){return"linebreak"}static clone(e){return new t5(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:e=>(function(e){let t=e.parentElement;if(null!==t&&aV(t)){let i=t.firstChild;if(i===e||i.nextSibling===e&&ie(i)){let i=t.lastChild;if(i===e||i.previousSibling===e&&ie(i))return!0}}return!1})(e)||function(e){let t=e.parentElement;if(null!==t&&aV(t)){let i=t.firstChild;if(i===e||i.nextSibling===e&&ie(i))return!1;let r=t.lastChild;if(r===e||r.previousSibling===e&&ie(r))return!0}return!1}(e)?null:{conversion:t8,priority:0}}}static importJSON(e){return t9().updateFromJSON(e)}}function t8(e){return{node:t9()}}function t9(){return aI(new t5)}function t7(e){return e instanceof t5}function ie(e){return rW(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function it(e,t){return 16&t?"code":t&I?"mark":32&t?"sub":64&t?"sup":null}function ii(e,t){return 1&t?"strong":2&t?"em":"span"}function ir(e,t,i,r,a){let o=r.classList,l=am(a,"base");void 0!==l&&o.add(...l);let d=!1,p=t&P&&t&O;for(let e in void 0!==(l=am(a,"underlineStrikethrough"))&&(i&P&&i&O?(d=!0,p||o.add(...l)):p&&o.remove(...l)),G){let r=G[e];if(void 0!==(l=am(a,e))){if(i&r){if(d&&("underline"===e||"strikethrough"===e)){t&r&&o.remove(...l);continue}t&r&&(!p||"underline"!==e)&&"strikethrough"!==e||o.add(...l)}else t&r&&o.remove(...l)}}}function ia(e,t,i){let r=t.firstChild,a=i.isComposing(),o=e+(a?F:"");if(null==r)t.textContent=o;else{let e=r.nodeValue;if(e!==o){if(a||d){let[t,i,a]=function(e,t){let i=e.length,r=t.length,a=0,o=0;for(;a<i&&a<r&&e[a]===t[a];)a++;for(;o+a<i&&o+a<r&&e[i-o-1]===t[r-o-1];)o++;return[a,i-a-o,t.slice(a,r-o)]}(e,o);0!==i&&r.deleteData(t,i),r.insertData(t,a)}else r.nodeValue=o}}}function is(e,t,i,r,a,o){ia(a,e,t);let l=o.theme.text;void 0!==l&&ir(0,0,r,e,l)}function io(e,t){let i=document.createElement(t);return i.appendChild(e),i}class il extends t3{static getType(){return"text"}static clone(e){return new il(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text,this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e="",t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){return Z[this.getLatest().__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===r1()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){let t=G[e];return!!(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return rJ(this.getLatest().__format,e,t)}canHaveFormat(){return!0}isInline(){return!0}createDOM(e,t){let i=this.__format,r=it(0,i),a=ii(0,i),o=null===r?a:r,l=document.createElement(o),d=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),null!==r&&(d=document.createElement(a),l.appendChild(d)),is(d,this,0,i,this.__text,e);let p=this.__style;return""!==p&&(l.style.cssText=p),l}updateDOM(e,t,i){let a=this.__text,o=e.__format,l=this.__format,d=it(0,o),p=it(0,l),c=ii(0,o),u=ii(0,l);if((null===d?c:d)!==(null===p?u:p))return!0;if(d===p&&c!==u){let e=t.firstChild;null==e&&r(48);let o=document.createElement(u);return is(o,this,0,l,a,i),t.replaceChild(o,e),!1}let h=t;null!==p&&null!==d&&null==(h=t.firstChild)&&r(49),ia(a,h,this);let m=i.theme.text;void 0!==m&&o!==l&&ir(0,o,l,h,m);let g=e.__style,y=this.__style;return g!==y&&(t.style.cssText=y),!1}static importDOM(){return{"#text":()=>({conversion:ih,priority:0}),b:()=>({conversion:ip,priority:0}),code:()=>({conversion:iy,priority:0}),em:()=>({conversion:iy,priority:0}),i:()=>({conversion:iy,priority:0}),mark:()=>({conversion:iy,priority:0}),s:()=>({conversion:iy,priority:0}),span:()=>({conversion:id,priority:0}),strong:()=>({conversion:iy,priority:0}),sub:()=>({conversion:iy,priority:0}),sup:()=>({conversion:iy,priority:0}),u:()=>({conversion:iy,priority:0})}}static importJSON(e){return iv().updateFromJSON(e)}updateFromJSON(e){return super.updateFromJSON(e).setTextContent(e.text).setFormat(e.format).setDetail(e.detail).setMode(e.mode).setStyle(e.style)}exportDOM(e){let{element:t}=super.exportDOM(e);return aF(t)||r(132),t.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(t=io(t,"b")),this.hasFormat("italic")&&(t=io(t,"i")),this.hasFormat("strikethrough")&&(t=io(t,"s")),this.hasFormat("underline")&&(t=io(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(e,t){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?G[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?K[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){let t=rJ(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){let t=Y[e];if(this.__mode===t)return this;let i=this.getWritable();return i.__mode=t,i}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){i7();let i=e,r=t,a=iH(),o=this.getTextContent(),l=this.__key;if("string"==typeof o){let e=o.length;void 0===i&&(i=e),void 0===r&&(r=e)}else i=0,r=0;if(!iN(a))return iB(l,i,l,r,"text","text");{let e=r1();e!==a.anchor.key&&e!==a.focus.key||rX(l),a.setTextNodeRange(this,i,this,r)}return a}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,i,r){let a=this.getWritable(),o=a.__text,l=i.length,d=e;d<0&&(d=l+d)<0&&(d=0);let p=iH();if(r&&iN(p)){let t=e+l;p.setTextNodeRange(a,t,a,t)}let c=o.slice(0,d)+i+o.slice(d+t);return a.__text=c,a}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){let t;i7();let i=this.getLatest(),r=i.getTextContent();if(""===r)return[];let a=i.__key,o=r1(),l=r.length;e.sort((e,t)=>e-t),e.push(l);let d=[],p=e.length;for(let t=0,i=0;t<l&&i<=p;i++){let a=e[i];a>t&&(d.push(r.slice(t,a)),t=a)}let c=d.length;if(1===c)return[i];let u=d[0],h=i.getParent(),m=i.getFormat(),g=i.getStyle(),y=i.__detail,v=!1,b=null,w=null,_=iH();if(iN(_)){let[e,t]=_.isBackward()?[_.focus,_.anchor]:[_.anchor,_.focus];"text"===e.type&&e.key===a&&(b=e),"text"===t.type&&t.key===a&&(w=t)}i.isSegmented()?((t=iv(u)).__format=m,t.__style=g,t.__detail=y,v=!0):(t=i.getWritable()).__text=u;let x=[t];for(let e=1;e<c;e++){let t=iv(d[e]);t.__format=m,t.__style=g,t.__detail=y;let i=t.__key;o===a&&rX(i),x.push(t)}let S=b?b.offset:null,E=w?w.offset:null,k=0;for(let e of x){if(!b&&!w)break;let t=k+e.getTextContentSize();if(null!==b&&null!==S&&S<=t&&S>=k&&(b.set(e.getKey(),S-k,"text"),S<t&&(b=null)),null!==w&&null!==E&&E<=t&&E>=k){w.set(e.getKey(),E-k,"text");break}k=t}if(null!==h){!function(e){let t=e.getPreviousSibling(),i=e.getNextSibling();null!==t&&rZ(t),null!==i&&rZ(i)}(this);let e=h.getWritable(),t=this.getIndexWithinParent();v?(e.splice(t,0,x),this.remove()):e.splice(t,1,x),iN(_)&&iG(_,h,t,c-1)}return x}mergeWithSibling(e){let t=e===this.getPreviousSibling();t||e===this.getNextSibling()||r(50);let i=this.__key,a=e.__key,o=this.__text,l=o.length;r1()===a&&rX(i);let d=iH();if(iN(d)){let r=d.anchor,o=d.focus;null!==r&&r.key===a&&iQ(r,t,i,e,l),null!==o&&o.key===a&&iQ(o,t,i,e,l)}let p=e.__text,c=t?p+o:o+p;this.setTextContent(c);let u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function id(e){return{forChild:iw(e.style),node:null}}function ip(e){let t=e,i="normal"===t.style.fontWeight;return{forChild:iw(t.style,i?void 0:"bold"),node:null}}let ic=new WeakMap;function iu(e){if(!aF(e))return!1;if("PRE"===e.nodeName)return!0;let t=e.style.whiteSpace;return"string"==typeof t&&t.startsWith("pre")}function ih(e){let t=e;null===e.parentElement&&r(129);let i=t.textContent||"";if(null!==function(e){let t,i=e.parentNode,r=[e];for(;null!==i&&void 0===(t=ic.get(i))&&!iu(i);)r.push(i),i=i.parentNode;let a=void 0===t?i:t;for(let e=0;e<r.length;e++)ic.set(r[e],a);return a}(t)){let e=i.split(/(\r?\n|\t)/),t=[],r=e.length;for(let i=0;i<r;i++){let r=e[i];"\n"===r||"\r\n"===r?t.push(t9()):"	"===r?t.push(ix()):""!==r&&t.push(iv(r))}return{node:t}}if(""===(i=i.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===i[0]){let e=t,r=!0;for(;null!==e&&null!==(e=im(e,!1));){let t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(i=i.slice(1)),r=!1;break}}r&&(i=i.slice(1))}if(" "===i[i.length-1]){let e=t,r=!0;for(;null!==e&&null!==(e=im(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(i=i.slice(0,i.length-1))}return""===i?{node:null}:{node:iv(i)}}function im(e,t){let i=e;for(;;){let e;for(;null===(e=t?i.nextSibling:i.previousSibling);){let e=i.parentElement;if(null===e)return null;i=e}if(aF(i=e)){let e=i.style.display;if(""===e&&!aq(i)||""!==e&&!e.startsWith("inline"))return null}let r=i;for(;null!==(r=t?i.firstChild:i.lastChild);)i=r;if(rW(i))return i;if("BR"===i.nodeName)return null}}let ig={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function iy(e){let t=ig[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:iw(e.style,t),node:null}}function iv(e=""){return aI(new il(e))}function ib(e){return e instanceof il}function iw(e,t){let i=e.fontWeight,r=e.textDecoration.split(" "),a="700"===i||"bold"===i,o=r.includes("line-through"),l="italic"===e.fontStyle,d=r.includes("underline"),p=e.verticalAlign;return e=>(ib(e)&&(a&&!e.hasFormat("bold")&&e.toggleFormat("bold"),o&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),l&&!e.hasFormat("italic")&&e.toggleFormat("italic"),d&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==p||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==p||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t)),e)}class i_ extends il{static getType(){return"tab"}static clone(e){return new i_(e.__key)}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}createDOM(e){let t=super.createDOM(e),i=am(e.theme,"tab");return void 0!==i&&t.classList.add(...i),t}static importJSON(e){return ix().updateFromJSON(e)}setTextContent(e){return"	"!==e&&""!==e&&r(126),super.setTextContent(e)}setDetail(e){return 2!==e&&r(127),this}setMode(e){return"normal"!==e&&r(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function ix(){return aI(new i_)}function iS(e){return e instanceof i_}class iE{constructor(e,t,i){this._selection=null,this.key=e,this.offset=t,this.type=i}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){return this.key===e.key?this.offset<e.offset:0>ng(nO(n_(this,"next")),nO(n_(e,"next")))}getNode(){let e=r0(this.key);return null===e&&r(20),e}set(e,t,i,r){let a=this._selection,o=this.key;r&&this.key===e&&this.offset===t&&this.type===i||(this.key=e,this.offset=t,this.type=i,i9()||(r1()===o&&rX(e),null!==a&&(a.setCachedNodes(null),a.dirty=!0)))}}function ik(e,t,i){return new iE(e,t,i)}function iT(e,t){let i=t.__key,r=e.offset,a="element";if(ib(t)){a="text";let e=t.getTextContentSize();r>e&&(r=e)}else if(!rw(t)){let e=t.getNextSibling();if(ib(e))i=e.__key,r=0,a="text";else{let e=t.getParent();e&&(i=e.__key,r=t.getIndexWithinParent()+1)}}e.set(i,r,a)}function iA(e,t){if(rw(t)){let i=t.getLastDescendant();rw(i)||ib(i)?iT(e,i):iT(e,t)}else iT(e,t)}class iC{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!iP(e))return!1;let t=this._nodes,i=e._nodes;return t.size===i.size&&Array.from(t).every(e=>i.has(e))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new iC(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){let t;let i=this.getNodes(),r=i.length,a=i[r-1];if(ib(a))t=a.select();else{let e=a.getIndexWithinParent()+1;t=a.getParentOrThrow().select(e,e)}t.insertNodes(e);for(let e=0;e<r;e++)i[e].remove()}getNodes(){let e=this._cachedNodes;if(null!==e)return e;let t=this._nodes,i=[];for(let e of t){let t=r0(e);null!==t&&i.push(t)}return i9()||(this._cachedNodes=i),i}getTextContent(){let e=this.getNodes(),t="";for(let i=0;i<e.length;i++)t+=e[i].getTextContent();return t}deleteNodes(){let e=this.getNodes();if((iH()||iW())===this&&e[0]){let t=nr(e[0],"next");nS(nf(t,t))}for(let t of e)t.remove()}}function iN(e){return e instanceof iO}class iO{constructor(e,t,i,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=i,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!iN(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){let e=this._cachedNodes;if(null!==e)return e;let t=function(e){let t=[],[i,r]=e.getTextSlices();i&&t.push(i.caret.origin);let a=new Set,o=new Set;for(let i of e)if(a7(i)){let{origin:e}=i;0===t.length?a.add(e):(o.add(e),t.push(e))}else{let{origin:e}=i;rw(e)&&o.has(e)||t.push(e)}if(r&&t.push(r.caret.origin),a9(e.focus)&&rw(e.focus.origin)&&null===e.focus.getNodeAtCaret())for(let i=no(e.focus.origin,"previous");a7(i)&&a.has(i.origin)&&!i.origin.isEmpty()&&i.origin.is(t[t.length-1]);i=nd(i))a.delete(i.origin),t.pop();for(;t.length>1;){let e=t[t.length-1];if(!rw(e)||o.has(e)||e.isEmpty()||a.has(e))break;t.pop()}if(0===t.length&&e.isCollapsed()){let i=nO(e.anchor),r=nO(e.anchor.getFlipped()),a=e=>a8(e)?e.origin:e.getNodeAtCaret(),o=a(i)||a(r)||(e.anchor.getNodeAtCaret()?i.origin:r.origin);t.push(o)}return t}(nL(nk(this),"next"));return i9()||(this._cachedNodes=t),t}setTextNodeRange(e,t,i,r){this.anchor.set(e.__key,t,"text"),this.focus.set(i.__key,r,"text")}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],i=e[e.length-1],r=this.anchor,a=this.focus,o=r.isBefore(a),[l,d]=iL(this),p="",c=!0;for(let u=0;u<e.length;u++){let h=e[u];if(rw(h)&&!h.isInline())c||(p+="\n"),c=!h.isEmpty();else if(c=!1,ib(h)){let e=h.getTextContent();h===t?h===i?"element"===r.type&&"element"===a.type&&a.offset!==r.offset||(e=l<d?e.slice(l,d):e.slice(d,l)):e=o?e.slice(l):e.slice(d):h===i&&(e=o?e.slice(0,d):e.slice(0,l)),p+=e}else!rS(h)&&!t7(h)||h===i&&this.isCollapsed()||(p+=h.getTextContent())}return p}applyDOMRange(e){let t=ri(),i=t.getEditorState()._selection,r=iF(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,i);if(null===r)return;let[a,o]=r;this.anchor.set(a.key,a.offset,a.type,!0),this.focus.set(o.key,o.offset,o.type,!0),ev(this)}clone(){let e=this.anchor,t=this.focus;return new iO(ik(e.key,e.offset,e.type),ik(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=rJ(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){let t=G[e];return!!(this.format&t)}insertRawText(e){let t=e.split(/(\r?\n|\t)/),i=[],r=t.length;for(let e=0;e<r;e++){let r=t[e];"\n"===r||"\r\n"===r?i.push(t9()):"	"===r?i.push(ix()):i.push(iv(r))}this.insertNodes(i)}insertText(e){let t=this.anchor,i=this.focus,a=this.format,o=this.style,l=t,d=i;!this.isCollapsed()&&i.isBefore(t)&&(l=i,d=t),"element"===l.type&&function(e,t,i,r){let a=e.getNode(),o=a.getChildAtIndex(e.offset),l=iv(),d=rk(a)?rL().append(l):l;l.setFormat(i),l.setStyle(r),null===o?a.append(d):o.insertBefore(d),e.is(t)&&t.set(l.__key,0,"text"),e.set(l.__key,0,"text")}(l,d,a,o),"element"===d.type&&nx(d,nO(n_(d,"next")));let p=l.offset,c=d.offset,u=this.getNodes(),h=u.length,m=u[0];ib(m)||r(26);let g=m.getTextContent().length,y=m.getParentOrThrow(),v=u[h-1];if(1===h&&"element"===d.type&&(c=g,d.set(l.key,c,"text")),this.isCollapsed()&&p===g&&(m.isSegmented()||m.isToken()||!m.canInsertTextAfter()||!y.canInsertTextAfter()&&null===m.getNextSibling())){let t=m.getNextSibling();if(ib(t)&&t.canInsertTextBefore()&&!rH(t)||((t=iv()).setFormat(a),t.setStyle(o),y.canInsertTextAfter()?m.insertAfter(t):y.insertAfter(t)),t.select(0,0),m=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===p&&(m.isSegmented()||m.isToken()||!m.canInsertTextBefore()||!y.canInsertTextBefore()&&null===m.getPreviousSibling())){let t=m.getPreviousSibling();if(ib(t)&&!rH(t)||((t=iv()).setFormat(a),y.canInsertTextBefore()?m.insertBefore(t):y.insertBefore(t)),t.select(),m=t,""!==e)return void this.insertText(e)}else if(m.isSegmented()&&p!==g){let e=iv(m.getTextContent());e.setFormat(a),m.replace(e),m=e}else if(!this.isCollapsed()&&""!==e){let t=v.getParent();if(!y.canInsertTextBefore()||!y.canInsertTextAfter()||rw(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),iU(this.anchor,this.focus,null),void this.insertText(e)}if(1===h){if(m.isToken()){let t=iv(e);return t.select(),void m.replace(t)}let t=m.getFormat(),i=m.getStyle();if(p!==c||t===a&&i===o){if(iS(m)){let t=iv(e);return t.setFormat(a),t.setStyle(o),t.select(),void m.replace(t)}}else{if(""!==m.getTextContent()){let t=iv(e);if(t.setFormat(a),t.setStyle(o),t.select(),0===p)m.insertBefore(t,!1);else{let[e]=m.splitText(p);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}m.setFormat(a),m.setStyle(o)}let r=c-p;""===(m=m.spliceText(p,r,e,!0)).getTextContent()?m.remove():"text"===this.anchor.type&&(m.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=i))}else{let t=new Set([...m.getParentKeys(),...v.getParentKeys()]),i=rw(m)?m:m.getParentOrThrow(),r=rw(v)?v:v.getParentOrThrow(),a=v;if(!i.is(r)&&r.isInline())do a=r,r=r.getParentOrThrow();while(r.isInline());if("text"===d.type&&(0!==c||""===v.getTextContent())||"element"===d.type&&v.getIndexWithinParent()<c){if(ib(v)&&!v.isToken()&&c!==v.getTextContentSize()){if(v.isSegmented()){let e=iv(v.getTextContent());v.replace(e),v=e}rk(d.getNode())||"text"!==d.type||(v=v.spliceText(0,c,"")),t.add(v.__key)}else{let e=v.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?v.remove():e.remove()}}else t.add(v.__key);let o=r.getChildren(),l=new Set(u),y=i.is(r),b=i.isInline()&&null===m.getNextSibling()?i:m;for(let e=o.length-1;e>=0;e--){let t=o[e];if(t.is(m)||rw(t)&&t.isParentOf(m))break;t.isAttached()&&(!l.has(t)||t.is(a)?y||b.insertAfter(t,!1):t.remove())}if(!y){let e=r,i=null;for(;null!==e;){let r=e.getChildren(),a=r.length;(0===a||r[a-1].is(i))&&(t.delete(e.__key),i=e),e=e.getParent()}}if(m.isToken()){if(p===g)m.select();else{let t=iv(e);t.select(),m.replace(t)}}else""===(m=m.spliceText(p,g-p,e,!0)).getTextContent()?m.remove():m.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<h;e++){let i=u[e],r=i.__key;t.has(r)||i.remove()}}}removeText(){let e=iH()===this;nE(this,nN(nk(this))),e&&iH()!==this&&r7(this)}formatText(e,t=null){if(this.isCollapsed())return this.toggleFormat(e),void rX(null);let i=this.getNodes(),r=[];for(let e of i)ib(e)&&r.push(e);let a=t=>{i.forEach(i=>{if(rw(i)){let r=i.getFormatFlags(e,t);i.setTextFormat(r)}})},o=r.length;if(0===o)return this.toggleFormat(e),rX(null),void a(t);let l=this.anchor,d=this.focus,p=this.isBackward(),c=p?d:l,u=p?l:d,h=0,m=r[0],g="element"===c.type?0:c.offset;if("text"===c.type&&g===m.getTextContentSize()&&(h=1,m=r[1],g=0),null==m)return;let y=m.getFormatFlags(e,t);a(y);let v=o-1,b=r[v],w="text"===u.type?u.offset:b.getTextContentSize();if(m.is(b)){if(g===w)return;if(rH(m)||0===g&&w===m.getTextContentSize())m.setFormat(y);else{let e=m.splitText(g,w),t=0===g?e[0]:e[1];t.setFormat(y),"text"===c.type&&c.set(t.__key,0,"text"),"text"===u.type&&u.set(t.__key,w-g,"text")}return void(this.format=y)}0===g||rH(m)||([,m]=m.splitText(g),g=0),m.setFormat(y);let _=b.getFormatFlags(e,y);w>0&&(w===b.getTextContentSize()||rH(b)||([b]=b.splitText(w)),b.setFormat(_));for(let t=h+1;t<v;t++){let i=r[t],a=i.getFormatFlags(e,_);i.setFormat(a)}"text"===c.type&&c.set(m.__key,g,"text"),"text"===u.type&&u.set(b.__key,w,"text"),this.format=y|_}insertNodes(e){var t;if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();let t=iH();return iN(t)||r(134),t.insertNodes(e)}let i=(this.isBackward()?this.focus:this.anchor).getNode(),a=aW(i,aH),o=e[e.length-1];if(rw(a)&&"__language"in a){if("__language"in e[0])this.insertText(e[0].getTextContent());else{let t=iX(this);a.splice(t,0,e),o.selectEnd()}return}if(!e.some(e=>(rw(e)||rS(e))&&!e.isInline())){rw(a)||r(211,i.constructor.name,i.getType());let t=iX(this);return a.splice(t,0,e),void o.selectEnd()}let l=function(e){let t=rL(),i=null;for(let r=0;r<e.length;r++){let a=e[r],o=t7(a);if(o||rS(a)&&a.isInline()||rw(a)&&a.isInline()||ib(a)||a.isParentRequired()){if(null===i&&(i=a.createParentElementNode(),t.append(i),o))continue;null!==i&&i.append(a)}else t.append(a),i=null}return t}(e),d=l.getLastDescendant(),p=l.getChildren(),c=rw(a)&&a.isEmpty()?null:this.insertParagraph(),u=p[p.length-1],h=p[0];rw(t=h)&&aH(t)&&!t.isEmpty()&&rw(a)&&(!a.isEmpty()||a.canMergeWhenEmpty())&&(rw(a)||r(211,i.constructor.name,i.getType()),a.append(...h.getChildren()),h=p[1]),h&&(null===a&&r(212,i.constructor.name,i.getType()),function(e,t,i){let a=t.getParentOrThrow().getLastChild(),o=t,l=[t];for(;o!==a;)o.getNextSibling()||r(140),l.push(o=o.getNextSibling());let d=e;for(let e of l)d=d.insertAfter(e)}(a,h));let m=aW(d,aH);c&&rw(m)&&(c.canMergeWhenEmpty()||aH(u))&&(m.append(...c.getChildren()),c.remove()),rw(a)&&a.isEmpty()&&a.remove(),d.selectEnd();let g=rw(a)?a.getLastChild():null;t7(g)&&m!==a&&g.remove()}insertParagraph(){if("root"===this.anchor.key){let e=rL();return r8().splice(this.anchor.offset,0,[e]),e.select(),e}let e=iX(this),t=aW(this.anchor.getNode(),aH);rw(t)||r(213);let i=t.getChildAtIndex(e),a=i?[i,...i.getNextSiblings()]:[],o=t.insertNewAfter(this,!1);return o?(o.append(...a),o.selectStart(),o):null}insertLineBreak(e){let t=t9();if(this.insertNodes([t]),e){let e=t.getParentOrThrow(),i=t.getIndexWithinParent();e.select(i,i)}}extract(){let e=this.getNodes(),t=e.length,i=t-1,r=this.anchor,a=this.focus,o=e[0],l=e[i],[d,p]=iL(this);if(0===t)return[];if(1===t){if(ib(o)&&!this.isCollapsed()){let e=d>p?p:d,t=d>p?d:p,i=o.splitText(e,t),r=0===e?i[0]:i[1];return null!=r?[r]:[]}return[o]}let c=r.isBefore(a);if(ib(o)){let t=c?d:p;t===o.getTextContentSize()?e.shift():0!==t&&([,o]=o.splitText(t),e[0]=o)}if(ib(l)){let t=l.getTextContent().length,r=c?p:d;0===r?e.pop():r!==t&&([l]=l.splitText(r),e[i]=l)}return e}modify(e,t,i){if(i0(this,e,t,i))return;let r="move"===e,a=ri(),o=aj(aN(a));if(!o)return;let l=a._blockCursorElement,d=a._rootElement,p=this.focus.getNode();if(null===d||null===l||!rw(p)||p.isInline()||p.canBeEmpty()||a$(l,a,d),this.dirty){let e=ax(a,this.anchor.key),t=ax(a,this.focus.key);"text"===this.anchor.type&&(e=rK(e)),"text"===this.focus.type&&(t=rK(t)),e&&t&&iY(o,e,this.anchor.offset,t,this.focus.offset)}if(function(e,t,i,r){e.modify(t,i,r)}(o,e,t?"backward":"forward",i),o.rangeCount>0){let e=o.getRangeAt(0),i=this.anchor.getNode(),a=rk(i)?i:aO(i);if(this.applyDOMRange(e),this.dirty=!0,!r){let i=this.getNodes(),r=[],l=!1;for(let e=0;e<i.length;e++){let t=i[e];aA(t,a)?r.push(t):l=!0}if(l&&r.length>0){if(t){let e=r[0];rw(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{let e=r[r.length-1];rw(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}}o.anchorNode===e.startContainer&&o.anchorOffset===e.startOffset||function(e){let t=e.focus,i=e.anchor,r=i.key,a=i.offset,o=i.type;i.set(t.key,t.offset,t.type,!0),t.set(r,a,o,!0)}(this)}}"lineboundary"===i&&i0(this,e,t,i,"decorators")}forwardDeletion(e,t,i){if(!i&&("element"===e.type&&rw(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){let e=t.getParent(),i=t.getNextSibling()||(null===e?null:e.getNextSibling());if(rw(i)&&i.isShadowRoot())return!0}return!1}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){let t=this.anchor,i=t.getNode();if(this.forwardDeletion(t,i,e))return;let r=nu(n_(t,e?"previous":"next"));if(r.getTextSlices().every(e=>null===e||0===e.distance)){let e={type:"initial"};for(let t of r.iterNodeCarets("shadowRoot"))if(a7(t)){if(t.origin.isInline());else{if(t.origin.isShadowRoot()){if("merge-block"===e.type)break;if(rw(r.anchor.origin)&&r.anchor.origin.isEmpty()){let e=nO(t);nE(this,nf(e,e)),r.anchor.origin.remove()}return}"merge-next-block"!==e.type&&"merge-block"!==e.type||(e={block:e.block,caret:t,type:"merge-block"})}}else{if("merge-block"===e.type)break;if(a9(t)){if(rw(t.origin)){if(t.origin.isInline()){if(!t.origin.isParentOf(r.anchor.origin))break}else e={block:t.origin,type:"merge-next-block"};continue}if(rS(t.origin)){if(t.origin.isIsolated());else if("merge-next-block"===e.type&&(t.origin.isKeyboardSelectable()||!t.origin.isInline())&&rw(r.anchor.origin)&&r.anchor.origin.isEmpty()){r.anchor.origin.remove();let e=iq();e.add(t.origin.getKey()),r7(e)}else t.origin.remove();return}break}}if("merge-block"===e.type){let{caret:t,block:i}=e;return nE(this,nf(!t.origin.isEmpty()&&i.isEmpty()?nT(nr(i,t.direction)):r.anchor,t)),this.removeText()}}let a=this.focus;if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&iD(this,t.getNode()))return}else{let r="text"===a.type?a.getNode():null;if(i="text"===t.type?t.getNode():null,null!==r&&r.isSegmented()){let t=a.offset,o=r.getTextContentSize();if(r.is(i)||e&&t!==o||!e&&0!==t)return void i$(r,e,t)}else if(null!==i&&i.isSegmented()){let a=t.offset,o=i.getTextContentSize();if(i.is(r)||e&&0!==a||!e&&a!==o)return void i$(i,e,a)}!function(e,t){let i=e.anchor,r=e.focus,a=i.getNode();if(a===r.getNode()&&"text"===i.type&&"text"===r.type){let e=i.offset,o=r.offset,l=e<o,d=l?e:o,p=l?o:e,c=p-1;d!==c&&function(e){return!(ai(e)||iR(e))}(a.getTextContent().slice(d,p))&&(t?r.set(r.key,c,r.type):i.set(i.key,c,i.type))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){let e=this.anchor.getNode();e.isEmpty()&&rk(e.getParent())&&null===e.getPreviousSibling()&&iD(this,e)}}deleteLine(e){this.isCollapsed()&&this.modify("extend",e,"lineboundary"),this.isCollapsed()?this.deleteCharacter(e):this.removeText()}deleteWord(e){if(this.isCollapsed()){let t=this.anchor,i=t.getNode();if(this.forwardDeletion(t,i,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function iP(e){return e instanceof iC}function iI(e){let t=e.offset;if("text"===e.type)return t;let i=e.getNode();return t===i.getChildrenSize()?i.getTextContent().length:0}function iL(e){let t=e.getStartEndPoints();if(null===t)return[0,0];let[i,r]=t;return"element"===i.type&&"element"===r.type&&i.key===r.key&&i.offset===r.offset?[0,0]:[iI(i),iI(r)]}function iD(e,t){for(let i=t;i;i=i.getParent()){if(rw(i)){if(i.collapseAtStart(e))return!0;if(aP(i))break}if(i.getPreviousSibling())break}return!1}let iR=(()=>{try{let e=RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("")&&t("#")&&t("\uD83D\uDC4D"))return t}catch(e){}return()=>!1})();function i$(e,t,i){let r=e,a=r.getTextContent().split(/(?=\s)/g),o=a.length,l=0,d=0;for(let e=0;e<o;e++){let r=e===o-1;if(d=l,l+=a[e].length,t&&l===i||l>i||r){a.splice(e,1),r&&(d=void 0);break}}let p=a.join("").trim();""===p?r.remove():(r.setTextContent(p),r.select(d,d))}function ij(e,t,i,a){let o,l=t;if(aF(e)){let d=!1,p=e.childNodes,c=p.length,u=a._blockCursorElement;l===c&&(d=!0,l=c-1);let h=p[l],m=!1;if(h===u)h=p[l+1],m=!0;else if(null!==u){let i=u.parentNode;e===i&&t>Array.prototype.indexOf.call(i.children,u)&&l--}if(ib(o=ae(h)))l=at(o,d);else{let p=ae(e);if(null===p)return null;if(rw(p)){let c=a.getElementByKey(p.getKey());null===c&&r(214);let u=p.getDOMSlot(c);[p,l]=u.resolveChildIndex(p,c,e,t),rw(p)||r(215),d&&l>=p.getChildrenSize()&&(l=Math.max(0,p.getChildrenSize()-1));let h=p.getChildAtIndex(l);if(rw(h)&&function(e,t,i){let r=e.getParent();return null===i||null===r||!r.canBeEmpty()||r!==i.getNode()}(h,0,i)){let e=d?h.getLastDescendant():h.getFirstDescendant();p=null===e?h:rw(h=e)?h:h.getParentOrThrow(),l=0}ib(h)?(o=h,p=null,l=at(h,d)):h!==p&&d&&!m&&(rw(p)||r(216),l=Math.min(p.getChildrenSize(),l+1))}else{let i=p.getIndexWithinParent();l=0===t&&rS(p)&&ae(e)===p?i:i+1,p=p.getParentOrThrow()}if(rw(p))return ik(p.__key,l,"element")}}else o=ae(e);return ib(o)?ik(o.__key,l,"text"):null}function iM(e,t,i){let r=e.offset,a=e.getNode();if(0===r){let r=a.getPreviousSibling(),o=a.getParent();if(t){if((i||!t)&&null===r&&rw(o)&&o.isInline()){let t=o.getPreviousSibling();ib(t)&&e.set(t.__key,t.getTextContent().length,"text")}}else rw(r)&&!i&&r.isInline()?e.set(r.__key,r.getChildrenSize(),"element"):ib(r)&&e.set(r.__key,r.getTextContent().length,"text")}else if(r===a.getTextContent().length){let r=a.getNextSibling(),o=a.getParent();if(t&&rw(r)&&r.isInline())e.set(r.__key,0,"element");else if((i||t)&&null===r&&rw(o)&&o.isInline()&&!o.canInsertTextAfter()){let t=o.getNextSibling();ib(t)&&e.set(t.__key,0,"text")}}}function iU(e,t,i){if("text"===e.type&&"text"===t.type){let r=e.isBefore(t),a=e.is(t);iM(e,r,a),iM(t,!r,a),a&&t.set(e.key,e.offset,e.type);let o=ri();if(o.isComposing()&&o._compositionKey!==e.key&&iN(i)){let r=i.anchor,a=i.focus;e.set(r.key,r.offset,r.type,!0),t.set(a.key,a.offset,a.type,!0)}}}function iF(e,t,i,r,a,o){if(null===e||null===i||!rB(a,e,i))return null;let l=ij(e,t,iN(o)?o.anchor:null,a);if(null===l)return null;let d=ij(i,r,iN(o)?o.focus:null,a);if(null===d)return null;if("element"===l.type&&"element"===d.type){let t=ae(e),r=ae(i);if(rS(t)&&rS(r))return null}return iU(l,d,o),[l,d]}function iB(e,t,i,r,a,o){let l=rt(),d=new iO(ik(e,t,a),ik(i,r,o),0,"");return d.dirty=!0,l._selection=d,d}function iz(){return new iO(ik("root",0,"element"),ik("root",0,"element"),0,"")}function iq(){return new iC(new Set)}function iV(e,t,i,r){let a,o,l,d;let p=i._window;if(null===p)return null;let c=r||p.event,u=c?c.type:void 0,h="selectionchange"===u,m=!ei&&(h||"beforeinput"===u||"compositionstart"===u||"compositionend"===u||"click"===u&&c&&3===c.detail||"drop"===u||void 0===u);if(iN(e)&&!m)return e.clone();if(null===t)return null;if(a=t.anchorNode,o=t.focusNode,l=t.anchorOffset,d=t.focusOffset,h&&iN(e)&&!rB(i,a,o))return e.clone();let g=iF(a,l,o,d,i,e);if(null===g)return null;let[y,v]=g;return new iO(y,v,iN(e)?e.format:0,iN(e)?e.style:"")}function iH(){return rt()._selection}function iW(){return ri()._editorState._selection}function iG(e,t,i,r=1){let a=e.anchor,o=e.focus,l=a.getNode(),d=o.getNode();if(!t.is(l)&&!t.is(d))return;let p=t.__key;if(e.isCollapsed()){let t=a.offset;if(i<=t&&r>0||i<t&&r<0){let i=Math.max(0,t+r);a.set(p,i,"element"),o.set(p,i,"element"),iK(e)}}else{let l=e.isBackward(),d=l?o:a,c=d.getNode(),u=l?a:o,h=u.getNode();if(t.is(c)){let e=d.offset;(i<=e&&r>0||i<e&&r<0)&&d.set(p,Math.max(0,e+r),"element")}if(t.is(h)){let e=u.offset;(i<=e&&r>0||i<e&&r<0)&&u.set(p,Math.max(0,e+r),"element")}}iK(e)}function iK(e){let t=e.anchor,i=t.offset,r=e.focus,a=r.offset,o=t.getNode(),l=r.getNode();if(e.isCollapsed()){if(!rw(o))return;let e=o.getChildrenSize(),a=i>=e,l=a?o.getChildAtIndex(e-1):o.getChildAtIndex(i);if(ib(l)){let e=0;a&&(e=l.getTextContentSize()),t.set(l.__key,e,"text"),r.set(l.__key,e,"text")}}else{if(rw(o)){let e=o.getChildrenSize(),r=i>=e,a=r?o.getChildAtIndex(e-1):o.getChildAtIndex(i);if(ib(a)){let e=0;r&&(e=a.getTextContentSize()),t.set(a.__key,e,"text")}}if(rw(l)){let e=l.getChildrenSize(),t=a>=e,i=t?l.getChildAtIndex(e-1):l.getChildAtIndex(a);if(ib(i)){let e=0;t&&(e=i.getTextContentSize()),r.set(i.__key,e,"text")}}}}function iJ(e,t,i,r,a){let o=null,l=0,d=null;null!==r?(o=r.__key,ib(r)?(l=r.getTextContentSize(),d="text"):rw(r)&&(l=r.getChildrenSize(),d="element")):null!==a&&(o=a.__key,ib(a)?d="text":rw(a)&&(d="element")),null!==o&&null!==d?e.set(o,l,d):(-1===(l=t.getIndexWithinParent())&&(l=i.getChildrenSize()),e.set(i.__key,l,"element"))}function iQ(e,t,i,r,a){"text"===e.type?e.set(i,e.offset+(t?0:a),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function iY(e,t,i,r,a){try{e.setBaseAndExtent(t,i,r,a)}catch(e){}}function iZ(e,t,i,r,a,o,l){let d=r.anchorNode,p=r.focusNode,c=r.anchorOffset,u=r.focusOffset,h=document.activeElement;if(a.has("collaboration")&&h!==o||null!==h&&rF(h))return;if(!iN(t))return void(null!==e&&rB(i,d,p)&&r.removeAllRanges());let m=t.anchor,g=t.focus,y=m.key,v=g.key,b=ax(i,y),w=ax(i,v),_=m.offset,x=g.offset,S=t.format,E=t.style,k=t.isCollapsed(),T=b,C=w,N=!1;if("text"===m.type){T=rK(b);let e=m.getNode();N=e.getFormat()!==S||e.getStyle()!==E}else iN(e)&&"text"===e.anchor.type&&(N=!0);if("text"===g.type&&(C=rK(w)),null!==T&&null!==C&&(k&&(null===e||N||iN(e)&&(e.format!==S||e.style!==E))&&(tV=[S,E,_,y,performance.now()]),c!==_||u!==x||d!==T||p!==C||"Range"===r.type&&k||(null!==h&&o.contains(h)||o.focus({preventScroll:!0}),"element"===m.type))){if(iY(r,T,_,C,x),!a.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==o&&o===document.activeElement){let e=iN(t)&&"element"===t.anchor.type?T.childNodes[_]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){let i=document.createRange();i.selectNode(e),t=i.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,i){let r=aE(i),a=aC(r);if(null===r||null===a)return;let{top:o,bottom:l}=t,d=0,p=0,c=i;for(;null!==c;){let t=c===r.body;if(t)d=0,p=aN(e).innerHeight;else{let e=c.getBoundingClientRect();d=e.top,p=e.bottom}let i=0;if(o<d?i=-(d-o):l>p&&(i=l-p),0!==i){if(t)a.scrollBy(0,i);else{let e=c.scrollTop;c.scrollTop+=i;let t=c.scrollTop-e;o-=t,l-=t}}if(t)break;c=aS(c)}}(i,t,o)}}tj=!0}}function iX(e){let t=e;e.isCollapsed()||t.removeText();let i=iH();iN(i)&&(t=i),iN(t)||r(161);let a=t.anchor,o=a.getNode(),l=a.offset;for(;!aH(o);){let e=o;if([o,l]=i1(o,l),e.is(o))break}return l}function i1(e,t){let i=e.getParent();if(!i){let e=rL();return r8().append(e),e.select(),[r8(),0]}if(ib(e)){let r=e.splitText(t);if(0===r.length)return[i,e.getIndexWithinParent()];let a=0===t?0:1;return[i,r[0].getIndexWithinParent()+a]}if(!rw(e)||0===t)return[i,e.getIndexWithinParent()];let r=e.getChildAtIndex(t);if(r){let i=new iO(ik(e.__key,t,"element"),ik(e.__key,t,"element"),0,""),a=e.insertNewAfter(i);a&&a.append(r,...r.getNextSiblings())}return[i,e.getIndexWithinParent()+1]}function i0(e,t,i,r,a="decorators-and-blocks"){if("move"===t&&"character"===r&&!e.isCollapsed()){let[t,r]=i===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return r.set(t.key,t.offset,t.type),!0}let o=n_(e.focus,i?"previous":"next"),l="lineboundary"===r,d="move"===t,p=o,c="decorators-and-blocks"===a;if(!nP(p)){for(let e of p){c=!1;let{origin:t}=e;if(!rS(t)||t.isIsolated()||(p=e,!l||!t.isInline()))break}if(c)for(let e of nu(o).iterNodeCarets("extend"===t?"shadowRoot":"root")){if(a7(e))e.origin.isInline()||(p=e);else{if(rw(e.origin))continue;rS(e.origin)&&!e.origin.isInline()&&(p=e)}break}}if(p===o)return!1;if(d&&!l&&rS(p.origin)&&p.origin.isKeyboardSelectable()){let e=iq();return e.add(p.origin.getKey()),r7(e),!0}return p=nO(p),d&&nx(e.anchor,p),nx(e.focus,p),c||!l}let i2=null,i6=null,i4=!1,i3=!1,i5=0,i8={characterData:!0,childList:!0,subtree:!0};function i9(){return i4||null!==i2&&i2._readOnly}function i7(){i4&&r(13)}function re(){i5>99&&r(14)}function rt(){return null===i2&&r(195,rr()),i2}function ri(){return null===i6&&r(196,rr()),i6}function rr(){let e=0,t=new Set,i=rj.version;if("undefined"!=typeof window)for(let r of document.querySelectorAll("[contenteditable]")){let a=rV(r);if(rz(a))e++;else if(a){let e=String(a.constructor.version||"<0.17.1");e===i&&(e+=" (separately built, likely a bundler configuration issue)"),t.add(e)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${i}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function ra(){return i6}function rn(e,t,i){let a=t.__type,o=function(e,t){let i=e._nodes.get(t);return void 0===i&&r(30,t),i}(e,a),l=i.get(a);void 0===l&&(l=Array.from(o.transforms),i.set(a,l));let d=l.length;for(let e=0;e<d&&(l[e](t),t.isAttached());e++);}function rs(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function ro(e,t){if(!t)return;let i=e._updateTags,r=t;for(let e of(Array.isArray(t)||(r=[t]),r))i.add(e)}function rl(e){return rd(e,ri()._nodes)}function rd(e,t){let i=e.type,a=t.get(i);void 0===a&&r(17,i);let o=a.klass;e.type!==o.getType()&&r(18,o.name);let l=o.importJSON(e),d=e.children;if(rw(l)&&Array.isArray(d))for(let e=0;e<d.length;e++){let i=rd(d[e],t);l.append(i)}return l}function rp(e,t,i){let r=i2,a=i4,o=i6;i2=t,i4=!0,i6=e;try{return i()}finally{i2=r,i4=a,i6=o}}function rc(e,t){let i=e._pendingEditorState,r=e._rootElement,a=e._headless||null===r;if(null===i)return;let o=e._editorState,l=o._selection,d=i._selection,p=e._dirtyType!==S,c=i2,u=i4,h=i6,m=e._updating,g=e._observer,y=null;if(e._pendingEditorState=null,e._editorState=i,!a&&p&&null!==g){i6=e,i2=i,i4=!1,e._updating=!0;try{let t=e._dirtyType,r=e._dirtyElements,a=e._dirtyLeaves;g.disconnect(),y=e1(o,i,e,t,r,a)}catch(t){if(t instanceof Error&&e._onError(t),i3)throw t;return rR(e,null,r,i),ec(e),e._dirtyType=k,i3=!0,rc(e,o),void(i3=!1)}finally{g.observe(r,i8),e._updating=m,i2=c,i4=u,i6=h}}i._readOnly||(i._readOnly=!0);let b=e._dirtyLeaves,w=e._dirtyElements,_=e._normalizedNodes,x=e._updateTags,E=e._deferred;p&&(e._dirtyType=S,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){let i;let r=e._decorators,a=e._pendingDecorators||r,o=t._nodeMap;for(i in a)o.has(i)||(a===r&&(a=r3(e)),delete a[i])}(e,i);let T=a?null:aj(aN(e));if(e._editable&&null!==T&&(p||null===d||d.dirty)&&null!==r&&!x.has("skip-dom-selection")){i6=e,i2=i;try{if(null!==g&&g.disconnect(),p||null===d||d.dirty){let t=e._blockCursorElement;null!==t&&a$(t,e,r),iZ(l,d,e,T,x,r)}!function(e,t,i){let r=e._blockCursorElement;if(iN(i)&&i.isCollapsed()&&"element"===i.anchor.type&&t.contains(document.activeElement)){let a=i.anchor,o=a.getNode(),l=a.offset,d=!1,p=null;if(l===o.getChildrenSize())aR(o.getChildAtIndex(l-1))&&(d=!0);else{let t=o.getChildAtIndex(l);if(null!==t&&aR(t)){let i=t.getPreviousSibling();(null===i||aR(i))&&(d=!0,p=e.getElementByKey(t.__key))}}if(d){let i=e.getElementByKey(o.__key);return null===r&&(e._blockCursorElement=r=function(e){let t=e.theme,i=document.createElement("div");i.contentEditable="false",i.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){let e=v(r);r=t.blockCursor=e}void 0!==r&&i.classList.add(...r)}return i}(e._config)),t.style.caretColor="transparent",void(null===p?i.appendChild(r):i.insertBefore(r,p))}}null!==r&&a$(r,e,t)}(e,r,d)}finally{null!==g&&g.observe(r,i8),i6=h,i2=c}}null!==y&&function(e,t,i,r,a){let o=Array.from(e._listeners.mutation),l=o.length;for(let e=0;e<l;e++){let[l,d]=o[e],p=t.get(d);void 0!==p&&l(p,{dirtyLeaves:r,prevEditorState:a,updateTags:i})}}(e,y,x,b,o),iN(d)||null===d||null!==l&&l.is(d)||e.dispatchCommand(e6,void 0);let C=e._pendingDecorators;null!==C&&(e._decorators=C,e._pendingDecorators=null,ru("decorator",e,!0,C)),function(e,t,i){let r=r5(t),a=r5(i);r!==a&&ru("textcontent",e,!0,a)}(e,t||o,i),ru("update",e,!0,{dirtyElements:w,dirtyLeaves:b,editorState:i,mutatedNodes:y,normalizedNodes:_,prevEditorState:t||o,tags:x}),function(e,t){if(e._deferred=[],0!==t.length){let i=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=i}}}(e,E),function(e){let t=e._updates;if(0!==t.length){let i=t.shift();if(i){let[t,r]=i;rm(e,t,r)}}}(e)}function ru(e,t,i,...r){let a=t._updating;t._updating=i;try{let i=Array.from(t._listeners[e]);for(let e=0;e<i.length;e++)i[e].apply(null,r)}finally{t._updating=a}}function rh(e,t,i){if(!1===e._updating||i6!==e){let r=!1;return e.update(()=>{r=rh(e,t,i)}),r}let r=ar(e);for(let a=4;a>=0;a--)for(let o=0;o<r.length;o++){let l=r[o]._commands.get(t);if(void 0!==l){let t=l[a];if(void 0!==t){let r=Array.from(t),a=r.length;for(let t=0;t<a;t++)if(!0===r[t](i,e))return!0}}}return!1}function rf(e,t){let i=e._updates,a=t||!1;for(;0!==i.length;){let t=i.shift();if(t){let i;let[o,l]=t;if(void 0!==l){if(i=l.onUpdate,l.skipTransforms&&(a=!0),l.discrete){let t=e._pendingEditorState;null===t&&r(191),t._flushSync=!0}i&&e._deferred.push(i),ro(e,l.tag)}o()}}return a}function rm(e,t,i){let a=e._updateTags,o,l=!1,d=!1;void 0!==i&&(o=i.onUpdate,ro(e,i.tag),l=i.skipTransforms||!1,d=i.discrete||!1),o&&e._deferred.push(o);let p=e._editorState,c=e._pendingEditorState,u=!1;(null===c||c._readOnly)&&(c=e._pendingEditorState=rT(c||p),u=!0),c._flushSync=d;let h=i2,m=i4,g=i6,y=e._updating;i2=c,i4=!1,e._updating=!0,i6=e;let v=e._headless||null===e.getRootElement();try{u&&(v?null!==p._selection&&(c._selection=p._selection.clone()):c._selection=function(e,t){let i=e.getEditorState()._selection,r=aj(aN(e));return iN(i)||null==i?iV(i,r,e,t):i.clone()}(e,i&&i.event||null));let a=e._compositionKey;t(),l=rf(e,l),function(e,t){let i=t.getEditorState()._selection,r=e._selection;if(iN(r)){let e;let t=r.anchor,a=r.focus;if("text"===t.type&&(e=t.getNode()).selectionTransform(i,r),"text"===a.type){let t=a.getNode();e!==t&&t.selectionTransform(i,r)}}}(c,e),e._dirtyType!==S&&(l?function(e,t){let i=t._dirtyLeaves,r=e._nodeMap;for(let e of i){let t=r.get(e);ib(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&ey(t)}}(c,e):function(e,t){let i=t._dirtyLeaves,r=t._dirtyElements,a=e._nodeMap,o=r1(),l=new Map,d=i,p=d.size,c=r,u=c.size;for(;p>0||u>0;){if(p>0){for(let e of(t._dirtyLeaves=new Set,d)){let r=a.get(e);ib(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&ey(r),void 0!==r&&rs(r,o)&&rn(t,r,l),i.add(e)}if((p=(d=t._dirtyLeaves).size)>0){i5++;continue}}for(let e of(t._dirtyLeaves=new Set,t._dirtyElements=new Map,c.delete("root")&&c.set("root",!0),c)){let i=e[0],d=e[1];if(r.set(i,d),!d)continue;let p=a.get(i);void 0!==p&&rs(p,o)&&rn(t,p,l)}p=(d=t._dirtyLeaves).size,u=(c=t._dirtyElements).size,i5++}t._dirtyLeaves=i,t._dirtyElements=r}(c,e),rf(e),function(e,t,i,r){let a=e._nodeMap,o=t._nodeMap,l=[];for(let[e]of r){let t=o.get(e);void 0!==t&&(t.isAttached()||(rw(t)&&ee(t,e,a,o,l,r),a.has(e)||r.delete(e),l.push(e)))}for(let e of l)o.delete(e);for(let e of i){let t=o.get(e);void 0===t||t.isAttached()||(a.has(e)||i.delete(e),o.delete(e))}}(p,c,e._dirtyLeaves,e._dirtyElements)),a!==e._compositionKey&&(c._flushSync=!0);let o=c._selection;if(iN(o)){let e=c._nodeMap,t=o.anchor.key,i=o.focus.key;void 0!==e.get(t)&&void 0!==e.get(i)||r(19)}else iP(o)&&0===o._nodes.size&&(c._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=p,e._dirtyType=k,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void rc(e)}finally{i2=h,i4=m,i6=g,e._updating=y,i5=0}e._dirtyType!==S||e._deferred.length>0||function(e,t){let i=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(i))return!0}else if(null!==i)return!0;return!1}(c,e)?c._flushSync?(c._flushSync=!1,rc(e)):u&&rU(()=>{rc(e)}):(c._flushSync=!1,u&&(a.clear(),e._deferred=[],e._pendingEditorState=null))}function rg(e,t,i){e._updating?i6===e?t():e._updates.push([t,i]):rm(e,t,i)}class ry{constructor(e,t,i){this.element=e,this.before=t||null,this.after=i||null}withBefore(e){return new ry(this.element,e,this.after)}withAfter(e){return new ry(this.element,this.before,e)}withElement(e){return this.element===e?this:new ry(e,this.before,this.after)}insertChild(e){let t=this.before||this.getManagedLineBreak();return null!==t&&t.parentElement!==this.element&&r(222),this.element.insertBefore(e,t),this}removeChild(e){return e.parentElement!==this.element&&r(223),this.element.removeChild(e),this}replaceChild(e,t){return t.parentElement!==this.element&&r(224),this.element.replaceChild(e,t),this}getFirstChild(){let e=this.after?this.after.nextSibling:this.element.firstChild;return e===this.before||e===this.getManagedLineBreak()?null:e}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(e){if(null===e)this.removeManagedLineBreak();else{let t="decorator"===e&&(u||c);this.insertManagedLineBreak(t)}}removeManagedLineBreak(){let e=this.getManagedLineBreak();if(e){let t=this.element,i="IMG"===e.nodeName?e.nextSibling:null;i&&t.removeChild(i),t.removeChild(e),t.__lexicalLineBreak=void 0}}insertManagedLineBreak(e){let t=this.getManagedLineBreak();if(t){if(e===("IMG"===t.nodeName))return;this.removeManagedLineBreak()}let i=this.element,r=this.before,a=document.createElement("br");if(i.insertBefore(a,r),e){let e=document.createElement("img");e.setAttribute("data-lexical-linebreak","true"),e.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",e.alt="",i.insertBefore(e,a),i.__lexicalLineBreak=e}else i.__lexicalLineBreak=a}getFirstChildOffset(){let e=0;for(let t=this.after;null!==t;t=t.previousSibling)e++;return e}resolveChildIndex(e,t,i,r){if(i===this.element){let t=this.getFirstChildOffset();return[e,Math.min(t+e.getChildrenSize(),Math.max(t,r))]}let a=rv(t,i);a.push(r);let o=rv(t,this.element),l=e.getIndexWithinParent();for(let e=0;e<o.length;e++){let t=a[e],i=o[e];if(void 0===t||t<i)break;if(t>i){l+=1;break}}return[e.getParentOrThrow(),l]}}function rv(e,t){let i=[],a=t;for(;a!==e&&null!==a;a=t.parentNode){let e=0;for(let t=a.previousSibling;null!==t;t=t.previousSibling)e++;i.push(e)}return a!==e&&r(225),i.reverse()}class rb extends t3{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir,this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){return Q[this.getFormat()]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=ri()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(ib(t)&&e.push(t),rw(t)){let i=t.getAllTextNodes();e.push(...i)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;rw(e);){let t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;rw(e);){let t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){let t=this.getChildren(),i=t.length;if(e>=i){let e=t[i-1];return rw(e)&&e.getLastDescendant()||e||null}let r=t[e];return rw(r)&&r.getFirstDescendant()||r||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:r0(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&r(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:r0(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&r(96,this.__key),e}getChildAtIndex(e){let t,i;let r=this.getChildrenSize();if(e<r/2){for(t=this.getFirstChild(),i=0;null!==t&&i<=e;){if(i===e)return t;t=t.getNextSibling(),i++}return null}for(t=this.getLastChild(),i=r-1;null!==t&&i>=e;){if(i===e)return t;t=t.getPreviousSibling(),i--}return null}getTextContent(){let e="",t=this.getChildren(),i=t.length;for(let r=0;r<i;r++){let a=t[r];e+=a.getTextContent(),rw(a)&&r!==i-1&&!a.isInline()&&(e+=B)}return e}getTextContentSize(){let e=0,t=this.getChildren(),i=t.length;for(let r=0;r<i;r++){let a=t[r];e+=a.getTextContentSize(),rw(a)&&r!==i-1&&!a.isInline()&&(e+=B.length)}return e}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(e){if(""!==e){let t=J[e];return!!(this.getFormat()&t)}return!1}hasTextFormat(e){let t=G[e];return!!(this.getTextFormat()&t)}getFormatFlags(e,t){return rJ(this.getLatest().__textFormat,e,t)}getTextStyle(){return this.getLatest().__textStyle}select(e,t){i7();let i=iH(),r=e,a=t,o=this.getChildrenSize();if(!this.canBeEmpty()){if(0===e&&0===t){let e=this.getFirstChild();if(ib(e)||rw(e))return e.select(0,0)}else if(!(void 0!==e&&e!==o||void 0!==t&&t!==o)){let e=this.getLastChild();if(ib(e)||rw(e))return e.select()}}void 0===r&&(r=o),void 0===a&&(a=o);let l=this.__key;return iN(i)?(i.anchor.set(l,r,"element"),i.focus.set(l,a,"element"),i.dirty=!0,i):iB(l,r,l,a,"element","element")}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(e=>e.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?J[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setTextFormat(e){let t=this.getWritable();return t.__textFormat=e,t}setTextStyle(e){let t=this.getWritable();return t.__textStyle=e,t}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,i){let a=i.length,o=this.getChildrenSize(),l=this.getWritable();e+t<=o||r(226,String(e),String(t),String(o));let d=l.__key,p=[],c=[],u=this.getChildAtIndex(e+t),h=null,m=o-t+a;if(0!==e){if(e===o)h=this.getLastChild();else{let t=this.getChildAtIndex(e);null!==t&&(h=t.getPreviousSibling())}}if(t>0){let e=null===h?this.getFirstChild():h.getNextSibling();for(let i=0;i<t;i++){null===e&&r(100);let t=e.getNextSibling(),i=e.__key;rY(e.getWritable()),c.push(i),e=t}}let g=h;for(let e=0;e<a;e++){let t=i[e];null!==g&&t.is(g)&&(h=g=g.getPreviousSibling());let a=t.getWritable();a.__parent===d&&m--,rY(a);let o=t.__key;if(null===g)l.__first=o,a.__prev=null;else{let e=g.getWritable();e.__next=o,a.__prev=e.__key}t.__key===d&&r(76),a.__parent=d,p.push(o),g=t}if(e+t===o)null!==g&&(g.getWritable().__next=null,l.__last=g.__key);else if(null!==u){let e=u.getWritable();if(null!==g){let t=g.getWritable();e.__prev=g.__key,t.__next=u.__key}else e.__prev=null}if(l.__size=m,c.length){let e=iH();if(iN(e)){let t=new Set(c),i=new Set(p),{anchor:r,focus:a}=e;r_(r,t,i)&&iJ(r,r.getNode(),this,h,u),r_(a,t,i)&&iJ(a,a.getNode(),this,h,u),0!==m||this.canBeEmpty()||aP(this)||this.remove()}}return l}getDOMSlot(e){return new ry(e)}exportDOM(e){let{element:t}=super.exportDOM(e);if(aF(t)){let e=this.getIndent();e>0&&(t.style.paddingInlineStart=40*e+"px");let i=this.getDirection();i&&(t.dir=i)}return{element:t}}exportJSON(){let e={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},t=this.getTextFormat(),i=this.getTextStyle();return 0!==t&&(e.textFormat=t),""!==i&&(e.textStyle=i),e}updateFromJSON(e){return super.updateFromJSON(e).setFormat(e.format).setIndent(e.indent).setDirection(e.direction).setTextFormat(e.textFormat||0).setTextStyle(e.textStyle||"")}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,i){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(e,t){let i=this.getDOMSlot(e),r=i.getFirstChild();for(let e=this.getFirstChild();e;e=e.getNextSibling()){let a=t.getElementByKey(e.getKey());null!==a&&(null==r?(i.insertChild(a),r=a):r!==a&&i.replaceChild(a,r),r=r.nextSibling)}}}function rw(e){return e instanceof rb}function r_(e,t,i){let r=e.getNode();for(;r;){let e=r.__key;if(t.has(e)&&!i.has(e))return!0;r=r.getParent()}return!1}class rx extends t3{decorate(e,t){r(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function rS(e){return e instanceof rx}class rE extends rb{static getType(){return"root"}static clone(){return new rE}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){r(51)}getTextContent(){let e=this.__cachedText;return(i9()||ri()._dirtyType===S)&&null!==e?e:super.getTextContent()}remove(){r(52)}replace(e){r(53)}insertBefore(e){r(54)}insertAfter(e){r(55)}updateDOM(e,t){return!1}splice(e,t,i){for(let e of i)rw(e)||rS(e)||r(282);return super.splice(e,t,i)}static importJSON(e){return r8().updateFromJSON(e)}collapseAtStart(){return!0}}function rk(e){return e instanceof rE}function rT(e){return new rN(new Map(e._nodeMap))}function rA(){return new rN(new Map([["root",new rE]]))}function rC(e){let t=e.exportJSON(),i=e.constructor;if(t.type!==i.getType()&&r(130,i.name),rw(e)){let a=t.children;Array.isArray(a)||r(59,i.name);let o=e.getChildren();for(let e=0;e<o.length;e++){let t=rC(o[e]);a.push(t)}}return t}class rN{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e,t){return rp(t&&t.editor||null,this,e)}clone(e){let t=new rN(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return rp(null,this,()=>({root:rC(r8())}))}}class rO extends rb{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class rP extends rb{static getType(){return"paragraph"}static clone(e){return new rP(e.__key)}createDOM(e){let t=document.createElement("p"),i=am(e.theme,"paragraph");return void 0!==i&&t.classList.add(...i),t}updateDOM(e,t,i){return!1}static importDOM(){return{p:e=>({conversion:rI,priority:0})}}exportDOM(e){let{element:t}=super.exportDOM(e);if(aF(t)){this.isEmpty()&&t.append(document.createElement("br"));let e=this.getFormatType();t.style.textAlign=e}return{element:t}}static importJSON(e){return rL().updateFromJSON(e)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(e,t){let i=rL();i.setTextFormat(e.format),i.setTextStyle(e.style);let r=this.getDirection();return i.setDirection(r),i.setFormat(this.getFormatType()),i.setStyle(this.getStyle()),this.insertAfter(i,t),i}collapseAtStart(){let e=this.getChildren();if(0===e.length||ib(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function rI(e){let t=rL();return e.style&&(t.setFormat(e.style.textAlign),aY(e,t)),{node:t}}function rL(){return aI(new rP)}function rD(e){return e instanceof rP}function rR(e,t,i,r){let a=e._keyToDOMMap;a.clear(),e._editorState=rA(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=S,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;let o=e._observer;null!==o&&(o.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==i&&(i.textContent="",a.set("root",i))}function r$(e){let t;let i=e||{},r=ra(),a=i.theme||{},o=void 0===e?r:i.parentEditor||null,l=i.disableEvents||!1,d=rA(),p=i.namespace||(null!==o?o._config.namespace:aa()),c=i.editorState,u=[rE,il,t5,i_,rP,rO,...i.nodes||[]],{onError:h,html:m}=i,g=void 0===i.editable||i.editable;if(void 0===e&&null!==r)t=r._nodes;else{t=new Map;for(let e=0;e<u.length;e++){let i=u[e],r=null,a=null;if("function"!=typeof i){let e=i;i=e.replace,r=e.with,a=e.withKlass||null}let o=i.getType(),l=i.transform(),d=new Set;null!==l&&d.add(l),t.set(o,{exportDOM:m&&m.export?m.export.get(i):void 0,klass:i,replace:r,replaceWithKlass:a,transforms:d})}}let y=new rj(d,o,t,{disableEvents:l,namespace:p,theme:a},h||console.error,function(e,t){let i=new Map,r=new Set,a=e=>{Object.keys(e).forEach(t=>{let r=i.get(t);void 0===r&&(r=[],i.set(t,r)),r.push(e[t])})};return e.forEach(e=>{let t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);let i=t.call(e.klass);null!==i&&a(i)}),t&&a(t),i}(t,m?m.import:void 0),g);return void 0!==c&&(y._pendingEditorState=c,y._dirtyType=k),y}class rj{constructor(e,t,i,r,a,o,l){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=i,this._decorators={},this._pendingDecorators=null,this._dirtyType=S,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=aa(),this._onError=a,this._htmlConversions=o,this._editable=l,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,i){void 0===i&&r(35);let a=this._commands;a.has(e)||a.set(e,[new Set,new Set,new Set,new Set,new Set]);let o=a.get(e);void 0===o&&r(36,String(e));let l=o[i];return l.add(t),()=>{l.delete(t),o.every(e=>0===e.size)&&a.delete(e)}}registerMutationListener(e,t,i){let r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,a=this._listeners.mutation;a.set(t,r);let o=i&&i.skipInitialization;return void 0!==o&&o||this.initializeMutationListener(t,r),()=>{a.delete(t)}}getRegisteredNode(e){let t=this._nodes.get(e.getType());return void 0===t&&r(37,e.name),t}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,t){let i=this._editorState,r=aJ(i).get(t.getType());if(!r)return;let a=new Map;for(let e of r.keys())a.set(e,"created");a.size>0&&e(a,{dirtyLeaves:new Set,prevEditorState:i,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,t){let i=this.getRegisteredNode(e);return i.transforms.add(t),i}registerNodeTransform(e,t){let i=this.registerNodeTransformToKlass(e,t),r=[i],a=i.replaceWithKlass;if(null!=a){let e=this.registerNodeTransformToKlass(a,t);r.push(e)}return function(e,t){let i=aJ(e.getEditorState()),r=[];for(let e of t){let t=i.get(e);t&&r.push(t)}0!==r.length&&e.update(()=>{for(let e of r)for(let t of e.keys()){let e=r0(t);e&&e.markDirty()}},null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,r.map(e=>e.klass.getType())),()=>{r.forEach(e=>e.transforms.delete(t))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return aw(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let i=am(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,rR(this,t,e,r),null!==t&&(this._config.disableEvents||t6(t),null!=i&&t.classList.remove(...i)),null!==e){let t=aC(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=k,ec(this),this._updateTags.add("history-merge"),rc(this),this._config.disableEvents||function(e,t){let i=e.ownerDocument,r=t$.get(i);(void 0===r||r<1)&&i.addEventListener("selectionchange",t1),t$.set(i,(r||0)+1),e.__lexicalEditor=t;let a=tZ(e);for(let i=0;i<tP.length;i++){let[r,o]=tP[i],l="function"==typeof o?e=>{t2(e)||(t0(e),(t.isEditable()||"click"===r)&&o(e,t))}:e=>{if(t2(e))return;t0(e);let i=t.isEditable();switch(r){case"cut":return i&&aw(t,tE,e);case"copy":return aw(t,tS,e);case"paste":return i&&aw(t,e7,e);case"dragstart":return i&&aw(t,tw,e);case"dragover":return i&&aw(t,t_,e);case"dragend":return i&&aw(t,tx,e);case"focus":return i&&aw(t,tT,e);case"blur":return i&&aw(t,tA,e);case"drop":return i&&aw(t,tb,e)}};e.addEventListener(r,l),a.push(()=>{e.removeEventListener(r,l)})}}(e,this),null!=i&&e.classList.add(...i)}else this._window=null,this._updateTags.add("history-merge"),rc(this);ru("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&r(38);let i=e;i._readOnly&&((i=rT(e))._selection=e._selection?e._selection.clone():null),ep(this);let a=this._pendingEditorState,o=this._updateTags,l=void 0!==t?t.tag:null;null===a||a.isEmpty()||(null!=l&&o.add(l),rc(this)),this._pendingEditorState=i,this._dirtyType=k,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=l&&o.add(l),this._updating||rc(this)}parseEditorState(e,t){return function(e,t,i){let r=rA(),a=i2,o=i4,l=i6,d=t._dirtyElements,p=t._dirtyLeaves,c=t._cloneNotNeeded,u=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,i2=r,i4=!1,i6=t;try{let a=t._nodes;rd(e.root,a),i&&i(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=d,t._dirtyLeaves=p,t._cloneNotNeeded=c,t._dirtyType=u,i2=a,i4=o,i6=l}return r}("string"==typeof e?JSON.parse(e):e,this,t)}read(e){return rc(this),this.getEditorState().read(e,{editor:this})}update(e,t){!function(e,t,i){e._updating?e._updates.push([t,i]):rm(e,t,i)}(this,e,t)}focus(e,t={}){let i=this._rootElement;null!==i&&(i.setAttribute("autocapitalize","off"),rg(this,()=>{let r=iH(),a=r8();null!==r?r.dirty=!0:0!==a.getChildrenSize()&&("rootStart"===t.defaultSelection?a.selectStart():a.selectEnd()),ak("focus"),aT(()=>{i.removeAttribute("autocapitalize"),e&&e()})}),null===this._pendingEditorState&&i.removeAttribute("autocapitalize"))}blur(){let e=this._rootElement;null!==e&&e.blur();let t=aj(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,ru("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}rj.version="0.28.0+prod.esm";let rM=1,rU="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function rF(e){let t=document.activeElement;if(!aF(t))return!1;let i=t.nodeName;return rS(r4(e))&&("INPUT"===i||"TEXTAREA"===i||"true"===t.contentEditable&&null==rV(t))}function rB(e,t,i){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(i)&&null!==t&&!rF(t)&&rq(t)===e}catch(e){return!1}}function rz(e){return e instanceof rj}function rq(e){let t=e;for(;null!=t;){let e=rV(t);if(rz(e))return e;t=aS(t)}return null}function rV(e){return e?e.__lexicalEditor:null}function rH(e){return e.isToken()||e.isSegmented()}function rW(e){return aB(e)&&e.nodeType===w}function rG(e){return aB(e)&&e.nodeType===_}function rK(e){let t=e;for(;null!=t;){if(rW(t))return t;t=t.firstChild}return null}function rJ(e,t,i){let r=G[t];if(null!==i&&(e&r)==(i&r))return e;let a=e^r;return"subscript"===t?a&=~G.superscript:"superscript"===t?a&=~G.subscript:"lowercase"===t?(a&=~G.uppercase,a&=~G.capitalize):"uppercase"===t?(a&=~G.lowercase,a&=~G.capitalize):"capitalize"===t&&(a&=~G.lowercase,a&=~G.uppercase),a}function rQ(e,t){if(null!=t)return void(e.__key=t);i7(),re();let i=ri(),r=rt(),a=""+rM++;r._nodeMap.set(a,e),rw(e)?i._dirtyElements.set(a,!0):i._dirtyLeaves.add(a),i._cloneNotNeeded.add(a),i._dirtyType=E,e.__key=a}function rY(e){let t=e.getParent();if(null!==t){let i=e.getWritable(),r=t.getWritable(),a=e.getPreviousSibling(),o=e.getNextSibling();if(null===a){if(null!==o){let e=o.getWritable();r.__first=o.__key,e.__prev=null}else r.__first=null}else{let e=a.getWritable();if(null!==o){let t=o.getWritable();t.__prev=e.__key,e.__next=t.__key}else e.__next=null;i.__prev=null}if(null===o){if(null!==a){let e=a.getWritable();r.__last=a.__key,e.__next=null}else r.__last=null}else{let e=o.getWritable();if(null!==a){let t=a.getWritable();t.__next=e.__key,e.__prev=t.__key}else e.__prev=null;i.__next=null}r.__size--,i.__parent=null}}function rZ(e){re();let t=e.getLatest(),i=t.__parent,r=rt(),a=ri(),o=r._nodeMap,l=a._dirtyElements;null!==i&&function(e,t,i){let r=e;for(;null!==r;){if(i.has(r))return;let e=t.get(r);if(void 0===e)break;i.set(r,!1),r=e.__parent}}(i,o,l);let d=t.__key;a._dirtyType=E,rw(e)?l.set(d,!0):a._dirtyLeaves.add(d)}function rX(e){i7();let t=ri(),i=t._compositionKey;if(e!==i){if(t._compositionKey=e,null!==i){let e=r0(i);null!==e&&e.getWritable()}if(null!==e){let t=r0(e);null!==t&&t.getWritable()}}}function r1(){return i9()?null:ri()._compositionKey}function r0(e,t){let i=(t||rt())._nodeMap.get(e);return void 0===i?null:i}function r2(e,t){let i=r6(e,ri());return void 0!==i?r0(i,t):null}function r6(e,t){return e[`__lexicalKey_${t._key}`]}function r4(e,t){let i=e;for(;null!=i;){let e=r2(i,t);if(null!==e)return e;i=aS(i)}return null}function r3(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t,t}function r5(e){return e.read(()=>r8().getTextContent())}function r8(){return r9(rt())}function r9(e){return e._nodeMap.get("root")}function r7(e){i7();let t=rt();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function ae(e){let t=ri(),i=function(e,t){let i=e;for(;null!=i;){let e=r6(i,t);if(void 0!==e)return e;i=aS(i)}return null}(e,t);return null===i?e===t.getRootElement()?r0("root"):null:r0(i)}function at(e,t){return t?e.getTextContentSize():0}function ai(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function ar(e){let t=[],i=e;for(;null!==i;)t.push(i),i=i._parentEditor;return t}function aa(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function an(e){return rW(e)?e.nodeValue:null}function as(e,t,i){let r=aj(aN(t));if(null===r)return;let a=r.anchorNode,{anchorOffset:o,focusOffset:l}=r;if(null!==a){let t=an(a),r=r4(a);if(null!==t&&ib(r)){if(t===F&&i){let e=i.length;t=i,o=e,l=e}null!==t&&ao(r,t,o,l,e)}}}function ao(e,t,i,r,a){let o=e;if(o.isAttached()&&(a||!o.isDirty())){let l=o.isComposing(),d=t;(l||a)&&t[t.length-1]===F&&(d=t.slice(0,-1));let p=o.getTextContent();if(a||d!==p){if(""===d){if(rX(null),c||u||y)o.remove();else{let e=ri();setTimeout(()=>{e.update(()=>{o.isAttached()&&o.remove()})},20)}return}let t=o.getParent(),a=iW(),p=o.getTextContentSize(),h=r1(),m=o.getKey();if(o.isToken()||null!==h&&m===h&&!l||iN(a)&&(null!==t&&!t.canInsertTextBefore()&&0===a.anchor.offset||a.anchor.key===e.__key&&0===a.anchor.offset&&!o.canInsertTextBefore()&&!l||a.focus.key===e.__key&&a.focus.offset===p&&!o.canInsertTextAfter()&&!l))return void o.markDirty();let g=iH();if(!iN(g)||null===i||null===r)return void o.setTextContent(d);if(g.setTextNodeRange(o,i,o,r),o.isSegmented()){let e=iv(o.getTextContent());o.replace(e),o=e}o.setTextContent(d)}}}function al(e){return"ArrowLeft"===e}function ad(e){return"ArrowRight"===e}function ap(e,t){return l?e:t}function ac(e){return"Enter"===e}function au(e){return"Backspace"===e}function ah(e){return"Delete"===e}function af(e,t,i){return"a"===e.toLowerCase()&&ap(t,i)}function am(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});let i=e.__lexicalClassNameCache,r=i[t];if(void 0!==r)return r;let a=e[t];if("string"==typeof a){let e=v(a);return i[t]=e,e}return a}function ag(e,t,i,a,o){if(0===i.size)return;let l=a.__type,d=a.__key,p=t.get(l);void 0===p&&r(33,l);let c=p.klass,u=e.get(c);void 0===u&&(u=new Map,e.set(c,u));let h=u.get(d),m="destroyed"===h&&"created"===o;(void 0===h||m)&&u.set(d,m?"updated":o)}function ay(e,t,i){let r=e.getParent(),a=i,o=e;return null!==r&&(t&&0===i?(a=o.getIndexWithinParent(),o=r):t||i!==o.getChildrenSize()||(a=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(t?a-1:a)}function av(e,t){let i=e.offset;if("element"===e.type)return ay(e.getNode(),t,i);{let r=e.getNode();if(t&&0===i||!t&&i===r.getTextContentSize()){let e=t?r.getPreviousSibling():r.getNextSibling();return null===e?ay(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function ab(e){let t=aN(e).event,i=t&&t.inputType;return"insertFromPaste"===i||"insertFromPasteAsQuotation"===i}function aw(e,t,i){return rh(e,t,i)}function a_(e){return!rk(e)&&!e.isLastChild()&&!e.isInline()}function ax(e,t){let i=e._keyToDOMMap.get(t);return void 0===i&&r(75,t),i}function aS(e){let t=e.assignedSlot||e.parentElement;return az(t)?t.host:t}function aE(e){return rG(e)?e:aF(e)?e.ownerDocument:null}function ak(e){i7(),ri()._updateTags.add(e)}function aT(e){i7(),ri()._deferred.push(e)}function aA(e,t){let i=e.getParent();for(;null!==i;){if(i.is(t))return!0;i=i.getParent()}return!1}function aC(e){let t=aE(e);return t?t.defaultView:null}function aN(e){let t=e._window;return null===t&&r(78),t}function aO(e){let t=e.getParentOrThrow();for(;null!==t&&!aP(t);)t=t.getParentOrThrow();return t}function aP(e){return rk(e)||rw(e)&&e.isShadowRoot()}function aI(e){let t=ri(),i=e.constructor.getType(),a=t._nodes.get(i);void 0===a&&r(200,e.constructor.name,i);let{replace:o,replaceWithKlass:l}=a;if(null!==o){let t=o(e),a=t.constructor;return null!==l?t instanceof l||r(201,l.name,l.getType(),a.name,a.getType(),e.constructor.name,i):t instanceof e.constructor&&a!==e.constructor||r(202,a.name,a.getType(),e.constructor.name,i),t.__key===e.__key&&r(203,e.constructor.name,i,a.name,a.getType()),t}return e}function aL(e,t){!rk(e.getParent())||rw(t)||rS(t)||r(99)}function aD(e){let t=r0(e);return null===t&&r(63,e),t}function aR(e){return(rS(e)||rw(e)&&!e.canBeEmpty())&&!e.isInline()}function a$(e,t,i){i.style.removeProperty("caret-color"),t._blockCursorElement=null;let r=e.parentElement;null!==r&&r.removeChild(e)}function aj(e){return a?(e||window).getSelection():null}function aM(e){let t=aC(e);return t?t.getSelection():null}function aU(e){return aF(e)&&"A"===e.tagName}function aF(e){return aB(e)&&e.nodeType===b}function aB(e){return"object"==typeof e&&null!==e&&"nodeType"in e&&"number"==typeof e.nodeType}function az(e){return aB(e)&&e.nodeType===x}function aq(e){let t=RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function aV(e){let t=RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==e.nodeName.match(t)}function aH(e){if(rS(e)&&!e.isInline())return!0;if(!rw(e)||aP(e))return!1;let t=e.getFirstChild(),i=null===t||t7(t)||ib(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&i}function aW(e,t){let i=e;for(;null!==i&&null!==i.getParent()&&!t(i);)i=i.getParentOrThrow();return t(i)?i:null}let aG=new WeakMap,aK=new Map;function aJ(e){if(!e._readOnly&&e.isEmpty())return aK;e._readOnly||r(192);let t=aG.get(e);return t||(t=function(e){let t=new Map;for(let[i,r]of e._nodeMap){let e=r.__type,a=t.get(e);a||(a=new Map,t.set(e,a)),a.set(i,r)}return t}(e),aG.set(e,t)),t}function aQ(e){let t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function aY(e,t){let i=(parseInt(e.style.paddingInlineStart,10)||0)/40;t.setIndent(i)}function aZ(e){return!0===e.__lexicalUnmanaged}let aX={next:"previous",previous:"next"};class a1{constructor(e){this.origin=e}[Symbol.iterator](){return nm({hasNext:a9,initial:this.getAdjacentCaret(),map:e=>e,step:e=>e.getAdjacentCaret()})}getAdjacentCaret(){return nr(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return nr(this.origin,this.direction)}remove(){let e=this.getNodeAtCaret();return e&&e.remove(),this}replaceOrInsert(e,t){let i=this.getNodeAtCaret();return e.is(this.origin)||e.is(i)||(null===i?this.insert(e):i.replace(e,t)),this}splice(e,t,i="next"){let a=i===this.direction?t:Array.from(t).reverse(),o=this,l=this.getParentAtCaret(),d=new Map;for(let t=o.getAdjacentCaret();null!==t&&d.size<e;t=t.getAdjacentCaret()){let e=t.origin.getWritable();d.set(e.getKey(),e)}for(let e of a){if(d.size>0){let t=o.getNodeAtCaret();if(t){if(d.delete(t.getKey()),d.delete(e.getKey()),t.is(e)||o.origin.is(e));else{let i=e.getParent();i&&i.is(l)&&e.remove(),t.replace(e)}}else null===t&&r(263,Array.from(d).join(" "))}else o.insert(e);o=nr(e,this.direction)}for(let e of d.values())e.remove();return this}}class a0 extends a1{type="child";getLatest(){let e=this.origin.getLatest();return e===this.origin?this:no(e,this.direction)}getParentCaret(e="root"){return nr(a4(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=a6(this.direction);return nr(this.getNodeAtCaret(),e)||no(this.origin,e)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(e){return e instanceof a0&&this.direction===e.direction&&this.origin.is(e.origin)}isSamePointCaret(e){return this.isSameNodeCaret(e)}}let a2={root:rk,shadowRoot:aP};function a6(e){return aX[e]}function a4(e,t="root"){return a2[t](e)?null:e}class a3 extends a1{type="sibling";getLatest(){let e=this.origin.getLatest();return e===this.origin?this:nr(e,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return rw(this.origin)?no(this.origin,this.direction):null}getParentCaret(e="root"){return nr(a4(this.getParentAtCaret(),e),this.direction)}getFlipped(){let e=a6(this.direction);return nr(this.getNodeAtCaret(),e)||no(this.origin.getParentOrThrow(),e)}isSamePointCaret(e){return e instanceof a3&&this.direction===e.direction&&this.origin.is(e.origin)}isSameNodeCaret(e){return(e instanceof a3||e instanceof a5)&&this.direction===e.direction&&this.origin.is(e.origin)}}class a5 extends a1{type="text";constructor(e,t){super(e),this.offset=t}getLatest(){let e=this.origin.getLatest();return e===this.origin?this:na(e,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(e="root"){return nr(a4(this.getParentAtCaret(),e),this.direction)}getFlipped(){return na(this.origin,a6(this.direction),this.offset)}isSamePointCaret(e){return e instanceof a5&&this.direction===e.direction&&this.origin.is(e.origin)&&this.offset===e.offset}isSameNodeCaret(e){return(e instanceof a3||e instanceof a5)&&this.direction===e.direction&&this.origin.is(e.origin)}getSiblingCaret(){return nr(this.origin,this.direction)}}function a8(e){return e instanceof a5}function a9(e){return e instanceof a3}function a7(e){return e instanceof a0}let ne={next:class extends a5{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends a5{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},nt={next:class extends a3{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends a3{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},ni={next:class extends a0{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends a0{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function nr(e,t){return e?new nt[t](e):null}function na(e,t,i){return e?new ne[t](e,nn(e,i)):null}function nn(e,t){let i=e.getTextContentSize(),a="next"===t?i:"previous"===t?0:t;return a>=0&&a<=i||r(274,String(t),String(i)),a}function ns(e,t){return new nc(e,t)}function no(e,t){return rw(e)?new ni[t](e):null}function nl(e){return e&&e.getChildCaret()||e}function nd(e){return e&&nl(e.getAdjacentCaret())}class np{type="node-caret-range";constructor(e,t,i){this.anchor=e,this.focus=t,this.direction=i}getLatest(){let e=this.anchor.getLatest(),t=this.focus.getLatest();return e===this.anchor&&t===this.focus?this:new np(e,t,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){let e=e=>{let t=this[e].getLatest();return a8(t)?function(e,t){let{direction:i,origin:r}=e;return ns(e,nn(r,"focus"===t?a6(i):i)-e.offset)}(t,e):null},t=e("anchor"),i=e("focus");if(t&&i){let{caret:e}=t,{caret:r}=i;if(e.isSameNodeCaret(r))return[ns(e,r.offset-e.offset),null]}return[t,i]}iterNodeCarets(e="root"){let t=a8(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),i=this.focus.getLatest(),r=a8(i),a=t=>t.isSameNodeCaret(i)?null:nd(t)||t.getParentCaret(e);return nm({hasNext:e=>null!==e&&!(r&&i.isSameNodeCaret(e)),initial:t.isSameNodeCaret(i)?null:a(t),map:e=>e,step:a})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class nc{type="slice";constructor(e,t){this.caret=e,this.distance=t}getSliceIndices(){let{distance:e,caret:{offset:t}}=this,i=t+e;return i<t?[i,t]:[t,i]}getTextContent(){let[e,t]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(e,t)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){let{caret:{origin:e,direction:t}}=this,[i,r]=this.getSliceIndices(),a=e.getTextContent();return na(e.setTextContent(a.slice(0,i)+a.slice(r)),t,i)}}function nu(e){return nf(e,nr(r8(),e.direction))}function nh(e){return nf(e,e)}function nf(e,t){return e.direction!==t.direction&&r(265),new np(e,t,e.direction)}function nm(e){let{initial:t,hasNext:i,step:r,map:a}=e,o=t;return{[Symbol.iterator](){return this},next(){if(!i(o))return{done:!0,value:void 0};let e={done:!1,value:a(o)};return o=r(o),e}}}function ng(e,t){let i=nw(e.origin,t.origin);switch(null===i&&r(275,e.origin.getKey(),t.origin.getKey()),i.type){case"same":{let i="text"===e.type,r="text"===t.type;return i&&r?function(e,t){return Math.sign(e-t)}(e.offset,t.offset):e.type===t.type?0:i?-1:r?1:"child"===e.type?-1:1}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===t.type?1:-1;case"branch":return ny(i)}}function ny(e){let{a:t,b:i}=e,r=t.__key,a=i.__key,o=t,l=i;for(;o&&l;o=o.getNextSibling(),l=l.getNextSibling()){if(o.__key===a)return -1;if(l.__key===r)return 1}return null===o?1:-1}function nv(e,t){return t.is(e)}function nb(e){return rw(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function nw(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};let i=new Map;for(let[t,r]=nb(e);t;r=t,t=t.getParent())i.set(t,r);for(let[a,o]=nb(t);a;o=a,a=a.getParent()){let l=i.get(a);if(void 0!==l)return null===l?(nv(e,a)||r(276),{commonAncestor:a,type:"ancestor"}):null===o?(nv(t,a)||r(277),{commonAncestor:a,type:"descendant"}):((rw(l)||nv(e,l))&&(rw(o)||nv(t,o))&&a.is(l.getParent())&&a.is(o.getParent())||r(278),{a:l,b:o,commonAncestor:a,type:"branch"})}return null}function n_(e,t){let{type:i,key:a,offset:o}=e,l=aD(e.key);return"text"===i?(ib(l)||r(266,l.getType(),a),na(l,t,o)):(rw(l)||r(267,l.getType(),a),nD(l,e.offset,t))}function nx(e,t){let{origin:i,direction:a}=t,o="next"===a;a8(t)?e.set(i.getKey(),t.offset,"text"):a9(t)?ib(i)?e.set(i.getKey(),nn(i,a),"text"):e.set(i.getParentOrThrow().getKey(),i.getIndexWithinParent()+(o?1:0),"element"):(a7(t)&&rw(i)||r(268),e.set(i.getKey(),o?0:i.getChildrenSize(),"element"))}function nS(e){let t=iH(),i=iN(t)?t:iz();return nE(i,e),r7(i),i}function nE(e,t){nx(e.anchor,t.anchor),nx(e.focus,t.focus)}function nk(e){let{anchor:t,focus:i}=e,r=n_(t,"next"),a=n_(i,"next"),o=0>=ng(r,a)?"next":"previous";return nf(nI(r,o),nI(a,o))}function nT(e){let{direction:t,origin:i}=e,r=nr(i,a6(t)).getNodeAtCaret();return r?nr(r,t):no(i.getParentOrThrow(),t)}function nA(e,t="root"){let i=[e];for(let r=a7(e)?e.getParentCaret(t):e.getSiblingCaret();null!==r;r=r.getParentCaret(t))i.push(nT(r));return i}function nC(e){return!!e&&e.origin.isAttached()}function nN(e,t="removeEmptySlices"){let i,a;if(e.isCollapsed())return e;let o="root",l="next",d=t,p=nL(e,l),c=nA(p.anchor,o),u=nA(p.focus.getFlipped(),o),h=new Set,m=[];for(let e of p.iterNodeCarets(o))if(a7(e))h.add(e.origin.getKey());else if(a9(e)){let{origin:t}=e;rw(t)&&!h.has(t.getKey())||m.push(t)}for(let e of m)e.remove();for(let e of p.getTextSlices()){if(!e)continue;let{origin:t}=e.caret,i=t.getTextContentSize(),r=nT(nr(t,l)),a=t.getMode();if(Math.abs(e.distance)===i&&"removeEmptySlices"===d||"token"===a&&0!==e.distance)r.remove();else if(0!==e.distance){d="removeEmptySlices";let t=e.removeTextSlice(),i=e.caret.origin;if("segmented"===a){let e=t.origin,i=iv(e.getTextContent()).setStyle(e.getStyle()).setFormat(e.getFormat());r.replaceOrInsert(i),t=na(i,l,t.offset)}i.is(c[0].origin)&&(c[0]=t),i.is(u[0].origin)&&(u[0]=t.getFlipped())}}for(let e of c)if(nC(e)){i=nO(e);break}for(let e of u)if(nC(e)){a=nO(e);break}let g=function(e,t,i){let r;if(!e||!t)return null;let a=e.getParentAtCaret(),o=t.getParentAtCaret();if(!a||!o)return null;let l=a.getParents().reverse();l.push(a);let d=o.getParents().reverse();d.push(o);let p=Math.min(l.length,d.length);for(r=0;r<p&&l[r]===d[r];r++);let c=(e,t)=>{let i;for(let a=r;a<e.length;a++){let r=e[a];if(aP(r))return;!i&&t(r)&&(i=r)}return i},u=c(l,aH),h=u&&c(d,e=>i.has(e.getKey())&&aH(e));return u&&h?[u,h]:null}(i,a,h);if(g){let[e,t]=g;no(e,"previous").splice(0,t.getChildren()),t.remove()}let y=[i,a,...c,...u].find(nC);if(y)return nh(nI(nO(y),e.direction));r(269,JSON.stringify(c.map(e=>e.origin.__key)))}function nO(e){let t=function(e){let t=e;for(;a7(t);){let e=nd(t);if(!a7(e))break;t=e}return t}(e.getLatest()),{direction:i}=t;if(ib(t.origin))return a8(t)?t:na(t.origin,i,i);let r=t.getAdjacentCaret();return a9(r)&&ib(r.origin)?na(r.origin,i,a6(i)):t}function nP(e){return a8(e)&&e.offset!==nn(e.origin,e.direction)}function nI(e,t){return e.direction===t?e:e.getFlipped()}function nL(e,t){return e.direction===t?e:nf(nI(e.focus,t),nI(e.anchor,t))}function nD(e,t,i){let r=no(e,"next");for(let e=0;e<t;e++){let e=r.getAdjacentCaret();if(null===e)break;r=e}return nI(r,i)}},10820:(e,t,i)=>{"use strict";let r;i.r(t),i.d(t,{AbortError:()=>ei,FetchError:()=>y,Headers:()=>$,Request:()=>ee,Response:()=>H,default:()=>ep});var a=i(12781),o=i(13685),l=i(57310),d=i(64326),p=i(95687),c=i(59796);let u=a.Readable,h=Symbol("buffer"),m=Symbol("type");class g{constructor(){this[m]="";let e=arguments[0],t=arguments[1],i=[],r=0;if(e){let t=e,a=Number(t.length);for(let e=0;e<a;e++){let a;let o=t[e];o instanceof Buffer?a=o:a=ArrayBuffer.isView(o)?Buffer.from(o.buffer,o.byteOffset,o.byteLength):o instanceof ArrayBuffer?Buffer.from(o):o instanceof g?o[h]:Buffer.from("string"==typeof o?o:String(o)),r+=a.length,i.push(a)}}this[h]=Buffer.concat(i);let a=t&&void 0!==t.type&&String(t.type).toLowerCase();a&&!/[^\u0020-\u007E]/.test(a)&&(this[m]=a)}get size(){return this[h].length}get type(){return this[m]}text(){return Promise.resolve(this[h].toString())}arrayBuffer(){let e=this[h];return Promise.resolve(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}stream(){let e=new u;return e._read=function(){},e.push(this[h]),e.push(null),e}toString(){return"[object Blob]"}slice(){let e,t;let i=this.size,r=arguments[0],a=arguments[1];e=void 0===r?0:r<0?Math.max(i+r,0):Math.min(r,i);let o=Math.max((t=void 0===a?i:a<0?Math.max(i+a,0):Math.min(a,i))-e,0),l=this[h].slice(e,e+o),d=new g([],{type:arguments[2]});return d[h]=l,d}}function y(e,t,i){Error.call(this,e),this.message=e,this.type=t,i&&(this.code=this.errno=i.code),Error.captureStackTrace(this,this.constructor)}Object.defineProperties(g.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(g.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),y.prototype=Object.create(Error.prototype),y.prototype.constructor=y,y.prototype.name="FetchError";try{r=require("encoding").convert}catch(e){}let v=Symbol("Body internals"),b=a.PassThrough;function w(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.size;let o=void 0===r?0:r;var l=i.timeout;let d=void 0===l?0:l;null==e?e=null:S(e)?e=Buffer.from(e.toString()):E(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof a||(e=Buffer.from(String(e)))),this[v]={body:e,disturbed:!1,error:null},this.size=o,this.timeout=d,e instanceof a&&e.on("error",function(e){let i="AbortError"===e.name?e:new y(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[v].error=i})}function _(){var e=this;if(this[v].disturbed)return w.Promise.reject(TypeError(`body used already for: ${this.url}`));if(this[v].disturbed=!0,this[v].error)return w.Promise.reject(this[v].error);let t=this.body;if(null===t)return w.Promise.resolve(Buffer.alloc(0));if(E(t)&&(t=t.stream()),Buffer.isBuffer(t))return w.Promise.resolve(t);if(!(t instanceof a))return w.Promise.resolve(Buffer.alloc(0));let i=[],r=0,o=!1;return new w.Promise(function(a,l){let d;e.timeout&&(d=setTimeout(function(){o=!0,l(new y(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(t){"AbortError"===t.name?(o=!0,l(t)):l(new y(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}),t.on("data",function(t){if(!o&&null!==t){if(e.size&&r+t.length>e.size){o=!0,l(new y(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}r+=t.length,i.push(t)}}),t.on("end",function(){if(!o){clearTimeout(d);try{a(Buffer.concat(i,r))}catch(t){l(new y(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}})})}function x(e,t){let i,a;if("function"!=typeof r)throw Error("The package `encoding` must be installed to use the textConverted() function");let o=t.get("content-type"),l="utf-8";return o&&(i=/charset=([^;]*)/i.exec(o)),a=e.slice(0,1024).toString(),!i&&a&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(a)),!i&&a&&(!(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(a))&&(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(a))&&i.pop(),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&a&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(a)),i&&("gb2312"===(l=i.pop())||"gbk"===l)&&(l="gb18030"),r(e,"UTF-8",l).toString()}function S(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function E(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function k(e){let t,i;let r=e.body;if(e.bodyUsed)throw Error("cannot clone body after it is used");return r instanceof a&&"function"!=typeof r.getBoundary&&(t=new b,i=new b,r.pipe(t),r.pipe(i),e[v].body=t,r=i),r}function T(e){if(null===e)return null;if("string"==typeof e)return"text/plain;charset=UTF-8";if(S(e))return"application/x-www-form-urlencoded;charset=UTF-8";if(E(e))return e.type||null;if(Buffer.isBuffer(e))return null;if("[object ArrayBuffer]"===Object.prototype.toString.call(e))return null;if(ArrayBuffer.isView(e))return null;else if("function"==typeof e.getBoundary)return`multipart/form-data;boundary=${e.getBoundary()}`;else if(e instanceof a)return null;else return"text/plain;charset=UTF-8"}function C(e){let t=e.body;return null===t?0:E(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}function N(e,t){let i=t.body;null===i?e.end():E(i)?i.stream().pipe(e):Buffer.isBuffer(i)?(e.write(i),e.end()):i.pipe(e)}w.prototype={get body(){return this[v].body},get bodyUsed(){return this[v].disturbed},arrayBuffer(){return _.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return _.call(this).then(function(t){return Object.assign(new g([],{type:e.toLowerCase()}),{[h]:t})})},json(){var e=this;return _.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(t){return w.Promise.reject(new y(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}})},text(){return _.call(this).then(function(e){return e.toString()})},buffer(){return _.call(this)},textConverted(){var e=this;return _.call(this).then(function(t){return x(t,e.headers)})}},Object.defineProperties(w.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),w.mixIn=function(e){for(let t of Object.getOwnPropertyNames(w.prototype))if(!(t in e)){let i=Object.getOwnPropertyDescriptor(w.prototype,t);Object.defineProperty(e,t,i)}},w.Promise=global.Promise;let O=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,P=/[^\t\x20-\x7e\x80-\xff]/;function I(e){if(e=`${e}`,O.test(e)||""===e)throw TypeError(`${e} is not a legal HTTP header name`)}function L(e){if(e=`${e}`,P.test(e))throw TypeError(`${e} is not a legal HTTP header value`)}function D(e,t){for(let i in t=t.toLowerCase(),e)if(i.toLowerCase()===t)return i}let R=Symbol("map");class ${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[R]=Object.create(null),e instanceof $){let t=e.raw();for(let e of Object.keys(t))for(let i of t[e])this.append(e,i);return}if(null==e);else if("object"==typeof e){let t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw TypeError("Header pairs must be iterable");let i=[];for(let t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw TypeError("Each header pair must be iterable");i.push(Array.from(t))}for(let e of i){if(2!==e.length)throw TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(let t of Object.keys(e)){let i=e[t];this.append(t,i)}}else throw TypeError("Provided initializer must be an object")}get(e){I(e=`${e}`);let t=D(this[R],e);return void 0===t?null:this[R][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=j(this),r=0;for(;r<i.length;){var a=i[r];let o=a[0],l=a[1];e.call(t,l,o,this),i=j(this),r++}}set(e,t){e=`${e}`,t=`${t}`,I(e),L(t);let i=D(this[R],e);this[R][void 0!==i?i:e]=[t]}append(e,t){e=`${e}`,t=`${t}`,I(e),L(t);let i=D(this[R],e);void 0!==i?this[R][i].push(t):this[R][e]=[t]}has(e){return I(e=`${e}`),void 0!==D(this[R],e)}delete(e){I(e=`${e}`);let t=D(this[R],e);void 0!==t&&delete this[R][t]}raw(){return this[R]}keys(){return U(this,"key")}values(){return U(this,"value")}[Symbol.iterator](){return U(this,"key+value")}}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[R]).sort().map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[R][t].join(", ")}:function(t){return[t.toLowerCase(),e[R][t].join(", ")]})}$.prototype.entries=$.prototype[Symbol.iterator],Object.defineProperty($.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties($.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});let M=Symbol("internal");function U(e,t){let i=Object.create(F);return i[M]={target:e,kind:t,index:0},i}let F=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==F)throw TypeError("Value of `this` is not a HeadersIterator");var e=this[M];let t=e.target,i=e.kind,r=e.index,a=j(t,i);return r>=a.length?{value:void 0,done:!0}:(this[M].index=r+1,{value:a[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function B(e){let t=Object.assign({__proto__:null},e[R]),i=D(e[R],"Host");return void 0!==i&&(t[i]=t[i][0]),t}function z(e){let t=new $;for(let i of Object.keys(e))if(!O.test(i)){if(Array.isArray(e[i]))for(let r of e[i])P.test(r)||(void 0===t[R][i]?t[R][i]=[r]:t[R][i].push(r));else P.test(e[i])||(t[R][i]=[e[i]])}return t}Object.defineProperty(F,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});let q=Symbol("Response internals"),V=o.STATUS_CODES;class H{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w.call(this,e,t);let i=t.status||200,r=new $(t.headers);if(null!=e&&!r.has("Content-Type")){let t=T(e);t&&r.append("Content-Type",t)}this[q]={url:t.url,status:i,statusText:t.statusText||V[i],headers:r,counter:t.counter}}get url(){return this[q].url||""}get status(){return this[q].status}get ok(){return this[q].status>=200&&this[q].status<300}get redirected(){return this[q].counter>0}get statusText(){return this[q].statusText}get headers(){return this[q].headers}clone(){return new H(k(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}w.mixIn(H.prototype),Object.defineProperties(H.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(H.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});let W=Symbol("Request internals"),G=l.URL||d.URL,K=l.parse,J=l.format;function Q(e){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(e)&&(e=new G(e).toString()),K(e)}let Y="destroy"in a.Readable.prototype;function Z(e){return"object"==typeof e&&"object"==typeof e[W]}function X(e){let t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!!(t&&"AbortSignal"===t.constructor.name)}class ee{constructor(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Z(e)?t=Q(e.url):(t=e&&e.href?Q(e.href):Q(`${e}`),e={});let r=i.method||e.method||"GET";if(r=r.toUpperCase(),(null!=i.body||Z(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw TypeError("Request with GET/HEAD method cannot have body");let a=null!=i.body?i.body:Z(e)&&null!==e.body?k(e):null;w.call(this,a,{timeout:i.timeout||e.timeout||0,size:i.size||e.size||0});let o=new $(i.headers||e.headers||{});if(null!=a&&!o.has("Content-Type")){let e=T(a);e&&o.append("Content-Type",e)}let l=Z(e)?e.signal:null;if("signal"in i&&(l=i.signal),null!=l&&!X(l))throw TypeError("Expected signal to be an instanceof AbortSignal");this[W]={method:r,redirect:i.redirect||e.redirect||"follow",headers:o,parsedURL:t,signal:l},this.follow=void 0!==i.follow?i.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==i.compress?i.compress:void 0===e.compress||e.compress,this.counter=i.counter||e.counter||0,this.agent=i.agent||e.agent}get method(){return this[W].method}get url(){return J(this[W].parsedURL)}get headers(){return this[W].headers}get redirect(){return this[W].redirect}get signal(){return this[W].signal}clone(){return new ee(this)}}function et(e){let t=e[W].parsedURL,i=new $(e[W].headers);if(i.has("Accept")||i.set("Accept","*/*"),!t.protocol||!t.hostname)throw TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof a.Readable&&!Y)throw Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){let t=C(e);"number"==typeof t&&(r=String(t))}r&&i.set("Content-Length",r),i.has("User-Agent")||i.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!i.has("Accept-Encoding")&&i.set("Accept-Encoding","gzip,deflate");let o=e.agent;return"function"==typeof o&&(o=o(t)),Object.assign({},t,{method:e.method,headers:B(i),agent:o})}function ei(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}w.mixIn(ee.prototype),Object.defineProperty(ee.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(ee.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),ei.prototype=Object.create(Error.prototype),ei.prototype.constructor=ei,ei.prototype.name="AbortError";let er=l.URL||d.URL,ea=a.PassThrough,en=function(e,t){let i=new er(t).hostname,r=new er(e).hostname;return i===r||"."===i[i.length-r.length-1]&&i.endsWith(r)},es=function(e,t){return new er(t).protocol===new er(e).protocol};function eo(e,t){if(!eo.Promise)throw Error("native promise missing, set fetch.Promise to your favorite alternative");return w.Promise=eo.Promise,new eo.Promise(function(i,r){let l;let d=new ee(e,t),u=et(d),h=("https:"===u.protocol?p:o).request,m=d.signal,g=null,v=function(){let e=new ei("The user aborted a request.");r(e),d.body&&d.body instanceof a.Readable&&ed(d.body,e),g&&g.body&&g.body.emit("error",e)};if(m&&m.aborted){v();return}let b=function(){v(),_()},w=h(u);function _(){w.abort(),m&&m.removeEventListener("abort",b),clearTimeout(l)}m&&m.addEventListener("abort",b),d.timeout&&w.once("socket",function(e){l=setTimeout(function(){r(new y(`network timeout at: ${d.url}`,"request-timeout")),_()},d.timeout)}),w.on("error",function(e){r(new y(`request to ${d.url} failed, reason: ${e.message}`,"system",e)),g&&g.body&&ed(g.body,e),_()}),el(w,function(e){(!m||!m.aborted)&&g&&g.body&&ed(g.body,e)}),14>parseInt(process.version.substring(1))&&w.on("socket",function(e){e.addListener("close",function(t){let i=e.listenerCount("data")>0;if(g&&i&&!t&&!(m&&m.aborted)){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",g.body.emit("error",e)}})}),w.on("response",function(e){clearTimeout(l);let t=z(e.headers);if(eo.isRedirect(e.statusCode)){let a=t.get("Location"),o=null;try{o=null===a?null:new er(a,d.url).toString()}catch(e){if("manual"!==d.redirect){r(new y(`uri requested responds with an invalid redirect URL: ${a}`,"invalid-redirect")),_();return}}switch(d.redirect){case"error":r(new y(`uri requested responds with a redirect, redirect mode is set to error: ${d.url}`,"no-redirect")),_();return;case"manual":if(null!==o)try{t.set("Location",o)}catch(e){r(e)}break;case"follow":if(null===o)break;if(d.counter>=d.follow){r(new y(`maximum redirect reached at: ${d.url}`,"max-redirect")),_();return}let l={headers:new $(d.headers),follow:d.follow,counter:d.counter+1,agent:d.agent,compress:d.compress,method:d.method,body:d.body,signal:d.signal,timeout:d.timeout,size:d.size};if(!en(d.url,o)||!es(d.url,o))for(let e of["authorization","www-authenticate","cookie","cookie2"])l.headers.delete(e);if(303!==e.statusCode&&d.body&&null===C(d)){r(new y("Cannot follow redirect with body being a readable stream","unsupported-redirect")),_();return}(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===d.method)&&(l.method="GET",l.body=void 0,l.headers.delete("content-length")),i(eo(new ee(o,l))),_();return}}e.once("end",function(){m&&m.removeEventListener("abort",b)});let a=e.pipe(new ea),o={url:d.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:d.size,timeout:d.timeout,counter:d.counter},p=t.get("Content-Encoding");if(!d.compress||"HEAD"===d.method||null===p||204===e.statusCode||304===e.statusCode){i(g=new H(a,o));return}let u={flush:c.Z_SYNC_FLUSH,finishFlush:c.Z_SYNC_FLUSH};if("gzip"==p||"x-gzip"==p){i(g=new H(a=a.pipe(c.createGunzip(u)),o));return}if("deflate"==p||"x-deflate"==p){let t=e.pipe(new ea);t.once("data",function(e){i(g=new H(a=(15&e[0])==8?a.pipe(c.createInflate()):a.pipe(c.createInflateRaw()),o))}),t.on("end",function(){g||i(g=new H(a,o))});return}if("br"==p&&"function"==typeof c.createBrotliDecompress){i(g=new H(a=a.pipe(c.createBrotliDecompress()),o));return}i(g=new H(a,o))}),N(w,d)})}function el(e,t){let i;e.on("socket",function(e){i=e}),e.on("response",function(e){let r=e.headers;"chunked"!==r["transfer-encoding"]||r["content-length"]||e.once("close",function(e){if(i&&i.listenerCount("data")>0&&!e){let e=Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",t(e)}})})}function ed(e,t){e.destroy?e.destroy(t):(e.emit("error",t),e.end())}eo.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},eo.Promise=global.Promise;let ep=eo},7770:(e,t,i)=>{"use strict";i.d(t,{W7:()=>l,hh:()=>o,jl:()=>d});let r=e=>{let{name:t,domain:i,expires:r,httpOnly:a,maxAge:o,path:l,returnCookieAsObject:d,sameSite:p,secure:c,value:u}=e,h=`${t}=${u||""}`,m={name:t,value:u},g=c||"None"===p;return r&&(d?m.expires=r.toUTCString():h+=`; Expires=${r.toUTCString()}`),o&&(d?m.maxAge=o:h+=`; Max-Age=${o.toString()}`),i&&(d?m.domain=i:h+=`; Domain=${i}`),l&&(d?m.path=l:h+=`; Path=${l}`),g&&(d?m.secure=g:h+=`; Secure=${g}`),a&&(d?m.httpOnly=a:h+=`; HttpOnly=${a}`),p&&(d?m.sameSite=p:h+=`; SameSite=${p}`),d?m:h},a=({seconds:e=7200})=>{let t=new Date;return t.setSeconds(t.getSeconds()+e),t},o=({collectionAuthConfig:e,cookiePrefix:t,returnCookieAsObject:i=!1,token:o})=>{let l="string"==typeof e.cookies.sameSite?e.cookies.sameSite:e.cookies.sameSite?"Strict":void 0;return r({name:`${t}-token`,domain:e.cookies.domain??void 0,expires:a({seconds:e.tokenExpiration}),httpOnly:!0,path:"/",returnCookieAsObject:i,sameSite:l,secure:e.cookies.secure,value:o})},l=({collectionAuthConfig:e,cookiePrefix:t,returnCookieAsObject:i=!1})=>{let a="string"==typeof e.cookies.sameSite?e.cookies.sameSite:e.cookies.sameSite?"Strict":void 0,o=new Date(Date.now()-1e3);return r({name:`${t}-token`,domain:e.cookies.domain??void 0,expires:o,httpOnly:!0,path:"/",returnCookieAsObject:i,sameSite:a,secure:e.cookies.secure})};function d(e){let t=new Map,i=e.get("Cookie");if(!i)return t;for(let e of i.split(/; */)){if(!e)continue;let i=e.indexOf("=");if(-1===i){t.set(e,"true");continue}let[r,a]=[e.slice(0,i),e.slice(i+1)];try{t.set(r,decodeURIComponent(a??"true"))}catch{}}return t}},7339:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});let r=({req:{user:e}})=>!!e},6713:(e,t,i)=>{"use strict";i.d(t,{T:()=>a});var r=i(96497);let a=({authOptions:{disableLocalStrategy:e,loginWithUsername:t},collectionSlug:i,data:a,operation:o,originalDoc:l,req:d})=>{if(!e&&t&&!t.requireEmail&&!t.requireUsername){let e=!1;if("create"!==o||a.email||a.username?"update"===o&&("email"in a&&!a.email&&"username"in a&&!a.username&&(e=!0),"email"in a&&!a.email&&!l.username&&!a?.username&&(e=!0),"username"in a&&!a.username&&!l.email&&!a?.email&&(e=!0)):e=!0,e)throw new r.p({collection:i,errors:[{message:"Username or email is required",path:"username"},{message:"Username or email is required",path:"email"}]},d.t)}}},53318:(e,t,i)=>{"use strict";i.d(t,{K:()=>a});var r=i(28294);let a=async({id:e,data:t,disableErrors:i,isReadingStaticFile:a=!1,req:o},l)=>{if(l){let d=await l({id:e,data:t,isReadingStaticFile:a,req:o});if(!d&&!i)throw new r.r(o.t);return d}if(o.user)return!0;if(!i)throw new r.r(o.t);return!1}},54358:(e,t,i)=>{"use strict";i.d(t,{n:()=>o});var r=i(35024),a=i(43482);let o=async e=>{let t={user:null};if(!e.payload.authStrategies?.length)return t;for(let i of e.payload.authStrategies){e.strategyName=i.name,e.isGraphQL=!!e.isGraphQL,e.canSetHeaders=!!e.canSetHeaders;try{let r=await i.authenticate(e);r.responseHeaders&&(r.responseHeaders=(0,a.m)(t.responseHeaders||new Headers,r.responseHeaders||new Headers)),t=r}catch(t){(0,r.H)({err:t,payload:e.payload})}if(t.user)break}return t}},5242:(e,t,i)=>{"use strict";i.d(t,{j:()=>o});var r=i(79058);let a={Bearer:({headers:e})=>{let t=e.get("Authorization");return t?.startsWith("Bearer ")?t.replace("Bearer ",""):null},cookie:({headers:e,payload:t})=>{let i=e.get("Origin"),a=(0,r.j)(e),o=`${t.config.cookiePrefix}-token`,l=a.get(o);return l&&(!i||0===t.config.csrf.length||t.config.csrf.indexOf(i)>-1)?l:null},JWT:({headers:e})=>{let t=e.get("Authorization");return t?.startsWith("JWT ")?t.replace("JWT ",""):null}},o=e=>{let{headers:t,payload:i}=e;for(let e of i.config.auth.jwtOrder){let r=a[e]({headers:t,payload:i});if(r)return r}return null}},79320:(e,t,i)=>{"use strict";i.d(t,{g:()=>o});var r=i(62873),a=i(65350);async function o({req:e}){let t={collections:{},globals:{}},{payload:i,user:o}=e,l=!!o,d=o&&o.collection?i?.collections?.[o.collection]?.config:null;d&&i.config.admin.user===o?.collection?t.canAccessAdmin=d.access.admin?await d.access.admin({req:e}):l:t.canAccessAdmin=!1;let p={};return await Promise.all(i.config.collections.map(async i=>{let a=["create","read","update","delete"];i.auth&&void 0!==i.auth.maxLoginAttempts&&0!==i.auth.maxLoginAttempts&&a.push("unlock"),i.versions&&a.push("readVersions");let o=await (0,r.s)({type:"collection",blockPolicies:p,entity:i,operations:a,req:e});t.collections[i.slug]=o})),await Promise.all(i.config.globals.map(async i=>{let a=["read","update"];i.versions&&a.push("readVersions");let o=await (0,r.s)({type:"global",blockPolicies:p,entity:i,operations:a,req:e});t.globals[i.slug]=o})),(0,a.AN)(t)}},44039:(e,t,i)=>{"use strict";i.d(t,{T:()=>o});var r=i(32017);let a=({data:e,fields:t,result:i})=>(t.forEach(t=>{switch(t.type){case"collapsible":case"row":a({data:e,fields:t.fields,result:i});break;case"group":if((0,r.j7)(t)){let r;"string"==typeof t.saveToJWT?(r=t.saveToJWT,i[t.saveToJWT]=e[t.name]):t.saveToJWT&&(r=t.name,i[t.name]=e[t.name]);let o=e[t.name],l=r?i[r]:i;a({data:o,fields:t.fields,result:l});break}a({data:e,fields:t.fields,result:i});break;case"tab":if((0,r.JC)(t)){let r;"string"==typeof t.saveToJWT?(r=t.saveToJWT,i[t.saveToJWT]=e[t.name]):t.saveToJWT&&(r=t.name,i[t.name]=e[t.name]);let o=e[t.name],l=r?i[r]:i;a({data:o,fields:t.fields,result:l})}else a({data:e,fields:t.fields,result:i});break;case"tabs":a({data:e,fields:t.tabs.map(e=>({...e,type:"tab"})),result:i});break;default:(0,r.j7)(t)&&(t.saveToJWT?"string"==typeof t.saveToJWT?(i[t.saveToJWT]=e[t.name],delete i[t.name]):i[t.name]=e[t.name]:!1===t.saveToJWT&&delete i[t.name])}}),i),o=e=>{let{collectionConfig:t,email:i,sid:r,user:o}=e,l={id:o?.id,collection:t.slug,email:i};return r&&(l.sid=r),a({data:o,fields:t.fields,result:l}),l}},27519:(e,t,i)=>{"use strict";i.d(t,{D:()=>r});let r=e=>({canLoginWithEmail:!e||e.allowEmailLogin,canLoginWithUsername:!!e})},65388:(e,t,i)=>{"use strict";i.d(t,{l:()=>_});var r=i(41174),a=i(67682),o=i(45689),l=i(55547),d=i(71079),p=i(27219),c=i(11884);class u{_payload;_protectedHeader;_unprotectedHeader;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,t){let i;if(!this._protectedHeader&&!this._unprotectedHeader)throw new l.GW("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!(0,o.Z)(this._protectedHeader,this._unprotectedHeader))throw new l.GW("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let u={...this._protectedHeader,...this._unprotectedHeader},h=(0,c.Z)(l.GW,new Map([["b64",!0]]),t?.crit,this._protectedHeader,u),m=!0;if(h.has("b64")&&"boolean"!=typeof(m=this._protectedHeader.b64))throw new l.GW('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:g}=u;if("string"!=typeof g||!g)throw new l.GW('JWS "alg" (Algorithm) Header Parameter missing or invalid');(0,p.Y)(g,e,"sign");let y=this._payload;m&&(y=d.g7.encode((0,r.cv)(y))),i=this._protectedHeader?d.g7.encode((0,r.cv)(JSON.stringify(this._protectedHeader))):d.g7.encode("");let v=(0,d.zo)(i,d.g7.encode("."),y),b=await (0,a.Z)(g,e,v),w={signature:(0,r.cv)(b),payload:""};return m&&(w.payload=d.xv.decode(y)),this._unprotectedHeader&&(w.header=this._unprotectedHeader),this._protectedHeader&&(w.protected=d.xv.decode(i)),w}}class h{_flattened;constructor(e){this._flattened=new u(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,t){let i=await this._flattened.sign(e,t);if(void 0===i.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${i.protected}.${i.payload}.${i.signature}`}}var m=i(52741),g=i(65165),y=i(21301);function v(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class b{_payload;constructor(e={}){if(!(0,g.Z)(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:v("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:v("setNotBefore",(0,m.Z)(e))}:this._payload={...this._payload,nbf:(0,m.Z)(new Date)+(0,y.Z)(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:v("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:v("setExpirationTime",(0,m.Z)(e))}:this._payload={...this._payload,exp:(0,m.Z)(new Date)+(0,y.Z)(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:(0,m.Z)(new Date)}:e instanceof Date?this._payload={...this._payload,iat:v("setIssuedAt",(0,m.Z)(e))}:"string"==typeof e?this._payload={...this._payload,iat:v("setIssuedAt",(0,m.Z)(new Date)+(0,y.Z)(e))}:this._payload={...this._payload,iat:v("setIssuedAt",e)},this}}class w extends b{_protectedHeader;setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,t){let i=new h(d.g7.encode(JSON.stringify(this._payload)));if(i.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&!1===this._protectedHeader.b64)throw new l.uv("JWTs MUST NOT use unencoded payload");return i.sign(e,t)}}let _=async({fieldsToSign:e,secret:t,tokenExpiration:i})=>{let r=new TextEncoder().encode(t),a=Math.floor(Date.now()/1e3),o=a+i,l=await new w(e).setProtectedHeader({alg:"HS256",typ:"JWT"}).setIssuedAt(a).setExpirationTime(o).sign(r);return{exp:o,token:l}}},89462:(e,t,i)=>{"use strict";i.d(t,{j:()=>p});var r=i(31769),a=i(1872),o=i(36279);let l=({headers:e,payload:t,user:i})=>{let r,l;let d=e.get("host");d&&(r=(0,o.X)(d,t.secret)),i?.id&&(l=(0,o.X)(String(i.id),t.secret)),(0,a.qP)({event:{type:"admin-init",domainID:r,userID:l},payload:t})};var d=i(79320);let p=async e=>{let{req:t}=e;l(t);try{return(0,d.g)({req:t})}catch(e){throw await (0,r.n)(t),e}}},7037:(e,t,i)=>{"use strict";i.d(t,{f:()=>y});var r=i(6113),a=i(53064),o=i(57310),l=i(46803),d=i(71207),p=i(28294),c=i(3603),u=i(7410),h=i(30651),m=i(31769),g=i(27519);let y=async e=>{let t=e.collection.config.auth.loginWithUsername,{data:i}=e,{canLoginWithEmail:y,canLoginWithUsername:v}=(0,g.D)(t),b=y&&(e.data.email||"").toLowerCase().trim()||null,w="username"in i&&"string"==typeof i?.username?i.username.toLowerCase().trim():null,_=e;if(e.collection.config.auth.disableLocalStrategy)throw new p.r(e.req.t);if(!b&&!w)throw new d.H(`Missing ${t?"username":"email"}.`,a.i.BAD_REQUEST);try{let e=await (0,h.n)(_.req);if(_.collection.config.hooks?.beforeOperation?.length)for(let e of _.collection.config.hooks.beforeOperation)_=await e({args:_,collection:_.collection?.config,context:_.req.context,operation:"forgotPassword",req:_.req})||_;let{collection:{config:i},disableEmail:p,expiration:m,req:{payload:{config:g,email:x},payload:S},req:E}=_,k=r.randomBytes(20).toString("hex");if(!b&&!w)throw new d.H(`Missing ${t?"username":"email"}.`,a.i.BAD_REQUEST);let T={};y&&b?T={email:{equals:b}}:v&&w&&(T={username:{equals:w}});let C=await S.db.findOne({collection:i.slug,req:E,where:T});if(!C)return await (0,c._)(_.req),null;let N=new Date(Date.now()+(i.auth?.forgotPassword?.expiration??m??36e5)).toISOString();if(C=await S.update({id:C.id,collection:i.slug,data:{resetPasswordExpiration:N,resetPasswordToken:k},req:E}),!p&&C.email){let e=new o.URL(E.url).protocol,t=null!==g.serverURL&&""!==g.serverURL?g.serverURL:`${e}//${E.headers.get("host")}`,r=(0,u.$)({adminRoute:g.routes.admin,path:`${g.admin.routes.reset}/${k}`,serverURL:t}),a=`${E.t("authentication:youAreReceivingResetPassword")}
    <a href="${r}">${r}</a>
    ${E.t("authentication:youDidNotRequestPassword")}`;"function"==typeof i.auth.forgotPassword?.generateEmailHTML&&(a=await i.auth.forgotPassword.generateEmailHTML({req:E,token:k,user:C}));let l=E.t("authentication:resetYourPassword");"function"==typeof i.auth.forgotPassword?.generateEmailSubject&&(l=await i.auth.forgotPassword.generateEmailSubject({req:E,token:k,user:C})),await x.sendEmail({from:`"${x.defaultFromName}" <${x.defaultFromAddress}>`,html:a,subject:l,to:C.email})}if(i.hooks?.afterForgotPassword?.length)for(let e of i.hooks.afterForgotPassword)await e({args:_,collection:_.collection?.config,context:E.context});return k=await (0,l.O)({args:_,collection:_.collection?.config,operation:"forgotPassword",result:k}),e&&await (0,c._)(E),k}catch(e){throw await (0,m.n)(_.req),e}}},97747:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});let r=async e=>{let{collection:t,req:i}=e;return!!await i.payload.db.findOne({collection:t,req:i})}},77202:(e,t,i)=>{"use strict";i.d(t,{o:()=>N});var r=i(9576),a=i(46803),o=i(94894),l=i(53064),d=i(71207);class p extends d.H{constructor(e,t){super(e?`${e(t?"error:usernameOrPasswordIncorrect":"error:emailOrPasswordIncorrect")}`:o.en.translations.error.emailOrPasswordIncorrect,l.i.UNAUTHORIZED)}}class c extends d.H{constructor(e){super(e?e("error:userLocked"):o.en.translations.error.userLocked,l.i.UNAUTHORIZED)}}var u=i(96497);class h extends d.H{constructor({t:e}){super(e?e("error:unverifiedEmail"):o.en.translations.error.unverifiedEmail,l.i.FORBIDDEN)}}var m=i(11161),g=i(28294),y=i(31769),v=i(12893),b=i(44039),w=i(27519);let _=e=>!!e&&e>Date.now();var x=i(65388),S=i(15605),E=i(10417);let k=async({collection:e,doc:t,payload:i,req:r})=>{let{auth:{lockTime:a,maxLoginAttempts:o}}=e;if("lockUntil"in t&&"string"==typeof t.lockUntil){new Date(t.lockUntil).getTime()<Date.now()&&await i.update({id:t.id,collection:e.slug,data:{lockUntil:null,loginAttempts:1},depth:0,req:r});return}let l={loginAttempts:Number(t.loginAttempts)+1};if("number"==typeof t.loginAttempts&&t.loginAttempts+1>=o){let e=new Date(Date.now()+a).toISOString();l.lockUntil=e}await i.update({id:t.id,collection:e.slug,data:l,depth:0,req:r})};var T=i(53403);let C=({loggingInWithUsername:e,req:t,user:i})=>{if(!i)throw new p(t.t,!!e);if(_(new Date(i.lockUntil).getTime()))throw new c(t.t)},N=async e=>{let t=e;if(t.collection.config.auth.disableLocalStrategy)throw new g.r(t.req.t);try{if(t.collection.config.hooks?.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection?.config,context:t.req.context,operation:"login",req:t.req})||t;let{collection:{config:e},data:i,depth:o,overrideAccess:l,req:d,req:{fallbackLocale:c,locale:g,payload:y,payload:{secret:_}},showHiddenFields:N}=t,{email:O,password:P}=i,I=e.auth.loginWithUsername,L="string"==typeof O?O.toLowerCase().trim():null,D="username"in i&&"string"==typeof i?.username?i.username.toLowerCase().trim():null,{canLoginWithEmail:R,canLoginWithUsername:$}=(0,w.D)(I);if(!R&&!D)throw new u.p({collection:e.slug,errors:[{message:d.i18n.t("validation:required"),path:"username"}]});if(!$&&!L)throw new u.p({collection:e.slug,errors:[{message:d.i18n.t("validation:required"),path:"email"}]});if(!D&&!L)throw new u.p({collection:e.slug,errors:[{message:d.i18n.t("validation:required"),path:"email"},{message:d.i18n.t("validation:required"),path:"username"}]});if("string"!=typeof P||""===P.trim())throw new u.p({collection:e.slug,errors:[{message:d.i18n.t("validation:required"),path:"password"}]});let j={},M={email:{equals:L}},U={username:{equals:D}};R&&$&&(D||L)?j=D?{or:[U,{email:{equals:D}}]}:{or:[M,{username:{equals:L}}]}:R&&L?j=M:$&&D&&(j=U);let F=await y.db.findOne({collection:e.slug,req:d,where:j});C({loggingInWithUsername:!!($&&D),req:d,user:F}),F.collection=e.slug,F._strategy="local-jwt";let B=await (0,E.J)({doc:F,password:P});F=(0,v.K)(F);let z=t.collection.config.auth.maxLoginAttempts>0;if(!B)throw z&&await k({collection:e,doc:F,payload:d.payload,req:d}),new p(d.t);if(e.auth.verify&&!1===F._verified)throw new h({t:d.t});let q={collectionConfig:e,email:L,user:F};if(e.auth.useSessions){let t=(0,r.Z)(),i=new Date,a=1e3*e.auth.tokenExpiration,o=new Date(i.getTime()+a),l={id:t,createdAt:i,expiresAt:o};F.sessions?.length?(F.sessions=(0,S.C)(F.sessions),F.sessions.push(l)):F.sessions=[l],await y.db.updateOne({id:F.id,collection:e.slug,data:F,req:d,returning:!1}),F.collection=e.slug,F._strategy="local-jwt",q.sid=t}let V=(0,b.T)(q);if(z&&await (0,T.G)({collection:e,doc:F,payload:d.payload,req:d}),e.hooks?.beforeLogin?.length)for(let i of e.hooks.beforeLogin)F=await i({collection:t.collection?.config,context:t.req.context,req:t.req,user:F})||F;let{exp:H,token:W}=await (0,x.l)({fieldsToSign:V,secret:_,tokenExpiration:e.auth.tokenExpiration});if(d.user=F,e.hooks?.afterLogin?.length)for(let i of e.hooks.afterLogin)F=await i({collection:t.collection?.config,context:t.req.context,req:t.req,token:W,user:F})||F;if(F=await (0,m.r)({collection:e,context:d.context,depth:o,doc:F,draft:void 0,fallbackLocale:c,global:null,locale:g,overrideAccess:l,req:d,showHiddenFields:N}),e.hooks?.afterRead?.length)for(let i of e.hooks.afterRead)F=await i({collection:t.collection?.config,context:d.context,doc:F,req:d})||F;let G={exp:H,token:W,user:F};return G=await (0,a.O)({args:t,collection:t.collection?.config,operation:"login",result:G})}catch(e){throw await (0,y.n)(t.req),e}}},99699:(e,t,i)=>{"use strict";i.d(t,{n:()=>o});var r=i(53064),a=i(71207);let o=async e=>{let t=e,{allSessions:i,collection:{config:o},req:{user:l},req:d}=e;if(!l)throw new a.H("No User",r.i.BAD_REQUEST);if(l.collection!==o.slug)throw new a.H("Incorrect collection",r.i.FORBIDDEN);if(o.hooks?.afterLogout?.length)for(let e of o.hooks.afterLogout)t=await e({collection:t.collection?.config,context:d.context,req:d})||t;if(!0!==o.auth.disableLocalStrategy&&o.auth.useSessions){let e=await d.payload.db.findOne({collection:o.slug,req:d,where:{id:{equals:l.id}}});if(!e)throw new a.H("No User",r.i.BAD_REQUEST);if(i)e.sessions=[];else{let t=(e?.sessions||[]).filter(e=>e.id!==d?.user?._sid);e.sessions=t}await d.payload.db.updateOne({id:l.id,collection:o.slug,data:e,returning:!1})}return!0}},96620:(e,t,i)=>{"use strict";i.d(t,{e:()=>c});var r=i(41174);r.cv;let a=r.Jx;var o=i(71079),l=i(65165),d=i(55547);function p(e){let t,i;if("string"!=typeof e)throw new d.uv("JWTs must use Compact JWS serialization, JWT must be a string");let{1:r,length:p}=e.split(".");if(5===p)throw new d.uv("Only JWTs using Compact JWS serialization can be decoded");if(3!==p)throw new d.uv("Invalid JWT");if(!r)throw new d.uv("JWTs must contain a payload");try{t=a(r)}catch{throw new d.uv("Failed to base64url decode the payload")}try{i=JSON.parse(o.xv.decode(t))}catch{throw new d.uv("Failed to parse the decoded payload as JSON")}if(!(0,l.Z)(i))throw new d.uv("Invalid JWT Claims Set");return i}let c=async e=>{let{collection:t,currentToken:i,depth:r,draft:a,joins:o,populate:l,req:d,select:c}=e,u={user:null};if(d.user){let{pathname:h}=d,m=h===`/api${d.payload.config.routes.graphQL}`,g=await d.payload.findByID({id:d.user.id,collection:t.config.slug,depth:m?0:r??t.config.auth.depth,draft:a,joins:o,overrideAccess:!1,populate:l,req:d,select:c,showHiddenFields:!1});if(g&&(g.collection=t.config.slug,g._strategy=d.user._strategy),d.user.collection!==t.config.slug)return{user:null};for(let i of t.config.hooks.me){let t=await i({args:e,user:g});if(t){u.user=t.user,u.exp=t.exp;break}}if(u.collection=d.user.collection,u.strategy=d.user._strategy,!u.user&&(u.user=g,i)){let e=p(i);e&&(u.exp=e.exp),t.config.auth.removeTokenFromResponses||(u.token=i)}}if(t.config.hooks?.afterMe?.length)for(let e of t.config.hooks.afterMe)u=await e({collection:t?.config,context:d.context,req:d,response:u})||u;return u}},37043:(e,t,i)=>{"use strict";i.d(t,{e:()=>m});var r=i(57310),a=i(46803),o=i(28294),l=i(3603),d=i(30651),p=i(31769),c=i(44039),u=i(65388),h=i(15605);let m=async e=>{let t=e;try{let e;let i=await (0,d.n)(t.req);if(t.collection.config.hooks?.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection?.config,context:t.req.context,operation:"refresh",req:t.req})||t;let{collection:{config:p},req:m,req:{payload:{config:g,secret:y}}}=t;if(!t.req.user)throw new o.r(t.req.t);let v=r.parse(t.req.url).pathname===g.routes.graphQL,b=await t.req.payload.findByID({id:t.req.user.id,collection:t.req.user.collection,depth:v?0:t.collection.config.auth.depth,req:t.req}),w=t.req.user._sid;if(p.auth.useSessions&&!p.auth.disableLocalStrategy){if(!Array.isArray(b.sessions)||!w)throw new o.r(t.req.t);let e=b.sessions.find(({id:e})=>e===w),i=new Date,r=1e3*p.auth.tokenExpiration;e.expiresAt=new Date(i.getTime()+r),await m.payload.db.updateOne({id:b.id,collection:p.slug,data:{...b,sessions:(0,h.C)(b.sessions)},req:m,returning:!1})}for(let i of(b&&(b.collection=t.req.user.collection,b._strategy=t.req.user._strategy),t.collection.config.hooks.refresh)){let r=await i({args:t,user:b});if(r){e=r;break}}if(!e){let i=(0,c.T)({collectionConfig:p,email:b?.email,sid:w,user:t?.req?.user}),{exp:r,token:a}=await (0,u.l)({fieldsToSign:i,secret:y,tokenExpiration:p.auth.tokenExpiration});e={exp:r,refreshedToken:a,setCookie:!0,strategy:t.req.user._strategy,user:b}}if(p.hooks?.afterRefresh?.length)for(let i of p.hooks.afterRefresh)e=await i({collection:t.collection?.config,context:t.req.context,exp:e.exp,req:t.req,token:e.refreshedToken})||e;return e=await (0,a.O)({args:t,collection:t.collection?.config,operation:"refresh",result:e}),i&&await (0,l._)(m),e}catch(e){throw await (0,p.n)(t.req),e}}},31411:(e,t,i)=>{"use strict";i.d(t,{v:()=>y});var r=i(53064),a=i(46803),o=i(71207),l=i(28294),d=i(3603),p=i(30651),c=i(31769),u=i(44039),h=i(65388),m=i(10417),g=i(32410);let y=async e=>{let{collection:{config:t},data:i,depth:y,overrideAccess:v,req:{payload:{secret:b},payload:w},req:_}=e;if(!Object.prototype.hasOwnProperty.call(i,"token")||!Object.prototype.hasOwnProperty.call(i,"password"))throw new o.H("Missing required data.",r.i.BAD_REQUEST);if(t.auth.disableLocalStrategy)throw new l.r(_.t);try{let l=await (0,p.n)(_);if(e.collection.config.hooks?.beforeOperation?.length)for(let t of e.collection.config.hooks.beforeOperation)e=await t({args:e,collection:e.collection?.config,context:e.req.context,operation:"resetPassword",req:e.req})||e;let c=await w.db.findOne({collection:t.slug,req:_,where:{resetPasswordExpiration:{greater_than:new Date().toISOString()},resetPasswordToken:{equals:i.token}}});if(!c)throw new o.H("Token is either invalid or has expired.",r.i.FORBIDDEN);let{hash:x,salt:S}=await (0,g.l)({collection:t,password:i.password,req:_});if(c.salt=S,c.hash=x,c.resetPasswordExpiration=new Date().toISOString(),t.auth.verify&&(c._verified=!!c._verified),t.hooks?.beforeValidate?.length)for(let i of t.hooks.beforeValidate)await i({collection:e.collection?.config,context:_.context,data:c,operation:"update",req:_});let E=await w.db.updateOne({id:c.id,collection:t.slug,data:c,req:_});await (0,m.J)({doc:E,password:i.password});let k=(0,u.T)({collectionConfig:t,email:c.email,user:c}),{token:T}=await (0,h.l)({fieldsToSign:k,secret:b,tokenExpiration:t.auth.tokenExpiration}),C=await w.findByID({id:c.id,collection:t.slug,depth:y,overrideAccess:v,req:_});l&&await (0,d._)(_),C&&(C.collection=t.slug,C._strategy="local-jwt");let N={token:T,user:C};return N=await (0,a.O)({args:e,collection:e.collection?.config,operation:"resetPassword",result:N})}catch(e){throw await (0,c.n)(_),e}}},18690:(e,t,i)=>{"use strict";i.d(t,{R:()=>m});var r=i(53064),a=i(71207),o=i(28294),l=i(3603),d=i(30651),p=i(31769),c=i(53318),u=i(27519),h=i(53403);let m=async e=>{let{collection:{config:t},overrideAccess:i,req:{locale:m},req:g}=e,y=t.auth.loginWithUsername,{canLoginWithEmail:v,canLoginWithUsername:b}=(0,u.D)(y),w=v&&(e.data?.email||"").toLowerCase().trim(),_=b&&"username"in e.data&&"string"==typeof e.data.username&&e.data.username.toLowerCase().trim()||null;if(t.auth.disableLocalStrategy)throw new o.r(g.t);if(!w&&!_)throw new a.H(`Missing ${t.auth.loginWithUsername?"username":"email"}.`,r.i.BAD_REQUEST);try{let e=await (0,d.n)(g);i||await (0,c.K)({req:g},t.access.unlock);let r={};v&&w?r={email:{equals:w}}:b&&_&&(r={username:{equals:_}});let a=await g.payload.db.findOne({collection:t.slug,locale:m,req:g,where:r}),o=null;return a?(await (0,h.G)({collection:t,doc:a,payload:g.payload,req:g}),o=!0):o=null,e&&await (0,l._)(g),o}catch(e){throw await (0,p.n)(g),e}}},5420:(e,t,i)=>{"use strict";i.d(t,{v:()=>c});var r=i(53064),a=i(28294),o=i(71207),l=i(3603),d=i(30651),p=i(31769);let c=async e=>{let{collection:t,req:i,token:c}=e;if(t.config.auth.disableLocalStrategy)throw new a.r(i.t);if(!Object.prototype.hasOwnProperty.call(e,"token"))throw new o.H("Missing required data.",r.i.BAD_REQUEST);try{let e=await (0,d.n)(i),a=await i.payload.db.findOne({collection:t.config.slug,req:i,where:{_verificationToken:{equals:c}}});if(!a)throw new o.H("Verification token is invalid.",r.i.FORBIDDEN);return await i.payload.db.updateOne({id:a.id,collection:t.config.slug,data:{...a,_verificationToken:null,_verified:!0},req:i,returning:!1}),e&&await (0,l._)(i),!0}catch(e){throw await (0,p.n)(i),e}}},15605:(e,t,i)=>{"use strict";i.d(t,{C:()=>r});let r=e=>{let t=new Date;return e.filter(({expiresAt:e})=>(e instanceof Date?e:new Date(e))>t)}},10417:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var r=i(6113),a=i(67687);let o=async({doc:e,password:t})=>{try{let{hash:i,salt:o}=e;if("string"==typeof o&&"string"==typeof i)return await new Promise((l,d)=>{r.pbkdf2(t,o,25e3,512,"sha256",(t,r)=>{t&&d(t),a(r,Buffer.from(i,"hex"))?l(e):d(Error("Invalid password"))})});return null}catch(e){return null}}},32410:(e,t,i)=>{"use strict";i.d(t,{l:()=>p});var r=i(6113),a=i(96497),o=i(7921);function l(){return new Promise((e,t)=>r.randomBytes(32,(i,r)=>i?t(i):e(r)))}function d(e,t){return new Promise((i,a)=>r.pbkdf2(e,t,25e3,512,"sha256",(e,t)=>e?a(e):i(t)))}let p=async({collection:e,password:t,req:i})=>{let r=(0,o.Bj)(t,{name:"password",type:"text",blockData:{},data:{},event:"submit",path:["password"],preferences:{fields:{}},req:i,required:!0,siblingData:{}});if("string"==typeof r)throw new a.p({collection:e?.slug,errors:[{message:r,path:"password"}]});let p=(await l()).toString("hex");return{hash:(await d(t,p)).toString("hex"),salt:p}}},53403:(e,t,i)=>{"use strict";i.d(t,{G:()=>r});let r=async({collection:e,doc:t,payload:i,req:r})=>{("lockUntil"in t&&"string"==typeof t.lockUntil||"loginAttempts"in t&&0!==t.loginAttempts)&&await i.update({id:t.id,collection:e.slug,data:{lockUntil:null,loginAttempts:0},depth:0,overrideAccess:!0,req:r})}},96602:(e,t,i)=>{"use strict";function r(e){return e&&"object"==typeof e}i.d(t,{r:()=>r})},9291:(e,t,i)=>{"use strict";function r(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}i.d(t,{O:()=>o});let a=["Cell","Description","Field","Filter"];function o({addToImportMap:e,baseDir:t,config:i,fields:l,importMap:d,imports:p}){for(let c of l){if("fields"in c)o({addToImportMap:e,baseDir:t,config:i,fields:c.fields,importMap:d,imports:p});else if("blocks"===c.type)o({addToImportMap:e,baseDir:t,config:i,fields:c.blocks.filter(e=>"string"!=typeof e),importMap:d,imports:p});else if("tabs"===c.type)o({addToImportMap:e,baseDir:t,config:i,fields:c.tabs,importMap:d,imports:p});else if("richText"===c.type)c?.editor&&"object"==typeof c.editor&&c.editor.generateImportMap&&"function"==typeof c.editor.generateImportMap&&c.editor.generateImportMap({addToImportMap:e,baseDir:t,config:i,importMap:d,imports:p});else if("ui"===c.type&&c?.admin?.components)for(let t in c.admin.components)t in a||e(c.admin.components[t]);r(c?.admin,"jsx")&&e(c.admin.jsx),r(c?.admin?.components,"Label")&&e(c.admin.components.Label),r(c?.admin?.components,"Block")&&e(c.admin.components.Block),r(c?.admin?.components,"Cell")&&e(c?.admin?.components?.Cell),r(c?.admin?.components,"Description")&&e(c?.admin?.components?.Description),r(c?.admin?.components,"Field")&&e(c?.admin?.components?.Field),r(c?.admin?.components,"Filter")&&e(c?.admin?.components?.Filter),r(c?.admin?.components,"Error")&&e(c?.admin?.components?.Error),r(c?.admin?.components,"afterInput")&&e(c?.admin?.components?.afterInput),r(c?.admin?.components,"beforeInput")&&e(c?.admin?.components?.beforeInput),r(c?.admin?.components,"RowLabel")&&e(c?.admin?.components?.RowLabel),r(c?.admin?.components,"Diff")&&e(c?.admin?.components?.Diff)}}},50730:(e,t,i)=>{"use strict";function r(e){if(!e)return null;let t="string"==typeof e?e:e.path,i="",r="default";return t?.includes("#")?[i,r]=t.split("#"):i=t,"object"==typeof e&&e.exportName&&(r=e.exportName),{exportName:r,path:i}}i.d(t,{n:()=>r})},62437:(e,t,i)=>{"use strict";i.d(t,{o:()=>l,u:()=>p});var r=i(81651),a=i(18032);let o=e=>async t=>{let{payload:i}=e,r=t.map(()=>null),o={};for(let e of t){let[t,r,l,d,p,c,u,h,m,g,y,v]=JSON.parse(e),b=JSON.stringify([t,r,d,p,c,u,h,m,g,y,v]),w=i.collections?.[r]?.customIDType||i.db.defaultIDType,_="number"===w?parseFloat(l):l;(0,a.k)(_,w)&&(o[b]=[...o[b]||[],_])}for(let[a,l]of Object.entries(o)){let[o,d,c,u,h,m,g,y,v,b,w]=JSON.parse(a);for(let a of(e.transactionID=o,(await i.find({collection:d,currentDepth:u,depth:c,disableErrors:!0,draft:v,fallbackLocale:m,locale:h,overrideAccess:!!g,pagination:!1,populate:w,req:e,select:b,showHiddenFields:!!y,where:{id:{in:l}}})).docs)){let i=p({collectionSlug:d,currentDepth:u,depth:c,docID:a.id,draft:v,fallbackLocale:m,locale:h,overrideAccess:g,populate:w,select:b,showHiddenFields:y,transactionID:e.transactionID}),o=t.findIndex(e=>e===i);o>-1&&(r[o]=a)}}return r},l=e=>{let t=new Map,i=new r(o(e));return i.find=i=>{let r=d(i),a=t.get(r);if(a)return a;let o=e.payload.find(i);return t.set(r,o),o},i},d=({collection:e,currentDepth:t,depth:i,disableErrors:r,draft:a,includeLockStatus:o,joins:l,limit:d,overrideAccess:p,page:c,pagination:u,populate:h,req:m,select:g,showHiddenFields:y,sort:v,where:b})=>JSON.stringify([e,t,i,r,a,o,l,d,p,c,u,h,m?.locale,m?.fallbackLocale,m?.user?.id,m?.transactionID,g,y,v,b]),p=({collectionSlug:e,currentDepth:t,depth:i,docID:r,draft:a,fallbackLocale:o,locale:l,overrideAccess:d,populate:p,select:c,showHiddenFields:u,transactionID:h})=>JSON.stringify([h,e,r,i,t,l,o,d,u,a,c,p])},77506:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(53318),a=i(92242),o=i(95154),l=i(93826),d=i(31769),p=i(46803);let c=async e=>{let t=e;try{let e,i;if(t.collection.config.hooks?.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection.config,context:t.req.context,operation:"count",req:t.req})||t;let{collection:{config:d},disableErrors:c,overrideAccess:u,req:h,where:m}=t,{payload:g}=h;if(!u&&(e=await (0,r.K)({disableErrors:c,req:h},d.access.read),!1===e))return{totalDocs:0};let y=(0,a.W)(m,e);return(0,l.Z)({fields:d.flattenedFields,payload:g,where:y}),await (0,o.a)({collectionConfig:d,overrideAccess:u,req:h,where:m}),i=await g.db.count({collection:d.slug,req:h,where:y}),i=await (0,p.O)({args:t,collection:d,operation:"count",result:i})}catch(e){throw await (0,d.n)(t.req),e}}},29592:(e,t,i)=>{"use strict";i.d(t,{z:()=>z});var r=i(6113),a=i(6713),o=i(53318),l=i(57310);async function d(e){let{collection:{config:t},config:i,disableEmail:r,email:a,req:o,token:d,user:p}=e;if(!r){let e=new l.URL(o.url).protocol,r=null!==i.serverURL&&""!==i.serverURL?i.serverURL:`${e}//${o.headers.get("host")}`,c=`${r}${i.routes.admin}/${t.slug}/verify/${d}`,u=`${o.t("authentication:newAccountCreated",{serverURL:i.serverURL,verificationURL:c})}`,h=t.auth.verify;"function"==typeof h.generateEmailHTML&&(u=await h.generateEmailHTML({req:o,token:d,user:p}));let m=o.t("authentication:verifyYourEmail");"function"==typeof h.generateEmailSubject&&(m=await h.generateEmailSubject({req:o,token:d,user:p})),await a.sendEmail({from:`"${a.defaultFromName}" <${a.defaultFromAddress}>`,html:u,subject:m,to:p.email})}}var p=i(96497),c=i(27519),u=i(32410);let h=async({collection:e,doc:t,password:i,payload:r,req:a,select:o})=>{let l;let d=e?.auth?.loginWithUsername,{canLoginWithEmail:h,canLoginWithUsername:m}=(0,c.D)(d);if(m?(l={or:[]},h&&t.email&&l.or?.push({email:{equals:t.email}}),t.username&&l.or?.push({username:{equals:t.username}})):l={email:{equals:t.email}},(await r.find({collection:e.slug,depth:0,limit:1,pagination:!1,req:a,where:l})).docs.length>0)throw new p.p({collection:e.slug,errors:[m?{message:a.t("error:usernameAlreadyRegistered"),path:"username"}:{message:a.t("error:userEmailAlreadyRegistered"),path:"email"}]});let{hash:g,salt:y}=await (0,u.l)({collection:e,password:i,req:a}),v={...t};return v.password&&delete v.password,r.db.create({collection:e.slug,data:{...v,hash:g,salt:y},req:a,select:o})};var m=i(96602),g=i(92242),y=i(28294),v=i(39399),b=i(11161),w=i(32017),_=i(50768);let x=async({id:e,blockData:t,collection:i,context:r,doc:a,field:o,fieldIndex:l,overrideAccess:d,parentIndexPath:p,parentIsLocalized:c,parentPath:u,parentSchemaPath:h,req:m,siblingDoc:g,siblingFields:y})=>{let{indexPath:v,path:b,schemaPath:x}=(0,_.F)({field:o,index:l,parentIndexPath:p,parentPath:u,parentSchemaPath:h}),{localization:E}=m.payload.config,k=b?b.split("."):[],T=x?x.split("."):[],C=v?v.split("-").filter(Boolean)?.map(Number):[];if((0,w.j7)(o)){let l=g?.[o.name],p=E&&(0,w.iD)({field:o,parentIsLocalized:c});if(Array.isArray(o.hooks?.beforeDuplicate)){if(p){let e={};for(let l of E.localeCodes){let d;let p={blockData:t,collection:i,context:r,data:a,field:o,global:void 0,indexPath:C,path:k,previousSiblingDoc:g,previousValue:g[o.name]?.[l],req:m,schemaPath:T,siblingData:g,siblingDocWithLocales:g,siblingFields:y,value:g[o.name]?.[l]};for(let e of o.hooks.beforeDuplicate)d=await e(p);void 0!==d&&(e[l]=d)}g[o.name]=e}else{let e;let l={blockData:t,collection:i,context:r,data:a,field:o,global:void 0,indexPath:C,path:k,previousSiblingDoc:g,previousValue:g[o.name],req:m,schemaPath:T,siblingData:g,siblingDocWithLocales:g,siblingFields:y,value:g[o.name]};for(let t of o.hooks.beforeDuplicate)e=await t(l);void 0!==e&&(g[o.name]=e)}}if(p){("object"!=typeof l||null===l)&&(g[o.name]={},l=g[o.name]);let p=[];E.localeCodes.forEach(u=>{if(l[u])switch(o.type){case"array":{let p=l[u];if(Array.isArray(p)){let l=[];p.forEach((p,u)=>{l.push(S({id:e,blockData:t,collection:i,context:r,doc:a,fields:o.fields,overrideAccess:d,parentIndexPath:"",parentIsLocalized:c||o.localized,parentPath:b+"."+u,parentSchemaPath:x,req:m,siblingDoc:p}))})}break}case"blocks":{let t=l[u];if(Array.isArray(t)){let l=[];t.forEach((t,p)=>{let u=t.blockType,h=m.payload.blocks[u]??(o.blockReferences??o.blocks).find(e=>"string"!=typeof e&&e.slug===u);l.push(S({id:e,blockData:t,collection:i,context:r,doc:a,fields:h.fields,overrideAccess:d,parentIndexPath:"",parentIsLocalized:c||o.localized,parentPath:b+"."+p,parentSchemaPath:x+"."+h.slug,req:m,siblingDoc:t}))})}break}case"group":case"tab":p.push(S({id:e,blockData:t,collection:i,context:r,doc:a,fields:o.fields,overrideAccess:d,parentIndexPath:"",parentIsLocalized:c||o.localized,parentPath:b,parentSchemaPath:x,req:m,siblingDoc:l[u]}))}}),await Promise.all(p)}else switch(o.type){case"array":{let l=g[o.name];if(Array.isArray(l)){let p=[];l.forEach((l,u)=>{p.push(S({id:e,blockData:t,collection:i,context:r,doc:a,fields:o.fields,overrideAccess:d,parentIndexPath:"",parentIsLocalized:c||o.localized,parentPath:b+"."+u,parentSchemaPath:x,req:m,siblingDoc:l}))}),await Promise.all(p)}break}case"blocks":{let t=g[o.name];if(Array.isArray(t)){let l=[];t.forEach((t,p)=>{let u=t.blockType,h=m.payload.blocks[u]??(o.blockReferences??o.blocks).find(e=>"string"!=typeof e&&e.slug===u);h&&(t.blockType=u,l.push(S({id:e,blockData:t,collection:i,context:r,doc:a,fields:h.fields,overrideAccess:d,parentIndexPath:"",parentIsLocalized:c||o.localized,parentPath:b+"."+p,parentSchemaPath:x+"."+h.slug,req:m,siblingDoc:t})))}),await Promise.all(l)}break}case"group":{"object"!=typeof g[o.name]&&(g[o.name]={});let l=g[o.name];await S({id:e,blockData:t,collection:i,context:r,doc:a,fields:o.fields,overrideAccess:d,parentIndexPath:"",parentIsLocalized:c||o.localized,parentPath:b,parentSchemaPath:x,req:m,siblingDoc:l});break}case"tab":{"object"!=typeof g[o.name]&&(g[o.name]={});let l=g[o.name];await S({id:e,blockData:t,collection:i,context:r,doc:a,fields:o.fields,overrideAccess:d,parentIndexPath:"",parentIsLocalized:c||o.localized,parentPath:b,parentSchemaPath:x,req:m,siblingDoc:l})}}}else switch(o.type){case"collapsible":case"group":case"row":case"tab":await S({id:e,blockData:t,collection:i,context:r,doc:a,fields:o.fields,overrideAccess:d,parentIndexPath:v,parentIsLocalized:c,parentPath:u,parentSchemaPath:x,req:m,siblingDoc:g});break;case"tabs":await S({id:e,blockData:t,collection:i,context:r,doc:a,fields:o.tabs.map(e=>({...e,type:"tab"})),overrideAccess:d,parentIndexPath:v,parentIsLocalized:c,parentPath:b,parentSchemaPath:x,req:m,siblingDoc:g})}},S=async({id:e,blockData:t,collection:i,context:r,doc:a,fields:o,overrideAccess:l,parentIndexPath:d,parentIsLocalized:p,parentPath:c,parentSchemaPath:u,req:h,siblingDoc:m})=>{let g=[];o.forEach((y,v)=>{g.push(x({id:e,blockData:t,collection:i,context:r,doc:a,field:y,fieldIndex:v,overrideAccess:l,parentIndexPath:d,parentIsLocalized:p,parentPath:c,parentSchemaPath:u,req:h,siblingDoc:m,siblingFields:o}))}),await Promise.all(g)},E=async({id:e,collection:t,context:i,doc:r,overrideAccess:a,req:o})=>(await S({id:e,collection:t,context:i,doc:r,fields:t.fields,overrideAccess:a,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:o,siblingDoc:r}),r);var k=i(60814),T=i(35919);let C=async({id:e,collectionConfig:t,draftArg:i,overrideAccess:r,req:a,shouldSaveDraft:l})=>{let{payload:d}=a,p=!!r||await (0,o.K)({id:e,req:a},t.access.read),c=(0,m.r)(p),u={collection:t.slug,locale:a.locale,req:a,where:(0,g.W)({id:{equals:e}},p)},h=await (0,T.K)({id:e,config:t,payload:d,query:u,req:a});if(!h&&!c)throw new v.T(a.t);if(!h&&c)throw new y.r(a.t);return"createdAt"in h&&delete h.createdAt,"id"in h&&delete h.id,h=await E({id:e,collection:t,context:a.context,doc:h,overrideAccess:r,req:a}),l&&(h._status="draft"),{duplicatedFromDoc:await (0,b.r)({collection:t,context:a.context,depth:0,doc:(0,k.Ee)(h),draft:i,fallbackLocale:null,global:null,locale:a.locale,overrideAccess:!0,req:a,showHiddenFields:!0}),duplicatedFromDocWithLocales:h}};var N=i(28581),O=i(14597),P=i(48194),I=i(97989),L=i(78092),D=i(32882),R=i(3603),$=i(30651),j=i(31769),M=i(12893),U=i(27591),F=i(72585),B=i(46803);let z=async e=>{let t=e;try{let e;let i=!t.disableTransaction&&await (0,$.n)(t.req);if((0,a.T)({authOptions:t.collection.config.auth,collectionSlug:t.collection.config.slug,data:t.data,operation:"create",req:t.req}),t.collection.config.hooks.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection.config,context:t.req.context,operation:"create",req:t.req})||t;let{autosave:l=!1,collection:{config:p},collection:c,depth:u,disableVerificationEmail:m,draft:g=!1,duplicateFromID:y,overrideAccess:v,overwriteExistingFiles:w=!1,populate:_,req:{fallbackLocale:x,locale:S,payload:E,payload:{config:k}},req:T,select:j,showHiddenFields:z}=t,{data:q}=t,V=!!(g&&p.versions.drafts),H={},W={};if(y){let e=await C({id:y,collectionConfig:p,draftArg:V,overrideAccess:v,req:T,shouldSaveDraft:V});W=e.duplicatedFromDoc,H=e.duplicatedFromDocWithLocales}v||await (0,o.K)({data:q,req:T},p.access.create);let{data:G,files:K}=await (0,I.q)({collection:c,config:k,data:q,isDuplicating:!!y,operation:"create",originalDoc:W,overwriteExistingFiles:w,req:T,throwOnMissingFile:!V&&!1!==c.config.upload.filesRequiredOnCreate});if(q=G,q=await (0,P._)({collection:p,context:T.context,data:q,doc:W,global:null,operation:"create",overrideAccess:v,req:T}),p.hooks.beforeValidate?.length)for(let e of p.hooks.beforeValidate)q=await e({collection:p,context:T.context,data:q,operation:"create",originalDoc:W,req:T})||q;if(p.hooks?.beforeChange?.length)for(let e of p.hooks.beforeChange)q=await e({collection:p,context:T.context,data:q,operation:"create",originalDoc:W,req:T})||q;let J=await (0,O.G)({collection:p,context:T.context,data:q,doc:W,docWithLocales:H,global:null,operation:"create",overrideAccess:v,req:T,skipValidation:V&&p.versions.drafts&&!p.versions.drafts.validate});p.upload.disableLocalStorage||await (0,D.I)(E,K,T);let Q=(0,U.y)({fields:p.flattenedFields,forceSelect:p.forceSelect,select:j});p.auth&&!p.auth.disableLocalStrategy?(p.auth.verify&&(J._verified=!!J._verified,J._verificationToken=r.randomBytes(20).toString("hex")),e=await h({collection:p,doc:J,password:q.password,payload:T.payload,req:T,select:Q})):e=await E.db.create({collection:p.slug,data:J,req:T,select:Q});let Y=e._verificationToken,Z=(0,M.K)(e);if(p.versions&&await (0,F.U)({id:Z.id,autosave:l,collection:p,docWithLocales:Z,payload:E,req:T}),p.auth&&p.auth.verify&&Z.email&&await d({collection:{config:p},config:E.config,disableEmail:m,email:E.email,req:T,token:Y,user:Z}),Z=await (0,b.r)({collection:p,context:T.context,depth:u,doc:Z,draft:g,fallbackLocale:x,global:null,locale:S,overrideAccess:v,populate:_,req:T,select:Q,showHiddenFields:z}),p.hooks?.afterRead?.length)for(let e of p.hooks.afterRead)Z=await e({collection:p,context:T.context,doc:Z,req:T})||Z;if(Z=await (0,N.U)({collection:p,context:T.context,data:q,doc:Z,global:null,operation:"create",previousDoc:{},req:T}),p.hooks?.afterChange?.length)for(let e of p.hooks.afterChange)Z=await e({collection:p,context:T.context,data:q,doc:Z,operation:"create",previousDoc:{},req:t.req})||Z;return Z=await (0,B.O)({args:t,collection:p,operation:"create",result:Z}),await (0,L.C)({collectionConfig:p,config:k,req:T}),i&&await (0,R._)(T),Z}catch(e){throw await (0,j.n)(t.req),e}}},78362:(e,t,i)=>{"use strict";i.d(t,{Q:()=>S});var r=i(53064),a=i(53318),o=i(92242),l=i(95154),d=i(93826),p=i(71207),c=i(11161),u=i(68811),h=i(39241),m=i(94797),g=i(3603),y=i(30651),v=i(31769),b=i(27591),w=i(78242),_=i(22406),x=i(46803);let S=async e=>{let t=e;try{let e;let i=!t.disableTransaction&&await (0,y.n)(t.req);if(t.collection.config.hooks?.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection.config,context:t.req.context,operation:"delete",req:t.req})||t;let{collection:{config:v},depth:S,overrideAccess:E,overrideLock:k,populate:T,req:{fallbackLocale:C,locale:N,payload:{config:O},payload:P},req:I,select:L,showHiddenFields:D,where:R}=t;if(!R)throw new p.H("Missing 'where' query of documents to delete.",r.i.BAD_REQUEST);E||(e=await (0,a.K)({req:I},v.access.delete)),await (0,l.a)({collectionConfig:v,overrideAccess:E,req:I,where:R});let $=(0,o.W)(R,e);(0,d.Z)({fields:v.flattenedFields,payload:P,where:$});let j=(0,b.y)({fields:v.flattenedFields,forceSelect:v.forceSelect,select:L}),{docs:M}=await P.db.find({collection:v.slug,locale:N,req:I,select:j,where:$}),U=[],F=M.map(async e=>{let t;let{id:i}=e;try{if(await (0,m.Z)({id:i,collectionSlug:v.slug,lockErrorMessage:`Document with ID ${i} is currently locked and cannot be deleted.`,overrideLock:k,req:I}),v.hooks?.beforeDelete?.length)for(let e of v.hooks.beforeDelete)await e({id:i,collection:v,context:I.context,req:I});if(await (0,h.H)({collectionConfig:v,config:O,doc:e,overrideDelete:!0,req:I}),v.versions&&await (0,w._)({id:i,slug:v.slug,payload:P,req:I}),v.versions?.drafts&&v.versions.drafts.schedulePublish&&await (0,_.O)({id:i,slug:v.slug,payload:P,req:I}),await P.db.deleteOne({collection:v.slug,req:I,returning:!1,where:{id:{equals:i}}}),t=await (0,c.r)({collection:v,context:I.context,depth:S,doc:t||e,draft:void 0,fallbackLocale:C,global:null,locale:N,overrideAccess:E,populate:T,req:I,select:j,showHiddenFields:D}),v.hooks?.afterRead?.length)for(let i of v.hooks.afterRead)t=await i({collection:v,context:I.context,doc:t||e,req:I})||t;if(v.hooks?.afterDelete?.length)for(let e of v.hooks.afterDelete)t=await e({id:i,collection:v,context:I.context,doc:t,req:I})||t;return t}catch(t){U.push({id:e.id,message:t instanceof Error?t.message:"Unknown error"})}return null}),B=await Promise.all(F);await (0,u.L)({collectionConfig:v,ids:M.map(({id:e})=>e),payload:P,req:I});let z={docs:B.filter(Boolean),errors:U};return z=await (0,x.O)({args:t,collection:v,operation:"delete",result:z}),i&&await (0,g._)(I),z}catch(e){throw await (0,v.n)(t.req),e}}},59561:(e,t,i)=>{"use strict";i.d(t,{w:()=>x});var r=i(53318),a=i(96602),o=i(92242),l=i(39399),d=i(28294),p=i(11161),c=i(68811),u=i(39241),h=i(94797),m=i(3603),g=i(30651),y=i(31769),v=i(27591),b=i(78242),w=i(22406),_=i(46803);let x=async e=>{let t=e;try{let e=!t.disableTransaction&&await (0,g.n)(t.req);if(t.collection.config.hooks?.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection.config,context:t.req.context,operation:"delete",req:t.req})||t;let{id:i,collection:{config:y},depth:x,overrideAccess:S,overrideLock:E,populate:k,req:{fallbackLocale:T,locale:C,payload:{config:N},payload:O},req:P,select:I,showHiddenFields:L}=t,D=!!S||await (0,r.K)({id:i,req:P},y.access.delete),R=(0,a.r)(D);if(y.hooks?.beforeDelete?.length)for(let e of y.hooks.beforeDelete)await e({id:i,collection:y,context:P.context,req:P});let $=await P.payload.db.findOne({collection:y.slug,locale:P.locale,req:P,where:(0,o.W)({id:{equals:i}},D)});if(!$&&!R)throw new l.T(P.t);if(!$&&R)throw new d.r(P.t);await (0,h.Z)({id:i,collectionSlug:y.slug,lockErrorMessage:`Document with ID ${i} is currently locked and cannot be deleted.`,overrideLock:E,req:P}),await (0,u.H)({collectionConfig:y,config:N,doc:$,overrideDelete:!0,req:P}),y.versions&&await (0,b._)({id:i,slug:y.slug,payload:O,req:P}),y.versions?.drafts&&y.versions.drafts.schedulePublish&&await (0,w.O)({id:i,slug:y.slug,payload:O,req:P});let j=(0,v.y)({fields:y.flattenedFields,forceSelect:y.forceSelect,select:I}),M=await P.payload.db.deleteOne({collection:y.slug,req:P,select:j,where:{id:{equals:i}}});if(await (0,c.L)({collectionConfig:y,ids:[i],payload:O,req:P}),M=await (0,p.r)({collection:y,context:P.context,depth:x,doc:M,draft:void 0,fallbackLocale:T,global:null,locale:C,overrideAccess:S,populate:k,req:P,select:j,showHiddenFields:L}),y.hooks?.afterRead?.length)for(let e of y.hooks.afterRead)M=await e({collection:y,context:P.context,doc:M,req:P})||M;if(y.hooks?.afterDelete?.length)for(let e of y.hooks.afterDelete)M=await e({id:i,collection:y,context:P.context,doc:M,req:P})||M;return M=await (0,_.O)({args:t,collection:y,operation:"deleteByID",result:M}),e&&await (0,m._)(P),M}catch(e){throw await (0,y.n)(t.req),e}}},83906:(e,t,i)=>{"use strict";i.d(t,{g:()=>d});var r=i(62873),a=i(31769),o=i(65350);let l=["create","read","update","delete"];async function d(e){let{id:t,collection:{config:i},req:d}=e,p=[...l];i.auth&&void 0!==i.auth.maxLoginAttempts&&0!==i.auth.maxLoginAttempts&&p.push("unlock"),i.versions&&p.push("readVersions");try{let e=await (0,r.s)({id:t,type:"collection",blockPolicies:{},entity:i,operations:p,req:d});return(0,o.AN)({collections:{[i.slug]:e}}).collections[i.slug]}catch(e){throw await (0,a.n)(d),e}}},30799:(e,t,i)=>{"use strict";i.d(t,{J:()=>a});var r=i(29592);let a=async e=>{let{id:t,...i}=e;return(0,r.z)({...i,data:e?.data||{},duplicateFromID:t})}},19415:(e,t,i)=>{"use strict";i.d(t,{O:()=>x});var r=i(53318),a=i(92242),o=i(95154),l=i(41799),d=i(93826),p=i(11161),c=i(34428),u=i(31769),h=i(27591),m=i(5329),g=i(51386),y=i(68719),v=i(64725),b=i(8108),w=i(46803);let _=300,x=async e=>{let t=e;try{let e,i;if(t.collection.config.hooks?.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection.config,context:t.req.context,operation:"read",req:t.req})||t;let{collection:{config:u},collection:x,currentDepth:S,depth:E,disableErrors:k,draft:T,includeLockStatus:C,joins:N,limit:O,overrideAccess:P,page:I,pagination:L=!0,populate:D,select:R,showHiddenFields:$,sort:j,where:M}=t,U=t.req,{fallbackLocale:F,locale:B,payload:z}=U,q=(0,h.y)({fields:u.flattenedFields,forceSelect:u.forceSelect,select:R});if(!P&&(e=await (0,r.K)({disableErrors:k,req:U},u.access.read),!1===e))return{docs:[],hasNextPage:!1,hasPrevPage:!1,limit:O,nextPage:null,page:1,pagingCounter:1,prevPage:null,totalDocs:0,totalPages:1};let V=L&&0!==O,H=O??(V?10:0),W=I||1,G=(0,a.W)(M,e);(0,d.Z)({fields:u.flattenedFields,payload:z,where:G});let K=(0,b.i)({fields:x.config.flattenedFields,sort:j}),J=await (0,l._)({collectionConfig:u,joins:N,overrideAccess:P,req:U});if(u.versions?.drafts&&T?(G=(0,g.g)(G),await (0,o.a)({collectionConfig:x.config,overrideAccess:P,req:U,versionFields:(0,m.w)(z.config,x.config,!0),where:(0,g.g)(M)}),i=await z.db.queryDrafts({collection:u.slug,joins:"GraphQL"!==U.payloadAPI&&J,limit:H,locale:B,page:W,pagination:V,req:U,select:(0,y.g)({select:q}),sort:(0,v.u)({collectionConfig:u,sort:K}),where:G})):(await (0,o.a)({collectionConfig:u,overrideAccess:P,req:U,where:M}),i=await z.db.find({collection:u.slug,draftsEnabled:T,joins:"GraphQL"!==U.payloadAPI&&J,limit:H,locale:B,page:W,pagination:L,req:U,select:q,sort:K,where:G})),C)try{let e=u?.lockDocuments,t="object"==typeof e?e.duration:_,r=1e3*t,a=new Date().getTime(),o=await z.find({collection:c.g,depth:1,limit:H,overrideAccess:!1,pagination:!1,req:U,where:{and:[{"document.relationTo":{equals:u.slug}},{"document.value":{in:i.docs.map(e=>e.id)}},{updatedAt:{greater_than:new Date(a-r)}}]}}),l=(Array.isArray(o?.docs)?o.docs:[]).filter(e=>new Date(e?.updatedAt).getTime()+r>a);for(let e of i.docs){let t=l.find(t=>t?.document?.value===e.id);e._isLocked=!!t,e._userEditing=t?t?.user?.value:null}}catch(e){for(let e of i.docs)e._isLocked=!1,e._userEditing=null}return u?.hooks?.beforeRead?.length&&(i.docs=await Promise.all(i.docs.map(async e=>{let t=e;for(let e of u.hooks.beforeRead)t=await e({collection:u,context:U.context,doc:t,query:G,req:U})||t;return t}))),i.docs=await Promise.all(i.docs.map(async e=>(0,p.r)({collection:u,context:U.context,currentDepth:S,depth:E,doc:e,draft:T,fallbackLocale:F,findMany:!0,global:null,locale:B,overrideAccess:P,populate:D,req:U,select:q,showHiddenFields:$}))),u?.hooks?.afterRead?.length&&(i.docs=await Promise.all(i.docs.map(async e=>{let t=e;for(let i of u.hooks.afterRead)t=await i({collection:u,context:U.context,doc:t,findMany:!0,query:G,req:U})||e;return t}))),i=await (0,w.O)({args:t,collection:u,operation:"find",result:i})}catch(e){throw await (0,u.n)(t.req),e}}},39839:(e,t,i)=>{"use strict";i.d(t,{y:()=>v});var r=i(53318),a=i(92242),o=i(41799),l=i(93826),d=i(39399),p=i(11161),c=i(95154),u=i(34428),h=i(31769),m=i(27591),g=i(12519),y=i(46803);let v=async e=>{let t=e;try{if(t.collection.config.hooks?.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection.config,context:t.req.context,operation:"read",req:t.req})||t;let{id:e,collection:{config:i},currentDepth:h,depth:v,disableErrors:b,draft:w=!1,includeLockStatus:_,joins:x,overrideAccess:S=!1,populate:E,req:{fallbackLocale:k,locale:T,t:C},req:N,select:O,showHiddenFields:P}=t,I=(0,m.y)({fields:i.flattenedFields,forceSelect:i.forceSelect,select:O}),L=!!S||await (0,r.K)({id:e,disableErrors:b,req:N},i.access.read);if(!1===L)return null;let D={id:{equals:e}},R=(0,a.W)(D,L);(0,l.Z)({fields:i.flattenedFields,payload:t.req.payload,where:R});let $=await (0,o._)({collectionConfig:i,joins:x,overrideAccess:S,req:N}),j={collection:i.slug,draftsEnabled:w,joins:"GraphQL"!==N.payloadAPI&&$,locale:T,req:{transactionID:N.transactionID},select:I,where:R};if(N.payload.collections[i.slug].customIDType&&await (0,c.a)({collectionConfig:i,overrideAccess:S,req:N,where:D}),!j.where?.and?.[0]?.id)throw new d.T(C);let M=await N.payload.db.findOne(j);if(!M){if(!b)throw new d.T(N.t);return null}if(_&&e){let t=null;try{let r=i?.lockDocuments,a=300,o="object"==typeof r?r.duration:a,l=1e3*o,d=await N.payload.find({collection:u.g,depth:1,limit:1,overrideAccess:!1,pagination:!1,req:N,where:{and:[{"document.relationTo":{equals:i.slug}},{"document.value":{equals:e}},{updatedAt:{greater_than:new Date(new Date().getTime()-l)}}]}});d&&d.docs.length>0&&(t=d.docs[0])}catch{}M._isLocked=!!t,M._userEditing=t?.user?.value??null}if(i.versions?.drafts&&w&&(M=await (0,g.O)({accessResult:L,doc:M,entity:i,entityType:"collection",overrideAccess:S,req:N,select:I})),i.hooks?.beforeRead?.length)for(let e of i.hooks.beforeRead)M=await e({collection:i,context:N.context,doc:M,query:j.where,req:N})||M;if(M=await (0,p.r)({collection:i,context:N.context,currentDepth:h,depth:v,doc:M,draft:w,fallbackLocale:k,global:null,locale:T,overrideAccess:S,populate:E,req:N,select:I,showHiddenFields:P}),i.hooks?.afterRead?.length)for(let e of i.hooks.afterRead)M=await e({collection:i,context:N.context,doc:M,query:j.where,req:N})||M;return M=await (0,y.O)({args:t,collection:i,operation:"findByID",result:M})}catch(e){throw await (0,h.n)(t.req),e}}},35954:(e,t,i)=>{"use strict";i.d(t,{G:()=>y});var r=i(53064),a=i(53318),o=i(92242),l=i(71207),d=i(39399),p=i(28294),c=i(11161),u=i(31769),h=i(27591),m=i(5329),g=i(68719);let y=async e=>{let{id:t,collection:{config:i},currentDepth:y,depth:v,disableErrors:b,overrideAccess:w,populate:_,req:{fallbackLocale:x,locale:S,payload:E},req:k,select:T,showHiddenFields:C}=e;if(!t)throw new l.H("Missing ID of version.",r.i.BAD_REQUEST);try{let e=!!w||await (0,a.K)({id:t,disableErrors:b,req:k},i.access.readVersions);if(!1===e)return null;let r="object"==typeof e,l=(0,o.W)({id:{equals:t}},e),u=(0,h.y)({fields:(0,m.w)(E.config,i,!0),forceSelect:(0,g.g)({select:i.forceSelect}),select:T,versions:!0}),N=(await E.db.findVersions({collection:i.slug,limit:1,locale:S,pagination:!1,req:k,select:u,where:l})).docs[0];if(!N){if(!b){if(!r)throw new d.T(k.t);if(r)throw new p.r(k.t)}return null}if(N.version||(N.version={}),i.hooks?.beforeRead?.length)for(let e of i.hooks.beforeRead)N.version=await e({collection:i,context:k.context,doc:N.version,query:l,req:k})||N.version;if(N.version=await (0,c.r)({collection:i,context:k.context,currentDepth:y,depth:v,doc:N.version,draft:void 0,fallbackLocale:x,global:null,locale:S,overrideAccess:w,populate:_,req:k,select:"object"==typeof u?.version?u.version:void 0,showHiddenFields:C}),i.hooks?.afterRead?.length)for(let e of i.hooks.afterRead)N.version=await e({collection:i,context:k.context,doc:N.version,query:l,req:k})||N.version;return N}catch(e){throw await (0,u.n)(k),e}}},17563:(e,t,i)=>{"use strict";i.d(t,{a:()=>g});var r=i(53318),a=i(92242),o=i(95154),l=i(93826),d=i(11161),p=i(31769),c=i(12893),u=i(27591),h=i(5329),m=i(68719);let g=async e=>{let{collection:{config:t},depth:i,limit:g,overrideAccess:y,page:v,pagination:b=!0,populate:w,select:_,showHiddenFields:x,sort:S,where:E}=e,k=e.req,{fallbackLocale:T,locale:C,payload:N}=k;try{let e;y||(e=await (0,r.K)({req:k},t.access.readVersions));let p=(0,h.w)(N.config,t,!0);await (0,o.a)({collectionConfig:t,overrideAccess:y,req:k,versionFields:p,where:E});let O=(0,a.W)(E,e);(0,l.Z)({fields:p,payload:N,where:O});let P=(0,u.y)({fields:p,forceSelect:(0,m.g)({select:t.forceSelect}),select:_,versions:!0}),I=await N.db.findVersions({collection:t.slug,limit:g??10,locale:C,page:v||1,pagination:b,req:k,select:P,sort:S,where:O}),L=I;return L.docs=await Promise.all(I.docs.map(async e=>{let i=e;if(i.version||(i.version={}),t.hooks?.beforeRead?.length)for(let e of t.hooks.beforeRead)i.version=await e({collection:t,context:k.context,doc:i.version,query:O,req:k})||i.version;return i})),L.docs=await Promise.all(L.docs.map(async e=>(e.version=await (0,d.r)({collection:t,context:k.context,depth:i,doc:e.version,draft:void 0,fallbackLocale:T,findMany:!0,global:null,locale:C,overrideAccess:y,populate:w,req:k,select:"object"==typeof P?.version?P.version:void 0,showHiddenFields:x}),e))),t.hooks.afterRead?.length&&(L.docs=await Promise.all(L.docs.map(async e=>{let i=e;for(let r of t.hooks.afterRead)i.version=await r({collection:t,context:k.context,doc:e.version,findMany:!0,query:O,req:k})||e.version;return i}))),L.docs=L.docs.map(e=>(0,c.K)(e)),L}catch(e){throw await (0,p.n)(k),e}}},64428:(e,t,i)=>{"use strict";i.d(t,{i:()=>v});var r=i(53064),a=i(53318),o=i(96602),l=i(92242),d=i(71207),p=i(39399),c=i(28294),u=i(28581),h=i(11161),m=i(31769),g=i(27591),y=i(35919);let v=async e=>{let{id:t,collection:{config:i},depth:v,draft:b,overrideAccess:w=!1,populate:_,req:x,req:{fallbackLocale:S,locale:E,payload:k},select:T,showHiddenFields:C}=e;try{if(!t)throw new d.H("Missing ID of version to restore.",r.i.BAD_REQUEST);let{docs:e}=await x.payload.db.findVersions({collection:i.slug,limit:1,locale:E,pagination:!1,req:x,where:{id:{equals:t}}}),[m]=e;if(!m)throw new p.T(x.t);let N=m.parent,O=!!w||await (0,a.K)({id:N,req:x},i.access.update),P=(0,o.r)(O),I={collection:i.slug,locale:E,req:x,where:(0,l.W)({id:{equals:N}},O)},L=await x.payload.db.findOne(I);if(!L&&!P)throw new p.T(x.t);if(!L&&P)throw new c.r(x.t);let D=await (0,y.K)({id:N,config:i,payload:k,query:I,req:x}),R=(0,g.y)({fields:i.flattenedFields,forceSelect:i.forceSelect,select:T}),$=await x.payload.db.updateOne({id:N,collection:i.slug,data:m.version,req:x,select:R}),j={...D};if(delete j.id,await k.db.createVersion({autosave:!1,collectionSlug:i.slug,createdAt:j.createdAt,parent:N,req:x,updatedAt:new Date().toISOString(),versionData:b?{...m.version,_status:"draft"}:m.version}),$=await (0,h.r)({collection:i,context:x.context,depth:v,doc:$,draft:void 0,fallbackLocale:S,global:null,locale:E,overrideAccess:w,populate:_,req:x,select:R,showHiddenFields:C}),i.hooks?.afterRead?.length)for(let e of i.hooks.afterRead)$=await e({collection:i,context:x.context,doc:$,req:x})||$;if($=await (0,u.U)({collection:i,context:x.context,data:$,doc:$,global:null,operation:"update",previousDoc:D,req:x}),i.hooks?.afterChange?.length)for(let e of i.hooks.afterChange)$=await e({collection:i,context:x.context,data:$,doc:$,operation:"update",previousDoc:D,req:x})||$;return $}catch(e){throw await (0,m.n)(x),e}}},92506:(e,t,i)=>{"use strict";i.d(t,{f:()=>k});var r=i(53064),a=i(53318),o=i(92242),l=i(95154),d=i(93826),p=i(71207),c=i(60814),u=i(97989),h=i(78092),m=i(3603),g=i(30651),y=i(31769),v=i(27591),b=i(5329),w=i(51386),_=i(64725),x=i(8108),S=i(68845),E=i(46803);let k=async e=>{let t=e;if(t.collection.config.disableBulkEdit&&!t.overrideAccess)throw new p.H(`Collection ${t.collection.config.slug} has disabled bulk edit`,403);try{let e,i;let y=!t.disableTransaction&&await (0,g.n)(t.req);if(t.collection.config.hooks?.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection.config,context:t.req.context,operation:"update",req:t.req})||t;let{collection:{config:k},collection:T,depth:C,draft:N=!1,limit:O=0,overrideAccess:P,overrideLock:I,overwriteExistingFiles:L=!1,populate:D,publishSpecificLocale:R,req:{fallbackLocale:$,locale:j,payload:{config:M},payload:U},req:F,select:B,showHiddenFields:z,sort:q,where:V}=t;if(!V)throw new p.H("Missing 'where' query of documents to update.",r.i.BAD_REQUEST);let{data:H}=t,W=!!(N&&k.versions.drafts);P||(e=await (0,a.K)({req:F},k.access.update)),await (0,l.a)({collectionConfig:k,overrideAccess:P,req:F,where:V});let G=(0,o.W)(V,e);(0,d.Z)({fields:k.flattenedFields,payload:U,where:G});let K=(0,x.i)({fields:T.config.flattenedFields,sort:q});if(k.versions?.drafts&&W){let e=(0,w.g)(G);await (0,l.a)({collectionConfig:T.config,overrideAccess:P,req:F,versionFields:(0,b.w)(U.config,T.config,!0),where:(0,w.g)(V)}),i=(await U.db.queryDrafts({collection:k.slug,limit:O,locale:j,pagination:!1,req:F,sort:(0,_.u)({collectionConfig:k,sort:K}),where:e})).docs}else i=(await U.db.find({collection:k.slug,limit:O,locale:j,pagination:!1,req:F,sort:K,where:G})).docs;let{data:J,files:Q}=await (0,u.q)({collection:T,config:M,data:H,operation:"update",overwriteExistingFiles:L,req:F,throwOnMissingFile:!1}),Y=[],Z=i.map(async t=>{let{id:i}=t;try{let r=(0,v.y)({fields:k.flattenedFields,forceSelect:k.forceSelect,select:B});return await (0,S.g)({id:i,accessResults:e,autosave:!1,collectionConfig:k,config:M,data:(0,c.Ee)(J),depth:C,docWithLocales:t,draftArg:N,fallbackLocale:$,filesToUpload:Q,locale:j,overrideAccess:P,overrideLock:I,payload:U,populate:D,publishSpecificLocale:R,req:F,select:r,showHiddenFields:z})}catch(e){Y.push({id:i,message:e instanceof Error?e.message:"Unknown error"})}return null});await (0,h.C)({collectionConfig:k,config:M,req:F});let X={docs:(await Promise.all(Z)).filter(Boolean),errors:Y};return X=await (0,E.O)({args:t,collection:k,operation:"update",result:X}),y&&await (0,m._)(F),X}catch(e){throw await (0,y.n)(t.req),e}}},94643:(e,t,i)=>{"use strict";i.d(t,{k:()=>S});var r=i(53064),a=i(53318),o=i(96602),l=i(92242),d=i(71207),p=i(39399),c=i(28294),u=i(60814),h=i(97989),m=i(78092),g=i(3603),y=i(30651),v=i(31769),b=i(27591),w=i(35919),_=i(68845),x=i(46803);let S=async e=>{let t=e;try{let e=!t.disableTransaction&&await (0,y.n)(t.req);if(t.collection.config.hooks?.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection.config,context:t.req.context,operation:"update",req:t.req})||t;t.publishSpecificLocale&&(t.req.locale=t.publishSpecificLocale);let{id:i,autosave:v=!1,collection:{config:S},collection:E,depth:k,draft:T=!1,overrideAccess:C,overrideLock:N,overwriteExistingFiles:O=!1,populate:P,publishSpecificLocale:I,req:{fallbackLocale:L,locale:D,payload:{config:R},payload:$},req:j,select:M,showHiddenFields:U}=t;if(!i)throw new d.H("Missing ID of document to update.",r.i.BAD_REQUEST);let{data:F}=t,B=!!C||await (0,a.K)({id:i,data:F,req:j},S.access.update),z=(0,o.r)(B),q={collection:S.slug,locale:D,req:j,where:(0,l.W)({id:{equals:i}},B)},V=await (0,w.K)({id:i,config:S,payload:$,query:q,req:j});if(!V&&!z)throw new p.T(j.t);if(!V&&z)throw new c.r(j.t);let{data:H,files:W}=await (0,h.q)({collection:E,config:R,data:F,operation:"update",overwriteExistingFiles:O,req:j,throwOnMissingFile:!1}),G=(0,b.y)({fields:S.flattenedFields,forceSelect:S.forceSelect,select:M}),K=await (0,_.g)({id:i,accessResults:B,autosave:v,collectionConfig:S,config:R,data:(0,u.Ee)(H),depth:k,docWithLocales:V,draftArg:T,fallbackLocale:L,filesToUpload:W,locale:D,overrideAccess:C,overrideLock:N,payload:$,populate:P,publishSpecificLocale:I,req:j,select:G,showHiddenFields:U});return await (0,m.C)({collectionConfig:S,config:R,req:j}),K=await (0,x.O)({args:t,collection:S,operation:"updateByID",result:K}),e&&await (0,g._)(j),K}catch(e){throw await (0,v.n)(t.req),e}}},8108:(e,t,i)=>{"use strict";i.d(t,{i:()=>a});let r=({fields:e,sort:t})=>{let i=t,r=!1;for(let a of(0===t.indexOf("-")&&(r=!0,i=i.substring(1)),i.split("."))){let t=e.find(e=>e.name===a);if(!t)break;if("fields"in t){e=t.flattenedFields;continue}if("virtual"in t&&"string"==typeof t.virtual)return`${r?"-":""}${t.virtual}`}return t},a=({fields:e,sort:t})=>t?Array.isArray(t)?t.map(t=>r({fields:e,sort:t})):r({fields:e,sort:t}):void 0},68845:(e,t,i)=>{"use strict";i.d(t,{g:()=>b});var r=i(6713),a=i(32410),o=i(92242),l=i(28581),d=i(11161),p=i(14597),c=i(48194),u=i(60814),h=i(39241),m=i(32882),g=i(94797),y=i(35919),v=i(72585);let b=async({id:e,accessResults:t,autosave:i,collectionConfig:b,config:w,data:_,depth:x,docWithLocales:S,draftArg:E,fallbackLocale:k,filesToUpload:T,locale:C,overrideAccess:N,overrideLock:O,payload:P,populate:I,publishSpecificLocale:L,req:D,select:R,showHiddenFields:$})=>{let j;let M=_?.password,U=!!(E&&b.versions.drafts)&&"published"!==_._status,F=!!(M&&b.auth&&(!b.auth.disableLocalStrategy||"object"==typeof b.auth.disableLocalStrategy&&b.auth.disableLocalStrategy.enableFields)&&!U);await (0,g.Z)({id:e,collectionSlug:b.slug,lockErrorMessage:`Document with ID ${e} is currently locked by another user and cannot be updated.`,overrideLock:O,req:D});let B=await (0,d.r)({collection:b,context:D.context,depth:0,doc:(0,u.Ee)(S),draft:E,fallbackLocale:e?null:k,global:null,locale:C,overrideAccess:!0,req:D,showHiddenFields:!0});if(b.auth&&(0,r.T)({authOptions:b.auth,collectionSlug:b.slug,data:_,operation:"update",originalDoc:B,req:D}),await (0,h.H)({collectionConfig:b,config:w,doc:S,files:T,overrideDelete:!1,req:D}),_=await (0,c._)({id:e,collection:b,context:D.context,data:_,doc:B,global:null,operation:"update",overrideAccess:N,req:D}),b.hooks?.beforeValidate?.length)for(let e of b.hooks.beforeValidate)_=await e({collection:b,context:D.context,data:_,operation:"update",originalDoc:B,req:D})||_;if(b.upload.disableLocalStorage||await (0,m.I)(P,T,D),b.hooks?.beforeChange?.length)for(let e of b.hooks.beforeChange)_=await e({collection:b,context:D.context,data:_,operation:"update",originalDoc:B,req:D})||_;let z=S,q={id:e,collection:b,context:D.context,data:{..._,id:e},doc:B,docWithLocales:void 0,global:null,operation:"update",overrideAccess:N,req:D,skipValidation:U&&b.versions.drafts&&!b.versions.drafts.validate};L&&(j=await (0,p.G)({...q,docWithLocales:S}),z=await (0,y.K)({id:e,config:b,payload:P,published:!0,query:{collection:b.slug,locale:C,req:D,where:(0,o.W)({id:{equals:e}},t)},req:D})||{});let V=await (0,p.G)({...q,docWithLocales:z}),H={...V};if(F&&"string"==typeof M){let{hash:e,salt:t}=await (0,a.l)({collection:b,password:M,req:D});H.salt=t,H.hash=e,delete H.password,delete _.password}if(U||(V=await D.payload.db.updateOne({id:e,collection:b.slug,data:H,locale:C,req:D,select:R})),b.versions&&(V=await (0,v.U)({id:e,autosave:i,collection:b,docWithLocales:V,draft:U,payload:P,publishSpecificLocale:L,req:D,select:R,snapshot:j})),V=await (0,d.r)({collection:b,context:D.context,depth:x,doc:V,draft:E,fallbackLocale:k,global:null,locale:C,overrideAccess:N,populate:I,req:D,select:R,showHiddenFields:$}),b.hooks?.afterRead?.length)for(let e of b.hooks.afterRead)V=await e({collection:b,context:D.context,doc:V,req:D})||V;if(V=await (0,l.U)({collection:b,context:D.context,data:_,doc:V,global:null,operation:"update",previousDoc:B,req:D}),b.hooks?.afterChange?.length)for(let e of b.hooks.afterChange)V=await e({collection:b,context:D.context,data:_,doc:V,operation:"update",previousDoc:B,req:D})||V;return V}},46803:(e,t,i)=>{"use strict";i.d(t,{O:()=>r});let r=async e=>{let{args:t,collection:i,operation:r,result:a}=e,o=a;if(t.collection.config.hooks?.afterOperation?.length)for(let e of t.collection.config.hooks.afterOperation){let a=await e({args:t,collection:i,operation:r,req:t.req,result:o});void 0!==a&&(o=a)}return o}},13495:(e,t,i)=>{"use strict";i.d(t,{g:()=>iu});var r=i(94894),a=i(5569);let o={slug:"users",admin:{useAsTitle:"email"},auth:{tokenExpiration:7200},fields:[],labels:{plural:({t:e})=>e("general:users"),singular:({t:e})=>e("general:user")}};var l=i(18612),d=i(8725);let p=e=>e.map(e=>{let t=e.handler;return["patch","post"].includes(e.method)&&(e.handler=async e=>(await (0,l.O)(e),(0,d.A)(e),t(e))),e});var c=i(53064),u=i(57591),h=i(89462);let m=async e=>{let t=(0,u.j)({headers:new Headers,req:e});try{let i=await (0,h.j)({req:e});return Response.json(i,{headers:t,status:c.i.OK})}catch(e){return Response.json({error:e},{headers:t,status:c.i.INTERNAL_SERVER_ERROR})}};var g=i(71207);let y=e=>{let t=e.routeParams?.collection;if("string"!=typeof t)throw new g.H("No collection was specified",400);let i=e.payload.collections[t];if(!i)throw new g.H(`Collection with the slug ${t} was not found`,404);return i},v=(e,{disableSanitize:t,optionalID:i}={})=>{let r=y(e),a=e.routeParams?.id;if("string"!=typeof a){if(i)return{id:void 0,collection:r};throw new g.H("ID was not specified",400)}if(!0===t)return{id:a,collection:r};let o=a,l="number"===e.payload.db.defaultIDType;return l&&"text"===r.customIDType&&(l=!1),l&&(o=parseFloat(o)),{id:o,collection:r}},b=e=>{let t=e.routeParams?.global;if("string"!=typeof t)throw new g.H("No global was specified",400);let i=e.payload.globals.config.find(e=>e.slug===t);if(!i)throw new g.H(`Global with the slug ${t} was not found`,404);return i};var w=i(7037);let _=async e=>{let{t}=e,i=y(e),r=i.config.auth?.loginWithUsername?{email:"string"==typeof e.data?.email?e.data.email:"",username:"string"==typeof e.data?.username?e.data.username:""}:{email:"string"==typeof e.data?.email?e.data.email:""};return await (0,w.f)({collection:i,data:r,disableEmail:!!e.data?.disableEmail,expiration:"number"==typeof e.data?.expiration?e.data.expiration:void 0,req:e}),Response.json({message:t("general:success")},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var x=i(97747);let S=async e=>{let t=await (0,x.k)({collection:y(e).config.slug,req:e});return Response.json({initialized:t},{headers:(0,u.j)({headers:new Headers,req:e})})};var E=i(60832),k=i(7770),T=i(77202);let C=async e=>{let t=y(e),{searchParams:i,t:r}=e,a=i.get("depth"),o=t.config.auth?.loginWithUsername!==!1?{email:"string"==typeof e.data?.email?e.data.email:"",password:"string"==typeof e.data?.password?e.data.password:"",username:"string"==typeof e.data?.username?e.data.username:""}:{email:"string"==typeof e.data?.email?e.data.email:"",password:"string"==typeof e.data?.password?e.data.password:""},l=await (0,T.o)({collection:t,data:o,depth:(0,E.h)(a)?Number(a):void 0,req:e}),d=(0,k.hh)({collectionAuthConfig:t.config.auth,cookiePrefix:e.payload.config.cookiePrefix,token:l.token});return t.config.auth.removeTokenFromResponses&&delete l.token,Response.json({message:r("authentication:passed"),...l},{headers:(0,u.j)({headers:new Headers({"Set-Cookie":d}),req:e}),status:c.i.OK})};var N=i(99699);let O=async e=>{let t=y(e),{searchParams:i,t:r}=e,a=await (0,N.n)({allSessions:"true"===i.get("allSessions"),collection:t,req:e}),o=(0,u.j)({headers:new Headers,req:e});if(!a)return Response.json({message:r("error:logoutFailed")},{headers:o,status:c.i.BAD_REQUEST});let l=(0,k.W7)({collectionAuthConfig:t.config.auth,config:e.payload.config,cookiePrefix:e.payload.config.cookiePrefix});return o.set("Set-Cookie",l),Response.json({message:r("authentication:logoutSuccessful")},{headers:o,status:c.i.OK})},P=(e={})=>{let t={},i=e;return Object.keys(i).forEach(e=>{"false"===i[e]||!1===i[e]?t[e]=!1:t[e]={count:"true"===i[e].count,limit:(0,E.h)(i[e]?.limit)?Number(i[e].limit):void 0,page:(0,E.h)(i[e]?.page)?Number(i[e].page):void 0,sort:i[e]?.sort?i[e].sort:void 0,where:i[e]?.where?i[e].where:void 0}}),t},I=e=>{if(e&&"object"==typeof e)for(let t in e){let i=t;"true"===e[i]?e[i]=!0:"false"===e[i]?e[i]=!1:"object"==typeof e[i]&&I(e[i])}return e},L=e=>{if(e&&"object"==typeof e){for(let t in e)e[t]=I(e[t]);return e}};var D=i(5242),R=i(96620);let $=async e=>{let{searchParams:t}=e,i=y(e),r=(0,D.j)(e),a=t.get("depth"),o=t.get("depth"),{depth:l,draft:d,joins:p,populate:h,select:m}=e.query,g=l||a,v=d||o,b=await (0,R.e)({collection:i,currentToken:r,depth:(0,E.h)(g)?Number(g):void 0,draft:"true"===v,joins:P(p),populate:L(h),req:e,select:I(m)});return i.config.auth.removeTokenFromResponses&&delete b.token,Response.json({...b,message:e.t("authentication:account")},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var j=i(37043);let M=async e=>{let t=y(e),{t:i}=e,r=(0,u.j)({headers:new Headers,req:e}),a=await (0,j.e)({collection:t,req:e});if(a.setCookie){let i=(0,k.hh)({collectionAuthConfig:t.config.auth,cookiePrefix:e.payload.config.cookiePrefix,token:a.refreshedToken});t.config.auth.removeTokenFromResponses&&delete a.refreshedToken,r.set("Set-Cookie",i)}return Response.json({message:i("authentication:tokenRefreshSuccessful"),...a},{headers:r,status:c.i.OK})};var U=i(28294),F=i(3603),B=i(30651),z=i(31769),q=i(6713);let V=async e=>{let{collection:{config:t,config:{slug:i,auth:{verify:r}}},data:a,req:o,req:{payload:l}}=e;if(t.auth.disableLocalStrategy)throw new U.r(o.t);try{let d=await (0,B.n)(o);if((0,q.T)({authOptions:t.auth,collectionSlug:i,data:a,operation:"create",req:o}),await l.db.findOne({collection:t.slug,req:o}))throw new U.r(o.t);let p=await l.create({collection:i,data:a,overrideAccess:!0,req:o});r&&await l.update({id:p.id,collection:i,data:{_verified:!0},req:o});let{exp:c,token:u}=await l.login({...e,collection:i,req:o});return p.collection=i,p._strategy="local-jwt",d&&await (0,F._)(o),{exp:c,token:u,user:p}}catch(e){throw await (0,z.n)(o),e}},H=async e=>{let t=y(e),{data:i,t:r}=e,a=t.config.auth?.loginWithUsername?{email:"string"==typeof e.data?.email?e.data.email:"",password:"string"==typeof e.data?.password?e.data.password:"",username:"string"==typeof e.data?.username?e.data.username:""}:{email:"string"==typeof e.data?.email?e.data.email:"",password:"string"==typeof e.data?.password?e.data.password:""},o=await V({collection:t,data:{...i,...a},req:e}),l=(0,k.hh)({collectionAuthConfig:t.config.auth,cookiePrefix:e.payload.config.cookiePrefix,token:o.token});return Response.json({exp:o.exp,message:r("authentication:successfullyRegisteredFirstUser"),token:o.token,user:o.user},{headers:(0,u.j)({headers:new Headers({"Set-Cookie":l}),req:e}),status:c.i.OK})};var W=i(31411);let G=async e=>{let t=y(e),{searchParams:i,t:r}=e,a=i.get("depth"),o=await (0,W.v)({collection:t,data:{password:"string"==typeof e.data?.password?e.data.password:"",token:"string"==typeof e.data?.token?e.data.token:""},depth:a?Number(a):void 0,req:e}),l=(0,k.hh)({collectionAuthConfig:t.config.auth,cookiePrefix:e.payload.config.cookiePrefix,token:o.token});return t.config.auth.removeTokenFromResponses&&delete o.token,Response.json({message:r("authentication:passwordResetSuccessfully"),...o},{headers:(0,u.j)({headers:new Headers({"Set-Cookie":l}),req:e}),status:c.i.OK})};var K=i(18690);let J=async e=>{let t=y(e),{t:i}=e,r=t.config.auth?.loginWithUsername!==!1?{email:"string"==typeof e.data?.email?e.data.email:"",username:"string"==typeof e.data?.username?e.data.username:""}:{email:"string"==typeof e.data?.email?e.data.email:""};return await (0,K.R)({collection:t,data:r,req:e}),Response.json({message:i("general:success")},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var Q=i(5420);let Y=async e=>{let{id:t,collection:i}=v(e,{disableSanitize:!0}),{t:r}=e;return await (0,Q.v)({collection:i,req:e,token:t}),Response.json({message:r("authentication:accountVerified")},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})},Z=p([{handler:m,method:"get",path:"/access"}]),X=p([{handler:_,method:"post",path:"/forgot-password"},{handler:S,method:"get",path:"/init"},{handler:C,method:"post",path:"/login"},{handler:O,method:"post",path:"/logout"},{handler:$,method:"get",path:"/me"},{handler:M,method:"post",path:"/refresh-token"},{handler:H,method:"post",path:"/first-register"},{handler:G,method:"post",path:"/reset-password"},{handler:J,method:"post",path:"/unlock"},{handler:Y,method:"post",path:"/verify/:id"}]),ee=[{name:"loginAttempts",type:"number",defaultValue:0,hidden:!0},{name:"lockUntil",type:"date",hidden:!0}];var et=i(6113);let ei=[{name:"enableAPIKey",type:"checkbox",admin:{components:{Field:!1}},label:({t:e})=>e("authentication:enableAPIKey")},{name:"apiKey",type:"text",admin:{components:{Field:!1}},hooks:{afterRead:[({req:e,value:t})=>t?e.payload.decrypt(t):void 0],beforeChange:[({req:e,value:t})=>t?e.payload.encrypt(t):null]},label:({t:e})=>e("authentication:apiKey")},{name:"apiKeyIndex",type:"text",admin:{disabled:!0},hidden:!0,hooks:{beforeValidate:[({data:e,req:t,value:i})=>e?.apiKey===!1||e?.apiKey===null||e?.enableAPIKey===!1||e?.enableAPIKey===null?null:e?.apiKey?et.createHmac("sha256",t.payload.secret).update(e.apiKey).digest("hex"):i]}}],er=[{name:"resetPasswordToken",type:"text",hidden:!0},{name:"resetPasswordExpiration",type:"date",hidden:!0},{name:"salt",type:"text",hidden:!0},{name:"hash",type:"text",hidden:!0}];var ea=i(7921);let en={name:"email",type:"email",admin:{components:{Field:!1}},hooks:{beforeChange:[({value:e})=>{if(e)return e.toLowerCase().trim()}]},label:({t:e})=>e("general:email"),required:!0,unique:!0,validate:ea.Do},es={name:"sessions",type:"array",access:{read:({doc:e,req:{user:t}})=>t?.id===e?.id,update:()=>!1},admin:{disabled:!0},fields:[{name:"id",type:"text",required:!0},{name:"createdAt",type:"date",defaultValue:()=>new Date},{name:"expiresAt",type:"date",required:!0}]},eo={name:"username",type:"text",admin:{components:{Field:!1}},hooks:{beforeChange:[({value:e})=>{if(e)return e.toLowerCase().trim()}]},label:({t:e})=>e("authentication:username"),required:!0,unique:!0,validate:ea.b6},el=[{name:"_verified",type:"checkbox",access:{create:({req:{user:e}})=>!!e,read:({req:{user:e}})=>!!e,update:({req:{user:e}})=>!!e},admin:{components:{Field:!1}},label:({t:e})=>e("authentication:verified")},{name:"_verificationToken",type:"text",hidden:!0,hooks:{beforeChange:[({data:e,operation:t,originalDoc:i,value:r})=>"update"===t&&e?._verified===!0&&i?._verified===!1?null:r]}}],ed=e=>{let t=[];if(e.useAPIKey&&t.push(...ei),!e.disableLocalStrategy||"object"==typeof e.disableLocalStrategy&&e.disableLocalStrategy.enableFields){let i;let r={...en};e.loginWithUsername&&(i={...eo},"object"==typeof e.loginWithUsername&&(!1===e.loginWithUsername.requireEmail&&(r.required=!1),!1===e.loginWithUsername.requireUsername&&(i.required=!1),!1===e.loginWithUsername.allowEmailLogin&&(r.unique=!1))),t.push(r),i&&t.push(i),t.push(...er),e.verify&&t.push(...el),e?.maxLoginAttempts&&e.maxLoginAttempts>0&&t.push(...ee),e.useSessions&&t.push(es)}return t};class ep extends g.H{constructor(e){super(`Timestamps are required in the collection ${e.slug} because you have opted in to Versions.`)}}var ec=i(66974),eu=i(32017),eh=i(71090);let ef=(e,t)=>{let i=[...e||[]];return t.forEach(e=>{let t=null;if((0,eu.j7)(e)){let r=i.find((i,r)=>!!(0,eu.j7)(i)&&i.name===e.name&&(t=r,!0));if(r){let a={...r};i.splice(t,1);let o=(0,eh.HQ)(e,a);(0,eu.uV)(e)&&(0,eu.uV)(a)&&(o.fields=ef(a.fields,e.fields)),i.push(o)}else i.push(e)}}),i};var em=i(13763),eg=i(73292),ey=i(71017),ev=i(53318);let eb=async({collection:e,filename:t,req:i})=>{if(t.includes("../")||t.includes("..\\"))throw new U.r(i.t);let{config:r}=e,a=await (0,ev.K)({data:{filename:t},isReadingStaticFile:!0,req:i},r.access.read);if("object"==typeof a){let e={and:[{or:[{filename:{equals:t}}]},a]};r.upload.imageSizes&&r.upload.imageSizes.forEach(({name:i})=>{e.and?.[0]?.or?.push({[`sizes.${i}.filename`]:{equals:t}})});let o=await i.payload.db.findOne({collection:r.slug,req:i,where:e});if(!o)throw new U.r(i.t);return o}};var ew=i(57147);function e_(e){return new ReadableStream({async pull(t){let{done:i,value:r}=await e.next();i?t.close():t.enqueue(r)}})}async function*ex(e){for await(let t of e)yield new Uint8Array(t)}function eS(e){return e_(ex(ew.createReadStream(e)))}let eE={css:"text/css",csv:"text/csv",htm:"text/html",html:"text/html",js:"application/javascript",json:"application/json",md:"text/markdown",svg:"image/svg+xml",xml:"application/xml",yml:"application/x-yaml"},ek=e=>{let t=e.split(".").pop()||"txt";return{ext:t,mime:eE[t]||"text/plain"}},eT=async e=>{let t;let i=y(e),r=e.routeParams?.filename;if(!i.config.upload)throw new g.H(`This collection is not an upload collection: ${i.config.slug}`,c.i.BAD_REQUEST);let a=await eb({collection:i,filename:r,req:e});if(a instanceof Response)return a;if(i.config.upload.handlers?.length){let t=null,o=new Headers;for(let l of i.config.upload.handlers)t=await l(e,{doc:a,headers:o,params:{collection:i.config.slug,filename:r}});if(t instanceof Response)return t}let o=i.config.upload?.staticDir||i.config.slug,l=ey.resolve(`${o}/${r}`);try{t=await eg.stat(l)}catch(t){if("ENOENT"===t.code)return e.payload.logger.error(`File ${r} for collection ${i.config.slug} is missing on the disk. Expected path: ${l}`),Response.json({errors:[{message:"Something went wrong."}]},{headers:(0,u.j)({headers:new Headers,req:e}),status:500});throw t}let d=eS(l),p=await (0,em.lb)(l)||ek(l),h=new Headers;return h.set("Content-Type",p.mime),h.set("Content-Length",t.size+""),h=i.config.upload?.modifyResponseHeaders&&i.config.upload.modifyResponseHeaders({headers:h})||h,new Response(d,{headers:(0,u.j)({headers:h,req:e}),status:c.i.OK})};var eA=i(88863);let eC=p([{handler:async e=>{let{id:t,collection:i}=v(e,{optionalID:!0});if(!e.user)throw new U.r(e.t);let r=i?.config;if(t){if(!await (0,ev.K)({req:e},r.access.update))throw new U.r(e.t)}else if(!await (0,ev.K)({req:e},r.access?.create))throw new U.r(e.t);try{if(!e.url)throw new g.H("Request URL is missing.",400);let{searchParams:t}=new URL(e.url),i=t.get("src");if(!i||"string"!=typeof i)throw new g.H("A valid URL string is required.",400);let a=new URL(i);if("object"==typeof r.upload?.pasteURL&&!(0,eA.E)(a.href,r.upload.pasteURL.allowList))throw new g.H(`The provided URL (${a.href}) is not allowed.`,400);let o=await fetch(a.href,{headers:{"Accept-Encoding":"identity"}});if(!o.ok)throw new g.H(`Failed to fetch file from ${a.href}`,o.status);let l=decodeURIComponent(a.pathname.split("/").pop()||"");return new Response(o.body,{headers:{"Content-Disposition":`attachment; filename="${l}"`,"Content-Length":o.headers.get("content-length")||"","Content-Type":o.headers.get("content-type")||"application/octet-stream"}})}catch(e){throw new g.H(`Error fetching file: ${e instanceof Error?e.message:"Unknown error"}`,500)}},method:"get",path:"/paste-url/:id?"},{handler:eT,method:"get",path:"/file/:filename"}]);var eN=i(34830);let eO=e=>(t,{siblingData:i})=>!i.filename||(t?!!(0,eN.b)(t,e)||`Invalid file type: '${t}'`:"Invalid file type"),eP=({collectionSlug:e,config:t,filename:i})=>{if(i)return`${t.serverURL||""}${t.routes?.api||""}/${e}/file/${encodeURIComponent(i)}`},eI=({collection:e,config:t})=>{let i="object"==typeof e.upload?e.upload:{},r={name:"mimeType",type:"text",admin:{hidden:!0,readOnly:!0},label:"MIME Type"},a={name:"thumbnailURL",type:"text",admin:{hidden:!0,readOnly:!0},hooks:{afterRead:[({originalDoc:i})=>{let r="boolean"!=typeof e.upload?e.upload?.adminThumbnail:void 0;return"function"==typeof r?r({doc:i}):"string"==typeof r&&"sizes"in i&&i.sizes?.[r]?.filename?eP({collectionSlug:e.slug,config:t,filename:i.sizes?.[r].filename}):null}]},label:"Thumbnail URL"},o={name:"width",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:e})=>e("upload:width")},l={name:"height",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:e})=>e("upload:height")},d={name:"filesize",type:"number",admin:{hidden:!0,readOnly:!0},label:({t:e})=>e("upload:fileSize")},p={name:"filename",type:"text",admin:{disableBulkEdit:!0,hidden:!0,readOnly:!0},index:!0,label:({t:e})=>e("upload:fileName")};!0!==e.upload&&("object"!=typeof e.upload||e.upload.filenameCompoundIndex)||(p.unique=!0);let c={name:"url",type:"text",admin:{hidden:!0,readOnly:!0},label:"URL"},u=[{...c,hooks:{afterRead:[({data:i,value:r})=>r&&!i?.filename?r:eP({collectionSlug:e.slug,config:t,filename:i?.filename})]}},a,p,r,d,o,l];return(!1!==i.focalPoint||i.imageSizes||i.resizeOptions)&&(u=u.concat(["focalX","focalY"].map(e=>({name:e,type:"number",admin:{disableListColumn:!0,disableListFilter:!0,hidden:!0}})))),i.mimeTypes&&(r.validate=eO(i.mimeTypes)),i.imageSizes&&(u=u.concat([{name:"sizes",type:"group",admin:{hidden:!0},fields:i.imageSizes.map(i=>({name:i.name,type:"group",admin:{hidden:!0},fields:[{...c,hooks:{afterRead:[({data:r,value:a})=>{if(a&&i.height&&i.width&&!r?.filename)return a;let o=r?.sizes?.[i.name]?.filename;return o?`${t.serverURL}${t.routes?.api}/${e.slug}/file/${o}`:null}]}},o,l,r,d,{...p,unique:!1}],label:i.name})),label:({t:e})=>e("upload:sizes")}])),u};var eL=i(4641),eD=i(90618),eR=i(55238);let e$={autosaveInterval:2e3};var ej=i(77506);let eM=async e=>{let t=y(e),{where:i}=e.query,r=await (0,ej.A)({collection:t,req:e,where:i});return Response.json(r,{status:c.i.OK})};var eU=i(76972),eF=i(29592);let eB=async e=>{let t=y(e),{searchParams:i}=e,r="true"===i.get("autosave"),a="true"===i.get("draft"),o=i.get("depth"),l=await (0,eF.z)({autosave:r,collection:t,data:e.data,depth:(0,E.h)(o)?o:void 0,draft:a,populate:L(e.query.populate),req:e,select:I(e.query.select)});return Response.json({doc:l,message:e.t("general:successfullyCreated",{label:(0,eU.i)(t.config.labels.singular,e.i18n)})},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.CREATED})};var ez=i(78362);let eq=async e=>{let t=y(e),{depth:i,overrideLock:r,populate:a,select:o,where:l}=e.query,d=await (0,ez.Q)({collection:t,depth:(0,E.h)(i)?Number(i):void 0,overrideLock:"true"===r,populate:L(a),req:e,select:I(o),where:l}),p=(0,u.j)({headers:new Headers,req:e});if(0===d.errors.length){let i=e.t("general:deletedCountSuccessfully",{count:d.docs.length,label:(0,eU.i)(t.config.labels[1===d.docs.length?"singular":"plural"],e.i18n)});return Response.json({...d,message:i},{headers:p,status:c.i.OK})}let h=d.docs.length+d.errors.length,m=e.t("error:unableToDeleteCount",{count:d.errors.length,label:(0,eU.i)(t.config.labels[1===h?"singular":"plural"],e.i18n),total:h});return Response.json({...d,message:m},{headers:p,status:c.i.BAD_REQUEST})};var eV=i(59561);let eH=async e=>{let{id:t,collection:i}=v(e),{searchParams:r}=e,a=r.get("depth"),o=r.get("overrideLock"),l=await (0,eV.w)({id:t,collection:i,depth:(0,E.h)(a)?a:void 0,overrideLock:"true"===o,populate:L(e.query.populate),req:e,select:I(e.query.select)}),d=(0,u.j)({headers:new Headers,req:e});return l?Response.json({doc:l,message:e.t("general:deletedSuccessfully")},{headers:d,status:c.i.OK}):Response.json({message:e.t("general:notFound")},{headers:d,status:c.i.NOT_FOUND})};var eW=i(83906);let eG=async e=>{let{id:t,collection:i}=v(e,{optionalID:!0}),r=await (0,eW.g)({id:t,collection:i,req:e});return Response.json(r,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var eK=i(30799);let eJ=async e=>{let{id:t,collection:i}=v(e),{searchParams:r}=e,a=r.get("depth"),o="false"!==r.get("draft"),l=await (0,eK.J)({id:t,collection:i,data:e.data,depth:(0,E.h)(a)?Number(a):void 0,draft:o,populate:L(e.query.populate),req:e,select:I(e.query.select)}),d=e.t("general:successfullyDuplicated",{label:(0,eU.i)(i.config.labels.singular,e.i18n)});return Response.json({doc:l,message:d},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var eQ=i(19415);let eY=async e=>{let t=y(e),{depth:i,draft:r,joins:a,limit:o,page:l,pagination:d,populate:p,select:h,sort:m,where:g}=e.query,v=await (0,eQ.O)({collection:t,depth:(0,E.h)(i)?Number(i):void 0,draft:"true"===r,joins:P(a),limit:(0,E.h)(o)?Number(o):void 0,page:(0,E.h)(l)?Number(l):void 0,pagination:"false"!==d&&void 0,populate:L(p),req:e,select:I(h),sort:"string"==typeof m?m.split(","):void 0,where:g});return Response.json(v,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var eZ=i(39839);let eX=async e=>{let{searchParams:t}=e,{id:i,collection:r}=v(e),a=t.get("depth"),o=await (0,eZ.y)({id:i,collection:r,depth:(0,E.h)(a)?Number(a):void 0,draft:"true"===t.get("draft"),joins:P(e.query.joins),populate:L(e.query.populate),req:e,select:I(e.query.select)});return Response.json(o,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var e1=i(35954);let e0=async e=>{let{searchParams:t}=e,i=t.get("depth"),{id:r,collection:a}=v(e),o=await (0,e1.G)({id:r,collection:a,depth:(0,E.h)(i)?Number(i):void 0,populate:L(e.query.populate),req:e,select:I(e.query.select)});return Response.json(o,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var e2=i(17563);let e6=async e=>{let t=y(e),{depth:i,limit:r,page:a,pagination:o,populate:l,select:d,sort:p,where:h}=e.query,m=await (0,e2.a)({collection:t,depth:(0,E.h)(i)?Number(i):void 0,limit:(0,E.h)(r)?Number(r):void 0,page:(0,E.h)(a)?Number(a):void 0,pagination:"false"!==o&&void 0,populate:L(l),req:e,select:I(d),sort:"string"==typeof p?p.split(","):void 0,where:h});return Response.json(m,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})},e4=async e=>{let t;let{id:i,collection:r}=v(e),{searchParams:a}=e,o=a.get("depth"),l=await (0,eZ.y)({id:i,collection:r,depth:(0,E.h)(o)?Number(o):void 0,draft:"true"===a.get("draft"),req:e}),d=e.payload?.collections?.[r.config.slug]?.config?.admin?.preview,p=(0,D.j)(e);return"function"==typeof d&&(t=await d(l,{locale:e.locale,req:e,token:p})),Response.json(t,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var e3=i(64428);let e5=async e=>{let{id:t,collection:i}=v(e),{searchParams:r}=e,a=r.get("depth"),o=r.get("draft"),l=await (0,e3.i)({id:t,collection:i,depth:(0,E.h)(a)?Number(a):void 0,draft:"true"===o||void 0,populate:L(e.query.populate),req:e});return Response.json({...l,message:e.t("version:restoredSuccessfully")},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var e8=i(92506);let e9=async e=>{let t=y(e),{depth:i,draft:r,limit:a,overrideLock:o,populate:l,select:d,sort:p,where:h}=e.query,m=await (0,e8.f)({collection:t,data:e.data,depth:(0,E.h)(i)?Number(i):void 0,draft:"true"===r,limit:(0,E.h)(a)?Number(a):void 0,overrideLock:"true"===o,populate:L(l),req:e,select:I(d),sort:"string"==typeof p?p.split(","):void 0,where:h}),g=(0,u.j)({headers:new Headers,req:e});if(0===m.errors.length){let i=e.t("general:updatedCountSuccessfully",{count:m.docs.length,label:(0,eU.i)(t.config.labels[1===m.docs.length?"singular":"plural"],e.i18n)});return Response.json({...m,message:i},{headers:g,status:c.i.OK})}let v=m.docs.length+m.errors.length,b=e.t("error:unableToUpdateCount",{count:m.errors.length,label:(0,eU.i)(t.config.labels[1===v?"singular":"plural"],e.i18n),total:v});return Response.json({...m,message:b},{headers:g,status:c.i.BAD_REQUEST})};var e7=i(94643);let te=[...p([{handler:eM,method:"get",path:"/count"},{handler:eB,method:"post",path:"/"},{handler:eq,method:"delete",path:"/"},{handler:eH,method:"delete",path:"/:id"},{handler:eG,method:"post",path:"/access/:id?"},{handler:e6,method:"get",path:"/versions"},{handler:eJ,method:"post",path:"/:id/duplicate"},{handler:eY,method:"get",path:"/"},{handler:eX,method:"get",path:"/:id"},{handler:e0,method:"get",path:"/versions/:id"},{handler:e4,method:"get",path:"/:id/preview"},{handler:e5,method:"post",path:"/versions/:id"},{handler:e9,method:"patch",path:"/"},{handler:async e=>{let{id:t,collection:i}=v(e),{searchParams:r}=e,a=r.get("depth"),o="true"===r.get("autosave"),l="true"===r.get("draft"),d=r.get("overrideLock"),p=e.query.publishSpecificLocale,h=await (0,e7.k)({id:t,autosave:o,collection:i,data:e.data,depth:(0,E.h)(a)?Number(a):void 0,draft:l,overrideLock:"true"===d,populate:L(e.query.populate),publishSpecificLocale:p,req:e,select:I(e.query.select)}),m=e.t("general:updatedSuccessfully");return l&&(m=e.t("version:draftSavedSuccessfully")),o&&(m=e.t("version:autosavedSuccessfully")),Response.json({doc:h,message:m},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})},method:"patch",path:"/:id"}])];var tt=i(7339);tt.m,tt.m,tt.m,tt.m,tt.m;let ti=e=>(e.access={create:tt.m,delete:tt.m,read:tt.m,unlock:tt.m,update:tt.m,...e.access||{}},e.admin={components:{},custom:{},enableRichTextLink:!0,enableRichTextRelationship:!0,useAsTitle:"id",...e.admin||{},pagination:{defaultLimit:10,limits:[5,10,25,50,100],...e.admin?.pagination||{}}},e.auth=e.auth??!1,e.custom=e.custom??{},e.endpoints=e.endpoints??[],e.fields=e.fields??[],e.folders=e.folders??!1,e.hooks={afterChange:[],afterDelete:[],afterForgotPassword:[],afterLogin:[],afterLogout:[],afterMe:[],afterOperation:[],afterRead:[],afterRefresh:[],beforeChange:[],beforeDelete:[],beforeLogin:[],beforeOperation:[],beforeRead:[],beforeValidate:[],me:[],refresh:[],...e.hooks||{}},e.timestamps=e.timestamps??!0,e.upload=e.upload??!1,e.versions=e.versions??!1,e.indexes=e.indexes??[],e),tr=e=>(e.cookies={sameSite:"Lax",secure:!1,...e.cookies||{}},e.forgotPassword=e.forgotPassword??{},e.lockTime=e.lockTime??6e5,e.loginWithUsername=e.loginWithUsername??!1,e.maxLoginAttempts=e.maxLoginAttempts??5,e.tokenExpiration=e.tokenExpiration??7200,e.useSessions=e.useSessions??!0,e.verify=e.verify??!1,e.strategies=e.strategies??[],e.disableLocalStrategy||!0!==e.verify||(e.verify={}),e),ta=e=>({allowEmailLogin:!1,requireEmail:!1,requireUsername:!0,...e||{}});var tn=i(79562),ts=i(62570);let to=({fields:e,indexes:t})=>{let i=[];for(let r of t){let t={fields:[],unique:r.unique??!1};for(let i of r.fields){let r=(0,ts.w)({fields:e,path:i});if(!r)throw new tn.v(`Field ${i} was not found`);let{field:a,localizedPath:o,pathHasLocalized:l}=r;if(["array","blocks","group","tab"].includes(a.type))throw new tn.v(`Compound index on ${a.type} cannot be set. Path: ${o}`);t.fields.push({field:a,localizedPath:o,path:i,pathHasLocalized:l})}i.push(t)}return i};var tl=i(91702);let td=e=>{if(e.admin?.useAsTitle?.includes("."))throw new tn.v(`"useAsTitle" cannot be a nested field. Please specify a top-level field in the collection "${e.slug}"`);if(e?.admin&&e.admin?.useAsTitle&&"id"!==e.admin.useAsTitle){let t=(0,tl.a)(e.fields).find(t=>!!(0,eu.j7)(t)&&!!e.admin&&t.name===e.admin.useAsTitle);if(e.auth){if("email"!==e.admin.useAsTitle&&!t)throw new tn.v(`The field "${e.admin.useAsTitle}" specified in "admin.useAsTitle" does not exist in the collection "${e.slug}"`)}else{if(t&&"virtual"in t&&!0===t.virtual)throw new tn.v(`The field "${e.admin.useAsTitle}" specified in "admin.useAsTitle" in the collection "${e.slug}" is virtual. A virtual field can be used as the title only when linked to a relationship field.`);if(!t)throw new tn.v(`The field "${e.admin.useAsTitle}" specified in "admin.useAsTitle" does not exist in the collection "${e.slug}"`)}}},tp=async(e,t,i,r)=>{if(t._sanitized)return t;t._sanitized=!0;let a=ti(t),o=r??e.collections.map(e=>e.slug)??[],l={},d=[];if(a.fields=await (0,ec.G)({collectionConfig:a,config:e,fields:a.fields,joinPath:"",joins:l,parentIsLocalized:!1,polymorphicJoins:d,richTextSanitizationPromises:i,validRelationships:o}),!1!==a.endpoints){if(a.endpoints||(a.endpoints=[]),a.auth)for(let e of X)a.endpoints.push(e);if(a.upload)for(let e of eC)a.endpoints.push(e);for(let e of te)a.endpoints.push(e)}if(!1!==a.timestamps){let e=null,t=null;a.fields.some(i=>((0,eu.j7)(i)&&("updatedAt"===i.name&&(e=!0),"createdAt"===i.name&&(t=!0)),t&&e)),e||a.fields.push({name:"updatedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},index:!0,label:({t:e})=>e("general:updatedAt")}),t||a.fields.push({name:"createdAt",admin:{disableBulkEdit:!0,hidden:!0},type:"date",index:!0,label:({t:e})=>e("general:createdAt")})}if(a.labels=a.labels||(0,eD.aA)(a.slug),a.versions){if(!0===a.versions&&(a.versions={drafts:!1,maxPerDoc:100}),!1===a.timestamps)throw new ep(t);a.versions.maxPerDoc="number"==typeof a.versions.maxPerDoc?a.versions.maxPerDoc:100,a.versions.drafts&&(!0===a.versions.drafts&&(a.versions.drafts={autosave:!1,validate:!1}),!0===a.versions.drafts.autosave&&(a.versions.drafts.autosave={interval:e$.autosaveInterval}),void 0===a.versions.drafts.validate&&(a.versions.drafts.validate=!1),a.fields=ef(a.fields,eR.dU))}if(!0===a.folders?a.folders={browseByFolder:!0}:a.folders&&(a.folders.browseByFolder=a.folders.browseByFolder??!0),a.upload){!0===a.upload&&(a.upload={}),a.upload.cacheTags=a.upload?.cacheTags??!0,a.upload.bulkUpload=a.upload?.bulkUpload??!0,a.upload.staticDir=a.upload.staticDir||a.slug,a.admin.useAsTitle=a.admin?.useAsTitle&&"id"!==a.admin.useAsTitle?a.admin.useAsTitle:"filename";let t=eI({collection:a,config:e});a.fields=ef(a.fields,t)}if(a.auth){if(a.auth=tr("boolean"==typeof a.auth?{}:a.auth),a.disableDuplicate=a.disableDuplicate??!0,a.auth.loginWithUsername){if(!0===a.auth.loginWithUsername)a.auth.loginWithUsername=ta({});else{let e=ta(a.auth.loginWithUsername);!1===e.allowEmailLogin&&(e.requireUsername=!0),a.auth.loginWithUsername=e}}else a.auth.loginWithUsername=!1;t?.admin?.useAsTitle||(a.admin.useAsTitle=a.auth.loginWithUsername?"username":"email"),a.fields=ef(a.fields,ed(a.auth))}t?.admin?.pagination?.limits?.length&&(a.admin.pagination.limits=t.admin.pagination.limits),td(a);let p=a;return p.joins=l,p.polymorphicJoins=d,p.flattenedFields=(0,eL.u)({fields:p.fields}),p.sanitizedIndexes=to({fields:p.flattenedFields,indexes:p.indexes}),p},tc={slug:"payload-migrations",admin:{hidden:!0},endpoints:!1,fields:[{name:"name",type:"text"},{name:"batch",type:"number"}],graphQL:!1,lockDocuments:!1};class tu extends g.H{constructor(e,t){super(`Collection ${e} already in use: "${t}"`)}}var th=i(22821),tf=i(18829),tm=i(77570);let tg={handler:async e=>{let t,i;if(!e?.user)return Response.json({message:"Unauthorized request."},{status:c.Z.UNAUTHORIZED});if(!(e.payload.config.folders&&e.payload.collections?.[e.payload.config.folders.slug]))return Response.json({message:"Folders are not configured"},{status:c.Z.NOT_FOUND});let r=e.searchParams?.get("collectionSlug");if(r){let i=e.payload.collections?.[r]?.config;if(!i)return Response.json({message:`Collection with slug "${r}" not found`},{status:c.Z.NOT_FOUND});let a=await (0,tf.Y)({collectionConfig:i,folderID:e.searchParams?.get("folderID")||void 0,localeCode:"string"==typeof e?.locale?e.locale:void 0,req:e,search:e.searchParams?.get("search")||void 0,sort:e.searchParams?.get("sort")||void 0});a&&(t=a)}else for(let i of Object.keys(e.payload.collections)){let r=e.payload.collections[i]?.config;if(r?.folders){let i=await (0,tf.Y)({collectionConfig:r,folderID:e.searchParams?.get("folderID")||void 0,localeCode:"string"==typeof e?.locale?e.locale:void 0,req:e,search:e.searchParams?.get("search")||void 0});i&&(t||(t={or:[]}),Array.isArray(t.or)?Array.isArray(t.or)&&t.or.push(i):t.or=[t])}}let a=e.payload.collections?.[e.payload.config.folders.slug]?.config;if(!a)return Response.json({message:"Folder collection not found"},{status:c.Z.NOT_FOUND});let o=await (0,tf.Y)({collectionConfig:a,folderID:e.searchParams?.get("folderID")||void 0,localeCode:"string"==typeof e?.locale?e.locale:void 0,req:e,search:e.searchParams?.get("search")||void 0});o&&(i=o);let l=await (0,tm.L)({collectionSlug:e.searchParams?.get("collectionSlug")||void 0,documentWhere:t||void 0,folderID:e.searchParams?.get("folderID")||void 0,folderWhere:i,req:e});return Response.json(l)},method:"get",path:"/populate-folder-data"},ty=({folderFieldName:e,folderSlug:t})=>async({id:i,req:r})=>{await r.payload.delete({collection:t,req:r,where:{[e]:{equals:i}}})},tv=({collectionSlugs:e,folderFieldName:t})=>async({id:i,req:r})=>{for(let a of e)await r.payload.update({collection:a,data:{[t]:null},req:r,where:{[t]:{equals:i}}})},tb=e=>"string"==typeof e||"number"==typeof e?e:e.id;async function tw({folderCollectionSlug:e,folderFieldName:t,folderID:i,parentIDToFind:r,payload:a}){let o=await a.findByID({id:i,collection:e}),l=o[t]?tb(o[t]):void 0;return!!l&&(l===r||tw({folderCollectionSlug:e,folderFieldName:t,folderID:l,parentIDToFind:r,payload:a}))}let t_=({folderFieldName:e})=>async({doc:t,previousDoc:i,req:r})=>{if(i[e]!==t[e]&&t[e]&&r.payload.config.folders){let a=tb(t[e]);a&&await tw({folderCollectionSlug:r.payload.config.folders.slug,folderFieldName:e,folderID:a,parentIDToFind:t.id,payload:r.payload})&&await r.payload.update({id:a,collection:r.payload.config.folders.slug,data:{[e]:i[e]?tb(i[e]):null},req:r})}},tx=({slug:e,collectionSlugs:t,debug:i,folderFieldName:r})=>({slug:e,admin:{hidden:!i,useAsTitle:"name"},endpoints:[tg],fields:[{name:"name",type:"text",index:!0,required:!0},{name:r,type:"relationship",admin:{hidden:!i},index:!0,relationTo:e},{name:"documentsAndFolders",type:"join",admin:{hidden:!i},collection:[e,...t],hasMany:!0,on:r}],hooks:{afterChange:[t_({folderFieldName:r})],afterDelete:[tv({collectionSlugs:t,folderFieldName:r})],beforeDelete:[ty({folderFieldName:r,folderSlug:e})]},labels:{plural:"Folders",singular:"Folder"},typescript:{interface:"FolderInterface"}});async function tS(e){if(!e.collections||!e.folders)return;let t=[],i=!!e?.folders?.debug,r=e?.folders?.fieldName,a=e?.folders?.slug;for(let i=0;i<e.collections.length;i++){let o=e.collections[i];o&&o?.folders&&(o.fields.push({name:r,type:"relationship",admin:{allowCreate:!1,allowEdit:!1,components:{Cell:"@payloadcms/ui/rsc#FolderTableCell",Field:"@payloadcms/ui/rsc#FolderEditField"}},index:!0,label:"Folder",relationTo:a}),t.push(o.slug))}if(t.length){let o=tx({slug:a,collectionSlugs:t,debug:i,folderFieldName:r});if(Array.isArray(e?.folders?.collectionOverrides)&&e?.folders.collectionOverrides.length)for(let t of e.folders.collectionOverrides)o=await t({collection:o});e.collections.push(o)}}var tE=i(4546);let tk=async e=>{let t=b(e),i=await (0,tE.g)({globalConfig:t,req:e});return Response.json(i,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var tT=i(6026);let tA=async e=>{let t=b(e),{searchParams:i}=e,r=i.get("depth"),a=await (0,tT.J)({slug:t.slug,depth:(0,E.h)(r)?Number(r):void 0,draft:"true"===i.get("draft"),globalConfig:t,populate:L(e.query.populate),req:e,select:I(e.query.select)});return Response.json(a,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var tC=i(82664);let tN=async e=>{let t=b(e),{searchParams:i}=e,r=i.get("depth"),a=await (0,tC.G)({id:e.routeParams.id,depth:(0,E.h)(r)?Number(r):void 0,globalConfig:t,populate:L(e.query.populate),req:e,select:I(e.query.select)});return Response.json(a,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var tO=i(62992);let tP=async e=>{let t=b(e),{depth:i,limit:r,page:a,pagination:o,populate:l,select:d,sort:p,where:h}=e.query,m=await (0,tO.a)({depth:(0,E.h)(i)?Number(i):void 0,globalConfig:t,limit:(0,E.h)(r)?Number(r):void 0,page:(0,E.h)(a)?Number(a):void 0,pagination:"false"!==o&&void 0,populate:L(l),req:e,select:I(d),sort:"string"==typeof p?p.split(","):void 0,where:h});return Response.json(m,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})},tI=async e=>{let t;let i=b(e),{searchParams:r}=e,a=r.get("depth"),o=await (0,tT.J)({slug:i.slug,depth:(0,E.h)(a)?Number(a):void 0,draft:"true"===r.get("draft"),globalConfig:i,req:e}),l=e.payload.config.globals.find(e=>e.slug===i.slug)?.admin?.preview,d=(0,D.j)(e);return"function"==typeof l&&(t=await l(o,{locale:e.locale,req:e,token:d})),Response.json(t,{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var tL=i(80111);let tD=async e=>{let t=b(e),{searchParams:i}=e,r=i.get("depth"),a=i.get("draft"),o=await (0,tL.i)({id:e.routeParams.id,depth:(0,E.h)(r)?Number(r):void 0,draft:"true"===a||void 0,globalConfig:t,populate:L(e.query.populate),req:e});return Response.json({doc:o,message:e.t("version:restoredSuccessfully")},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})};var tR=i(9046);let t$=p([{handler:tk,method:"post",path:"/access"},{handler:tA,method:"get",path:"/"},{handler:tN,method:"get",path:"/versions/:id"},{handler:tP,method:"get",path:"/versions"},{handler:tI,method:"get",path:"/preview"},{handler:tD,method:"post",path:"/versions/:id"},{handler:async e=>{let t=b(e),{searchParams:i}=e,r=i.get("depth"),a="true"===i.get("draft"),o="true"===i.get("autosave"),l=e.query.publishSpecificLocale,d=await (0,tR.f)({slug:t.slug,autosave:o,data:e.data,depth:(0,E.h)(r)?Number(r):void 0,draft:a,globalConfig:t,populate:L(e.query.populate),publishSpecificLocale:l,req:e,select:I(e.query.select)}),p=e.t("general:updatedSuccessfully");return a&&(p=e.t("version:draftSavedSuccessfully")),o&&(p=e.t("version:autosavedSuccessfully")),Response.json({message:p,result:d},{headers:(0,u.j)({headers:new Headers,req:e}),status:c.i.OK})},method:"post",path:"/"}]),tj=async(e,t,i,r)=>{if(t._sanitized)return t;t._sanitized=!0,t.label=t.label||(0,eD.BH)(t.slug),t.endpoints=t.endpoints??[],t.hooks||(t.hooks={}),t.access||(t.access={}),t.admin||(t.admin={}),t.access.read||(t.access.read=tt.m),t.access.update||(t.access.update=tt.m),t.hooks.beforeValidate||(t.hooks.beforeValidate=[]),t.hooks.beforeChange||(t.hooks.beforeChange=[]),t.hooks.afterChange||(t.hooks.afterChange=[]),t.hooks.beforeRead||(t.hooks.beforeRead=[]),t.hooks.afterRead||(t.hooks.afterRead=[]);let a=r??e.collections?.map(e=>e.slug)??[];if(t.fields=await (0,ec.G)({config:e,fields:t.fields,parentIsLocalized:!1,richTextSanitizationPromises:i,validRelationships:a}),!1!==t.endpoints)for(let e of(t.endpoints||(t.endpoints=[]),t$))t.endpoints.push(e);t.versions&&(!0===t.versions&&(t.versions={drafts:!1,max:100}),t.versions.max="number"==typeof t.versions.max?t.versions.max:100,t.versions.drafts&&(!0===t.versions.drafts&&(t.versions.drafts={autosave:!1,validate:!1}),!0===t.versions.drafts.autosave&&(t.versions.drafts.autosave={interval:e$.autosaveInterval}),void 0===t.versions.drafts.validate&&(t.versions.drafts.validate=!1),t.fields=ef(t.fields,eR.dU))),t.custom||(t.custom={});let o=null,l=null;return t.fields.some(e=>((0,eu.j7)(e)&&("updatedAt"===e.name&&(o=!0),"createdAt"===e.name&&(l=!0)),l&&o)),o||t.fields.push({name:"updatedAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},label:({t:e})=>e("general:updatedAt")}),l||t.fields.push({name:"createdAt",type:"date",admin:{disableBulkEdit:!0,hidden:!0},label:({t:e})=>e("general:createdAt")}),t.flattenedFields=(0,eL.u)({fields:t.fields}),t};var tM=i(16096),tU=i(34428),tF=i(4746);let tB=e=>e?e.or&&!e.and?{or:e.or.map(e=>e.and?e:{and:[e]})}:e.and&&!e.or?{or:[{and:e.and}]}:e.or||e.and?e:{or:[{and:[e]}]}:{};var tz=i(88105);let tq=e=>!!(e?.or&&e?.or?.length>0&&e?.or?.[0]?.and&&e?.or?.[0]?.and?.length>0)&&e.or.every(e=>!!(e.and&&Array.isArray(e.and))&&e.and.every(e=>{if("object"!=typeof e)return!1;let t=Object.keys(e);if(0===t.length)return!1;for(let i of t){let t=Object.keys(e[i])[0];if(!t||!tz.B.has(t))return!1}return!0})),tV=["delete","read","update","create"],tH={create:tt.m,delete:tt.m,read:tt.m,unlock:tt.m,update:tt.m},tW=e=>tV.reduce((t,i)=>(t[i]=async t=>{let{req:r}=t,a=e?.queryPresets?.access?.[i]?await e.queryPresets.access[i](t):!tH?.[i]||tH[i](t);return!1!==a&&("create"===i?a:{and:[{or:[...r?.user?[{and:[{[`access.${i}.users`]:{in:[r.user.id]}},{[`access.${i}.constraint`]:{in:["onlyMe","specificUsers"]}}]}]:[],{[`access.${i}.constraint`]:{equals:"everyone"}},...await Promise.all((e?.queryPresets?.constraints?.[i]||[]).map(async e=>{let r=e.access?await e.access(t):void 0;return{and:[..."object"==typeof r?[r]:!1===r?[{id:{equals:null}}]:[],{[`access.${i}.constraint`]:{equals:e.value}}]}}))]},..."object"==typeof a?[a]:[]]})},t),{});var tG=i(51224);let tK=async(e,{data:t,overrideAccess:i,req:r})=>{if(!r.context._preventLockout&&!i){let e=await (0,tG.z)({context:{_preventLockout:!0},req:{user:r.user}},r.payload),i=await (0,B.n)(e),a=await e.payload.create({collection:tZ,data:{...t,isTemp:!0},req:e}),o=!1,l=!1;try{await e.payload.findByID({id:a.id,collection:tZ,overrideAccess:!1,req:e,user:e.user}),l=!0,await e.payload.update({id:a.id,collection:tZ,data:a,overrideAccess:!1,req:e,user:e.user}),o=!0}catch(e){if(!l||!o)throw new g.H("This action will lock you out of this preset.",403,{},!0)}finally{i?await (0,z.n)(e):await e.payload.delete({id:a.id,collection:tZ,req:e})}}return!0},tJ=["read","update","delete"],tQ=[{label:"Everyone",value:"everyone"},{label:"Only Me",value:"onlyMe"},{label:"Specific Users",value:"specificUsers"}],tY=e=>({name:"access",type:"group",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsAccessCell"},condition:e=>!!e?.isShared},fields:tJ.map(t=>({type:"collapsible",fields:[{name:t,type:"group",admin:{hideGutter:!0},fields:[{name:"constraint",type:"select",defaultValue:"onlyMe",filterOptions:t=>"function"==typeof e?.queryPresets?.filterConstraints?e.queryPresets.filterConstraints(t):t.options,label:({i18n:i})=>`Specify who can ${t} this ${(0,eU.i)(e.queryPresets?.labels?.singular||"Preset",i)}`,options:[...tQ,...e?.queryPresets?.constraints?.[t]?.map(e=>({label:e.label,value:e.value}))||[]]},{name:"users",type:"relationship",admin:{condition:e=>e?.access?.[t]?.constraint==="specificUsers"},hasMany:!0,hooks:{beforeChange:[({data:e,req:i})=>e?.access?.[t]?.constraint==="onlyMe"&&i.user?[i.user.id]:e?.access?.[t]?.constraint==="specificUsers"&&i.user?[...e?.access?.[t]?.users||[],i.user.id]:void 0]},relationTo:e.admin?.user??"users"},...e?.queryPresets?.constraints?.[t]?.reduce((e,i)=>(i.fields?.forEach((r,a)=>{e.push({...r}),eu.j7(r)&&(e[a].admin={...e[a]?.admin||{},condition:e=>e?.access?.[t]?.constraint===i.value})}),e),[])||[]],label:!1}],label:()=>(0,eD.BH)(t)})),label:"Sharing settings",validate:tK}),tZ="payload-query-presets",tX=e=>({slug:tZ,access:tW(e),admin:{defaultColumns:["title","isShared","access","where","columns"],hidden:!0,useAsTitle:"title"},fields:[{name:"title",type:"text",required:!0},{name:"isShared",type:"checkbox",defaultValue:!1,validate:(e,{data:t})=>{let i=t;if(i?.access){let t=Object.values(i.access).some(e=>"onlyMe"!==e.constraint);if(!e&&t)return'If any constraint is not "onlyMe", the preset must be shared'}return!0}},tY(e),{name:"where",type:"json",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsWhereCell",Field:"@payloadcms/ui#QueryPresetsWhereField"}},hooks:{beforeValidate:[({data:e})=>e?.where?tq(e.where)?e.where:tB(e.where):e?.where]},label:"Filters"},{name:"columns",type:"json",admin:{components:{Cell:"@payloadcms/ui#QueryPresetsColumnsCell",Field:"@payloadcms/ui#QueryPresetsColumnField"}},validate:e=>{if(e)try{JSON.parse(JSON.stringify(e))}catch{return"Invalid JSON"}return!0}},{name:"relatedCollection",type:"select",admin:{hidden:!0},options:e.collections?e.collections.reduce((e,t)=>(t.enableQueryPresets&&e.push({label:t.labels?.plural||t.slug,value:t.slug}),e),[]):[],required:!0},{name:"isTemp",type:"checkbox",admin:{description:"This is a tempoary field used to determine if updating the preset would remove the user's access to it. When `true`, this record will be deleted after running the preset's `validate` function.",disabled:!0,hidden:!0}}],hooks:{beforeValidate:[({data:e,operation:t})=>{let i=e;if(("create"===t||"update"===t)&&(tJ.forEach(e=>{i.access||(i.access={}),i.access?.[e]||(i[e]={}),i.access[e]?.constraint||(i.access[e]={...i.access[e],constraint:"onlyMe"})}),i?.access)){let e=Object.values(i.access).some(e=>"onlyMe"!==e.constraint);i.isShared=e}return i}]},labels:{plural:"Presets",singular:"Preset",...e.queryPresets?.labels||{}},lockDocuments:!1});var t1=i(23249);let t0=({adminUserSlug:e,collections:t,globals:i})=>({slug:"schedulePublish",handler:async({input:t,req:i})=>{let r;let a=t?.type!=="publish"&&t?.type?"draft":"published",o=t.user,l=null;return o&&((l=await i.payload.findByID({id:o,collection:e,depth:0})).collection=e),t?.type==="publish"&&t.locale&&i.payload.config.localization&&i.payload.config.localization.locales.find(({code:e})=>e===t.locale)&&(r=t.locale),t.doc&&await i.payload.update({id:t.doc.value,collection:t.doc.relationTo,data:{_status:a},depth:0,overrideAccess:null===l,publishSpecificLocale:r,user:l}),t.global&&await i.payload.updateGlobal({slug:t.global,data:{_status:a},depth:0,overrideAccess:null===l,publishSpecificLocale:r,user:l}),{output:{}}},inputSchema:[{name:"type",type:"radio",defaultValue:"publish",options:["publish","unpublish"]},{name:"locale",type:"text"},...t.length>0?[{name:"doc",type:"relationship",relationTo:t}]:[],{name:"global",type:"select",options:i},{name:"user",type:"relationship",relationTo:e}]}),t2="payload-folders",t6="folder";"function"==typeof process?.cwd&&process.cwd(),"function"==typeof process?.cwd&&process.cwd(),tt.m,"function"==typeof process?.cwd&&process.cwd();let t4=e=>(e.admin={avatar:"gravatar",components:{},custom:{},dateFormat:"MMMM do yyyy, h:mm a",dependencies:{},theme:"all",...e.admin||{},importMap:{baseDir:`${"function"==typeof process?.cwd?process.cwd():""}`,...e?.admin?.importMap||{}},meta:{defaultOGImageType:"dynamic",robots:"noindex, nofollow",titleSuffix:"- Payload",...e?.admin?.meta||{}},routes:{account:"/account",browseByFolder:"/browse-by-folder",createFirstUser:"/create-first-user",forgot:"/forgot",inactivity:"/logout-inactivity",login:"/login",logout:"/logout",reset:"/reset",unauthorized:"/unauthorized",...e?.admin?.routes||{}}},e.bin=e.bin??[],e.collections=e.collections??[],e.cookiePrefix=e.cookiePrefix??"payload",e.cors=e.cors??[],e.csrf=e.csrf??[],e.custom=e.custom??{},e.defaultDepth=e.defaultDepth??2,e.defaultMaxTextLength=e.defaultMaxTextLength??4e4,e.endpoints=e.endpoints??[],e.globals=e.globals??[],e.graphQL={disableIntrospectionInProduction:!0,disablePlaygroundInProduction:!0,maxComplexity:1e3,schemaOutputFile:`${"function"==typeof process?.cwd?process.cwd():""}/schema.graphql`,...e.graphQL||{}},e.hooks=e.hooks??{},e.i18n=e.i18n??{},e.jobs={deleteJobOnComplete:!0,depth:0,...e.jobs||{},access:{run:tt.m,...e.jobs?.access||{}}},e.localization=e.localization??!1,e.maxDepth=e.maxDepth??10,e.routes={admin:"/admin",api:(process.env.NEXT_BASE_PATH??"")+"/api",graphQL:"/graphql",graphQLPlayground:"/graphql-playground",...e.routes||{}},e.serverURL=e.serverURL??"",e.telemetry=e.telemetry??!0,e.typescript={autoGenerate:!0,outputFile:`${"function"==typeof process?.cwd?process.cwd():""}/payload-types.ts`,...e.typescript||{}},e.upload=e.upload??{},e.auth={jwtOrder:["JWT","Bearer","cookie"],...e.auth||{}},e.collections.some(e=>!!e.folders)?e.folders={slug:t2,browseByFolder:!0,debug:!1,fieldName:t6,...e.folders||{}}:e.folders=!1,e);var t3=i(39375);let t5="0123456789abcdefghijklmnopqrstuvwxyz";function t8(e,t,i){let r=i[0];if(null!=t&&e>=t)throw Error(e+" >= "+t);if(e.slice(-1)===r||t&&t.slice(-1)===r)throw Error("trailing zero");if(t){let a=0;for(;(e[a]||r)===t[a];)a++;if(a>0)return t.slice(0,a)+t8(e.slice(a),t.slice(a),i)}let a=e?i.indexOf(e[0]):0,o=null!=t?i.indexOf(t[0]):i.length;return o-a>1?i[Math.round(.5*(a+o))]:t&&t.length>1?t.slice(0,1):i[a]+t8(e.slice(1),null,i)}function t9(e){if(e.length!==t7(e[0]))throw Error("invalid integer part of order key: "+e)}function t7(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-97+2;if(e>="A"&&e<="Z")return 90-e.charCodeAt(0)+2;throw Error("invalid order key head: "+e)}function ie(e){let t=t7(e[0]);if(t>e.length)throw Error("invalid order key: "+e);return e.slice(0,t)}function it(e,t){if(e==="A"+t[0].repeat(26))throw Error("invalid order key: "+e);let i=ie(e);if(e.slice(i.length).slice(-1)===t[0])throw Error("invalid order key: "+e)}function ii(e,t){t9(e);let[i,...r]=e.split(""),a=!0;for(let e=r.length-1;a&&e>=0;e--){let i=t.indexOf(r[e])+1;i===t.length?r[e]=t[0]:(r[e]=t[i],a=!1)}if(!a)return i+r.join("");{if("Z"===i)return"a"+t[0];if("z"===i)return null;let e=String.fromCharCode(i.charCodeAt(0)+1);return e>"a"?r.push(t[0]):r.pop(),e+r.join("")}}function ir(e,t){t9(e);let[i,...r]=e.split(""),a=!0;for(let e=r.length-1;a&&e>=0;e--){let i=t.indexOf(r[e])-1;-1===i?r[e]=t.slice(-1):(r[e]=t[i],a=!1)}if(!a)return i+r.join("");{if("a"===i)return"Z"+t.slice(-1);if("A"===i)return null;let e=String.fromCharCode(i.charCodeAt(0)-1);return e<"Z"?r.push(t.slice(-1)):r.pop(),e+r.join("")}}function ia(e,t,i=t5){if(null!=e&&it(e,i),null!=t&&it(t,i),null!=e&&null!=t&&e>=t)throw Error(e+" >= "+t);if(null==e){if(null==t)return"a"+i[0];let e=ie(t),r=t.slice(e.length);if(e==="A"+i[0].repeat(26))return e+t8("",r,i);if(e<t)return e;let a=ir(e,i);if(null==a)throw Error("cannot decrement any more");return a}if(null==t){let t=ie(e),r=e.slice(t.length),a=ii(t,i);return null==a?t+t8(r,null,i):a}let r=ie(e),a=e.slice(r.length),o=ie(t),l=t.slice(o.length);if(r===o)return r+t8(a,l,i);let d=ii(r,i);if(null==d)throw Error("cannot increment any more");return d<t?d:r+t8(a,null,i)}function is(e,t,i,r=t5){if(0===i)return[];if(1===i)return[ia(e,t,r)];if(null==t){let a=ia(e,t,r),o=[a];for(let e=0;e<i-1;e++)o.push(a=ia(a,t,r));return o}if(null==e){let a=ia(e,t,r),o=[a];for(let t=0;t<i-1;t++)o.push(a=ia(e,a,r));return o.reverse(),o}let a=Math.floor(i/2),o=ia(e,t,r);return[...is(e,o,a,r),o,...is(o,t,i-a-1,r)]}let io=e=>{let t=new Map;e.collections.forEach(i=>{if(i.orderable){let e=t.get(i)||[];t.set(i,[...e,"_order"]),i.defaultSort=i.defaultSort??"_order"}(0,t3.J)({callback:({field:i,parentRef:r,ref:a})=>{if("array"===i.type||"blocks"===i.type)return!1;if("group"===i.type||"tab"===i.type){let e=r?.prefix?`${r.prefix}_`:"";a.prefix=`${e}${i.name}`}if("join"===i.type&&!0===i.orderable){if(Array.isArray(i.collection))throw new g.H("Orderable joins must target a single collection",c.i.BAD_REQUEST,{},!0);let a=e.collections.find(e=>e.slug===i.collection);if(!a)return!1;i.defaultSort=i.defaultSort??`_${i.collection}_${i.name}_order`;let o=t.get(a)||[],l=r?.prefix?`${r.prefix}_`:"";t.set(a,[...o,`_${i.collection}_${l}${i.name}_order`])}},fields:i.fields})}),Array.from(t.entries()).forEach(([e,t])=>{il(e,t)}),t.size>0&&id(e)},il=(e,t)=>{t.forEach(t=>{let i={name:t,type:"text",admin:{disableBulkEdit:!0,disabled:!0,disableListColumn:!0,disableListFilter:!0,hidden:!0,readOnly:!0},hooks:{beforeDuplicate:[({siblingData:e})=>{delete e[t]}]},index:!0};e.fields.unshift(i)}),e.hooks||(e.hooks={}),e.hooks.beforeChange||(e.hooks.beforeChange=[]);let i=async({data:i,originalDoc:r,req:a})=>{for(let o of t)if(!i[o]&&!r?.[o]){let t=await a.payload.find({collection:e.slug,depth:0,limit:1,pagination:!1,req:a,select:{[o]:!0},sort:`-${o}`,where:{[o]:{exists:!0}}}),r=t.docs[0]?.[o]||null;i[o]=ia(r,null)}return i};e.hooks.beforeChange.push(i)},id=e=>{let t={handler:async t=>{let{collectionSlug:i,docsToMove:r,newKeyWillBe:a,orderableFieldName:o,target:l}=await t.json?.();if(!Array.isArray(r)||0===r.length)return new Response(JSON.stringify({error:"docsToMove must be a non-empty array"}),{headers:{"Content-Type":"application/json"},status:400});if("greater"!==a&&"less"!==a)return new Response(JSON.stringify({error:'newKeyWillBe must be "greater" or "less"'}),{headers:{"Content-Type":"application/json"},status:400});let d=e.collections.find(e=>e.slug===i);if(!d)return new Response(JSON.stringify({error:`Collection ${i} not found`}),{headers:{"Content-Type":"application/json"},status:400});if("string"!=typeof o)return new Response(JSON.stringify({error:"orderableFieldName must be a string"}),{headers:{"Content-Type":"application/json"},status:400});if(d.access?.update&&await (0,ev.K)({id:r[0],data:{},req:t},d.access.update),!l.key){let{docs:e}=await t.payload.find({collection:d.slug,depth:0,limit:0,req:t,select:{[o]:!0},where:{[o]:{exists:!1}}});await (0,B.n)(t);try{for(let i of e)await t.payload.update({id:i.id,collection:d.slug,data:{},depth:0,req:t}),await (0,F._)(t)}catch(e){if(await (0,z.n)(t),e instanceof Error)throw new g.H(e.message,c.i.INTERNAL_SERVER_ERROR)}return new Response(JSON.stringify({message:"initial migration",success:!0}),{headers:{"Content-Type":"application/json"},status:200})}if("object"!=typeof l||void 0===l.id||"string"!=typeof l.key)return new Response(JSON.stringify({error:"target must be an object with id"}),{headers:{"Content-Type":"application/json"},status:400});let p=l.id,u=l.key;if("pending"===u){let e=await t.payload.findByID({id:p,collection:d.slug,depth:0,select:{[o]:!0}});u=e?.[o]||null}let h=await t.payload.find({collection:d.slug,depth:0,limit:1,pagination:!1,select:{[o]:!0},sort:"greater"===a?o:`-${o}`,where:{[o]:{["greater"===a?"greater_than":"less_than"]:u}}}),m=h.docs?.[0]?.[o]||null,y="greater"===a?is(u,m,r.length):is(m,u,r.length);for(let[e,i]of r.entries())await t.payload.update({id:i,collection:d.slug,data:{[o]:y[e]},depth:0,req:t});return new Response(JSON.stringify({orderValues:y,success:!0}),{headers:{"Content-Type":"application/json"},status:200})},method:"post",path:"/reorder"};e.endpoints||(e.endpoints=[]),e.endpoints.push(t)},ip=e=>{let t={...e};if(e?.compatibility?.allowLocalizedWithinLocalized&&(process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized="true"),t.loggingLevels={Forbidden:"info",Locked:"info",MissingFile:"info",NotFound:"info",ValidationError:"info",...t.loggingLevels||{}},!t?.admin?.user){let e=t.collections.find(({auth:e})=>!!e);e?t.admin.user=e.slug:(t.admin.user=o.slug,t.collections.push(o))}let i=t.collections.find(({slug:e})=>e===t.admin.user);if(!i||!i.auth)throw new tn.v(`${t.admin.user} is not a valid admin user collection`);t?.admin?.timezones?("function"==typeof t?.admin?.timezones?.supportedTimezones&&(t.admin.timezones.supportedTimezones=t.admin.timezones.supportedTimezones({defaultTimezones:th.B})),t?.admin?.timezones?.supportedTimezones||(t.admin.timezones.supportedTimezones=th.B)):t.admin.timezones={supportedTimezones:th.B};let r=Intl.supportedValuesOf("timeZone");return t.admin.timezones.supportedTimezones.forEach(e=>{if(!r.includes(e.value))throw new tn.v(`Timezone ${e.value} is not supported by the current runtime via the Intl API.`)}),t},ic=async e=>{let t=t4(e),i=ip(t);for(let e of(io(i),i.endpoints||(i.endpoints=[]),Z))i.endpoints.push(e);i.localization&&i.localization.locales?.length>0&&("string"==typeof i.localization.locales[0]?(i.localization.localeCodes=[...i.localization.locales],i.localization.locales=i.localization.locales.map(e=>({code:e,label:e,rtl:!1,toString:()=>e}))):(i.localization.localeCodes=i.localization.locales.map(e=>e.code),i.localization.locales=i.localization.locales.map(e=>({...e,toString:()=>e.code}))),i.localization.fallback=i.localization?.fallback??!0);let o={fallbackLanguage:"en",supportedLanguages:{en:r.en},translations:{}};if(e?.i18n){o.supportedLanguages=e.i18n?.supportedLanguages||o.supportedLanguages;let t=Object.keys(o.supportedLanguages),i=e.i18n?.fallbackLanguage||o.fallbackLanguage;o.fallbackLanguage=t.includes(i)?i:t[0],o.translations=e.i18n?.translations||o.translations}i.i18n=o;let l=[],d=[],p=[],c=[],u=new Set;await tS(i);let h=[...i.collections?.map(e=>e.slug)??[],t1.WG,tU.g,tF.O];if(i.blocks=[],e.blocks?.length)for(let t of e.blocks){let e=t;if(!0===e._sanitized)continue;e._sanitized=!0,e.fields=e.fields.concat(tM.n),e.labels=e.labels?e.labels:(0,eD.aA)(e.slug),e.fields=await (0,ec.G)({config:i,existingFieldNames:new Set,fields:e.fields,parentIsLocalized:!1,richTextSanitizationPromises:l,validRelationships:h});let r=(0,eL.p)({block:t});i.blocks.push(r)}for(let e=0;e<i.collections.length;e++){if(u.has(i.collections[e].slug))throw new tu("slug",i.collections[e].slug);u.add(i.collections[e].slug);let t=i.collections[e]?.versions?.drafts;"object"==typeof t&&t.schedulePublish&&d.push(i.collections[e].slug),i.collections[e].enableQueryPresets&&(p.push(i.collections[e].slug),h.includes(tZ)||h.push(tZ)),i.collections[e]=await tp(i,i.collections[e],l,h)}if(i.globals.length>0)for(let e=0;e<i.globals.length;e++){let t=i.globals[e]?.versions?.drafts;"object"==typeof t&&t.schedulePublish&&c.push(i.globals[e].slug),i.globals[e]=await tj(i,i.globals[e],l,h)}if((d.length||c.length)&&((i.jobs??={}).tasks??=[]).push(t0({adminUserSlug:i.admin.user,collections:d,globals:c})),(i.jobs??={}).enabled=!!(Array.isArray(t.jobs?.tasks)&&t.jobs?.tasks?.length||Array.isArray(t.jobs?.workflows)&&t.jobs?.workflows?.length),i.jobs.enabled){let e=(0,t1.Rd)(i);if("function"==typeof i.jobs.jobsCollectionOverrides){e=i.jobs.jobsCollectionOverrides({defaultJobsCollection:e});let t=e?.hooks;if(t&&i?.jobs?.runHooks!==!0)for(let[e,i]of Object.entries(t)){let t="afterRead"===e||"beforeChange"===e?1:0;if(i.length>t){console.warn(`The jobsCollectionOverrides function is returning a collection with an additional ${e} hook defined. These hooks will not run unless the jobs.runHooks option is set to true. Setting this option to true will negatively impact performance.`);break}}}let r=await tp(i,e,l,h);t.collections.push(r)}t.collections.push(await tp(i,(0,tU.k)(i),l,h)),t.collections.push(await tp(i,(0,tF.z)(i),l,h)),t.collections.push(await tp(i,tc,l,h)),p.length>0&&t.collections.push(await tp(i,tX(i),l,h)),""!==i.serverURL&&i.csrf.push(i.serverURL);let m=new Set;for(let e of i.collections)e.upload?.adapter&&m.add(e.upload.adapter);i.upload||(i.upload={adapters:[]}),i.upload.adapters=Array.from(new Set(i.collections.map(e=>e.upload?.adapter).filter(Boolean))),e.email&&(i.email=e.email),"function"==typeof e.editor&&(i.editor=await e.editor({config:i,isRoot:!0,parentIsLocalized:!1}),i.editor.i18n&&Object.keys(i.editor.i18n).length>=0&&(i.i18n.translations=(0,a.u)(i.i18n.translations,i.editor.i18n)));let g=[];for(let e of l)g.push(e(i));return await Promise.all(g),i};async function iu(e){if(Array.isArray(e.plugins)){let t=e;for(let i of e.plugins)t=await i(t);return await ic(t)}return await ic(e)}},92242:(e,t,i)=>{"use strict";i.d(t,{W:()=>a});var r=i(96602);let a=(e,t)=>{if(!e&&!t)return{};let i=e?[e]:[];return(0,r.r)(t)&&i.push(t),{and:i}}},98378:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B:()=>getPredefinedMigration});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57147),path__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(71017),url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(57310);let getPredefinedMigration=async({dirname,file,migrationName:migrationNameArg,payload})=>{let importPath=file??migrationNameArg;if(importPath?.startsWith("@payloadcms/db-")){let migrationName=importPath.split("/").slice(2).join("/"),cleanPath=path__WEBPACK_IMPORTED_MODULE_1__.join(dirname,`./predefinedMigrations/${migrationName}`);fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.mjs`)?cleanPath=`${cleanPath}.mjs`:fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(`${cleanPath}.js`)?cleanPath=`${cleanPath}.js`:(payload.logger.error({msg:`Canned migration ${migrationName} not found.`}),process.exit(1)),cleanPath=cleanPath.replaceAll("\\","/");let moduleURL=(0,url__WEBPACK_IMPORTED_MODULE_2__.pathToFileURL)(cleanPath);try{let{downSQL,imports,upSQL}=await eval(`import('${moduleURL.href}')`);return{downSQL,imports,upSQL}}catch(err){payload.logger.error({err,msg:`Error loading predefined migration ${migrationName}`}),process.exit(1)}}else if(importPath)try{let{downSQL,imports,upSQL}=await eval(`import('${importPath}')`);return{downSQL,imports,upSQL}}catch(_err){if(importPath?.includes("/"))throw Error(`Error importing migration file from ${importPath}`)}return{}}},30129:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>readMigrationFiles});var fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57147),node_url__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(41041),path__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(71017);let readMigrationFiles=async({payload})=>{if(!fs__WEBPACK_IMPORTED_MODULE_0__.existsSync(payload.db.migrationDir))return payload.logger.error({msg:`No migration directory found at ${payload.db.migrationDir}`}),[];payload.logger.info({msg:`Reading migration files from ${payload.db.migrationDir}`});let files=fs__WEBPACK_IMPORTED_MODULE_0__.readdirSync(payload.db.migrationDir).sort().filter(e=>(e.endsWith(".ts")||e.endsWith(".js"))&&"index.js"!==e&&"index.ts"!==e).map(e=>path__WEBPACK_IMPORTED_MODULE_2__.resolve(payload.db.migrationDir,e));return Promise.all(files.map(async filePath=>{let migration="function"==typeof require?await eval(`require('${filePath.replaceAll("\\","/")}')`):await eval(`import('${(0,node_url__WEBPACK_IMPORTED_MODULE_1__.pathToFileURL)(filePath).href}')`);"default"in migration&&(migration=migration.default);let result={name:path__WEBPACK_IMPORTED_MODULE_2__.basename(filePath).split(".")[0],down:migration.down,up:migration.up};return result}))}},95154:(e,t,i)=>{"use strict";i.d(t,{a:()=>h});var r=i(82053),a=i(88105),o=i(32017),l=i(62873),d=i(49584),p=i(71207);function c({collectionSlug:e,fields:t,globalSlug:i,incomingPath:r,locale:a,overrideAccess:l=!1,parentIsLocalized:d,payload:u}){let h=r.split("."),m=u.config.localization,g=[{collectionSlug:e,complete:!1,field:void 0,fields:t,globalSlug:i,invalid:!1,parentIsLocalized:d,path:""}];for(let e=0;e<h.length;e+=1){let t=h[e],r=g.find(({complete:e})=>!e);if(r){let y,v;let{path:b}=r,w=b?`${b}.${t}`:t,_=d;if(r?.field?.type==="blocks"){if("blockType"===t)v={name:"blockType",type:"text"};else for(let e of r.field.blockReferences??r.field.blocks){let i;if(v=(i="string"==typeof e?u.blocks[e]:e).flattenedFields.find(e=>e.name===t))break}}else y=r?.field&&"flattenedFields"in r.field?r.field.flattenedFields:r.fields,_=d||r.field?.localized,v=y.find(e=>e.name===t);if(r.field=v,"globalType"===w&&i)return r.path=w,r.complete=!0,r.field={name:"globalType",type:"text"},g;if("relationTo"===w)return r.path=w,r.complete=!0,r.field={name:"relationTo",type:"select",options:Object.keys(u.collections)},g;if(!v&&"id"===w&&e===h.length-1){r.path=w;let e={name:"id",type:u.db.defaultIDType};return r.field=e,r.complete=!0,g}if(v){"hidden"in v&&v.hidden&&!l&&(r.invalid=!0);let t=h[e+1],d=m&&m.localeCodes.includes(t);switch(d?(e+=1,w=`${w}.${t}`):m&&(0,o.iD)({field:v,parentIsLocalized:_})&&(w=`${w}.${a}`),v.type){case"join":case"relationship":case"upload":if("join"!==v.type&&"string"!=typeof v.relationTo){let e=["relationTo","value"].includes(h[h.length-1])||1===h.length||2===h.length&&"version"===h[0];if(r.path=h.join("."),!e)return r.invalid=!0,g;r.complete=!0}else{r.complete=!0,r.path=w;let t=h.slice(d?e+2:e+1).join(".");if(t){let e;if("join"===v.type){if(Array.isArray(v.collection))throw new p.H("Not supported");e=u.collections[v.collection].config}else e=u.collections[v.relationTo].config;g=[...g,...c({collectionSlug:e.slug,fields:e.flattenedFields,globalSlug:i,incomingPath:t,locale:a,parentIsLocalized:!1,payload:u})]}return g}break;case"json":case"richText":{let t=h.slice(e+1).join(".");return r.complete=!0,r.path=t?`${w}.${t}`:w,g}default:e+1===h.length&&(r.complete=!0),r.path=w}}else{r.invalid=!0,r.path=w;break}}}return g}async function u({collectionConfig:e,constraint:t,errors:i,fields:r,globalConfig:a,operator:p,overrideAccess:u,parentIsLocalized:m,path:g,policies:y,polymorphicJoin:v,req:b,val:w,versionFields:_}){let x;x="_id"===g?"id":g.replace(/__/g,".");let S=[],{slug:E}=e||a,k={};a&&!y.globals[E]&&(y.globals[E]=await (0,l.s)({type:"global",blockPolicies:k,entity:a,operations:["read"],req:b})),"id"!==x&&(S=c({collectionSlug:e?.slug,fields:r,globalSlug:a?.slug,incomingPath:x,locale:b.locale,overrideAccess:u,parentIsLocalized:m,payload:b.payload}));let T=[];if(S.at(-1)?.path==="id"){let e=S.at(-2)?.field;e&&("relationship"===e.type||"upload"===e.type)&&"string"==typeof e.relationTo&&S.pop()}T.push(...S.map(async({collectionSlug:r,field:c,invalid:m,path:x},E)=>{if(m){v||i.push({path:x});return}if("join"===c.type&&x===g&&(t[`${x}.id`]=t[x],delete t[x]),"virtual"in c&&c.virtual&&!0===c.virtual&&i.push({path:x}),!v||"relationTo"!==x){if(!u&&(0,o.j7)(c)){let t;r&&(y.collections[r]||(y.collections[r]=await (0,l.s)({type:"collection",blockPolicies:k,entity:b.payload.collections[r].config,operations:["read"],req:(0,d.O)(b,"transactionID")})),["hash","salt"].includes(g)&&e.auth&&!e.auth?.disableLocalStrategy&&i.push({path:g}));let o=x;x.endsWith(`.${b.locale}`)&&(o=x.slice(0,-(b.locale.length+1))),("relationship"===c.type||"upload"===c.type)&&Array.isArray(c.relationTo)&&(o=o.replace(".value",""));let p=a?"globals":"collections",u=r||a.slug,h=o.split(".");_?(t=y[p][u],("parent"===h[0]||"version"===h[0])&&h.shift()):t=y[p][u].fields,h.forEach(e=>{t[e]&&("fields"in t[e]?t=t[e].fields:("blocks"in t[e]||t[e],t=t[e]))}),t?.read?.permission||i.push({path:o})}E>1&&S.slice(1).reverse().forEach(({collectionSlug:e,path:t},r)=>{0===r&&T.push(h({collectionConfig:b.payload.collections[e].config,errors:i,globalConfig:void 0,overrideAccess:u,policies:y,req:b,where:{[t]:{[p]:w}}}))})}})),await Promise.all(T)}async function h({collectionConfig:e,errors:t=[],globalConfig:i,overrideAccess:o,policies:l={collections:{},globals:{}},polymorphicJoin:d,req:p,versionFields:c,where:m}){let g=c||(i||e).flattenedFields;if("object"==typeof m){let y=[];for(let r in m){let v=m[r];if(("and"===r||"or"===r)&&Array.isArray(v))for(let r of v)e?y.push(h({collectionConfig:e,errors:t,overrideAccess:o,policies:l,polymorphicJoin:d,req:p,versionFields:c,where:r})):y.push(h({errors:t,globalConfig:i,overrideAccess:o,policies:l,polymorphicJoin:d,req:p,versionFields:c,where:r}));else if(!Array.isArray(v))for(let h in v){let b=v[h];a.B.has(h)&&y.push(u({collectionConfig:e,constraint:m,errors:t,fields:g,globalConfig:i,operator:h,overrideAccess:o,path:r,policies:l,polymorphicJoin:d,req:p,val:b,versionFields:c}))}}if(await Promise.all(y),t.length>0)throw new r.o(t)}}},41799:(e,t,i)=>{"use strict";i.d(t,{_:()=>p});var r=i(53318),a=i(82053),o=i(92242),l=i(95154);let d=async({collectionSlug:e,errors:t,join:i,joinsQuery:a,overrideAccess:d,promises:p,req:c})=>{let{joinPath:u}=i;if(!1===a[u])return;let h=c.payload.collections[e].config,m=!!d||await (0,r.K)({disableErrors:!0,req:c},h.access.read);if(!1===m){a[u]=!1;return}a[u]||(a[u]={});let g=a[u];g.where||(g.where={}),i.field.where&&(g.where=(0,o.W)(g.where,i.field.where)),p.push((0,l.a)({collectionConfig:h,errors:t,overrideAccess:d,polymorphicJoin:Array.isArray(i.field.collection),req:c,where:g.where})),"object"==typeof m&&(g.where=(0,o.W)(g.where,m))},p=async({collectionConfig:e,joins:t,overrideAccess:i,req:r})=>{if(!1===t)return!1;t||(t={});let o=[],l=[];for(let a in e.joins)for(let p of e.joins[a])await d({collectionSlug:a,errors:o,join:p,joinsQuery:t,overrideAccess:i,promises:l,req:r});for(let a of e.polymorphicJoins)for(let e of a.field.collection)await d({collectionSlug:e,errors:o,join:a,joinsQuery:t,overrideAccess:i,promises:l,req:r});if(await Promise.all(l),o.length>0)throw new a.o(o);return t}},93826:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let r=({fields:e,payload:t,where:i})=>{for(let a in i){let o=i[a];if(["and","or"].includes(a.toLowerCase())&&Array.isArray(o)){for(let i of o)r({fields:e,payload:t,where:i});continue}let l=a.split("."),d=!1,p=e;for(let e=0;e<l.length;e++){let i=l[e],r=p.find(e=>e.name===i);if(!r)break;if("virtual"in r&&r.virtual&&"string"==typeof r.virtual&&(l[e]=r.virtual,d=!0),"flattenedFields"in r&&(p=r.flattenedFields),("relationship"===r.type||"upload"===r.type)&&"string"==typeof r.relationTo){let e=t.collections[r.relationTo];e&&(p=e.config.flattenedFields)}}d&&(i[l.join(".")]=i[a],delete i[a])}}},71207:(e,t,i)=>{"use strict";i.d(t,{B:()=>a,H:()=>l});var r=i(53064);let a="APIError";class o extends Error{data;isOperational;isPublic;status;constructor(e,t,i,r){super(e,{cause:i}),a=this.constructor.name,this.name=this.constructor.name,this.message=e,this.status=t,this.data=i,this.isPublic=r,this.isOperational=!0,Error.captureStackTrace(this,this.constructor)}}class l extends o{constructor(e,t=r.i.INTERNAL_SERVER_ERROR,i=null,a=!1){super(e,t,i,a)}}},19165:(e,t,i)=>{"use strict";i.d(t,{D:()=>l});var r=i(94894),a=i(53064),o=i(71207);class l extends o.H{constructor(e){super(e?e("error:problemUploadingFile"):r.en.translations.error.problemUploadingFile,a.i.BAD_REQUEST)}}},28294:(e,t,i)=>{"use strict";i.d(t,{r:()=>l});var r=i(94894),a=i(53064),o=i(71207);class l extends o.H{constructor(e){super(e?e("error:notAllowedToPerformAction"):r.en.translations.error.notAllowedToPerformAction,a.i.FORBIDDEN)}}},79562:(e,t,i)=>{"use strict";i.d(t,{v:()=>o});var r=i(53064),a=i(71207);class o extends a.H{constructor(e){super(e,r.i.INTERNAL_SERVER_ERROR)}}},12687:(e,t,i)=>{"use strict";i.d(t,{L:()=>o});var r=i(32017),a=i(71207);class o extends a.H{constructor(e){super(`RichText field${(0,r.j7)(e)?` "${e.name}"`:""} is missing the editor prop. For sub-richText fields, the editor props is required, as it would otherwise create infinite recursion.`)}}},39399:(e,t,i)=>{"use strict";i.d(t,{T:()=>l});var r=i(94894),a=i(53064),o=i(71207);class l extends o.H{constructor(e){super(e?e("general:notFound"):r.en.translations.general.notFound,a.i.NOT_FOUND)}}},82053:(e,t,i)=>{"use strict";i.d(t,{o:()=>o});var r=i(53064),a=i(71207);class o extends a.H{constructor(e){super(`The following path${1===e.length?"":"s"} cannot be queried: ${e.map(e=>e.path).join(", ")}`,r.i.BAD_REQUEST,e)}}},96497:(e,t,i)=>{"use strict";i.d(t,{W:()=>l,p:()=>d});var r=i(94894),a=i(53064),o=i(71207);let l="ValidationError";class d extends o.H{constructor(e,t){let i=t?t("error:followingFieldsInvalid",{count:e.errors.length}):1===e.errors.length?r.en.translations.error.followingFieldsInvalid_one:r.en.translations.error.followingFieldsInvalid_other,o=e.req;delete e.req,super(`${i} ${e.errors.map(e=>e.label?"function"==typeof e.label?o&&o.i18n&&o.t?e.label({i18n:o.i18n,t:o.t}):e.path:"object"==typeof e.label?o?.i18n?.language?e.label[o.i18n.language]:e.label[Object.keys(e.label)[0]]:e.label:e.path).join(", ")}`,a.i.BAD_REQUEST,e),l=this.constructor.name}}},16096:(e,t,i)=>{"use strict";i.d(t,{n:()=>r});let r=[i(6873).B,{name:"blockName",type:"text",admin:{disabled:!0},label:"Block Name",required:!1}]},6873:(e,t,i)=>{"use strict";i.d(t,{B:()=>o});var r=i(40954);let a=r.default||r,o={name:"id",type:"text",admin:{hidden:!0},defaultValue:()=>new a().toHexString(),hooks:{beforeChange:[({value:e})=>e||new a().toHexString()],beforeDuplicate:[()=>new a().toHexString()]},label:"ID"}},22821:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});let r=[{label:"(UTC-11:00) Midway Island, Samoa",value:"Pacific/Midway"},{label:"(UTC-11:00) Niue",value:"Pacific/Niue"},{label:"(UTC-10:00) Hawaii",value:"Pacific/Honolulu"},{label:"(UTC-10:00) Cook Islands",value:"Pacific/Rarotonga"},{label:"(UTC-09:00) Alaska",value:"America/Anchorage"},{label:"(UTC-09:00) Gambier Islands",value:"Pacific/Gambier"},{label:"(UTC-08:00) Pacific Time (US & Canada)",value:"America/Los_Angeles"},{label:"(UTC-08:00) Tijuana, Baja California",value:"America/Tijuana"},{label:"(UTC-07:00) Mountain Time (US & Canada)",value:"America/Denver"},{label:"(UTC-07:00) Arizona (No DST)",value:"America/Phoenix"},{label:"(UTC-06:00) Central Time (US & Canada)",value:"America/Chicago"},{label:"(UTC-06:00) Central America",value:"America/Guatemala"},{label:"(UTC-05:00) Eastern Time (US & Canada)",value:"America/New_York"},{label:"(UTC-05:00) Bogota, Lima, Quito",value:"America/Bogota"},{label:"(UTC-04:00) Caracas",value:"America/Caracas"},{label:"(UTC-04:00) Santiago",value:"America/Santiago"},{label:"(UTC-03:00) Buenos Aires",value:"America/Buenos_Aires"},{label:"(UTC-03:00) Brasilia",value:"America/Sao_Paulo"},{label:"(UTC-02:00) South Georgia",value:"Atlantic/South_Georgia"},{label:"(UTC-01:00) Azores",value:"Atlantic/Azores"},{label:"(UTC-01:00) Cape Verde",value:"Atlantic/Cape_Verde"},{label:"(UTC+00:00) London (GMT)",value:"Europe/London"},{label:"(UTC+01:00) Berlin, Paris",value:"Europe/Berlin"},{label:"(UTC+01:00) Lagos",value:"Africa/Lagos"},{label:"(UTC+02:00) Athens, Bucharest",value:"Europe/Athens"},{label:"(UTC+02:00) Cairo",value:"Africa/Cairo"},{label:"(UTC+03:00) Moscow, St. Petersburg",value:"Europe/Moscow"},{label:"(UTC+03:00) Riyadh",value:"Asia/Riyadh"},{label:"(UTC+04:00) Dubai",value:"Asia/Dubai"},{label:"(UTC+04:00) Baku",value:"Asia/Baku"},{label:"(UTC+05:00) Islamabad, Karachi",value:"Asia/Karachi"},{label:"(UTC+05:00) Tashkent",value:"Asia/Tashkent"},{label:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",value:"Asia/Calcutta"},{label:"(UTC+06:00) Dhaka",value:"Asia/Dhaka"},{label:"(UTC+06:00) Almaty",value:"Asia/Almaty"},{label:"(UTC+07:00) Jakarta",value:"Asia/Jakarta"},{label:"(UTC+07:00) Bangkok",value:"Asia/Bangkok"},{label:"(UTC+08:00) Beijing, Shanghai",value:"Asia/Shanghai"},{label:"(UTC+08:00) Singapore",value:"Asia/Singapore"},{label:"(UTC+09:00) Tokyo, Osaka, Sapporo",value:"Asia/Tokyo"},{label:"(UTC+09:00) Seoul",value:"Asia/Seoul"},{label:"(UTC+10:00) Brisbane",value:"Australia/Brisbane"},{label:"(UTC+10:00) Sydney, Melbourne",value:"Australia/Sydney"},{label:"(UTC+10:00) Guam, Port Moresby",value:"Pacific/Guam"},{label:"(UTC+11:00) New Caledonia",value:"Pacific/Noumea"},{label:"(UTC+12:00) Auckland, Wellington",value:"Pacific/Auckland"},{label:"(UTC+12:00) Fiji",value:"Pacific/Fiji"}]},66974:(e,t,i)=>{"use strict";i.d(t,{G:()=>R});var r=i(5569),a=i(9576),o=i(32017),l=i(71207);class d extends l.H{constructor(e){super(`Field${(0,o.j7)(e)?` "${e.name}"`:""} is either missing a field type or it does not match an available field type`)}}class p extends l.H{constructor(e,t){super(`Field ${e.label} has invalid name '${t}'. Field names can not include periods (.) and must be alphanumeric.`)}}class c extends l.H{constructor(e,t){super(`Field ${e.label} has invalid relationship '${t}'.`)}}class u extends l.H{constructor(e){super(`A field with the name '${e}' was found multiple times on the same level. Field names must be unique.`)}}var h=i(12687);class m extends l.H{constructor(e,t){super(`Field ${e.label} has reserved name '${t}'.`)}}var g=i(90618),y=i(16096),v=i(6873);let b=({name:e,defaultValue:t,options:i,required:r})=>({name:e,type:"select",admin:{hidden:!0},defaultValue:t,options:i,required:r});var w=i(22821);let _=e=>"string"==typeof e&&""!==e.trim(),x=({value:e})=>_(e)?`${e} - Copy`:void 0,S=({req:e,value:t})=>_(t)?`${t} - ${e?.t("general:copy")??"Copy"}`:void 0,E=(e,t)=>{("required"in e&&e.required||e.unique)&&(!e.hooks?.beforeDuplicate||Array.isArray(e.hooks.beforeDuplicate)&&0===e.hooks.beforeDuplicate.length)&&e.unique&&(["email","number","point","relationship","select","upload"].includes(e.type)?e.hooks.beforeDuplicate=[()=>void 0]:["code","json","text","textarea"].includes(e.type)&&(e.hooks.beforeDuplicate=(0,o.iD)({field:e,parentIsLocalized:t})?[S]:[x]))};var k=i(7921);let T=["salt","hash"],C=[],N=[],O=["file"];class P extends l.H{constructor(e){super(`Invalid join field ${e.name}. The config does not have a field '${e.on}' in collection '${e.collection}'.`)}}var I=i(4641),L=i(62570);let D=({config:e,field:t,joinPath:i,joins:r,parentIsLocalized:a,polymorphicJoins:o,validateOnly:d})=>{if(void 0===r)throw new l.H("Join fields cannot be added to arrays, blocks or globals.");void 0===t.maxDepth&&(t.maxDepth=1);let p={field:t,joinPath:`${i?i+".":""}${t.name}`,parentIsLocalized:a,targetField:void 0};if(Array.isArray(t.collection)){for(let l of t.collection)D({config:e,field:{...t,collection:l},joinPath:i,joins:r,parentIsLocalized:a,polymorphicJoins:o,validateOnly:!0});Array.isArray(o)&&o.push(p);return}let c=e.collections?.find(e=>e.slug===t.collection);if(!c)throw new P(t);let u=(0,L.w)({fields:(0,I.u)({cache:!0,fields:c.fields}),path:t.on});if(!u||"relationship"!==u.field.type&&"upload"!==u.field.type)throw new P(p.field);u.pathHasLocalized&&(p.getForeignPath=({locale:e})=>u.localizedPath.replace("<locale>",e)),u.field.index||u.field.unique||(u.field.index=!0),d||(p.targetField=u.field,t.localized=u.field.localized,t.hasMany=u.field.hasMany,t.targetField=p.targetField,r[t.collection]?r[t.collection]?.push(p):r[t.collection]=[p])},R=async({collectionConfig:e,config:t,existingFieldNames:i=new Set,fields:l,isTopLevelField:_=!0,joinPath:x="",joins:S,parentIsLocalized:P,polymorphicJoins:I,requireFieldLevelRichTextEditor:L=!1,richTextSanitizationPromises:$,validRelationships:j})=>{if(!l)return[];for(let M=0;M<l.length;M++){let U=l[M];if("_sanitized"in U&&!0===U._sanitized)continue;if("_sanitized"in U&&(U._sanitized=!0),!U.type)throw new d(U);let F=(0,o.j7)(U);if(_&&F&&U.name&&(e&&e.upload&&O.includes(U.name)||e&&e.auth&&"object"==typeof e.auth&&!e.auth.disableLocalStrategy&&(T.includes(U.name)||e.auth.verify&&(N.includes(U.name)||C.includes(U.name)))))throw new m(U,U.name);if(F&&U.name.includes("."))throw new p(U,U.name);if("name"in U&&U.name&&"object"!=typeof U.label&&"string"!=typeof U.label&&"function"!=typeof U.label&&!1!==U.label&&(U.label=(0,g.BH)(U.name)),"checkbox"===U.type&&void 0===U.defaultValue&&!0===U.required&&(U.defaultValue=!1),"join"===U.type&&D({config:t,field:U,joinPath:x,joins:S,parentIsLocalized:P,polymorphicJoins:I}),("relationship"===U.type||"upload"===U.type)&&(j&&(Array.isArray(U.relationTo)?U.relationTo:[U.relationTo]).forEach(e=>{if(!j.includes(e))throw new c(U,e)}),U.min&&!U.minRows&&(console.warn(`(payload): The "min" property is deprecated for the Relationship field "${U.name}" and will be removed in a future version. Please use "minRows" instead.`),U.minRows=U.min),U.max&&!U.maxRows&&(console.warn(`(payload): The "max" property is deprecated for the Relationship field "${U.name}" and will be removed in a future version. Please use "maxRows" instead.`),U.maxRows=U.max)),"upload"!==U.type||U.admin&&"isSortable"in U.admin||(U.admin={isSortable:!0,...U.admin}),"array"===U.type&&U.fields&&!U.fields.some(e=>"name"in e&&"id"===e.name)&&U.fields.push(v.B),("blocks"===U.type||"array"===U.type)&&U.label&&(U.labels=U.labels||(0,g.aA)(U.name)),F){if(i.has(U.name))throw new u(U.name);if(["blockName","id"].includes(U.name)||i.add(U.name),void 0!==U.localized){let e=!t.localization;"true"!==process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized&&P&&"true"!==process.env.PAYLOAD_DO_NOT_SANITIZE_LOCALIZED_PROPERTY&&(e=!0),e&&delete U.localized}if(void 0===U.validate){let e=k.tV[U.type];e?U.validate=(t,i)=>e(t,{...U,...i}):U.validate=()=>!0}U.hooks||(U.hooks={}),U.access||(U.access={}),E(U,P)}if(U.admin||(U.admin={}),"richText"===U.type){let e=async e=>{if(!U.editor){if(e.editor&&!L)U.editor=e.editor;else throw new h.L(U)}"function"==typeof U.editor&&(U.editor=await U.editor({config:e,isRoot:L,parentIsLocalized:P||U.localized})),U.editor.i18n&&Object.keys(U.editor.i18n).length>=0&&(t.i18n.translations=(0,r.u)(t.i18n.translations,U.editor.i18n))};$?$.push(e):await e(t)}if("blocks"===U.type&&U.blocks){if(U.blockReferences&&U.blocks?.length)throw Error("You cannot have both blockReferences and blocks in the same blocks field");let i=[];for(let r of U.blockReferences??U.blocks){let a="string"==typeof r?r:r.slug;if(i.includes(a))throw new u(a);i.push(a),"string"!=typeof r&&!0!==r._sanitized&&(r._sanitized=!0,r.fields=r.fields.concat(y.n),r.labels=r.labels?r.labels:(0,g.aA)(r.slug),r.fields=await R({collectionConfig:e,config:t,existingFieldNames:new Set,fields:r.fields,isTopLevelField:!1,parentIsLocalized:P||U.localized,requireFieldLevelRichTextEditor:L,richTextSanitizationPromises:$,validRelationships:j}))}}if("fields"in U&&U.fields&&(U.fields=await R({collectionConfig:e,config:t,existingFieldNames:F?new Set:i,fields:U.fields,isTopLevelField:_&&!F,joinPath:F?`${x?x+".":""}${U.name}`:x,joins:S,parentIsLocalized:P||(0,o.B)(U),polymorphicJoins:I,requireFieldLevelRichTextEditor:L,richTextSanitizationPromises:$,validRelationships:j})),"tabs"===U.type)for(let r=0;r<U.tabs.length;r++){let l=U.tabs[r],d=(0,o.JC)(l);d&&void 0===l.label&&(l.label=(0,g.BH)(l.name)),"admin"in l&&l.admin?.condition&&"function"==typeof l.admin.condition&&!l.id&&(l.id=d?`${l.name}_${(0,a.Z)()}`:(0,a.Z)()),l.fields=await R({collectionConfig:e,config:t,existingFieldNames:d?new Set:i,fields:l.fields,isTopLevelField:_&&!d,joinPath:d?`${x?x+".":""}${l.name}`:x,joins:S,parentIsLocalized:P||d&&l.localized,polymorphicJoins:I,requireFieldLevelRichTextEditor:L,richTextSanitizationPromises:$,validRelationships:j}),U.tabs[r]=l}if("ui"===U.type&&void 0===U.admin.disableBulkEdit&&(U.admin.disableBulkEdit=!0),l[M]=U,"date"===U.type&&U.timezone){let e=U.name+"_tz",i=t.admin?.timezones?.defaultTimezone,r=t.admin?.timezones?.supportedTimezones,a=b({name:e,defaultValue:i,options:"function"==typeof r?r({defaultTimezones:w.B}):r,required:U.required});l.splice(++M,0,a)}}return l}},32017:(e,t,i)=>{"use strict";function r(e){return null!==e&&"object"==typeof e&&"relationTo"in e&&"value"in e}function a(e){return"group"===e.type||"array"===e.type||"row"===e.type||"collapsible"===e.type}function o(e){return"object"==typeof e}function l(e){return"select"===e.type||"relationship"===e.type||"upload"===e.type}function d(e){return("upload"===e.type||"relationship"===e.type||"join"===e.type)&&"number"==typeof e.maxDepth}function p(e){return"ui"===e.type}function c(e){return"name"in e&&"id"===e.name}function u(e){return"hidden"in e&&e.hidden||"admin"in e&&"disabled"in e.admin&&e.admin.disabled}function h(e){return"name"in e&&!p(e)}function m(e){return"name"in e}function g(e){return"localized"in e&&e.localized}function y({field:e,parentIsLocalized:t}){return"localized"in e&&e.localized&&(!t||"true"===process.env.NEXT_PUBLIC_PAYLOAD_COMPATIBILITY_allowLocalizedWithinLocalized)}function v(e){return"virtual"in e&&!!e.virtual}i.d(t,{B:()=>g,GN:()=>o,JC:()=>m,Ji:()=>d,P2:()=>p,Ve:()=>c,XI:()=>u,iD:()=>y,j7:()=>h,jD:()=>r,o:()=>v,so:()=>l,uV:()=>a})},58082:(e,t,i)=>{"use strict";i.d(t,{o:()=>a});var r=i(60814);let a=async({defaultValue:e,locale:t,req:i,user:a,value:o})=>void 0!==o?o:e&&"function"==typeof e?await e({locale:t,req:i,user:a}):"object"==typeof e?(0,r.Ee)(e):e},50768:(e,t,i)=>{"use strict";function r({field:e,index:t,parentIndexPath:i,parentPath:r,parentSchemaPath:a}){if("name"in e)return{indexPath:`${i?i+"-":""}${t}`,path:`${r?r+".":""}${e.name}`,schemaPath:`${a?a+".":""}${e.name}`};let o=`_index-${i?i+"-":""}${t}`;return{indexPath:`${i?i+"-":""}${t}`,path:`${r?r+".":""}${o}`,schemaPath:`${a?a+".":""}${o}`}}function a({field:e,index:t,parentIndexPath:i,parentPath:r,parentSchemaPath:a}){let o=r.split("."),l=o[o.length-1].startsWith("_index-"),d=l?o.slice(0,-1).join("."):r,p=l?d:r;if("name"in e)return{indexPath:"",path:`${p?p+".":""}${e.name}`,schemaPath:`${a?a+".":""}${e.name}`};let c=`_index-${i?i+"-":""}${t}`;return{indexPath:`${i?i+"-":""}${t}`,path:`${p?p+".":""}${c}`,schemaPath:`${!l&&a?a+".":""}${c}`}}i.d(t,{F:()=>a,z:()=>r})},28581:(e,t,i)=>{"use strict";i.d(t,{U:()=>a});var r=i(43857);let a=async({collection:e,context:t,data:i,doc:a,global:o,operation:l,previousDoc:d,req:p})=>(await (0,r.J)({collection:e,context:t,data:i,doc:a,fields:e?.fields||o?.fields,global:o,operation:l,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",previousDoc:d,previousSiblingDoc:d,req:p,siblingData:i,siblingDoc:a}),a)},43857:(e,t,i)=>{"use strict";i.d(t,{J:()=>d});var r=i(12687),a=i(32017),o=i(50768);let l=async({blockData:e,collection:t,context:i,data:l,doc:p,field:c,fieldIndex:u,global:h,operation:m,parentIndexPath:g,parentIsLocalized:y,parentPath:v,parentSchemaPath:b,previousDoc:w,previousSiblingDoc:_,req:x,siblingData:S,siblingDoc:E,siblingFields:k})=>{let{indexPath:T,path:C,schemaPath:N}=(0,o.F)({field:c,index:u,parentIndexPath:g,parentPath:v,parentSchemaPath:b}),O=C?C.split("."):[],P=N?N.split("."):[],I=T?T.split("-").filter(Boolean)?.map(Number):[];if((0,a.j7)(c)&&c.hooks?.afterChange)for(let r of c.hooks.afterChange){let a=await r({blockData:e,collection:t,context:i,data:l,field:c,global:h,indexPath:I,operation:m,originalDoc:p,path:O,previousDoc:w,previousSiblingDoc:_,previousValue:w[c.name],req:x,schemaPath:P,siblingData:S,siblingFields:k,value:E[c.name]});void 0!==a&&(E[c.name]=a)}switch(c.type){case"array":{let r=E[c.name];if(Array.isArray(r)){let a=[];r.forEach((r,o)=>{a.push(d({blockData:e,collection:t,context:i,data:l,doc:p,fields:c.fields,global:h,operation:m,parentIndexPath:"",parentIsLocalized:y||c.localized,parentPath:C+"."+o,parentSchemaPath:N,previousDoc:w,previousSiblingDoc:w?.[c.name]?.[o]||{},req:x,siblingData:S?.[c.name]?.[o]||{},siblingDoc:r?{...r}:{}}))}),await Promise.all(a)}break}case"blocks":{let e=E[c.name];if(Array.isArray(e)){let r=[];e.forEach((e,a)=>{let o=e.blockType,u=x.payload.blocks[o]??(c.blockReferences??c.blocks).find(e=>"string"!=typeof e&&e.slug===o);u&&r.push(d({blockData:S?.[c.name]?.[a],collection:t,context:i,data:l,doc:p,fields:u.fields,global:h,operation:m,parentIndexPath:"",parentIsLocalized:y||c.localized,parentPath:C+"."+a,parentSchemaPath:N+"."+u.slug,previousDoc:w,previousSiblingDoc:w?.[c.name]?.[a]||{},req:x,siblingData:S?.[c.name]?.[a]||{},siblingDoc:e?{...e}:{}}))}),await Promise.all(r)}break}case"collapsible":case"row":await d({blockData:e,collection:t,context:i,data:l,doc:p,fields:c.fields,global:h,operation:m,parentIndexPath:T,parentIsLocalized:y,parentPath:v,parentSchemaPath:N,previousDoc:w,previousSiblingDoc:{..._},req:x,siblingData:S||{},siblingDoc:{...E}});break;case"group":(0,a.j7)(c)?await d({blockData:e,collection:t,context:i,data:l,doc:p,fields:c.fields,global:h,operation:m,parentIndexPath:"",parentIsLocalized:y||c.localized,parentPath:C,parentSchemaPath:N,previousDoc:w,previousSiblingDoc:w[c.name],req:x,siblingData:S?.[c.name]||{},siblingDoc:E[c.name]}):await d({blockData:e,collection:t,context:i,data:l,doc:p,fields:c.fields,global:h,operation:m,parentIndexPath:T,parentIsLocalized:y,parentPath:v,parentSchemaPath:N,previousDoc:w,previousSiblingDoc:{..._},req:x,siblingData:S||{},siblingDoc:{...E}});break;case"richText":{if(!c?.editor)throw new r.L(c);if("function"==typeof c.editor)throw Error("Attempted to access unsanitized rich text editor.");let e=c.editor;if(e?.hooks?.afterChange?.length)for(let r of e.hooks.afterChange){let e=await r({collection:t,context:i,data:l,field:c,global:h,indexPath:I,operation:m,originalDoc:p,parentIsLocalized:y,path:O,previousDoc:w,previousSiblingDoc:_,previousValue:w[c.name],req:x,schemaPath:P,siblingData:S,value:E[c.name]});void 0!==e&&(E[c.name]=e)}break}case"tab":{let r=S,o=E,u=E,g=(0,a.JC)(c);g&&(r=S[c.name]??{},o=E[c.name]??{},u=w[c.name]??{}),await d({blockData:e,collection:t,context:i,data:l,doc:p,fields:c.fields,global:h,operation:m,parentIndexPath:g?"":T,parentIsLocalized:y||c.localized,parentPath:g?C:v,parentSchemaPath:N,previousDoc:w,previousSiblingDoc:u,req:x,siblingData:r,siblingDoc:o});break}case"tabs":await d({blockData:e,collection:t,context:i,data:l,doc:p,fields:c.tabs.map(e=>({...e,type:"tab"})),global:h,operation:m,parentIndexPath:T,parentIsLocalized:y,parentPath:C,parentSchemaPath:N,previousDoc:w,previousSiblingDoc:{..._},req:x,siblingData:S||{},siblingDoc:{...E}})}},d=async({blockData:e,collection:t,context:i,data:r,doc:a,fields:o,global:d,operation:p,parentIndexPath:c,parentIsLocalized:u,parentPath:h,parentSchemaPath:m,previousDoc:g,previousSiblingDoc:y,req:v,siblingData:b,siblingDoc:w,siblingFields:_})=>{let x=[];o.forEach((o,S)=>{x.push(l({blockData:e,collection:t,context:i,data:r,doc:a,field:o,fieldIndex:S,global:d,operation:p,parentIndexPath:c,parentIsLocalized:u,parentPath:h,parentSchemaPath:m,previousDoc:g,previousSiblingDoc:y,req:v,siblingData:b,siblingDoc:w,siblingFields:_}))}),await Promise.all(x)}},11161:(e,t,i)=>{"use strict";i.d(t,{r:()=>o});var r=i(60174),a=i(57279);async function o(e){let{collection:t,context:i,currentDepth:o,depth:l,doc:d,draft:p,fallbackLocale:c,findMany:u,flattenLocales:h=!0,global:m,locale:g,overrideAccess:y,populate:v,req:b,select:w,showHiddenFields:_}=e,x=[],S=[],E=l||0===l?parseInt(String(l),10):b.payload.config.defaultDepth;E>b.payload.config.maxDepth&&(E=b.payload.config.maxDepth);let k=o||1;(0,a.J)({collection:t,context:i,currentDepth:k,depth:E,doc:d,draft:p,fallbackLocale:c,fieldPromises:x,fields:t?.fields||m?.fields,findMany:u,flattenLocales:h,global:m,locale:g,overrideAccess:y,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",populate:v,populationPromises:S,req:b,select:w,selectMode:w?(0,r.t)(w):void 0,showHiddenFields:_,siblingDoc:d});let T=0;for(;x.length>0||S.length>0;){let e=x.splice(0,x.length),t=S.splice(0,S.length);if(await Promise.all(e),await Promise.all(t),++T>=100)throw Error("Infinite afterRead promise loop detected. A hook is likely adding field promises in an infinitely recursive way.")}return d}},57279:(e,t,i)=>{"use strict";i.d(t,{J:()=>y});var r=i(12687),a=i(61400),o=i(52129),l=i(32017),d=i(58082),p=i(50768),c=i(62437);let u=async({currentDepth:e,data:t,dataReference:i,depth:r,draft:a,fallbackLocale:o,field:l,index:d,key:p,locale:u,overrideAccess:h,populateArg:m,req:g,showHiddenFields:y})=>{let v;let b=i;v="join"===l.type?Array.isArray(l.collection)?t.relationTo:l.collection:Array.isArray(l.relationTo)?t.relationTo:l.relationTo;let w=g.payload.collections[v];if(w){let i,v;i="join"===l.type&&Array.isArray(l.collection)?t.value:"join"!==l.type&&Array.isArray(l.relationTo)?t.value:t;let _=r&&e<=r;"string"!=typeof i&&"number"!=typeof i&&"function"==typeof i?.toString&&"object"!=typeof i&&(i=i.toString()),_&&(v=await g.payloadDataLoader.load((0,c.u)({collectionSlug:w.config.slug,currentDepth:e+1,depth:r,docID:i,draft:a,fallbackLocale:o,locale:u,overrideAccess:h,populate:m,select:m?.[w.config.slug]??w.config.defaultPopulate,showHiddenFields:y,transactionID:g.transactionID}))),v||(v=i),"number"==typeof d&&"string"==typeof p?"join"!==l.type&&Array.isArray(l.relationTo)?b[l.name][p][d].value=v:"join"===l.type&&Array.isArray(l.collection)?b[l.name][p][d].value=v:b[l.name][p][d]=v:"number"==typeof d||"string"==typeof p?"join"===l.type?Array.isArray(l.collection)?b[l.name].docs[d??p].value=v:b[l.name].docs[d??p]=v:Array.isArray(l.relationTo)?b[l.name][d??p].value=v:b[l.name][d??p]=v:"join"!==l.type&&Array.isArray(l.relationTo)?b[l.name].value=v:"join"===l.type&&Array.isArray(l.collection)?b[l.name].value=v:b[l.name]=v}},h=async({currentDepth:e,depth:t,draft:i,fallbackLocale:r,field:a,locale:o,overrideAccess:d,parentIsLocalized:p,populate:c,req:h,showHiddenFields:m,siblingDoc:g})=>{let y=g,v=(0,l.Ji)(a)&&a.maxDepth<t?a.maxDepth:t,b=[];"join"===a.type||(0,l.so)(a)&&a.hasMany?(0,l.iD)({field:a,parentIsLocalized:p})&&"all"===o&&"object"==typeof g[a.name]&&null!==g[a.name]?Object.keys(g[a.name]).forEach(t=>{Array.isArray(g[a.name][t])&&g[a.name][t].forEach((l,p)=>{let w=async()=>{await u({currentDepth:e,data:g[a.name][t][p],dataReference:y,depth:v,draft:i,fallbackLocale:r,field:a,index:p,key:t,locale:o,overrideAccess:d,populateArg:c,req:h,showHiddenFields:m})};b.push(w())})}):(Array.isArray(g[a.name])||Array.isArray(g[a.name]?.docs))&&(Array.isArray(g[a.name])?g[a.name]:g[a.name].docs).forEach((t,l)=>{let p=async()=>{t&&await u({currentDepth:e,data:!("join"===a.type&&Array.isArray(a.collection))&&t?.id?t.id:t,dataReference:y,depth:v,draft:i,fallbackLocale:r,field:a,index:l,locale:o,overrideAccess:d,populateArg:c,req:h,showHiddenFields:m})};b.push(p())}):a.localized&&"all"===o&&"object"==typeof g[a.name]&&null!==g[a.name]?(Object.keys(g[a.name]).forEach(t=>{let l=async()=>{await u({currentDepth:e,data:g[a.name][t],dataReference:y,depth:v,draft:i,fallbackLocale:r,field:a,key:t,locale:o,overrideAccess:d,populateArg:c,req:h,showHiddenFields:m})};b.push(l())}),await Promise.all(b)):g[a.name]&&await u({currentDepth:e,data:g[a.name],dataReference:y,depth:v,draft:i,fallbackLocale:r,field:a,locale:o,overrideAccess:d,populateArg:c,req:h,showHiddenFields:m}),await Promise.all(b)},m=async({name:e,draft:t,fallbackLocale:i,fields:r,locale:a,overrideAccess:o,ref:l,req:d,segments:p,showHiddenFields:u,siblingDoc:h})=>{let g=p.shift();if(!g)return;let y=l[g];if(void 0===y)return;if(0===p.length){h[e]=y;return}let v=r.find(e=>e.name===g);if(v){if("group"===v.type||"tab"===v.type){if(!y||"object"!=typeof y)return;return m({name:e,draft:t,fallbackLocale:i,fields:v.flattenedFields,locale:a,overrideAccess:o,ref:y,req:d,segments:p,showHiddenFields:u,siblingDoc:h})}if(("relationship"===v.type||"upload"===v.type)&&"string"==typeof v.relationTo&&!v.hasMany){let r;if(r="object"==typeof y&&y?y.id:y,"id"===p[0]&&0===p.length){h[e]=r;return}if("string"!=typeof r&&"number"!=typeof r)return;let l={},g=l,b=d.payload.collections[v.relationTo]?.config.flattenedFields;for(let e=0;e<p.length;e++){let t=b?.find(t=>t.name===p[e]),i=e===p.length-1||t?.type==="relationship"||t?.type==="upload";if(g[p[e]]=!!i||{},g=g[p[e]],i)break}let w=await d.payloadDataLoader.load((0,c.u)({collectionSlug:v.relationTo,currentDepth:0,depth:0,docID:r,draft:t,fallbackLocale:i,locale:a,overrideAccess:o,select:l,showHiddenFields:u,transactionID:d.transactionID}));if(!w)return;return m({name:e,draft:t,fallbackLocale:i,fields:d.payload.collections[v.relationTo].config.flattenedFields,locale:a,overrideAccess:o,ref:w,req:d,segments:p,showHiddenFields:u,siblingDoc:h})}}},g=async({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,field:w,fieldIndex:_,fieldPromises:x,findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:N,parentIsLocalized:O,parentPath:P,parentSchemaPath:I,populate:L,populationPromises:D,req:R,select:$,selectMode:j,showHiddenFields:M,siblingDoc:U,siblingFields:F,triggerAccessControl:B=!0,triggerHooks:z=!0})=>{let{indexPath:q,path:V,schemaPath:H}=(0,p.F)({field:w,index:_,parentIndexPath:N,parentPath:P,parentSchemaPath:I}),W=V?V.split("."):[],G=H?H.split("."):[],K=q?q.split("-").filter(Boolean)?.map(Number):[],J=!1;if((0,l.j7)(w)&&w.hidden&&void 0!==U[w.name]&&!M&&(J=!0,delete U[w.name]),"id"!==V&&!(0,o.L)({field:w,select:$,selectMode:j,siblingDoc:U}))return;let Q=E&&(0,l.j7)(w)&&"object"==typeof U[w.name]&&null!==U[w.name]&&(0,l.iD)({field:w,parentIsLocalized:O})&&"all"!==T&&R.payload.config.localization;if(Q){let e=U[w.name][T],t=e;if(b&&b!==T){let i=U[w.name][b],r=null==e;if(i)switch(w.type){case"text":case"textarea":(""===e||r)&&(t=i);break;default:r&&(t=i)}}U[w.name]=t}switch(w.type){case"group":(0,l.j7)(w)&&void 0===U[w.name]&&(U[w.name]={});break;case"point":{let e=U[w.name];Array.isArray(e?.coordinates)&&2===e.coordinates.length?U[w.name]=e.coordinates:U[w.name]=void 0;break}case"richText":if(!w?.editor)throw new r.L(w);if("function"==typeof w?.editor)throw Error("Attempted to access unsanitized rich text editor.");break;case"tabs":w.tabs.forEach(e=>{(0,l.JC)(e)&&(void 0===U[e.name]||null===U[e.name])&&(U[e.name]={})})}if((0,l.j7)(w)){if(z&&w.hooks?.afterRead)for(let r of w.hooks.afterRead)if((0,l.iD)({field:w,parentIsLocalized:O})&&("all"===T||!E)&&"object"==typeof U[w.name]){let a=Object.entries(U[w.name]);await Promise.all(a.map(async([a,o])=>{let l=await r({blockData:e,collection:t,context:i,currentDepth:c,data:g,depth:u,draft:v,field:w,findMany:S,global:k,indexPath:K,operation:"read",originalDoc:g,overrideAccess:C,path:W,req:R,schemaPath:G,showHiddenFields:M,siblingData:U,siblingFields:F,value:o});void 0!==l&&(U[w.name][a]=l)}))}else{let a=await r({blockData:e,collection:t,context:i,currentDepth:c,data:g,depth:u,draft:v,field:w,findMany:S,global:k,indexPath:K,operation:"read",originalDoc:g,overrideAccess:C,path:W,req:R,schemaPath:G,showHiddenFields:M,siblingData:U,siblingFields:F,value:U[w.name]});void 0!==a&&(U[w.name]=a)}"virtual"in w&&"string"==typeof w.virtual&&(!w.hidden||M)&&D.push(m({name:w.name,draft:v,fallbackLocale:b,fields:(t||k).flattenedFields,locale:T,overrideAccess:C,ref:g,req:R,segments:w.virtual.split("."),showHiddenFields:M,siblingDoc:U}));let r=!0;B&&w.access&&w.access.read&&!(C||await w.access.read({id:g.id,blockData:e,data:g,doc:g,req:R,siblingData:U}))&&(r=!1,delete U[w.name]),!J&&r&&void 0===U[w.name]&&void 0!==w.defaultValue&&(U[w.name]=await (0,d.o)({defaultValue:w.defaultValue,locale:T,req:R,user:R.user,value:U[w.name]})),("relationship"===w.type||"upload"===w.type||"join"===w.type)&&D.push(h({currentDepth:c,depth:u,draft:v,fallbackLocale:b,field:w,locale:T,overrideAccess:C,parentIsLocalized:O,populate:L,req:R,showHiddenFields:M,siblingDoc:U}))}switch(w.type){case"array":{let r=U[w.name],a=$?.[w.name];"include"===j&&"object"==typeof a&&(a={...a,id:!0}),Array.isArray(r)?r.forEach((r,o)=>{y({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,fieldPromises:x,fields:w.fields,findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:"",parentIsLocalized:O||w.localized,parentPath:V+"."+o,parentSchemaPath:H,populate:L,populationPromises:D,req:R,select:"object"==typeof a?a:void 0,selectMode:j,showHiddenFields:M,siblingDoc:r||{},triggerAccessControl:B,triggerHooks:z})}):Q||"object"!=typeof r||null===r?(!0!==w.hidden||!0===M)&&(U[w.name]=[]):Object.values(r).forEach(r=>{Array.isArray(r)&&r.forEach((r,a)=>{y({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,fieldPromises:x,fields:w.fields,findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:"",parentIsLocalized:O||w.localized,parentPath:V+"."+a,parentSchemaPath:H,populate:L,populationPromises:D,req:R,showHiddenFields:M,siblingDoc:r||{},triggerAccessControl:B,triggerHooks:z})})});break}case"blocks":{let e=U[w.name];Array.isArray(e)?e.forEach((e,r)=>{let o=e.blockType,l=R.payload.blocks[o]??(w.blockReferences??w.blocks).find(e=>"string"!=typeof e&&e.slug===o),{blockSelect:d,blockSelectMode:p}=(0,a.w)({block:l,select:$?.[w.name],selectMode:j});l&&y({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,fieldPromises:x,fields:l.fields,findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:"",parentIsLocalized:O||w.localized,parentPath:V+"."+r,parentSchemaPath:H+"."+l.slug,populate:L,populationPromises:D,req:R,select:"object"==typeof d?d:void 0,selectMode:p,showHiddenFields:M,siblingDoc:e||{},triggerAccessControl:B,triggerHooks:z})}):Q||"object"!=typeof e||null===e?(!0!==w.hidden||!0===M)&&(U[w.name]=[]):Object.values(e).forEach(e=>{Array.isArray(e)&&e.forEach((e,r)=>{let a=e.blockType,o=R.payload.blocks[a]??(w.blockReferences??w.blocks).find(e=>"string"!=typeof e&&e.slug===a);o&&y({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,fieldPromises:x,fields:o.fields,findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:"",parentIsLocalized:O||w.localized,parentPath:V+"."+r,parentSchemaPath:H+"."+o.slug,populate:L,populationPromises:D,req:R,showHiddenFields:M,siblingDoc:e||{},triggerAccessControl:B,triggerHooks:z})})});break}case"collapsible":case"row":y({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,fieldPromises:x,fields:w.fields,findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:q,parentIsLocalized:O,parentPath:P,parentSchemaPath:H,populate:L,populationPromises:D,req:R,select:$,selectMode:j,showHiddenFields:M,siblingDoc:U,triggerAccessControl:B,triggerHooks:z});break;case"group":if((0,l.j7)(w)){let r=U[w.name];"object"!=typeof U[w.name]&&(r={});let a=$?.[w.name];y({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,fieldPromises:x,fields:w.fields,findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:"",parentIsLocalized:O||w.localized,parentPath:V,parentSchemaPath:H,populate:L,populationPromises:D,req:R,select:"object"==typeof a?a:void 0,selectMode:j,showHiddenFields:M,siblingDoc:r,triggerAccessControl:B,triggerHooks:z})}else y({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,fieldPromises:x,fields:w.fields,findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:q,parentIsLocalized:O,parentPath:P,parentSchemaPath:H,populate:L,populationPromises:D,req:R,select:$,selectMode:j,showHiddenFields:M,siblingDoc:U,triggerAccessControl:B,triggerHooks:z});break;case"richText":{if(!w?.editor)throw new r.L(w);if("function"==typeof w?.editor)throw Error("Attempted to access unsanitized rich text editor.");let e=w?.editor;if(e?.hooks?.afterRead?.length)for(let r of e.hooks.afterRead)if((0,l.iD)({field:w,parentIsLocalized:O})&&("all"===T||!E)&&"object"==typeof U[w.name]){let e=Object.entries(U[w.name]);await Promise.all(e.map(async([e,a])=>{let o=await r({collection:t,context:i,currentDepth:c,data:g,depth:u,draft:v,fallbackLocale:b,field:w,fieldPromises:x,findMany:S,flattenLocales:E,global:k,indexPath:K,locale:e,operation:"read",originalDoc:g,overrideAccess:C,parentIsLocalized:O,path:W,populate:L,populationPromises:D,req:R,schemaPath:G,showHiddenFields:M,siblingData:U,triggerAccessControl:B,triggerHooks:z,value:a});void 0!==o&&(U[w.name][e]=o)}))}else{let e=await r({collection:t,context:i,currentDepth:c,data:g,depth:u,draft:v,fallbackLocale:b,field:w,fieldPromises:x,findMany:S,flattenLocales:E,global:k,indexPath:K,locale:T,operation:"read",originalDoc:g,overrideAccess:C,parentIsLocalized:O,path:W,populate:L,populationPromises:D,req:R,schemaPath:G,showHiddenFields:M,siblingData:U,triggerAccessControl:B,triggerHooks:z,value:U[w.name]});void 0!==e&&(U[w.name]=e)}break}case"tab":{let r,a=U,o=(0,l.JC)(w);o?(a=U[w.name],"object"!=typeof U[w.name]&&(a={}),"object"==typeof $?.[w.name]&&(r=$?.[w.name])):r=$,y({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,fieldPromises:x,fields:w.fields,findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:o?"":q,parentIsLocalized:O||w.localized,parentPath:o?V:P,parentSchemaPath:H,populate:L,populationPromises:D,req:R,select:r,selectMode:j,showHiddenFields:M,siblingDoc:a,triggerAccessControl:B,triggerHooks:z});break}case"tabs":y({blockData:e,collection:t,context:i,currentDepth:c,depth:u,doc:g,draft:v,fallbackLocale:b,fieldPromises:x,fields:w.tabs.map(e=>({...e,type:"tab"})),findMany:S,flattenLocales:E,global:k,locale:T,overrideAccess:C,parentIndexPath:q,parentIsLocalized:O,parentPath:V,parentSchemaPath:H,populate:L,populationPromises:D,req:R,select:$,selectMode:j,showHiddenFields:M,siblingDoc:U,triggerAccessControl:B,triggerHooks:z})}},y=({blockData:e,collection:t,context:i,currentDepth:r,depth:a,doc:o,draft:l,fallbackLocale:d,fieldPromises:p,fields:c,findMany:u,flattenLocales:h,global:m,locale:y,overrideAccess:v,parentIndexPath:b,parentIsLocalized:w,parentPath:_,parentSchemaPath:x,populate:S,populationPromises:E,req:k,select:T,selectMode:C,showHiddenFields:N,siblingDoc:O,triggerAccessControl:P=!0,triggerHooks:I=!0})=>{c.forEach((L,D)=>{p.push(g({blockData:e,collection:t,context:i,currentDepth:r,depth:a,doc:o,draft:l,fallbackLocale:d,field:L,fieldIndex:D,fieldPromises:p,findMany:u,flattenLocales:h,global:m,locale:y,overrideAccess:v,parentIndexPath:b,parentIsLocalized:w,parentPath:_,parentSchemaPath:x,populate:S,populationPromises:E,req:k,select:T,selectMode:C,showHiddenFields:N,siblingDoc:O,siblingFields:c,triggerAccessControl:P,triggerHooks:I}))})}},34405:(e,t,i)=>{"use strict";i.d(t,{C:()=>r});let r=(e,t)=>{if(e.id&&Array.isArray(t)){let i=t.find(t=>"object"==typeof t&&"id"in t&&t.id===e.id&&t);if(i)return i}return{}}},14597:(e,t,i)=>{"use strict";i.d(t,{G:()=>l});var r=i(96497),a=i(60814),o=i(53794);let l=async({id:e,collection:t,context:i,data:l,doc:d,docWithLocales:p,global:c,operation:u,overrideAccess:h,req:m,skipValidation:g})=>{let y=(0,a.Ee)(l),v=[],b=[];if(await (0,o.J)({id:e,collection:t,context:i,data:y,doc:d,docWithLocales:p,errors:b,fieldLabelPath:"",fields:t?.fields||c?.fields,global:c,mergeLocaleActions:v,operation:u,overrideAccess:h,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:m,siblingData:y,siblingDoc:d,siblingDocWithLocales:p,skipValidation:g}),b.length>0)throw new r.p({id:e,collection:t?.slug,errors:b,global:c?.slug,req:m},m.t);for(let e of v)await e();return y}},53794:(e,t,i)=>{"use strict";i.d(t,{J:()=>m});var r=i(12687),a=i(71090),o=i(76972);let l=(e,t)=>"function"==typeof e?e({i18n:t,t:t.t}):"object"==typeof e?(0,o.i)(e,t):e;var d=i(32017),p=i(50768),c=i(34405);function u(e,t){let i=t.charAt(0).toUpperCase()+t.slice(1);return e&&i?`${e} > ${i}`:i||e}let h=async({id:e,blockData:t,collection:i,context:o,data:h,doc:g,docWithLocales:y,errors:v,field:b,fieldIndex:w,fieldLabelPath:_,global:x,mergeLocaleActions:S,operation:E,overrideAccess:k,parentIndexPath:T,parentIsLocalized:C,parentPath:N,parentSchemaPath:O,req:P,siblingData:I,siblingDoc:L,siblingDocWithLocales:D,siblingFields:R,skipValidation:$})=>{let{indexPath:j,path:M,schemaPath:U}=(0,p.F)({field:b,index:w,parentIndexPath:T,parentPath:N,parentSchemaPath:O}),{localization:F}=P.payload.config,B=F?F?.defaultLocale:"en",z=P.locale||B,q=M?M.split("."):[],V=U?U.split("."):[],H=j?j.split("-").filter(Boolean)?.map(Number):[],W=!b.admin?.condition||!!b.admin.condition(h,I,{blockData:t,operation:E,path:q,user:P.user}),G=$||!W;if((0,d.j7)(b)){if((0,d.iD)({field:b,parentIsLocalized:C})&&z!==B&&["array","blocks"].includes(b.type)&&null===I[b.name]&&(G=!0),b.hooks?.beforeChange)for(let e of b.hooks.beforeChange){let r=await e({blockData:t,collection:i,context:o,data:h,field:b,global:x,indexPath:H,operation:E,originalDoc:g,path:q,previousSiblingDoc:L,previousValue:L[b.name],req:P,schemaPath:V,siblingData:I,siblingDocWithLocales:D,siblingFields:R,value:I[b.name]});void 0!==r&&(I[b.name]=r)}if(!G&&"validate"in b&&b.validate){let r;let o=I[b.name];if("json"===b.type&&"string"==typeof I[b.name])try{JSON.parse(I[b.name])}catch(e){r=e}let d=b.validate,p=await d(o,{...b,id:e,blockData:t,collectionSlug:i?.slug,data:(0,a.QW)(g,h),event:"submit",jsonError:r,operation:E,overrideAccess:k,path:q,preferences:{fields:{}},previousValue:L[b.name],req:P,siblingData:(0,a.QW)(L,I)});if("string"==typeof p){let e=u(_,l(b?.label||b?.name,P.i18n));v.push({label:e,message:p,path:M})}}F&&(0,d.iD)({field:b,parentIsLocalized:C})&&S.push(()=>{let e={};for(let t of F.localeCodes){let i=t===P.locale?I[b.name]:D?.[b.name]?.[t];void 0!==i&&(e[t]=i)}Object.keys(e).length>0&&(I[b.name]=e)})}switch(b.type){case"array":{let r=I[b.name];if(Array.isArray(r)){let a=[];r.forEach((r,d)=>{a.push(m({id:e,blockData:t,collection:i,context:o,data:h,doc:g,docWithLocales:y,errors:v,fieldLabelPath:b?.label===!1?_:u(_,`${l(b?.label||b?.name,P.i18n)} ${d+1}`),fields:b.fields,global:x,mergeLocaleActions:S,operation:E,overrideAccess:k,parentIndexPath:"",parentIsLocalized:C||b.localized,parentPath:M+"."+d,parentSchemaPath:U,req:P,siblingData:r,siblingDoc:(0,c.C)(r,L[b.name]),siblingDocWithLocales:(0,c.C)(r,D?.[b.name]),skipValidation:G}))}),await Promise.all(a)}break}case"blocks":{let t=I[b.name];if(Array.isArray(t)){let r=[];t.forEach((t,a)=>{let d=(0,c.C)(t,L[b.name]),p=(0,c.C)(t,D?D[b.name]:{}),w=t.blockType||d.blockType,T=P.payload.blocks[w]??(b.blockReferences??b.blocks).find(e=>"string"!=typeof e&&e.slug===w);T&&r.push(m({id:e,blockData:t,collection:i,context:o,data:h,doc:g,docWithLocales:y,errors:v,fieldLabelPath:b?.label===!1?_:u(_,`${l(b?.label||b?.name,P.i18n)} ${a+1}`),fields:T.fields,global:x,mergeLocaleActions:S,operation:E,overrideAccess:k,parentIndexPath:"",parentIsLocalized:C||b.localized,parentPath:M+"."+a,parentSchemaPath:U+"."+T.slug,req:P,siblingData:t,siblingDoc:d,siblingDocWithLocales:p,skipValidation:G}))}),await Promise.all(r)}break}case"collapsible":case"row":await m({id:e,blockData:t,collection:i,context:o,data:h,doc:g,docWithLocales:y,errors:v,fieldLabelPath:"row"===b.type||b?.label===!1?_:u(_,l(b?.label||b?.type,P.i18n)),fields:b.fields,global:x,mergeLocaleActions:S,operation:E,overrideAccess:k,parentIndexPath:j,parentIsLocalized:C,parentPath:N,parentSchemaPath:U,req:P,siblingData:I,siblingDoc:L,siblingDocWithLocales:D,skipValidation:G});break;case"group":{let r=I,a=L,p=D,c=(0,d.j7)(b);c&&("object"!=typeof I[b.name]&&(I[b.name]={}),"object"!=typeof L[b.name]&&(L[b.name]={}),"object"!=typeof D[b.name]&&(D[b.name]={}),"object"!=typeof I[b.name]&&(I[b.name]={}),"object"!=typeof L[b.name]&&(L[b.name]={}),"object"!=typeof D[b.name]&&(D[b.name]={}),r=I[b.name],a=L[b.name],p=D[b.name]);let w=b?.label||(c?b.name:b?.type);await m({id:e,blockData:t,collection:i,context:o,data:h,doc:g,docWithLocales:y,errors:v,fieldLabelPath:b?.label===!1?_:u(_,l(w,P.i18n)),fields:b.fields,global:x,mergeLocaleActions:S,operation:E,overrideAccess:k,parentIndexPath:c?"":j,parentIsLocalized:C||b.localized,parentPath:c?M:N,parentSchemaPath:U,req:P,siblingData:r,siblingDoc:a,siblingDocWithLocales:p,skipValidation:G});break}case"point":Array.isArray(I[b.name])&&null!==I[b.name][0]&&null!==I[b.name][1]&&(I[b.name]={type:"Point",coordinates:[parseFloat(I[b.name][0]),parseFloat(I[b.name][1])]});break;case"richText":{if(!b?.editor)throw new r.L(b);if("function"==typeof b?.editor)throw Error("Attempted to access unsanitized rich text editor.");let e=b?.editor;if(e?.hooks?.beforeChange?.length)for(let t of e.hooks.beforeChange){let e=await t({collection:i,context:o,data:h,docWithLocales:y,errors:v,field:b,fieldLabelPath:b?.label===!1?_:u(_,l(b?.label||b?.name,P.i18n)),global:x,indexPath:H,mergeLocaleActions:S,operation:E,originalDoc:g,overrideAccess:k,parentIsLocalized:C,path:q,previousSiblingDoc:L,previousValue:L[b.name],req:P,schemaPath:V,siblingData:I,siblingDocWithLocales:D,skipValidation:$,value:I[b.name]});void 0!==e&&(I[b.name]=e)}break}case"tab":{let r=I,a=L,p=D,c=(0,d.JC)(b);c&&("object"!=typeof I[b.name]&&(I[b.name]={}),"object"!=typeof L[b.name]&&(L[b.name]={}),"object"!=typeof D[b.name]&&(D[b.name]={}),r=I[b.name],a=L[b.name],p=D[b.name]),await m({id:e,blockData:t,collection:i,context:o,data:h,doc:g,docWithLocales:y,errors:v,fieldLabelPath:b?.label===!1?_:u(_,l(b?.label||b.name,P.i18n)),fields:b.fields,global:x,mergeLocaleActions:S,operation:E,overrideAccess:k,parentIndexPath:c?"":j,parentIsLocalized:C||b.localized,parentPath:c?M:N,parentSchemaPath:U,req:P,siblingData:r,siblingDoc:a,siblingDocWithLocales:p,skipValidation:G});break}case"tabs":await m({id:e,blockData:t,collection:i,context:o,data:h,doc:g,docWithLocales:y,errors:v,fieldLabelPath:b?.label===!1?_:u(_,l(b?.label||"",P.i18n)),fields:b.tabs.map(e=>({...e,type:"tab"})),global:x,mergeLocaleActions:S,operation:E,overrideAccess:k,parentIndexPath:j,parentIsLocalized:C,parentPath:M,parentSchemaPath:U,req:P,siblingData:I,siblingDoc:L,siblingDocWithLocales:D,skipValidation:G})}},m=async({id:e,blockData:t,collection:i,context:r,data:a,doc:o,docWithLocales:l,errors:d,fieldLabelPath:p,fields:c,global:u,mergeLocaleActions:m,operation:g,overrideAccess:y,parentIndexPath:v,parentIsLocalized:b,parentPath:w,parentSchemaPath:_,req:x,siblingData:S,siblingDoc:E,siblingDocWithLocales:k,skipValidation:T})=>{let C=[];c.forEach((N,O)=>{C.push(h({id:e,blockData:t,collection:i,context:r,data:a,doc:o,docWithLocales:l,errors:d,field:N,fieldIndex:O,fieldLabelPath:p,global:u,mergeLocaleActions:m,operation:g,overrideAccess:y,parentIndexPath:v,parentIsLocalized:b,parentPath:w,parentSchemaPath:_,req:x,siblingData:S,siblingDoc:E,siblingDocWithLocales:k,siblingFields:c,skipValidation:T}))}),await Promise.all(C)}},48194:(e,t,i)=>{"use strict";i.d(t,{_:()=>a});var r=i(4335);let a=async({id:e,collection:t,context:i,data:a,doc:o,global:l,operation:d,overrideAccess:p,req:c})=>(await (0,r.J)({id:e,collection:t,context:i,data:a,doc:o,fields:t?.fields||l?.fields,global:l,operation:d,overrideAccess:p,parentIndexPath:"",parentIsLocalized:!1,parentPath:"",parentSchemaPath:"",req:c,siblingData:a,siblingDoc:o}),a)},4335:(e,t,i)=>{"use strict";i.d(t,{J:()=>h});var r=i(12687),a=i(32017),o=i(50768),l=i(34405),d=i(58082);let p=e=>Array.isArray(e)?e.map(e=>"object"==typeof e&&null!=e?{...e}:e):"object"==typeof e&&null!==e?{...e}:e;async function c({field:e,req:t,siblingDoc:i}){let r;return"name"in e&&e.name&&(void 0!==i[e.name]?r=p(i[e.name]):"defaultValue"in e&&void 0!==e.defaultValue&&(r=await (0,d.o)({defaultValue:e.defaultValue,locale:t.locale||"",req:t,user:t.user}))),r}let u=async({id:e,blockData:t,collection:i,context:d,data:p,doc:u,field:m,fieldIndex:g,global:y,operation:v,overrideAccess:b,parentIndexPath:w,parentIsLocalized:_,parentPath:x,parentSchemaPath:S,req:E,siblingData:k,siblingDoc:T,siblingFields:C})=>{let{indexPath:N,path:O,schemaPath:P}=(0,o.F)({field:m,index:g,parentIndexPath:w,parentPath:x,parentSchemaPath:S}),I=O?O.split("."):[],L=P?P.split("."):[],D=N?N.split("-").filter(Boolean)?.map(Number):[];if((0,a.j7)(m)){if("id"===m.name){if("number"===m.type&&"string"==typeof k[m.name]){let e=k[m.name];k[m.name]=parseFloat(e)}"text"===m.type&&"function"==typeof k[m.name]?.toString&&"string"!=typeof k[m.name]&&(k[m.name]=k[m.name].toString())}switch(m.type){case"array":case"blocks":("0"===k[m.name]||0===k[m.name])&&(k[m.name]=[]);break;case"checkbox":"true"===k[m.name]&&(k[m.name]=!0),"false"===k[m.name]&&(k[m.name]=!1),""===k[m.name]&&(k[m.name]=!1);break;case"number":if("string"==typeof k[m.name]){let e=k[m.name].trim();k[m.name]=0===e.length?null:parseFloat(e)}break;case"point":Array.isArray(k[m.name])&&(k[m.name]=k[m.name].map((e,t)=>{if("string"==typeof e){let e=k[m.name][t].trim();return 0===e.length?null:parseFloat(e)}return e}));break;case"relationship":case"upload":{(""===k[m.name]||"none"===k[m.name]||"null"===k[m.name]||null===k[m.name])&&(!0===m.hasMany?k[m.name]=[]:k[m.name]=null);let e=k[m.name];if(Array.isArray(m.relationTo)){if(Array.isArray(e)&&e.forEach((e,t)=>{let i=E.payload.collections?.[e.relationTo]?.config;if("object"==typeof e.value&&e.value&&"id"in e.value&&(e.value=e.value.id),i?.fields){let r=i.fields.find(e=>(0,a.j7)(e)&&"id"===e.name);r?.type==="number"&&(k[m.name][t]={...e,value:parseFloat(e.value)})}}),!0!==m.hasMany&&(0,a.jD)(e)){let t=E.payload.collections?.[e.relationTo]?.config;if("object"==typeof e.value&&e.value&&"id"in e.value&&(e.value=e.value.id),t?.fields){let i=t.fields.find(e=>(0,a.j7)(e)&&"id"===e.name);i?.type==="number"&&(k[m.name]={...e,value:parseFloat(e.value)})}}}else if(Array.isArray(e)&&e.forEach((t,i)=>{let r=Array.isArray(m.relationTo)?void 0:E.payload.collections?.[m.relationTo]?.config;if("object"==typeof t&&t&&"id"in t&&(e[i]=t.id),r?.fields){let e=r.fields.find(e=>(0,a.j7)(e)&&"id"===e.name);e?.type==="number"&&(k[m.name][i]=parseFloat(t))}}),!0!==m.hasMany&&e){let t=E.payload.collections?.[m.relationTo]?.config;if("object"==typeof e&&e&&"id"in e&&(k[m.name]=e.id),t?.fields){let i=t.fields.find(e=>(0,a.j7)(e)&&"id"===e.name);i?.type==="number"&&(k[m.name]=parseFloat(e))}}break}case"richText":if("string"==typeof k[m.name])try{let e=JSON.parse(k[m.name]);k[m.name]=e}catch{}}let r={executed:!1,value:void 0};if(void 0===k[m.name]&&(r.value=await c({field:m,req:E,siblingDoc:T}),r.executed=!0),m.hooks?.beforeValidate)for(let e of m.hooks.beforeValidate){let a=await e({blockData:t,collection:i,context:d,data:p,field:m,global:y,indexPath:D,operation:v,originalDoc:u,overrideAccess:b,path:I,previousSiblingDoc:T,previousValue:T[m.name],req:E,schemaPath:L,siblingData:k,siblingFields:C,value:void 0===k[m.name]?r.value:k[m.name]});void 0!==a&&(k[m.name]=a)}m.access&&m.access[v]&&!(b||await m.access[v]({id:e,blockData:t,data:p,doc:u,req:E,siblingData:k}))&&delete k[m.name],void 0===k[m.name]&&(k[m.name]=r.executed?r.value:await c({field:m,req:E,siblingDoc:T}))}switch(m.type){case"array":{let r=k[m.name];if(Array.isArray(r)){let a=[];r.forEach((r,o)=>{a.push(h({id:e,blockData:t,collection:i,context:d,data:p,doc:u,fields:m.fields,global:y,operation:v,overrideAccess:b,parentIndexPath:"",parentIsLocalized:_||m.localized,parentPath:O+"."+o,parentSchemaPath:P,req:E,siblingData:r,siblingDoc:(0,l.C)(r,T[m.name])}))}),await Promise.all(a)}break}case"blocks":{let t=k[m.name];if(Array.isArray(t)){let r=[];t.forEach((t,a)=>{let o=(0,l.C)(t,T[m.name]),c=t.blockType||o.blockType,g=E.payload.blocks[c]??(m.blockReferences??m.blocks).find(e=>"string"!=typeof e&&e.slug===c);g&&(t.blockType=c,r.push(h({id:e,blockData:t,collection:i,context:d,data:p,doc:u,fields:g.fields,global:y,operation:v,overrideAccess:b,parentIndexPath:"",parentIsLocalized:_||m.localized,parentPath:O+"."+a,parentSchemaPath:P+"."+g.slug,req:E,siblingData:t,siblingDoc:o})))}),await Promise.all(r)}break}case"collapsible":case"row":await h({id:e,blockData:t,collection:i,context:d,data:p,doc:u,fields:m.fields,global:y,operation:v,overrideAccess:b,parentIndexPath:N,parentIsLocalized:_,parentPath:x,parentSchemaPath:P,req:E,siblingData:k,siblingDoc:T});break;case"group":{let r=k,o=T,l=(0,a.j7)(m);l&&("object"!=typeof k[m.name]&&(k[m.name]={}),"object"!=typeof T[m.name]&&(T[m.name]={}),r=k[m.name],o=T[m.name]),await h({id:e,blockData:t,collection:i,context:d,data:p,doc:u,fields:m.fields,global:y,operation:v,overrideAccess:b,parentIndexPath:l?"":N,parentIsLocalized:_||m.localized,parentPath:l?O:x,parentSchemaPath:P,req:E,siblingData:r,siblingDoc:o});break}case"richText":{if(!m?.editor)throw new r.L(m);if("function"==typeof m?.editor)throw Error("Attempted to access unsanitized rich text editor.");let e=m?.editor;if(e?.hooks?.beforeValidate?.length)for(let t of e.hooks.beforeValidate){let e=await t({collection:i,context:d,data:p,field:m,global:y,indexPath:D,operation:v,originalDoc:u,overrideAccess:b,parentIsLocalized:_,path:I,previousSiblingDoc:T,previousValue:k[m.name],req:E,schemaPath:L,siblingData:k,value:k[m.name]});void 0!==e&&(k[m.name]=e)}break}case"tab":{let r,o;let l=(0,a.JC)(m);l?("object"!=typeof k[m.name]&&(k[m.name]={}),"object"!=typeof T[m.name]&&(T[m.name]={}),r=k[m.name],o=T[m.name]):(r=k,o=T),await h({id:e,blockData:t,collection:i,context:d,data:p,doc:u,fields:m.fields,global:y,operation:v,overrideAccess:b,parentIndexPath:l?"":N,parentIsLocalized:_||m.localized,parentPath:l?O:x,parentSchemaPath:P,req:E,siblingData:r,siblingDoc:o});break}case"tabs":await h({id:e,blockData:t,collection:i,context:d,data:p,doc:u,fields:m.tabs.map(e=>({...e,type:"tab"})),global:y,operation:v,overrideAccess:b,parentIndexPath:N,parentIsLocalized:_,parentPath:O,parentSchemaPath:P,req:E,siblingData:k,siblingDoc:T})}},h=async({id:e,blockData:t,collection:i,context:r,data:a,doc:o,fields:l,global:d,operation:p,overrideAccess:c,parentIndexPath:h,parentIsLocalized:m,parentPath:g,parentSchemaPath:y,req:v,siblingData:b,siblingDoc:w})=>{let _=[];l.forEach((x,S)=>{_.push(u({id:e,blockData:t,collection:i,context:r,data:a,doc:o,field:x,fieldIndex:S,global:d,operation:p,overrideAccess:c,parentIndexPath:h,parentIsLocalized:m,parentPath:g,parentSchemaPath:y,req:v,siblingData:b,siblingDoc:w,siblingFields:l}))}),await Promise.all(_)}},7921:(e,t,i)=>{"use strict";i.d(t,{Bj:()=>p,Do:()=>u,Zb:()=>c,b6:()=>h,tV:()=>y});var r=i(37406),a=i(40954),o=i(60832),l=i(18032);let d=a.default||a,p=(e,{maxLength:t,minLength:i=3,req:{payload:{config:r},t:a},required:o})=>{let l;return("number"==typeof r?.defaultMaxTextLength&&(l=r.defaultMaxTextLength),"number"==typeof t&&(l=t),e&&l&&e.length>l)?a("validation:shorterThanMax",{maxLength:l}):e&&i&&e.length<i?a("validation:longerThanMin",{minLength:i}):!o||!!e||a("validation:required")},c=(e,{req:{t},required:i,siblingData:r})=>i&&!e?t("validation:required"):!e||e===r.password||t("fields:passwordsDoNotMatch"),u=(e,{collectionSlug:t,req:{payload:{collections:i,config:r},t:a},required:o,siblingData:l})=>{if(t){let o=i?.[t]?.config??r.collections.find(({slug:e})=>e===t);if(o.auth.loginWithUsername&&!o.auth.loginWithUsername?.requireUsername&&!o.auth.loginWithUsername?.requireEmail&&!e&&!l?.username)return a("validation:required")}let d=/^(?!.*\.\.)[\w!#$%&'*+/=?^`{|}~-](?:[\w!#$%&'*+/=?^`{|}~.-]*[\w!#$%&'*+/=?^`{|}~-])?@[a-z0-9](?:[a-z0-9-]*[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)*\.[a-z]{2,}$/i;return(!e||!!d.test(e))&&(!!e||!o)||a("validation:emailAddress")},h=(e,{collectionSlug:t,req:{payload:{collections:i,config:r},t:a},required:o,siblingData:l})=>{let d;if(t){let o=i?.[t]?.config??r.collections.find(({slug:e})=>e===t);if(o.auth.loginWithUsername&&!o.auth.loginWithUsername?.requireUsername&&!o.auth.loginWithUsername?.requireEmail&&!e&&!l?.email)return a("validation:required")}return("number"==typeof r?.defaultMaxTextLength&&(d=r.defaultMaxTextLength),e&&d&&e.length>d)?a("validation:shorterThanMax",{maxLength:d}):!!e||!o||a("validation:required")},m=(e,t)=>{let{maxRows:i,minRows:r,required:a,t:o}=t,l=Array.isArray(e)?e.length:e||0;return!a&&0===l||(r&&l<r?o("validation:requiresAtLeast",{count:r,label:o("general:rows")}):i&&l>i?o("validation:requiresNoMoreThan",{count:i,label:o("general:rows")}):!a||!!l||o("validation:requiresAtLeast",{count:1,label:o("general:row")}))},g=async(e,{id:t,blockData:i,data:r,filterOptions:a,relationTo:o,req:l,req:{t:p,user:c},siblingData:u})=>{if(void 0!==a&&e){let h={},m=[],g=Array.isArray(o)?o:[o],y=Array.isArray(e)?e:[e];for(let e of g)try{let o="function"==typeof a?await a({id:t,blockData:i,data:r,relationTo:e,req:l,siblingData:u,user:c}):a;!0===o&&(o=null);let p=[];if(y.forEach(e=>{"object"==typeof e&&(e?.value?p.push(e.value):d.isValid(e)&&p.push(new d(e).toHexString())),("string"==typeof e||"number"==typeof e)&&p.push(e)}),p.length>0){let t={and:[{id:{in:p}}]};o&&!0!==o&&t.and?.push(o),!1===o&&m.push(e);let i=await l.payloadDataLoader.find({collection:e,depth:0,limit:0,pagination:!1,req:l,where:t});h[e]=i.docs.map(e=>e.id)}else h[e]=[]}catch(t){l.payload.logger.error({err:t,msg:`Error validating filter options for collection ${e}`}),h[e]=[]}let v=y.filter(e=>{let t,i;return"string"==typeof o&&(t=o,("string"==typeof e||"number"==typeof e)&&(i=e),"object"==typeof e&&d.isValid(e)&&(i=new d(e).toHexString())),Array.isArray(o)&&"object"==typeof e&&e?.relationTo&&(t=e.relationTo,i=e.value),!!m.find(e=>o===e)||!h[t]||-1===h[t].indexOf(i)});if(v.length>0)return v.reduce((e,t,i)=>`${e} ${JSON.stringify(t)}${v.length===i+1?",":""} `,p("validation:invalidSelections"))}return!0},y={array:(e,{maxRows:t,minRows:i,req:{t:r},required:a})=>m(e,{maxRows:t,minRows:i,required:a,t:r}),blocks:(e,{maxRows:t,minRows:i,req:{t:r},required:a})=>m(e,{maxRows:t,minRows:i,required:a,t:r}),checkbox:(e,{req:{t},required:i})=>(!e||"boolean"==typeof e)&&(!i||"boolean"==typeof e)||t("validation:trueOrFalse"),code:(e,{req:{t},required:i})=>!i||void 0!==e||t("validation:required"),confirmPassword:c,date:(e,{name:t,req:{t:i},required:r,siblingData:a,timezone:o})=>{let l=e&&!isNaN(Date.parse(e.toString())),d=o&&r,p=a?.[`${t}_tz`],c=!d||!!p;return!!l&&!!c||(l&&!c?i("validation:timezoneRequired"):e?i("validation:notValidDate",{value:e}):!r||i("validation:required"))},email:u,json:(e,{jsonError:t,jsonSchema:i,req:{t:a},required:o})=>{let l=e=>!(null==e||Array.isArray(e)&&0===e.length)&&("object"!=typeof e||0!==Object.keys(e).length),d=({schema:e,uri:t})=>t&&e?e:fetch(t).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{let t=e,i={id:void 0,$id:t.id,$schema:"http://json-schema.org/draft-07/schema#"};return Object.assign(t,i)});if(o&&!e)return a("validation:required");if(void 0!==t)return a("validation:invalidInput");if(i&&l(e))try{i.schema=d(i);let{schema:t}=i,a=new r;if(!a.validate(t,e))return a.errorsText()}catch(e){return e instanceof Error?e.message:"Unknown error"}return!0},number:(e,{hasMany:t,max:i,maxRows:r,min:a,minRows:l,req:{t:d},required:p})=>{if(!0===t){let t=m(e,{maxRows:r,minRows:l,required:p,t:d});if("string"==typeof t)return t}if(!e&&!(0,o.h)(e)){if(p)return d("validation:required");if(!p)return!0}for(let t of Array.isArray(e)?e:[e]){if(!(0,o.h)(t))return d("validation:enterNumber");let r=parseFloat(t);if("number"==typeof i&&r>i)return d("validation:greaterThanMax",{label:d("general:value"),max:i,value:e});if("number"==typeof a&&r<a)return d("validation:lessThanMin",{label:d("general:value"),min:a,value:e})}return!0},password:p,point:(e=["",""],{req:{t},required:i})=>{if(null===e)return!i||t("validation:required");let r=parseFloat(String(e[0])),a=parseFloat(String(e[1]));return i&&(e[0]&&e[1]&&"number"!=typeof r&&"number"!=typeof a||Number.isNaN(r)||Number.isNaN(a)||Array.isArray(e)&&2!==e.length)?t("validation:requiresTwoNumbers"):!(e[1]&&Number.isNaN(r)||e[0]&&Number.isNaN(a))||t("validation:invalidInput")},radio:(e,{options:t,req:{t:i},required:r})=>e?t.some(t=>t===e||"string"!=typeof t&&t.value===e)||i("validation:invalidSelection"):!r||i("validation:required"),relationship:async(e,t)=>{let{event:i,maxRows:r,minRows:a,relationTo:o,req:{payload:d,t:p},required:c}=t;if((!e&&"number"!=typeof e||Array.isArray(e)&&0===e.length)&&c)return p("validation:required");if(Array.isArray(e)&&e.length>0){if(a&&e.length<a)return p("validation:lessThanMin",{label:p("general:rows"),min:a,value:e.length});if(r&&e.length>r)return p("validation:greaterThanMax",{label:p("general:rows"),max:r,value:e.length})}if(null!=e){let t=(Array.isArray(e)?e:[e]).filter(e=>{let t,i;if("string"==typeof o&&(t=o,(e||"number"==typeof e)&&(i=e)),Array.isArray(o)&&"object"==typeof e&&e?.relationTo&&(t=e.relationTo,i=e.value),null===i)return!1;let r=d.collections[t]?.customIDType||d?.db?.defaultIDType||"text";return!(0,l.k)(i,r)});if(t.length>0)return`This relationship field has the following invalid relationships: ${t.map((e,t)=>`${e} ${JSON.stringify(t)}`).join(", ")}`}return"onChange"===i||g(e,t)},richText:async(e,t)=>{if(!t?.editor)throw Error("richText field has no editor property.");if("function"==typeof t?.editor)throw Error("Attempted to access unsanitized rich text editor.");return(t?.editor).validate(e,t)},select:(e,{data:t,filterOptions:i,hasMany:r,options:a,req:o,req:{t:l},required:d,siblingData:p})=>{let c="function"==typeof i?i({data:t,options:a,req:o,siblingData:p}):a;return Array.isArray(e)&&e.some(e=>!c.some(t=>t===e||"string"!=typeof t&&t?.value===e))||"string"==typeof e&&!c.some(t=>t===e||"string"!=typeof t&&t.value===e)?l("validation:invalidSelection"):!(d&&(null==e||r&&Array.isArray(e)&&e?.length===0))||l("validation:required")},text:(e,{hasMany:t,maxLength:i,maxRows:r,minLength:a,minRows:o,req:{payload:{config:l},t:d},required:p})=>{let c;if(!p&&!e)return!0;if(!0===t){let t=m(e,{maxRows:r,minRows:o,required:p,t:d});if("string"==typeof t)return t}for(let t of("number"==typeof l?.defaultMaxTextLength&&(c=l.defaultMaxTextLength),"number"==typeof i&&(c=i),Array.isArray(e)?e:[e])){let e=t?.length||0;if("number"==typeof c&&e>c)return d("validation:shorterThanMax",{label:d("general:value"),maxLength:c,stringValue:t});if("number"==typeof a&&e<a)return d("validation:longerThanMin",{label:d("general:value"),minLength:a,stringValue:t})}return!p||!!("string"==typeof e||Array.isArray(e))&&e?.length!==0||d("validation:required")},textarea:(e,{maxLength:t,minLength:i,req:{payload:{config:r},t:a},required:o})=>{let l;return("number"==typeof r?.defaultMaxTextLength&&(l=r.defaultMaxTextLength),"number"==typeof t&&(l=t),e&&l&&e.length>l)?a("validation:shorterThanMax",{maxLength:l}):e&&i&&e.length<i?a("validation:longerThanMin",{minLength:i}):!o||!!e||a("validation:required")},upload:async(e,t)=>{let{event:i,maxRows:r,minRows:a,relationTo:o,req:{payload:d,t:p},required:c}=t;if((!e&&"number"!=typeof e||Array.isArray(e)&&0===e.length)&&c)return p("validation:required");if(Array.isArray(e)&&e.length>0){if(a&&e.length<a)return p("validation:lessThanMin",{label:p("general:rows"),min:a,value:e.length});if(r&&e.length>r)return p("validation:greaterThanMax",{label:p("general:rows"),max:r,value:e.length})}if(null!=e){let t=(Array.isArray(e)?e:[e]).filter(e=>{let t,i;if("string"==typeof o&&(t=o,(e||"number"==typeof e)&&(i=e)),Array.isArray(o)&&"object"==typeof e&&e?.relationTo&&(t=e.relationTo,i=e.value),null===i)return!1;let r=d.collections[t]?.customIDType||d?.db?.defaultIDType||"text";return!(0,l.k)(i,r)});if(t.length>0)return`This relationship field has the following invalid relationships: ${t.map((e,t)=>`${e} ${JSON.stringify(t)}`).join(", ")}`}return"onChange"===i||g(e,t)}}},18829:(e,t,i)=>{"use strict";i.d(t,{Y:()=>o});var r=i(89402),a=i(14596);async function o({collectionConfig:e,folderID:t,localeCode:i,req:o,search:l="",sort:d}){let p=[(0,a.c)({collectionConfig:e,search:l})];if("function"==typeof e.admin?.baseListFilter){let t=await e.admin.baseListFilter({limit:0,locale:i,page:1,req:o,sort:d||("string"==typeof e.defaultSort?e.defaultSort:"id")});t&&p.push(t)}t&&p.push({relationTo:{equals:e.slug}});let c=p.filter(Boolean);return c.length>1?(0,r.d)(c):1===c.length?c[0]:void 0}},77570:(e,t,i)=>{"use strict";i.d(t,{L:()=>m});var r=i(92025);let a=async({breadcrumbs:e=[],folderID:t,req:i})=>{let{payload:r,user:o}=i;if(t&&r.config.folders){let l=r.config.folders.fieldName,d=(await r.find({collection:r.config.folders.slug,depth:0,limit:1,overrideAccess:!1,req:i,select:{name:!0,[l]:!0},user:o,where:{id:{equals:t}}})).docs[0];if(d&&(e.push({id:d.id,name:d.name}),d[l]))return a({breadcrumbs:e,folderID:"number"==typeof d[l]||"string"==typeof d[l]?d[l]:d[l].id,req:i})}return e.reverse()};var o=i(71207),l=i(89402),d=i(55029);let p=({sizes:e,targetSizeMax:t=180,targetSizeMin:i=40,thumbnailURL:r,url:a,width:o})=>r||e&&Object.values(e).reduce((e,r)=>!r.width||r.width<i?e:r.width>=i&&r.width<=t?!e.width||r.width<e.width||e.width<i||e.width>t?r:e:!e.width||!e.original&&e.width<i&&r.width>e.width||e.width>t&&r.width<e.width?r:e,{original:!0,url:a,width:o}).url||a;function c({folderFieldName:e,isUpload:t,relationTo:i,useAsTitle:r,value:a}){let o={id:a?.id,_folderOrDocumentTitle:String(r&&a?.[r]||a.id),createdAt:a?.createdAt,folderID:a?.[e],updatedAt:a?.updatedAt};return t&&(o.filename=a.filename,o.mimeType=a.mimeType,o.url=(0,d.O)(a.mimeType)?p({sizes:a.sizes,targetSizeMax:520,targetSizeMin:300,url:a.url,width:a.width}):void 0),{itemKey:`${i}-${a.id}`,relationTo:i,value:o}}async function u({documentWhere:e,folderWhere:t,parentFolderID:i,req:r}){let{payload:a,user:d}=r;if(!1===a.config.folders)throw new o.H("Folders are not enabled",500);let p=await a.find({collection:a.config.folders.slug,joins:{documentsAndFolders:{limit:1e8,sort:"name",where:(0,l.d)([t,e],"or")}},limit:1,overrideAccess:!1,req:r,user:d,where:{id:{equals:i}}});return(p?.docs[0]?.documentsAndFolders?.docs||[]).reduce((e,t)=>{if(!a.config.folders)return e;let{relationTo:i,value:r}=t,o=c({folderFieldName:a.config.folders.fieldName,isUpload:!!a.collections[i].config.upload,relationTo:i,useAsTitle:a.collections[i].config.admin?.useAsTitle,value:r});return i===a.config.folders.slug?e.subfolders.push(o):e.documents.push(o),e},{documents:[],subfolders:[]})}async function h({collectionSlug:e,folderFieldName:t,req:i,where:r}){let{payload:a,user:o}=i,d={or:[{[t]:{exists:!1}},{[t]:{equals:null}}]},p=await a.find({collection:e,limit:0,overrideAccess:!1,req:i,sort:a.collections[e]?.config.admin.useAsTitle,user:o,where:r?(0,l.d)([d,r]):d});return p?.docs.map(i=>c({folderFieldName:t,isUpload:!!a.collections[e]?.config.upload,relationTo:e,useAsTitle:a.collections[e]?.config.admin.useAsTitle,value:i}))||[]}let m=async({collectionSlug:e,documentWhere:t,folderID:i,folderWhere:o,req:l})=>{let{payload:d}=l;if(!1===d.config.folders)throw Error("Folders are not enabled");let p=(0,r.V)({id:i,collectionSlug:d.config.folders.slug,payload:d}),c=a({folderID:p,req:l});if(p){let e=u({documentWhere:t,folderWhere:o,parentFolderID:p,req:l}),[i,r]=await Promise.all([c,e]);return{breadcrumbs:i,documents:r.documents,subfolders:r.subfolders}}{let i=h({collectionSlug:d.config.folders.slug,folderFieldName:d.config.folders.fieldName,req:l,where:o}),r=e?h({collectionSlug:e,folderFieldName:d.config.folders.fieldName,req:l,where:t}):Promise.resolve([]),[a,p,u]=await Promise.all([c,i,r]);return{breadcrumbs:a,documents:u,subfolders:p}}}},4546:(e,t,i)=>{"use strict";i.d(t,{g:()=>p});var r=i(3603),a=i(62873),o=i(30651),l=i(31769),d=i(65350);let p=async e=>{let{globalConfig:t,req:i}=e,p=["read","update"];t.versions&&p.push("readVersions");try{let e=await (0,o.n)(i),l=await (0,a.s)({type:"global",blockPolicies:{},entity:t,operations:p,req:i});return e&&await (0,r._)(i),(0,d.AN)({globals:{[t.slug]:l}}).globals[t.slug]}catch(e){throw await (0,l.n)(i),e}}},6026:(e,t,i)=>{"use strict";i.d(t,{J:()=>u});var r=i(53318),a=i(11161),o=i(34428),l=i(60174),d=i(31769),p=i(27591),c=i(12519);let u=async e=>{let{slug:t,depth:i,draft:u=!1,globalConfig:h,includeLockStatus:m,overrideAccess:g=!1,populate:y,req:{fallbackLocale:v,locale:b},req:w,select:_,showHiddenFields:x}=e;try{let e;g||(e=await (0,r.K)({req:w},h.access.read));let d=(0,p.y)({fields:h.flattenedFields,forceSelect:h.forceSelect,select:_}),S=await w.payload.db.findGlobal({slug:t,locale:b,req:w,select:d,where:g?void 0:e});if(S||(S={}),m&&t){let e=null;try{let i=h?.lockDocuments,r=300,a="object"==typeof i?i.duration:r,l=1e3*a,d=await w.payload.find({collection:o.g,depth:1,limit:1,overrideAccess:!1,pagination:!1,req:w,where:{and:[{globalSlug:{equals:t}},{updatedAt:{greater_than:new Date(new Date().getTime()-l)}}]}});d&&d.docs.length>0&&(e=d.docs[0])}catch{}S._isLocked=!!e,S._userEditing=e?.user?.value??null}if(h.versions?.drafts&&u&&(S=await (0,c.O)({accessResult:e,doc:S,entity:h,entityType:"global",overrideAccess:g,req:w,select:d})),h.hooks?.beforeRead?.length)for(let e of h.hooks.beforeRead)S=await e({context:w.context,doc:S,global:h,req:w})||S;if(d&&S.globalType){let e=(0,l.t)(d);("include"!==e||d.globalType)&&("exclude"!==e||!1!==d.globalType)||delete S.globalType}if(S=await (0,a.r)({collection:null,context:w.context,depth:i,doc:S,draft:u,fallbackLocale:v,global:h,locale:b,overrideAccess:g,populate:y,req:w,select:d,showHiddenFields:x}),h.hooks?.afterRead?.length)for(let e of h.hooks.afterRead)S=await e({context:w.context,doc:S,global:h,req:w})||S;return S}catch(e){throw await (0,d.n)(w),e}}},82664:(e,t,i)=>{"use strict";i.d(t,{G:()=>g});var r=i(53318),a=i(92242),o=i(39399),l=i(28294),d=i(11161),p=i(60814),c=i(31769),u=i(27591),h=i(71495),m=i(68719);let g=async e=>{let{id:t,currentDepth:i,depth:g,disableErrors:y,globalConfig:v,overrideAccess:b,populate:w,req:{fallbackLocale:_,locale:x,payload:S},req:E,select:k,showHiddenFields:T}=e;try{let e=!!b||await (0,r.K)({id:t,disableErrors:y,req:E},v.access.readVersions);if(!1===e)return null;let c="object"==typeof e,C=(0,u.y)({fields:(0,h.n)(S.config,v,!0),forceSelect:(0,m.g)({select:v.forceSelect}),select:k,versions:!0}),N={global:v.slug,limit:1,locale:x,req:E,select:C,where:(0,a.W)({id:{equals:t}},e)};if(!N.where?.and?.[0]?.id)throw new o.T(E.t);let{docs:O}=await S.db.findGlobalVersions(N);if(!O||O?.length===0){if(!y){if(!c)throw new o.T(E.t);if(c)throw new l.r(E.t)}return null}let P=(0,p.Ee)(O[0]);if(P.version||(P.version={}),P.version.globalType=v.slug,v.hooks?.beforeRead?.length)for(let e of v.hooks.beforeRead)P=await e({context:E.context,doc:P.version,global:v,req:E})||P.version;if(P.version=await (0,d.r)({collection:null,context:E.context,currentDepth:i,depth:g,doc:P.version,draft:void 0,fallbackLocale:_,global:v,locale:x,overrideAccess:b,populate:w,req:E,select:"object"==typeof C?.version?C.version:void 0,showHiddenFields:T}),v.hooks?.afterRead?.length)for(let e of v.hooks.afterRead)P.version=await e({context:E.context,doc:P.version,global:v,query:N.where,req:E})||P.version;return P}catch(e){throw await (0,c.n)(E),e}}},62992:(e,t,i)=>{"use strict";i.d(t,{a:()=>m});var r=i(53318),a=i(92242),o=i(95154),l=i(11161),d=i(31769),p=i(12893),c=i(27591),u=i(71495),h=i(68719);let m=async e=>{let{depth:t,globalConfig:i,limit:m,overrideAccess:g,page:y,pagination:v=!0,populate:b,select:w,showHiddenFields:_,sort:x,where:S}=e,E=e.req,{fallbackLocale:k,locale:T,payload:C}=E,N=(0,u.n)(C.config,i,!0);try{let e=!!g||await (0,r.K)({req:E},i.access.readVersions);await (0,o.a)({globalConfig:i,overrideAccess:g,req:E,versionFields:N,where:S});let d=(0,a.W)(S,e),O=(0,c.y)({fields:(0,u.n)(C.config,i,!0),forceSelect:(0,h.g)({select:i.forceSelect}),select:w,versions:!0}),P=await C.db.findGlobalVersions({global:i.slug,limit:m??10,locale:T,page:y||1,pagination:v,req:E,select:O,sort:x,where:d}),I={...P,docs:await Promise.all(P.docs.map(async e=>(e.version||(e.version={}),{...e,version:await (0,l.r)({collection:null,context:E.context,depth:t,doc:{...e.version,globalType:i.slug},draft:void 0,fallbackLocale:k,findMany:!0,global:i,locale:T,overrideAccess:g,populate:b,req:E,select:O,showHiddenFields:_})})))};return i.hooks?.afterRead?.length&&(I.docs=await Promise.all(I.docs.map(async e=>{let t=e;for(let r of i.hooks.afterRead)t.version=await r({context:E.context,doc:e.version,findMany:!0,global:i,query:d,req:E})||e.version;return t}))),I={...I,docs:I.docs.map(e=>(0,p.K)(e))}}catch(e){throw await (0,d.n)(E),e}}},80111:(e,t,i)=>{"use strict";i.d(t,{i:()=>u});var r=i(53318),a=i(39399),o=i(28581),l=i(11161),d=i(3603),p=i(30651),c=i(31769);let u=async e=>{let{id:t,depth:i,draft:u,globalConfig:h,overrideAccess:m,populate:g,showHiddenFields:y}=e,v=e.req,{fallbackLocale:b,locale:w,payload:_}=v;try{let e=await (0,p.n)(v);m||await (0,r.K)({req:v},h.access.update);let{docs:c}=await _.db.findGlobalVersions({global:h.slug,limit:1,req:v,where:{id:{equals:t}}});if(!c||0===c.length)throw new a.T(v.t);let x=c[0];x.version.globalType=h.slug,u&&(x.version._status="draft");let S=await _.findGlobal({slug:h.slug,depth:i,req:v}),E=await _.db.findGlobal({slug:h.slug,req:v}),k=x.version;if(E){k=await _.db.updateGlobal({slug:h.slug,data:k,req:v});let e=new Date().toISOString();k=await _.db.createGlobalVersion({autosave:!1,createdAt:k.createdAt?new Date(k.createdAt).toISOString():e,globalSlug:h.slug,parent:t,req:v,updatedAt:u?e:new Date(k.updatedAt).toISOString(),versionData:k})}else k=await _.db.createGlobal({slug:h.slug,data:k,req:v});if(k=await (0,l.r)({collection:null,context:v.context,depth:i,doc:k,draft:void 0,fallbackLocale:b,global:h,locale:w,overrideAccess:m,populate:g,req:v,showHiddenFields:y}),h.hooks?.afterRead?.length)for(let e of h.hooks.afterRead)k=await e({context:v.context,doc:k,global:h,req:v})||k;if(k=await (0,o.U)({collection:null,context:v.context,data:k,doc:k,global:h,operation:"update",previousDoc:S,req:v}),h.hooks?.afterChange?.length)for(let e of h.hooks.afterChange)k=await e({context:v.context,data:k,doc:k,global:h,previousDoc:S,req:v})||k;return e&&await (0,d._)(v),k}catch(e){throw await (0,c.n)(v),e}}},9046:(e,t,i)=>{"use strict";i.d(t,{f:()=>w});var r=i(53318),a=i(28581),o=i(11161),l=i(14597),d=i(48194),p=i(60814),c=i(94797),u=i(3603),h=i(60174),m=i(30651),g=i(31769),y=i(27591);let v=async({slug:e,config:t,locale:i,payload:r,published:a,req:o,where:l})=>{let d;let p=a?{"version._status":{equals:"published"}}:{latest:{equals:!0}};t.versions?.drafts&&(d=(await r.db.findGlobalVersions({global:e,limit:1,locale:i,pagination:!1,req:o,where:p})).docs[0]);let c=await r.db.findGlobal({slug:e,locale:i,req:o,where:l}),u=!!c;return d?(d.version.createdAt||(d.version.createdAt=d.createdAt),d.version.updatedAt||(d.version.updatedAt=d.updatedAt),{global:d.version,globalExists:u}):{global:c,globalExists:u}};var b=i(72585);let w=async e=>{e.publishSpecificLocale&&(e.req.locale=e.publishSpecificLocale);let{slug:t,autosave:i,depth:w,disableTransaction:_,draft:x,globalConfig:S,overrideAccess:E,overrideLock:k,populate:T,publishSpecificLocale:C,req:{fallbackLocale:N,locale:O,payload:P},req:I,select:L,showHiddenFields:D}=e;try{let g;let R=!_&&await (0,m.n)(I),{data:$}=e,j=!!(x&&S.versions?.drafts),M=!!E||await (0,r.K)({data:$,req:I},S.access.update),U=E?void 0:M,F=await v({slug:t,config:S,locale:O,payload:P,req:I,where:U}),{global:B,globalExists:z}=F||{},q={};F&&F.global&&(q=(0,p.Ee)(B))._id&&delete q._id;let V=await (0,o.r)({collection:null,context:I.context,depth:0,doc:(0,p.Ee)(q),draft:x,fallbackLocale:N,global:S,locale:O,overrideAccess:!0,req:I,showHiddenFields:D});if(await (0,c.Z)({globalSlug:t,lockErrorMessage:`Global with slug "${t}" is currently locked by another user and cannot be updated.`,overrideLock:k,req:I}),$=await (0,d._)({collection:null,context:I.context,data:$,doc:V,global:S,operation:"update",overrideAccess:E,req:I}),S.hooks?.beforeValidate?.length)for(let e of S.hooks.beforeValidate)$=await e({context:I.context,data:$,global:S,originalDoc:V,req:I})||$;if(S.hooks?.beforeChange?.length)for(let e of S.hooks.beforeChange)$=await e({context:I.context,data:$,global:S,originalDoc:V,req:I})||$;let H=q,W={collection:null,context:I.context,data:$,doc:V,docWithLocales:void 0,global:S,operation:"update",req:I,skipValidation:j&&S.versions.drafts&&!S.versions.drafts.validate};if(C){let e=await v({slug:t,config:S,payload:P,published:!0,req:I,where:U});H=e?.global||{},g=await (0,l.G)({...W,docWithLocales:q})}let G=await (0,l.G)({...W,docWithLocales:H}),K=(0,y.y)({fields:S.flattenedFields,forceSelect:S.forceSelect,select:L});if(j||(G.createdAt||(G.createdAt=new Date().toISOString()),G=z?await P.db.updateGlobal({slug:t,data:G,req:I,select:K}):await P.db.createGlobal({slug:t,data:G,req:I})),S.versions){let{globalType:e}=G;G={...G=await (0,b.U)({autosave:i,docWithLocales:G,draft:j,global:S,payload:P,publishSpecificLocale:C,req:I,select:K,snapshot:g}),globalType:e}}if(K&&G.globalType){let e=(0,h.t)(K);("include"!==e||K.globalType)&&("exclude"!==e||!1!==K.globalType)||delete G.globalType}if(G=await (0,o.r)({collection:null,context:I.context,depth:w,doc:G,draft:x,fallbackLocale:null,global:S,locale:O,overrideAccess:E,populate:T,req:I,select:K,showHiddenFields:D}),S.hooks?.afterRead?.length)for(let e of S.hooks.afterRead)G=await e({context:I.context,doc:G,global:S,req:I})||G;if(G=await (0,a.U)({collection:null,context:I.context,data:$,doc:G,global:S,operation:"update",previousDoc:V,req:I}),S.hooks?.afterChange?.length)for(let e of S.hooks.afterChange)G=await e({context:I.context,data:$,doc:G,global:S,previousDoc:V,req:I})||G;return R&&await (0,u._)(I),G}catch(e){throw await (0,g.n)(I),e}}},92400:(e,t,i)=>{"use strict";i.d(t,{HeA:()=>tz});var r=i(32081),a=i(6113),o=i(41041),l=i(71017);i(34893);var d=i(71207),p=i(51224),c=i(7037);async function u(e,t){let{collection:i,data:r,disableEmail:a,expiration:o}=t,l=e.collections[i];if(!l)throw new d.H(`The collection with slug ${String(i)} can't be found. Forgot Password Operation.`);return(0,c.f)({collection:l,data:r,disableEmail:a,expiration:o,req:await (0,p.z)(t,e)})}var h=i(77202);async function m(e,t){let{collection:i,data:r,depth:a,overrideAccess:o=!0,showHiddenFields:l}=t,c=e.collections[i];if(!c)throw new d.H(`The collection with slug ${String(i)} can't be found. Login Operation.`);let u={collection:c,data:r,depth:a,overrideAccess:o,req:await (0,p.z)(t,e),showHiddenFields:l},m=await (0,h.o)(u);return c.config.auth.removeTokenFromResponses&&delete m.token,m}var g=i(31411);async function y(e,t){let{collection:i,data:r,overrideAccess:a}=t,o=e.collections[i];if(!o)throw new d.H(`The collection with slug ${String(i)} can't be found. Reset Password Operation.`);let l=await (0,g.v)({collection:o,data:r,overrideAccess:a,req:await (0,p.z)(t,e)});return o.config.auth.removeTokenFromResponses&&delete l.token,l}var v=i(18690);async function b(e,t){let{collection:i,data:r,overrideAccess:a=!0}=t,o=e.collections[i];if(!o)throw new d.H(`The collection with slug ${String(i)} can't be found. Unlock Operation.`);return(0,v.R)({collection:o,data:r,overrideAccess:a,req:await (0,p.z)(t,e)})}var w=i(5420);async function _(e,t){let{collection:i,token:r}=t,a=e.collections[i];if(!a)throw new d.H(`The collection with slug ${String(i)} can't be found. Verify Email Operation.`);return(0,w.v)({collection:a,req:await (0,p.z)(t,e),token:r})}var x=i(77506);async function S(e,t){let{collection:i,disableErrors:r,overrideAccess:a=!0,where:o}=t,l=e.collections[i];if(!l)throw new d.H(`The collection with slug ${String(i)} can't be found. Count Operation.`);return(0,x.A)({collection:l,disableErrors:r,overrideAccess:a,req:await (0,p.z)(t,e),where:o})}var E=i(60814),k=i(96379),T=i(29592);async function C(e,t){let{collection:i,data:r,depth:a,disableTransaction:o,disableVerificationEmail:l,draft:c,duplicateFromID:u,file:h,filePath:m,overrideAccess:g=!0,overwriteExistingFiles:y=!1,populate:v,select:b,showHiddenFields:w}=t,_=e.collections[i];if(!_)throw new d.H(`The collection with slug ${String(i)} can't be found. Create Operation.`);let x=await (0,p.z)(t,e);return x.file=h??await (0,k.z)(m),(0,T.z)({collection:_,data:(0,E.Ee)(r),depth:a,disableTransaction:o,disableVerificationEmail:l,draft:c,duplicateFromID:u,overrideAccess:g,overwriteExistingFiles:y,populate:v,req:x,select:b,showHiddenFields:w})}var N=i(78362),O=i(59561);async function P(e,t){let{id:i,collection:r,depth:a,disableTransaction:o,overrideAccess:l=!0,overrideLock:c,populate:u,select:h,showHiddenFields:m,where:g}=t,y=e.collections[r];if(!y)throw new d.H(`The collection with slug ${String(r)} can't be found. Delete Operation.`);let v={id:i,collection:y,depth:a,disableTransaction:o,overrideAccess:l,overrideLock:c,populate:u,req:await (0,p.z)(t,e),select:h,showHiddenFields:m,where:g};return t.id?(0,O.w)(v):(0,N.Q)(v)}var I=i(30799);async function L(e,t){let{id:i,collection:r,data:a,depth:o,disableTransaction:l,draft:c,overrideAccess:u=!0,populate:h,select:m,showHiddenFields:g}=t,y=e.collections[r];if(!y)throw new d.H(`The collection with slug ${String(r)} can't be found. Duplicate Operation.`);if(!0===y.config.disableDuplicate)throw new d.H(`The collection with slug ${String(r)} cannot be duplicated.`,400);let v=await (0,p.z)(t,e);return(0,I.J)({id:i,collection:y,data:a,depth:o,disableTransaction:l,draft:c,overrideAccess:u,populate:h,req:v,select:m,showHiddenFields:g})}var D=i(19415);async function R(e,t){let{collection:i,currentDepth:r,depth:a,disableErrors:o,draft:l=!1,includeLockStatus:c,joins:u,limit:h,overrideAccess:m=!0,page:g,pagination:y=!0,populate:v,select:b,showHiddenFields:w,sort:_,where:x}=t,S=e.collections[i];if(!S)throw new d.H(`The collection with slug ${String(i)} can't be found. Find Operation.`);return(0,D.O)({collection:S,currentDepth:r,depth:a,disableErrors:o,draft:l,includeLockStatus:c,joins:u,limit:h,overrideAccess:m,page:g,pagination:y,populate:v,req:await (0,p.z)(t,e),select:b,showHiddenFields:w,sort:_,where:x})}var $=i(39839);async function j(e,t){let{id:i,collection:r,currentDepth:a,depth:o,disableErrors:l=!1,draft:c=!1,includeLockStatus:u,joins:h,overrideAccess:m=!0,populate:g,select:y,showHiddenFields:v}=t,b=e.collections[r];if(!b)throw new d.H(`The collection with slug ${String(r)} can't be found. Find By ID Operation.`);return(0,$.y)({id:i,collection:b,currentDepth:a,depth:o,disableErrors:l,draft:c,includeLockStatus:u,joins:h,overrideAccess:m,populate:g,req:await (0,p.z)(t,e),select:y,showHiddenFields:v})}var M=i(35954);async function U(e,t){let{id:i,collection:r,depth:a,disableErrors:o=!1,overrideAccess:l=!0,populate:c,select:u,showHiddenFields:h}=t,m=e.collections[r];if(!m)throw new d.H(`The collection with slug ${String(r)} can't be found. Find Version By ID Operation.`);return(0,M.G)({id:i,collection:m,depth:a,disableErrors:o,overrideAccess:l,populate:c,req:await (0,p.z)(t,e),select:u,showHiddenFields:h})}var F=i(17563);async function B(e,t){let{collection:i,depth:r,limit:a,overrideAccess:o=!0,page:l,populate:c,select:u,showHiddenFields:h,sort:m,where:g}=t,y=e.collections[i];if(!y)throw new d.H(`The collection with slug ${String(i)} can't be found. Find Versions Operation.`);return(0,F.a)({collection:y,depth:r,limit:a,overrideAccess:o,page:l,populate:c,req:await (0,p.z)(t,e),select:u,showHiddenFields:h,sort:m,where:g})}var z=i(64428);async function q(e,t){let{id:i,collection:r,depth:a,overrideAccess:o=!0,populate:l,select:c,showHiddenFields:u}=t,h=e.collections[r];if(!h)throw new d.H(`The collection with slug ${String(r)} can't be found. Restore Version Operation.`);let m={id:i,collection:h,depth:a,overrideAccess:o,payload:e,populate:l,req:await (0,p.z)(t,e),select:c,showHiddenFields:u};return(0,z.i)(m)}var V=i(92506),H=i(94643);async function W(e,t){let{id:i,autosave:r,collection:a,data:o,depth:l,disableTransaction:c,draft:u,file:h,filePath:m,limit:g,overrideAccess:y=!0,overrideLock:v,overwriteExistingFiles:b=!1,populate:w,publishSpecificLocale:_,select:x,showHiddenFields:S,sort:E,where:T}=t,C=e.collections[a];if(!C)throw new d.H(`The collection with slug ${String(a)} can't be found. Update Operation.`);let N=await (0,p.z)(t,e);N.file=h??await (0,k.z)(m);let O={id:i,autosave:r,collection:C,data:o,depth:l,disableTransaction:c,draft:u,limit:g,overrideAccess:y,overrideLock:v,overwriteExistingFiles:b,payload:e,populate:w,publishSpecificLocale:_,req:N,select:x,showHiddenFields:S,sort:E,where:T};return t.id?(0,H.k)(O):(0,V.f)(O)}var G=i(53318),K=i(92242),J=i(95154),Q=i(71495),Y=i(31769);let Z=async e=>{try{let t;let{disableErrors:i,global:r,overrideAccess:a,where:o}=e,l=e.req,{payload:d}=l;if(!a&&(t=await (0,G.K)({disableErrors:i,req:l},r.access.readVersions),!1===t))return{totalDocs:0};let p=(0,K.W)(o,t),c=(0,Q.n)(d.config,r,!0);return await (0,J.a)({globalConfig:r,overrideAccess:a,req:l,versionFields:c,where:o}),await d.db.countGlobalVersions({global:r.slug,req:l,where:p})}catch(t){throw await (0,Y.n)(e.req),t}};async function X(e,t){let{disableErrors:i,global:r,overrideAccess:a=!0,where:o}=t,l=e.globals.config.find(({slug:e})=>e===r);if(!l)throw new d.H(`The global with slug ${String(r)} can't be found. Count Global Versions Operation.`);return Z({disableErrors:i,global:l,overrideAccess:a,req:await (0,p.z)(t,e),where:o})}var ee=i(6026);async function et(e,t){let{slug:i,depth:r,draft:a=!1,includeLockStatus:o,overrideAccess:l=!0,populate:c,select:u,showHiddenFields:h}=t,m=e.globals.config.find(e=>e.slug===i);if(!m)throw new d.H(`The global with slug ${String(i)} can't be found.`);return(0,ee.J)({slug:i,depth:r,draft:a,globalConfig:m,includeLockStatus:o,overrideAccess:l,populate:c,req:await (0,p.z)(t,e),select:u,showHiddenFields:h})}var ei=i(82664);async function er(e,t){let{id:i,slug:r,depth:a,disableErrors:o=!1,overrideAccess:l=!0,populate:c,select:u,showHiddenFields:h}=t,m=e.globals.config.find(e=>e.slug===r);if(!m)throw new d.H(`The global with slug ${String(r)} can't be found.`);return(0,ei.G)({id:i,depth:a,disableErrors:o,globalConfig:m,overrideAccess:l,populate:c,req:await (0,p.z)(t,e),select:u,showHiddenFields:h})}var ea=i(62992);async function en(e,t){let{slug:i,depth:r,limit:a,overrideAccess:o=!0,page:l,populate:c,select:u,showHiddenFields:h,sort:m,where:g}=t,y=e.globals.config.find(e=>e.slug===i);if(!y)throw new d.H(`The global with slug ${String(i)} can't be found.`);return(0,ea.a)({depth:r,globalConfig:y,limit:a,overrideAccess:o,page:l,populate:c,req:await (0,p.z)(t,e),select:u,showHiddenFields:h,sort:m,where:g})}var es=i(80111);async function eo(e,t){let{id:i,slug:r,depth:a,overrideAccess:o=!0,populate:l,showHiddenFields:c}=t,u=e.globals.config.find(e=>e.slug===r);if(!u)throw new d.H(`The global with slug ${String(r)} can't be found.`);return(0,es.i)({id:i,depth:a,globalConfig:u,overrideAccess:o,populate:l,req:await (0,p.z)(t,e),showHiddenFields:c})}var el=i(9046);async function ed(e,t){let{slug:i,data:r,depth:a,draft:o,overrideAccess:l=!0,overrideLock:c,populate:u,publishSpecificLocale:h,select:m,showHiddenFields:g}=t,y=e.globals.config.find(e=>e.slug===i);if(!y)throw new d.H(`The global with slug ${String(i)} can't be found.`);return(0,el.f)({slug:i,data:(0,E.Ee)(r),depth:a,draft:o,globalConfig:y,overrideAccess:l,overrideLock:c,populate:u,publishSpecificLocale:h,req:await (0,p.z)(t,e),select:m,showHiddenFields:g})}function ep(e,t,i,r,a,o,l,d){return ep.fromTZ(ep.tp(e,t,i,r,a,o,l),d)}function ec(e,t=new Date){let i=t.toLocaleString("en-US",{timeZone:e,timeZoneName:"shortOffset"}).split(" ").slice(-1)[0],r=t.toLocaleString("en-US").replace(/[\u202f]/," ");return Date.parse(`${r} GMT`)-Date.parse(`${r} ${i}`)}function eu(e,t){let i=new Date(Date.parse(e));if(isNaN(i))throw Error("minitz: Invalid ISO8601 passed to parser.");let r=e.substring(9);return e.includes("Z")||r.includes("-")||r.includes("+")?ep.tp(i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate(),i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),"Etc/UTC"):ep.tp(i.getFullYear(),i.getMonth()+1,i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),t)}ep.fromTZISO=(e,t,i)=>ep.fromTZ(eu(e,t),i),ep.fromTZ=function(e,t){let i=new Date(Date.UTC(e.y,e.m-1,e.d,e.h,e.i,e.s)),r=ec(e.tz,i),a=new Date(i.getTime()-r),o=ec(e.tz,a);if(o-r==0)return a;{let r=new Date(i.getTime()-o),l=ec(e.tz,r);if(l-o==0||!t&&l-o>0)return r;if(t)throw Error("Invalid date passed to fromTZ()");return a}},ep.toTZ=function(e,t){let i=new Date(e.toLocaleString("en-US",{timeZone:t}).replace(/[\u202f]/," "));return{y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds(),tz:t}},ep.tp=(e,t,i,r,a,o,l)=>({y:e,m:t,d:i,h:r,i:a,s:o,tz:l}),ep.minitz=ep;var eh=32,ef=63,em=[1,2,4,8,16],eg=class{pattern;timezone;second;minute;hour;day;month;dayOfWeek;lastDayOfMonth;starDOM;starDOW;constructor(e,t){this.pattern=e,this.timezone=t,this.second=Array(60).fill(0),this.minute=Array(60).fill(0),this.hour=Array(24).fill(0),this.day=Array(31).fill(0),this.month=Array(12).fill(0),this.dayOfWeek=Array(7).fill(0),this.lastDayOfMonth=!1,this.starDOM=!1,this.starDOW=!1,this.parse()}parse(){if(!("string"==typeof this.pattern||this.pattern instanceof String))throw TypeError("CronPattern: Pattern has to be of type string.");this.pattern.indexOf("@")>=0&&(this.pattern=this.handleNicknames(this.pattern).trim());let e=this.pattern.replace(/\s+/g," ").split(" ");if(e.length<5||e.length>6)throw TypeError("CronPattern: invalid configuration format ('"+this.pattern+"'), exactly five or six space separated parts are required.");if(5===e.length&&e.unshift("0"),e[3].indexOf("L")>=0&&(e[3]=e[3].replace("L",""),this.lastDayOfMonth=!0),"*"==e[3]&&(this.starDOM=!0),e[4].length>=3&&(e[4]=this.replaceAlphaMonths(e[4])),e[5].length>=3&&(e[5]=this.replaceAlphaDays(e[5])),"*"==e[5]&&(this.starDOW=!0),this.pattern.indexOf("?")>=0){let t=new eb(new Date,this.timezone).getDate(!0);e[0]=e[0].replace("?",t.getSeconds().toString()),e[1]=e[1].replace("?",t.getMinutes().toString()),e[2]=e[2].replace("?",t.getHours().toString()),this.starDOM||(e[3]=e[3].replace("?",t.getDate().toString())),e[4]=e[4].replace("?",(t.getMonth()+1).toString()),this.starDOW||(e[5]=e[5].replace("?",t.getDay().toString()))}this.throwAtIllegalCharacters(e),this.partToArray("second",e[0],0,1),this.partToArray("minute",e[1],0,1),this.partToArray("hour",e[2],0,1),this.partToArray("day",e[3],-1,1),this.partToArray("month",e[4],-1,1),this.partToArray("dayOfWeek",e[5],0,ef),this.dayOfWeek[7]&&(this.dayOfWeek[0]=this.dayOfWeek[7])}partToArray(e,t,i,r){let a=this[e],o="day"===e&&this.lastDayOfMonth;if(""===t&&!o)throw TypeError("CronPattern: configuration entry "+e+" ("+t+") is empty, check for trailing spaces.");if("*"===t)return a.fill(r);let l=t.split(",");if(l.length>1)for(let t=0;t<l.length;t++)this.partToArray(e,l[t],i,r);else -1!==t.indexOf("-")&&-1!==t.indexOf("/")?this.handleRangeWithStepping(t,e,i,r):-1!==t.indexOf("-")?this.handleRange(t,e,i,r):-1!==t.indexOf("/")?this.handleStepping(t,e,i,r):""!==t&&this.handleNumber(t,e,i,r)}throwAtIllegalCharacters(e){for(let t=0;t<e.length;t++)if((5===t?/[^/*0-9,\-#L]+/:/[^/*0-9,-]+/).test(e[t]))throw TypeError("CronPattern: configuration entry "+t+" ("+e[t]+") contains illegal characters.")}handleNumber(e,t,i,r){let a=this.extractNth(e,t),o=parseInt(a[0],10)+i;if(isNaN(o))throw TypeError("CronPattern: "+t+" is not a number: '"+e+"'");this.setPart(t,o,a[1]||r)}setPart(e,t,i){if(!Object.prototype.hasOwnProperty.call(this,e))throw TypeError("CronPattern: Invalid part specified: "+e);if("dayOfWeek"===e){if(7===t&&(t=0),t<0||t>6)throw RangeError("CronPattern: Invalid value for dayOfWeek: "+t);this.setNthWeekdayOfMonth(t,i);return}if("second"===e||"minute"===e){if(t<0||t>=60)throw RangeError("CronPattern: Invalid value for "+e+": "+t)}else if("hour"===e){if(t<0||t>=24)throw RangeError("CronPattern: Invalid value for "+e+": "+t)}else if("day"===e){if(t<0||t>=31)throw RangeError("CronPattern: Invalid value for "+e+": "+t)}else if("month"===e&&(t<0||t>=12))throw RangeError("CronPattern: Invalid value for "+e+": "+t);this[e][t]=i}handleRangeWithStepping(e,t,i,r){let a=this.extractNth(e,t),o=a[0].match(/^(\d+)-(\d+)\/(\d+)$/);if(null===o)throw TypeError("CronPattern: Syntax error, illegal range with stepping: '"+e+"'");let[,l,d,p]=o,c=parseInt(l,10)+i,u=parseInt(d,10)+i,h=parseInt(p,10);if(isNaN(c))throw TypeError("CronPattern: Syntax error, illegal lower range (NaN)");if(isNaN(u))throw TypeError("CronPattern: Syntax error, illegal upper range (NaN)");if(isNaN(h))throw TypeError("CronPattern: Syntax error, illegal stepping: (NaN)");if(0===h)throw TypeError("CronPattern: Syntax error, illegal stepping: 0");if(h>this[t].length)throw TypeError("CronPattern: Syntax error, steps cannot be greater than maximum value of part ("+this[t].length+")");if(c>u)throw TypeError("CronPattern: From value is larger than to value: '"+e+"'");for(let e=c;e<=u;e+=h)this.setPart(t,e,a[1]||r)}extractNth(e,t){let i=e,r;if(i.includes("#")){if("dayOfWeek"!==t)throw Error("CronPattern: nth (#) only allowed in day-of-week field");r=i.split("#")[1],i=i.split("#")[0]}return[i,r]}handleRange(e,t,i,r){let a=this.extractNth(e,t),o=a[0].split("-");if(2!==o.length)throw TypeError("CronPattern: Syntax error, illegal range: '"+e+"'");let l=parseInt(o[0],10)+i,d=parseInt(o[1],10)+i;if(isNaN(l))throw TypeError("CronPattern: Syntax error, illegal lower range (NaN)");if(isNaN(d))throw TypeError("CronPattern: Syntax error, illegal upper range (NaN)");if(l>d)throw TypeError("CronPattern: From value is larger than to value: '"+e+"'");for(let e=l;e<=d;e++)this.setPart(t,e,a[1]||r)}handleStepping(e,t,i,r){let a=this.extractNth(e,t),o=a[0].split("/");if(2!==o.length)throw TypeError("CronPattern: Syntax error, illegal stepping: '"+e+"'");""===o[0]&&(o[0]="*");let l=0;"*"!==o[0]&&(l=parseInt(o[0],10)+i);let d=parseInt(o[1],10);if(isNaN(d))throw TypeError("CronPattern: Syntax error, illegal stepping: (NaN)");if(0===d)throw TypeError("CronPattern: Syntax error, illegal stepping: 0");if(d>this[t].length)throw TypeError("CronPattern: Syntax error, max steps for part is ("+this[t].length+")");for(let e=l;e<this[t].length;e+=d)this.setPart(t,e,a[1]||r)}replaceAlphaDays(e){return e.replace(/-sun/gi,"-7").replace(/sun/gi,"0").replace(/mon/gi,"1").replace(/tue/gi,"2").replace(/wed/gi,"3").replace(/thu/gi,"4").replace(/fri/gi,"5").replace(/sat/gi,"6")}replaceAlphaMonths(e){return e.replace(/jan/gi,"1").replace(/feb/gi,"2").replace(/mar/gi,"3").replace(/apr/gi,"4").replace(/may/gi,"5").replace(/jun/gi,"6").replace(/jul/gi,"7").replace(/aug/gi,"8").replace(/sep/gi,"9").replace(/oct/gi,"10").replace(/nov/gi,"11").replace(/dec/gi,"12")}handleNicknames(e){let t=e.trim().toLowerCase();return"@yearly"===t||"@annually"===t?"0 0 1 1 *":"@monthly"===t?"0 0 1 * *":"@weekly"===t?"0 0 * * 0":"@daily"===t?"0 0 * * *":"@hourly"===t?"0 * * * *":e}setNthWeekdayOfMonth(e,t){if("number"!=typeof t&&"L"===t)this.dayOfWeek[e]=this.dayOfWeek[e]|eh;else if(t===ef)this.dayOfWeek[e]=ef;else if(t<6&&t>0)this.dayOfWeek[e]=this.dayOfWeek[e]|em[t-1];else throw TypeError(`CronPattern: nth weekday out of range, should be 1-5 or L. Value: ${t}, Type: ${typeof t}`)}},ey=[31,28,31,30,31,30,31,31,30,31,30,31],ev=[["month","year",0],["day","month",-1],["hour","day",0],["minute","hour",0],["second","minute",0]],eb=class e{tz;ms;second;minute;hour;day;month;year;constructor(t,i){if(this.tz=i,t&&t instanceof Date){if(isNaN(t))throw TypeError("CronDate: Invalid date passed to CronDate constructor");this.fromDate(t)}else if(void 0===t)this.fromDate(new Date);else if(t&&"string"==typeof t)this.fromString(t);else if(t instanceof e)this.fromCronDate(t);else throw TypeError("CronDate: Invalid type ("+typeof t+") passed to CronDate constructor")}isNthWeekdayOfMonth(e,t,i,r){let a=new Date(Date.UTC(e,t,i)).getUTCDay(),o=0;for(let r=1;r<=i;r++)new Date(Date.UTC(e,t,r)).getUTCDay()===a&&o++;if(r&ef&&em[o-1]&r)return!0;if(r&eh){let r=new Date(Date.UTC(e,t+1,0)).getUTCDate();for(let o=i+1;o<=r;o++)if(new Date(Date.UTC(e,t,o)).getUTCDay()===a)return!1;return!0}return!1}fromDate(e){if(void 0!==this.tz){if("number"==typeof this.tz)this.ms=e.getUTCMilliseconds(),this.second=e.getUTCSeconds(),this.minute=e.getUTCMinutes()+this.tz,this.hour=e.getUTCHours(),this.day=e.getUTCDate(),this.month=e.getUTCMonth(),this.year=e.getUTCFullYear(),this.apply();else{let t=ep.toTZ(e,this.tz);this.ms=e.getMilliseconds(),this.second=t.s,this.minute=t.i,this.hour=t.h,this.day=t.d,this.month=t.m-1,this.year=t.y}}else this.ms=e.getMilliseconds(),this.second=e.getSeconds(),this.minute=e.getMinutes(),this.hour=e.getHours(),this.day=e.getDate(),this.month=e.getMonth(),this.year=e.getFullYear()}fromCronDate(e){this.tz=e.tz,this.year=e.year,this.month=e.month,this.day=e.day,this.hour=e.hour,this.minute=e.minute,this.second=e.second,this.ms=e.ms}apply(){if(!(this.month>11)&&!(this.day>ey[this.month])&&!(this.hour>59)&&!(this.minute>59)&&!(this.second>59)&&!(this.hour<0)&&!(this.minute<0)&&!(this.second<0))return!1;{let e=new Date(Date.UTC(this.year,this.month,this.day,this.hour,this.minute,this.second,this.ms));return this.ms=e.getUTCMilliseconds(),this.second=e.getUTCSeconds(),this.minute=e.getUTCMinutes(),this.hour=e.getUTCHours(),this.day=e.getUTCDate(),this.month=e.getUTCMonth(),this.year=e.getUTCFullYear(),!0}}fromString(e){if("number"!=typeof this.tz)return this.fromDate(ep.fromTZISO(e,this.tz));{let t=ep.fromTZISO(e);this.ms=t.getUTCMilliseconds(),this.second=t.getUTCSeconds(),this.minute=t.getUTCMinutes(),this.hour=t.getUTCHours(),this.day=t.getUTCDate(),this.month=t.getUTCMonth(),this.year=t.getUTCFullYear(),this.apply()}}findNext(e,t,i,r){let a=this[t],o;i.lastDayOfMonth&&(o=1!==this.month?ey[this.month]:new Date(Date.UTC(this.year,this.month+1,0,0,0,0,0)).getUTCDate());let l=i.starDOW||"day"!=t?void 0:new Date(Date.UTC(this.year,this.month,1,0,0,0,0)).getUTCDay();for(let d=this[t]+r;d<i[t].length;d++){let p=i[t][d];if("day"===t&&i.lastDayOfMonth&&d-r==o&&(p=1),"day"===t&&!i.starDOW){let t=i.dayOfWeek[(l+(d-r-1))%7];if(t&&t&ef)t=this.isNthWeekdayOfMonth(this.year,this.month,d-r,t)?1:0;else if(t)throw Error(`CronDate: Invalid value for dayOfWeek encountered. ${t}`);p=e.legacyMode&&!i.starDOM?p||t:p&&t}if(p)return this[t]=d-r,a!==this[t]?2:1}return 3}recurse(e,t,i){let r=this.findNext(t,ev[i][0],e,ev[i][2]);if(r>1){let a=i+1;for(;a<ev.length;)this[ev[a][0]]=-ev[a][2],a++;if(3===r)return this[ev[i][1]]++,this[ev[i][0]]=-ev[i][2],this.apply(),this.recurse(e,t,0);if(this.apply())return this.recurse(e,t,i-1)}return(i+=1)>=ev.length?this:this.year>=3e3?null:this.recurse(e,t,i)}increment(e,t,i){return this.second+=void 0!==t.interval&&t.interval>1&&i?t.interval:1,this.ms=0,this.apply(),this.recurse(e,t,0)}getDate(e){return e||void 0===this.tz?new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.ms):"number"==typeof this.tz?new Date(Date.UTC(this.year,this.month,this.day,this.hour,this.minute-this.tz,this.second,this.ms)):ep.fromTZ(ep.tp(this.year,this.month+1,this.day,this.hour,this.minute,this.second,this.tz),!1)}getTime(){return this.getDate(!1).getTime()}};function ew(e){if(void 0===e&&(e={}),delete e.name,e.legacyMode=void 0===e.legacyMode||e.legacyMode,e.paused=void 0!==e.paused&&e.paused,e.maxRuns=void 0===e.maxRuns?1/0:e.maxRuns,e.catch=void 0!==e.catch&&e.catch,e.interval=void 0===e.interval?0:parseInt(e.interval.toString(),10),e.utcOffset=void 0===e.utcOffset?void 0:parseInt(e.utcOffset.toString(),10),e.unref=void 0!==e.unref&&e.unref,e.startAt&&(e.startAt=new eb(e.startAt,e.timezone)),e.stopAt&&(e.stopAt=new eb(e.stopAt,e.timezone)),null!==e.interval){if(isNaN(e.interval))throw Error("CronOptions: Supplied value for interval is not a number");if(e.interval<0)throw Error("CronOptions: Supplied value for interval can not be negative")}if(void 0!==e.utcOffset){if(isNaN(e.utcOffset))throw Error("CronOptions: Invalid value passed for utcOffset, should be number representing minutes offset from UTC.");if(e.utcOffset<-870||e.utcOffset>870)throw Error("CronOptions: utcOffset out of bounds.");if(void 0!==e.utcOffset&&e.timezone)throw Error("CronOptions: Combining 'utcOffset' with 'timezone' is not allowed.")}if(!0!==e.unref&&!1!==e.unref)throw Error("CronOptions: Unref should be either true, false or undefined(false).");return e}function e_(e){return"[object Function]"===Object.prototype.toString.call(e)||"function"==typeof e||e instanceof Function}function ex(e){"u">typeof Deno&&"u">typeof Deno.unrefTimer?Deno.unrefTimer(e):e&&"u">typeof e.unref&&e.unref()}var eS=3e4,eE=[],ek=class{name;options;_states;fn;constructor(e,t,i){let r,a;if(e_(t))a=t;else if("object"==typeof t)r=t;else if(void 0!==t)throw Error("Cron: Invalid argument passed for optionsIn. Should be one of function, or object (options).");if(e_(i))a=i;else if("object"==typeof i)r=i;else if(void 0!==i)throw Error("Cron: Invalid argument passed for funcIn. Should be one of function, or object (options).");if(this.name=r?.name,this.options=ew(r),this._states={kill:!1,blocking:!1,previousRun:void 0,currentRun:void 0,once:void 0,currentTimeout:void 0,maxRuns:r?r.maxRuns:void 0,paused:!!r&&r.paused,pattern:new eg("* * * * *")},e&&(e instanceof Date||"string"==typeof e&&e.indexOf(":")>0)?this._states.once=new eb(e,this.options.timezone||this.options.utcOffset):this._states.pattern=new eg(e,this.options.timezone),this.name){if(eE.find(e=>e.name===this.name))throw Error("Cron: Tried to initialize new named job '"+this.name+"', but name already taken.");eE.push(this)}return void 0!==a&&e_(a)&&(this.fn=a,this.schedule()),this}nextRun(e){let t=this._next(e);return t?t.getDate(!1):null}nextRuns(e,t){void 0!==this._states.maxRuns&&e>this._states.maxRuns&&(e=this._states.maxRuns);let i=[],r=t||this._states.currentRun||void 0;for(;e--&&(r=this.nextRun(r));)i.push(r);return i}getPattern(){return this._states.pattern?this._states.pattern.pattern:void 0}isRunning(){let e=this.nextRun(this._states.currentRun),t=!this._states.paused,i=void 0!==this.fn,r=!this._states.kill;return t&&i&&r&&null!==e}isStopped(){return this._states.kill}isBusy(){return this._states.blocking}currentRun(){return this._states.currentRun?this._states.currentRun.getDate():null}previousRun(){return this._states.previousRun?this._states.previousRun.getDate():null}msToNext(e){e=e||new Date;let t=this._next(e);return t?e instanceof eb||e instanceof Date?t.getTime()-e.getTime():t.getTime()-new eb(e).getTime():null}stop(){this._states.kill=!0,this._states.currentTimeout&&clearTimeout(this._states.currentTimeout);let e=eE.indexOf(this);e>=0&&eE.splice(e,1)}pause(){return this._states.paused=!0,!this._states.kill}resume(){return this._states.paused=!1,!this._states.kill}schedule(e){if(e&&this.fn)throw Error("Cron: It is not allowed to schedule two functions using the same Croner instance.");e&&(this.fn=e);let t=this.msToNext(),i=this.nextRun(this._states.currentRun);return null==t||isNaN(t)||null===i||(t>eS&&(t=eS),this._states.currentTimeout=setTimeout(()=>this._checkTrigger(i),t),this._states.currentTimeout&&this.options.unref&&ex(this._states.currentTimeout)),this}async _trigger(e){if(this._states.blocking=!0,this._states.currentRun=new eb(void 0,this.options.timezone||this.options.utcOffset),this.options.catch)try{void 0!==this.fn&&await this.fn(this,this.options.context)}catch(e){e_(this.options.catch)&&this.options.catch(e,this)}else void 0!==this.fn&&await this.fn(this,this.options.context);this._states.previousRun=new eb(e,this.options.timezone||this.options.utcOffset),this._states.blocking=!1}async trigger(){await this._trigger()}runsLeft(){return this._states.maxRuns}_checkTrigger(e){let t=new Date,i=!this._states.paused&&t.getTime()>=e.getTime(),r=this._states.blocking&&this.options.protect;i&&!r?(void 0!==this._states.maxRuns&&this._states.maxRuns--,this._trigger()):i&&r&&e_(this.options.protect)&&setTimeout(()=>this.options.protect(this),0),this.schedule()}_next(e){let t=!!(e||this._states.currentRun),i=!1;!e&&this.options.startAt&&this.options.interval&&([e,t]=this._calculatePreviousRun(e,t),i=!e),e=new eb(e,this.options.timezone||this.options.utcOffset),this.options.startAt&&e&&e.getTime()<this.options.startAt.getTime()&&(e=this.options.startAt);let r=this._states.once||new eb(e,this.options.timezone||this.options.utcOffset);return i||r===this._states.once||(r=r.increment(this._states.pattern,this.options,t)),this._states.once&&this._states.once.getTime()<=e.getTime()||null===r||void 0!==this._states.maxRuns&&this._states.maxRuns<=0||this._states.kill||this.options.stopAt&&r.getTime()>=this.options.stopAt.getTime()?null:r}_calculatePreviousRun(e,t){let i=new eb(void 0,this.options.timezone||this.options.utcOffset),r=e;if(this.options.startAt.getTime()<=i.getTime()){let e=(r=this.options.startAt).getTime()+1e3*this.options.interval;for(;e<=i.getTime();)e=(r=new eb(r,this.options.timezone||this.options.utcOffset).increment(this._states.pattern,this.options,!0)).getTime()+1e3*this.options.interval;t=!0}return null===r&&(r=void 0),[r,t]}};let eT="aes-256-ctr";function eA(e){let t=a.randomBytes(16),i=this.secret,r=a.createCipheriv(eT,i,t),o=Buffer.concat([r.update(e),r.final()]),l=t.toString("hex"),d=o.toString("hex");return`${l}${d}`}function eC(e){let t=e.slice(0,32),i=e.slice(32),r=this.secret,o=a.createDecipheriv(eT,r,Buffer.from(t,"hex"));return Buffer.concat([o.update(Buffer.from(i,"hex")),o.final()]).toString()}var eN=i(54358),eO=i(79320);let eP=async e=>{let{canSetHeaders:t,headers:i}=e,r=e.req,{payload:a}=r;try{let{responseHeaders:e,user:o}=await (0,eN.n)({canSetHeaders:t,headers:i,payload:a});return r.user=o,r.responseHeaders=e,{permissions:await (0,eO.g)({req:r}),responseHeaders:e,user:o}}catch(e){throw await (0,Y.n)(r),e}},eI=async(e,t)=>{let{headers:i,req:r}=t;return await eP({canSetHeaders:!!t.canSetHeaders,headers:i,req:await (0,p.z)({req:r},e)})},eL=e=>async({headers:t,payload:i})=>{let r=t.get("Authorization");if(r?.startsWith(`${e.slug} API-Key `)){let t=r.replace(`${e.slug} API-Key `,""),o=[{apiKeyIndex:{equals:a.createHmac("sha1",i.secret).update(t).digest("hex")}},{apiKeyIndex:{equals:a.createHmac("sha256",i.secret).update(t).digest("hex")}}];try{let t={};e.auth?.verify?t.and=[{or:o},{_verified:{not_equals:!1}}]:t.or=o;let r=await i.find({collection:e.slug,depth:e.auth.depth,limit:1,overrideAccess:!0,pagination:!1,where:t});if(r.docs&&r.docs.length>0){let t=r.docs[0];return t.collection=e.slug,t._strategy="api-key",{user:t}}}catch(e){}}return{user:null}};var eD=i(41174),eR=i(6005),e$=i(47261),ej=i(46042),eM=i(12690),eU=i(67682),eF=i(33194);let eB=(0,e$.promisify)(eR.verify),ez=async(e,t,i,r)=>{let a=(0,eF.Z)(e,t,"verify");if(e.startsWith("HS")){let t=await (0,eU.Z)(e,a,r),o=i;try{return eR.timingSafeEqual(o,t)}catch{return!1}}let o=(0,ej.Z)(e),l=(0,eM.Z)(e,a);try{return await eB(o,r,l,i)}catch{return!1}};var eq=i(55547),eV=i(71079),eH=i(45689),eW=i(65165),eG=i(27219),eK=i(11884);let eJ=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};var eQ=i(87735);let eY=e=>e.d?(0,eR.createPrivateKey)({format:"jwk",key:e}):(0,eR.createPublicKey)({format:"jwk",key:e});async function eZ(e,t){if(!(0,eW.Z)(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return(0,eD.Jx)(e.k);case"RSA":if(void 0!==e.oth)throw new eq.jq('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return eY({...e,alg:t});default:throw new eq.jq('Unsupported "kty" (Key Type) Parameter value')}}async function eX(e,t,i){let r,a;if(!(0,eW.Z)(e))throw new eq.GW("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new eq.GW('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eq.GW("JWS Protected Header incorrect type");if(void 0===e.payload)throw new eq.GW("JWS Payload missing");if("string"!=typeof e.signature)throw new eq.GW("JWS Signature missing or incorrect type");if(void 0!==e.header&&!(0,eW.Z)(e.header))throw new eq.GW("JWS Unprotected Header incorrect type");let o={};if(e.protected)try{let t=(0,eD.Jx)(e.protected);o=JSON.parse(eV.xv.decode(t))}catch{throw new eq.GW("JWS Protected Header is invalid")}if(!(0,eH.Z)(o,e.header))throw new eq.GW("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let l={...o,...e.header},d=(0,eK.Z)(eq.GW,new Map([["b64",!0]]),i?.crit,o,l),p=!0;if(d.has("b64")&&"boolean"!=typeof(p=o.b64))throw new eq.GW('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:c}=l;if("string"!=typeof c||!c)throw new eq.GW('JWS "alg" (Algorithm) Header Parameter missing or invalid');let u=i&&eJ("algorithms",i.algorithms);if(u&&!u.has(c))throw new eq.FP('"alg" (Algorithm) Header Parameter value not allowed');if(p){if("string"!=typeof e.payload)throw new eq.GW("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new eq.GW("JWS Payload must be a string or an Uint8Array instance");let h=!1;"function"==typeof t?(t=await t(o,e),h=!0,(0,eG.Y)(c,t,"verify"),(0,eQ.x)(t)&&(t=await eZ(t,c))):(0,eG.Y)(c,t,"verify");let m=(0,eV.zo)(eV.g7.encode(e.protected??""),eV.g7.encode("."),"string"==typeof e.payload?eV.g7.encode(e.payload):e.payload);try{r=(0,eD.Jx)(e.signature)}catch{throw new eq.GW("Failed to base64url decode the signature")}if(!await ez(c,t,r,m))throw new eq.nx;if(p)try{a=(0,eD.Jx)(e.payload)}catch{throw new eq.GW("Failed to base64url decode the payload")}else a="string"==typeof e.payload?eV.g7.encode(e.payload):e.payload;let g={payload:a};return(void 0!==e.protected&&(g.protectedHeader=o),void 0!==e.header&&(g.unprotectedHeader=e.header),h)?{...g,key:t}:g}async function e1(e,t,i){if(e instanceof Uint8Array&&(e=eV.xv.decode(e)),"string"!=typeof e)throw new eq.GW("Compact JWS must be a string or Uint8Array");let{0:r,1:a,2:o,length:l}=e.split(".");if(3!==l)throw new eq.GW("Invalid Compact JWS");let d=await eX({payload:a,protected:r,signature:o},t,i),p={payload:d.payload,protectedHeader:d.protectedHeader};return"function"==typeof t?{...p,key:d.key}:p}var e0=i(52741),e2=i(21301);let e6=e=>e.toLowerCase().replace(/^application\//,""),e4=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),e3=(e,t,i={})=>{let r,a;try{r=JSON.parse(eV.xv.decode(t))}catch{}if(!(0,eW.Z)(r))throw new eq.uv("JWT Claims Set must be a top-level JSON object");let{typ:o}=i;if(o&&("string"!=typeof e.typ||e6(e.typ)!==e6(o)))throw new eq.YS('unexpected "typ" JWT header value',r,"typ","check_failed");let{requiredClaims:l=[],issuer:d,subject:p,audience:c,maxTokenAge:u}=i,h=[...l];for(let e of(void 0!==u&&h.push("iat"),void 0!==c&&h.push("aud"),void 0!==p&&h.push("sub"),void 0!==d&&h.push("iss"),new Set(h.reverse())))if(!(e in r))throw new eq.YS(`missing required "${e}" claim`,r,e,"missing");if(d&&!(Array.isArray(d)?d:[d]).includes(r.iss))throw new eq.YS('unexpected "iss" claim value',r,"iss","check_failed");if(p&&r.sub!==p)throw new eq.YS('unexpected "sub" claim value',r,"sub","check_failed");if(c&&!e4(r.aud,"string"==typeof c?[c]:c))throw new eq.YS('unexpected "aud" claim value',r,"aud","check_failed");switch(typeof i.clockTolerance){case"string":a=(0,e2.Z)(i.clockTolerance);break;case"number":a=i.clockTolerance;break;case"undefined":a=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:m}=i,g=(0,e0.Z)(m||new Date);if((void 0!==r.iat||u)&&"number"!=typeof r.iat)throw new eq.YS('"iat" claim must be a number',r,"iat","invalid");if(void 0!==r.nbf){if("number"!=typeof r.nbf)throw new eq.YS('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>g+a)throw new eq.YS('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(void 0!==r.exp){if("number"!=typeof r.exp)throw new eq.YS('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=g-a)throw new eq.fy('"exp" claim timestamp check failed',r,"exp","check_failed")}if(u){let e=g-r.iat;if(e-a>("number"==typeof u?u:(0,e2.Z)(u)))throw new eq.fy('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(e<0-a)throw new eq.YS('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function e5(e,t,i){let r=await e1(e,t,i);if(r.protectedHeader.crit?.includes("b64")&&!1===r.protectedHeader.b64)throw new eq.uv("JWTs MUST NOT use unencoded payload");let a={payload:e3(r.protectedHeader,r.payload,i),protectedHeader:r.protectedHeader};return"function"==typeof t?{...a,key:r.key}:a}var e8=i(5242);async function e9({isGraphQL:e,payload:t,strategyName:i="local-jwt"}){if("object"!=typeof t?.config?.admin?.autoLogin||t.config.admin?.autoLogin.prefillOnly||!t?.config?.admin?.autoLogin||!t.config.admin?.autoLogin.email&&!t.config.admin?.autoLogin.username)return{user:null};let r=t.collections[t.config.admin.user],a={or:[]};t.config.admin?.autoLogin.email?a.or?.push({email:{equals:t.config.admin?.autoLogin.email}}):t.config.admin?.autoLogin.username&&a.or?.push({username:{equals:t.config.admin?.autoLogin.username}});let o=(await t.find({collection:r.config.slug,depth:e?0:r.config.auth.depth,limit:1,pagination:!1,where:a})).docs[0];return o?(o.collection=r.config.slug,o._strategy=i,{user:o}):{user:null}}let e7=async({headers:e,isGraphQL:t=!1,payload:i,strategyName:r="local-jwt"})=>{try{let a=(0,e8.j)({headers:e,payload:i});if(!a){if("true"!==e.get("DisableAutologin"))return await e9({isGraphQL:t,payload:i,strategyName:r});return{user:null}}let o=new TextEncoder().encode(i.secret),{payload:l}=await e5(a,o),d=i.collections[l.collection],p=await i.findByID({id:l.id,collection:l.collection,depth:t?0:d.config.auth.depth});if(p&&(!d.config.auth.verify||p._verified)){if(d.config.auth.useSessions){if(!(p.sessions||[]).find(({id:e})=>e===l.sid)||!l.sid)return{user:null};p._sid=l.sid}return p.collection=d.config.slug,p._strategy=r,{user:p}}if("true"!==e.get("DisableAutologin"))return await e9({isGraphQL:t,payload:i,strategyName:r});return{user:null}}catch(a){if("true"!==e.get("DisableAutologin"))return await e9({isGraphQL:t,payload:i,strategyName:r});return{user:null}}};var te=i(73292),tt=i(97742),ti=i(9291);function tr({addToImportMap:e,baseDir:t,collections:i,config:r,importMap:a,imports:o}){for(let l of i){if((0,ti.O)({addToImportMap:e,baseDir:t,config:r,fields:l.fields,importMap:a,imports:o}),e(l.admin?.components?.afterList),e(l.admin?.components?.listMenuItems),e(l.admin?.components?.afterListTable),e(l.admin?.components?.beforeList),e(l.admin?.components?.beforeListTable),e(l.admin?.components?.Description),e(l.admin?.components?.edit?.beforeDocumentControls),e(l.admin?.components?.edit?.editMenuItems),e(l.admin?.components?.edit?.PreviewButton),e(l.admin?.components?.edit?.PublishButton),e(l.admin?.components?.edit?.SaveButton),e(l.admin?.components?.edit?.SaveDraftButton),e(l.admin?.components?.edit?.Upload),l.upload?.admin?.components?.controls&&e(l.upload?.admin?.components?.controls),l.admin?.components?.views?.edit)for(let t of Object.values(l.admin?.components?.views?.edit))"Component"in t&&e(t?.Component),"actions"in t&&e(t?.actions),"tab"in t&&(e(t?.tab?.Component),e(t?.tab?.Pill));e(l.admin?.components?.views?.list?.Component),e(l.admin?.components?.views?.list?.actions)}}function ta({addToImportMap:e,baseDir:t,config:i,globals:r,importMap:a,imports:o}){for(let l of r)if((0,ti.O)({addToImportMap:e,baseDir:t,config:i,fields:l.fields,importMap:a,imports:o}),e(l.admin?.components?.elements?.Description),e(l.admin?.components?.elements?.PreviewButton),e(l.admin?.components?.elements?.PublishButton),e(l.admin?.components?.elements?.SaveButton),e(l.admin?.components?.elements?.SaveDraftButton),l.admin?.components?.views?.edit)for(let t of Object.values(l.admin?.components?.views?.edit))"Component"in t&&e(t?.Component),"actions"in t&&e(t?.actions),"tab"in t&&(e(t?.tab?.Component),e(t?.tab?.Pill))}function tn({addToImportMap:e,baseDir:t,config:i,importMap:r,imports:a}){if(tr({addToImportMap:e,baseDir:t,collections:i.collections,config:i,importMap:r,imports:a}),ta({addToImportMap:e,baseDir:t,config:i,globals:i.globals,importMap:r,imports:a}),i?.blocks){let o=Object.values(i.blocks);o?.length&&(0,ti.O)({addToImportMap:e,baseDir:t,config:i,fields:o,importMap:r,imports:a})}if("object"==typeof i.admin?.avatar&&e(i.admin?.avatar?.Component),e(i.admin?.components?.Nav),e(i.admin?.components?.header),e(i.admin?.components?.logout?.Button),e(i.admin?.components?.graphics?.Icon),e(i.admin?.components?.graphics?.Logo),e(i.admin?.components?.actions),e(i.admin?.components?.afterDashboard),e(i.admin?.components?.afterLogin),e(i.admin?.components?.afterNavLinks),e(i.admin?.components?.beforeDashboard),e(i.admin?.components?.beforeLogin),e(i.admin?.components?.beforeNavLinks),e(i.admin?.components?.providers),i.admin?.components?.views&&Object.keys(i.admin?.components?.views)?.length)for(let t in i.admin?.components?.views){let r=i.admin?.components?.views[t];e(r?.Component)}if(i?.admin?.importMap?.generators?.length)for(let o of i.admin.importMap.generators)o({addToImportMap:e,baseDir:t,config:i,importMap:r,imports:a});if(i?.admin?.dependencies)for(let t of Object.values(i.admin.dependencies))e(t.path)}var ts=i(50730);function to(e,t){let i=e.replace(/\\/g,"/"),r=t.replace(/\\/g,"/");if(i.startsWith("./")){let e=r.startsWith("./")?r.substring(2):r;return`${i}${e}`}return l.posix.join(i,r)}function tl({importMap:e,importMapToBaseDirPath:t,imports:i,payloadComponent:r}){if(!r)return null;let{exportName:o,path:l}=(0,ts.n)(r);if(e[l+"#"+o])return null;let d=o+"_"+a.createHash("md5").update(l).digest("hex");if(e[l+"#"+o]=d,!(l.startsWith(".")||l.startsWith("/")))return i[d]={path:l,specifier:o},{path:l,specifier:o};{let e=to(t,l);return i[d]={path:e,specifier:o},{path:e,specifier:o}}}function td({baseDir:e,importMapPath:t}){let i=l.dirname(t),r=l.relative(i,e).replace(/\\/g,"/");return r?r.startsWith(".")||r.startsWith("/")||(r=`./${r}`):r="./",r.endsWith("/")||(r+="/"),r}async function tp(e){try{return await te.access(e),!0}catch{return!1}}async function tc({adminRoute:e="/admin",importMapFile:t,rootDir:i}){let r;if(t?.length){if(!await tp(t))try{await te.writeFile(t,"",{flag:"wx"})}catch(e){throw Error(`Could not find the import map file at ${t}${e instanceof Error&&e?.message?`: ${e.message}`:""}`)}r=t}else{let t=l.resolve(i,`app/(payload)${e}/`),a=l.resolve(i,`src/app/(payload)${e}/`);if(t&&await tp(t))r=l.resolve(t,"importMap.js"),await tp(r)||await te.writeFile(r,"",{flag:"wx"});else if(a&&await tp(a))r=l.resolve(a,"importMap.js"),await tp(r)||await te.writeFile(r,"",{flag:"wx"});else throw Error(`Could not find Payload import map folder. Looked in ${t} and ${a}`)}return r}async function tu(e,t){let i=t?.log??!0;i&&console.log("Generating import map");let r={},a={},o=tt.env.ROOT_DIR??tt.cwd(),l=e.admin.importMap.baseDir??tt.cwd(),d=await tc({adminRoute:e.routes.admin,importMapFile:e?.admin?.importMap?.importMapFile,rootDir:o}),p=td({baseDir:l,importMapPath:d});tn({addToImportMap:e=>{if(e){if("object"!=typeof e&&"string"!=typeof e)throw console.error(e),Error("addToImportMap > Payload component must be an object or a string");if(Array.isArray(e))for(let t of e)tl({importMap:r,importMapToBaseDirPath:p,imports:a,payloadComponent:t});else tl({importMap:r,importMapToBaseDirPath:p,imports:a,payloadComponent:e})}},baseDir:e.admin.importMap.baseDir,config:e,importMap:r,imports:a}),await th({componentMap:r,force:t?.force,importMap:a,importMapFilePath:d,log:i})}async function th({componentMap:e,force:t,importMap:i,importMapFilePath:r,log:a}){let o=[];for(let[e,{path:t,specifier:r}]of Object.entries(i))o.push(`import { ${r} as ${e} } from '${t}'`);let l=[];for(let[t,i]of Object.entries(e))l.push(`  "${t}": ${i}`);let d=`${o.join("\n")}

export const importMap = {
${l.join(",\n")}
}
`;if(!t){let e=await te.readFile(r,"utf-8");if(e?.trim()===d?.trim()){a&&console.log("No new imports found, skipping writing import map");return}}a&&console.log("Writing import map to",r),await te.writeFile(r,d)}var tf=i(93826),tm=i(5329),tg=i(46803);let ty=async e=>{let t=e;try{let e,i;if(t.collection.config.hooks.beforeOperation?.length)for(let e of t.collection.config.hooks.beforeOperation)t=await e({args:t,collection:t.collection.config,context:t.req.context,operation:"countVersions",req:t.req})||t;let{collection:{config:r},disableErrors:a,overrideAccess:o,req:l,where:d}=t,{payload:p}=l;if(!o&&(e=await (0,G.K)({disableErrors:a,req:l},r.access.readVersions),!1===e))return{totalDocs:0};let c=(0,K.W)(d,e),u=(0,tm.w)(p.config,r,!0);return(0,tf.Z)({fields:u,payload:p,where:c}),await (0,J.a)({collectionConfig:r,overrideAccess:o,req:l,versionFields:u,where:d}),i=await p.db.countVersions({collection:r.slug,req:l,where:c}),i=await (0,tg.O)({args:t,collection:r,operation:"countVersions",result:i})}catch(e){throw await (0,Y.n)(t.req),e}};async function tv(e,t){let{collection:i,disableErrors:r,overrideAccess:a=!0,where:o}=t,l=e.collections[i];if(!l)throw new d.H(`The collection with slug ${String(i)} can't be found. Count Versions Operation.`);return ty({collection:l,disableErrors:r,overrideAccess:a,req:await (0,p.z)(t,e),where:o})}let tb={defaultFromAddress:"info@payloadcms.com",defaultFromName:"Payload"},tw=e=>{let t;return"string"==typeof e.to?t=e.to:Array.isArray(e.to)?t=e.to.map(e=>"string"==typeof e?e:e.address?e.address:"").join(", "):e.to?.address&&(t=e.to.address),t},t_=({payload:e})=>({name:"console",defaultFromAddress:tb.defaultFromAddress,defaultFromName:tb.defaultFromName,sendEmail:async t=>{let i=tw(t),r=`Email attempted without being configured. To: '${i}', Subject: '${t.subject}'`;return e.logger.info({msg:r}),Promise.resolve()}});var tx=i(32017),tS=i(23249),tE=i(25171),tk=i(84267);let tT=e=>({queue:async t=>{let i;if(t.queue)i=t.queue;else if(t.workflow){let r=e.config.jobs?.workflows?.find(({slug:e})=>e===t.workflow);r?.queue&&(i=r.queue)}let r={input:t.input};return(i&&(r.queue=i),t.waitUntil&&(r.waitUntil=t.waitUntil?.toISOString()),t.workflow&&(r.workflowSlug=t.workflow),t.task&&(r.taskSlug=t.task),e?.config?.jobs?.depth||e?.config?.jobs?.runHooks)?await e.create({collection:tS.WG,data:r,depth:e.config.jobs.depth??0,req:t.req}):(0,tS.zY)({config:e.config,doc:await e.db.create({collection:tS.WG,data:r,req:t.req})})},run:async t=>{let i=t?.req??await (0,p.z)({},e);return await (0,tE.l)({allQueues:t?.allQueues,limit:t?.limit,overrideAccess:t?.overrideAccess!==!1,processingOrder:t?.processingOrder,queue:t?.queue,req:i,sequential:t?.sequential,where:t?.where})},runByID:async t=>{let i=t.req??await (0,p.z)({},e);return await (0,tE.l)({id:t.id,overrideAccess:!1!==t.overrideAccess,req:i})},cancel:async t=>{let i=t.req??await (0,p.z)({},e),r=[t.where,{completedAt:{exists:!1}},{hasError:{not_equals:!0}}];t.queue&&r.push({queue:{equals:t.queue}}),await (0,tk.n)({data:{completedAt:null,error:{cancelled:!0},hasError:!0,processing:!1,waitUntil:null},depth:0,disableTransaction:!0,req:i,returning:!1,where:{and:r}})},cancelByID:async t=>{let i=t.req??await (0,p.z)({},e);await (0,tk.g)({id:t.id,data:{completedAt:null,error:{cancelled:!0},hasError:!0,processing:!1,waitUntil:null},depth:0,disableTransaction:!0,req:i,returning:!1})}});function tA(){return"phase-production-build"===process.env.NEXT_PHASE||"build"===process.env.npm_lifecycle_event}var tC=i(99557),tN=i(63859);let tO={colorize:!0,ignore:"pid,hostname",translateTime:"SYS:HH:MM:ss"},tP=(0,tN.build)({...tO,destination:1,sync:!0}),tI=(0,tN.build)(tO),tL=(e="payload",t)=>{if(!t)return(0,tC.pino)(tI);if("sync"===t)return(0,tC.pino)(tP);if(!("options"in t))return t;{let{destination:i,options:r}=t;return r.name||(r.name=e),r.enabled||(r.enabled="true"!==process.env.DISABLE_LOGGING),(0,tC.pino)(r,i)}};var tD=i(1872);let tR=e=>{(0,tD.qP)({event:{type:"server-init"},payload:e})};var t$=i(39375);let tj=(0,o.fileURLToPath)("file:///Users/clinton/Desktop/WORK_STATION/DEVLAB/clintjeez_xyz/node_modules/payload/dist/index.js"),tM=l.dirname(tj);class tU{auth=async e=>eI(this,e);authStrategies;blocks={};collections={};config;count=async e=>S(this,e);countGlobalVersions=async e=>X(this,e);countVersions=async e=>tv(this,e);create=async e=>C(this,e);crons=[];db;decrypt=eC;destroy=async()=>{if(this.crons.length){let e=this.crons.splice(0,this.crons.length);await Promise.all(e.map(e=>e.stop()))}this.db?.destroy&&"function"==typeof this.db.destroy&&await this.db.destroy()};duplicate=async e=>L(this,e);email;encrypt=eA;extensions;find=async e=>R(this,e);findByID=async e=>j(this,e);findGlobal=async e=>et(this,e);findGlobalVersionByID=async e=>er(this,e);findGlobalVersions=async e=>en(this,e);findVersionByID=async e=>U(this,e);findVersions=async e=>B(this,e);forgotPassword=async e=>u(this,e);getAdminURL=()=>`${this.config.serverURL}${this.config.routes.admin}`;getAPIURL=()=>`${this.config.serverURL}${this.config.routes.api}`;globals;importMap;jobs=tT(this);logger;login=async e=>m(this,e);resetPassword=async e=>y(this,e);restoreGlobalVersion=async e=>eo(this,e);restoreVersion=async e=>q(this,e);schema;secret;sendEmail;types;unlock=async e=>b(this,e);updateGlobal=async e=>ed(this,e);validationRules;verifyEmail=async e=>_(this,e);versions={};async bin({args:e,cwd:t,log:i}){return new Promise((a,o)=>{let d=(0,r.spawn)("node",[l.resolve(tM,"../bin.js"),...e],{cwd:t,stdio:i||void 0===i?"inherit":"ignore"});d.on("exit",e=>{a({code:e})}),d.on("error",e=>{o(e)})})}delete(e){return P(this,e)}async init(e){if(this.importMap=e.importMap,!e?.config)throw Error("Error: the payload config is required to initialize payload.");if(this.config=await e.config,this.logger=tL("payload",this.config.logger),!this.config.secret)throw Error("Error: missing secret key. A secret key is needed to secure Payload.");for(let e of(this.secret=a.createHash("sha256").update(this.config.secret).digest("hex").slice(0,32),this.globals={config:this.config.globals},this.config.collections)){let t;let i=({field:e})=>!!["array","blocks","group"].includes(e.type)||"tab"===e.type&&"name"in e||((0,tx.j7)(e)&&"id"===e.name?(t=e.type,!0):void 0);(0,t$.J)({callback:i,config:this.config,fields:e.fields,parentIsLocalized:!1}),this.collections[e.slug]={config:e,customIDType:t}}if(this.blocks=this.config.blocks.reduce((e,t)=>(e[t.slug]=t,e),{}),this.db=this.config.db.init({payload:this}),this.db.payload=this,this.db?.init&&await this.db.init(),!e.disableDBConnect&&this.db.connect&&await this.db.connect(),this.config.email instanceof Promise){let e=await this.config.email;this.email=e({payload:this})}else this.config.email?this.email=this.config.email({payload:this}):("phase-production-build"!==process.env.NEXT_PHASE&&this.logger.warn("No email adapter provided. Email will be written to console. More info at https://payloadcms.com/docs/email/overview."),this.email=t_({payload:this}));if(!this.config.sharp&&this.config.collections.some(e=>e.upload.imageSizes||e.upload.formatOptions)&&this.logger.warn("Image resizing is enabled for one or more collections, but sharp not installed. Please install 'sharp' and pass into the config."),process.env.VERCEL){let e=this.config.collections.filter(e=>e.upload&&void 0===e.upload.adapter);if(e.length){let t=e.map(e=>e.slug).join(", ");this.logger.warn(`Collections with uploads enabled require a storage adapter when deploying to Vercel. Collection(s) without storage adapters: ${t}. See https://payloadcms.com/docs/upload/storage-adapters for more info.`)}}this.sendEmail=this.email.sendEmail,tR(this);let t=!1;this.authStrategies=this.config.collections.reduce((e,i)=>(!i?.auth||(i.auth.strategies.length>0&&e.push(...i.auth.strategies),i.auth?.useAPIKey&&e.push({name:`${i.slug}-api-key`,authenticate:eL(i)}),i.auth.disableLocalStrategy||t||(t=!0)),e),[]),t&&this.authStrategies.push({name:"local-jwt",authenticate:e7});try{e.disableOnInit||("function"==typeof e.onInit&&await e.onInit(this),"function"==typeof this.config.onInit&&await this.config.onInit(this))}catch(e){throw this.logger.error({err:e},"Error running onInit function"),e}if(this.config.jobs.enabled&&this.config.jobs.autoRun&&!tA()){let e="* * * * *",t=10,i="function"==typeof this.config.jobs.autoRun?await this.config.jobs.autoRun(this):this.config.jobs.autoRun;await Promise.all(i.map(i=>{let r=new ek(i.cron??e,async()=>{if("function"==typeof this.config.jobs.shouldAutoRun&&!await this.config.jobs.shouldAutoRun(this))return r.stop(),!1;await this.jobs.run({limit:i.limit??t,queue:i.queue})});this.crons.push(r)}))}return this}update(e){return W(this,e)}}new tU;let tF=global._payload;tF||(tF=global._payload={payload:null,promise:null,reload:!1,ws:null});let tB=async(e,t,i)=>{await t.destroy(),t.config=e,t.collections=e.collections.reduce((e,i)=>(e[i.slug]={config:i,customIDType:t.collections[i.slug]?.customIDType},e),{}),t.blocks=e.blocks.reduce((e,t)=>(e[t.slug]=t,e),{}),t.globals={config:e.globals},!1!==e.typescript.autoGenerate&&t.bin({args:["generate:types"],log:!1}),!0!==i&&e.admin?.importMap?.autoGenerate!==!1&&await tu(e,{log:!0}),await t.db.init?.(),t.db.connect&&await t.db.connect({hotReload:!0}),global._payload_clientConfigs={},global._payload_schemaMap=null,global._payload_clientSchemaMap=null,global._payload_doNotCacheClientConfig=!0,global._payload_doNotCacheSchemaMap=!0,global._payload_doNotCacheClientSchemaMap=!0},tz=async e=>{if(!e?.config)throw Error("Error: the payload config is required for getPayload to work.");if(tF.payload){if(!0===tF.reload){let t;tF.reload=new Promise(e=>t=e);let i=await e.config;await tB(i,tF.payload,!e.importMap),t()}return tF.reload instanceof Promise&&await tF.reload,e?.importMap&&(tF.payload.importMap=e.importMap),tF.payload}tF.promise||(tF.promise=new tU().init(e));try{tF.payload=await tF.promise,tF.ws}catch(e){throw tF.promise=null,e.payloadInitError=!0,e}return e?.importMap&&(tF.payload.importMap=e.importMap),tF.payload}},34428:(e,t,i)=>{"use strict";i.d(t,{g:()=>a,k:()=>o});var r=i(7339);let a="payload-locked-documents",o=e=>({slug:a,access:{create:r.m,delete:r.m,read:r.m,update:r.m},admin:{hidden:!0},fields:[{name:"document",type:"relationship",index:!0,maxDepth:0,relationTo:[...e.collections.map(e=>e.slug)]},{name:"globalSlug",type:"text",index:!0},{name:"user",type:"relationship",maxDepth:1,relationTo:e.collections.filter(e=>e.auth).map(e=>e.slug),required:!0}],lockDocuments:!1})},4746:(e,t,i)=>{"use strict";i.d(t,{z:()=>b,O:()=>v});var r=i(53064),a=i(39399),o=i(94894),l=i(71207);class d extends l.H{constructor(e){super(e?e("error:unauthorized"):o.en.translations.error.unauthorized,r.i.UNAUTHORIZED)}}async function p(e){let{key:t,req:{payload:i},req:r,user:o}=e;if(!o)throw new d(r.t);let l={and:[{key:{equals:t}},{"user.value":{equals:o.id}},{"user.relationTo":{equals:o.collection}}]},p=await i.db.deleteOne({collection:v,req:r,where:l});if(p)return p;throw new a.T(r.t)}let c=async e=>{let t;try{t=await e.json?.()}catch(e){t={}}let i=e;t&&(i.data=t,i.json=()=>Promise.resolve(t));let a=await p({key:i.routeParams?.key,req:i,user:i.user});return Response.json({...a,message:i.t("general:deletedSuccessfully")},{status:r.i.OK})};async function u(e){let{key:t,req:{payload:i},req:r,user:a}=e;if(!a)return null;let o={and:[{key:{equals:t}},{"user.value":{equals:a.id}},{"user.relationTo":{equals:a.collection}}]},{docs:l}=await i.db.find({collection:v,limit:1,pagination:!1,req:r,sort:"-updatedAt",where:o});return l?.[0]||null}let h=async e=>{let t;try{t=await e.json?.()}catch(e){t={}}let i=e;t&&(i.data=t,i.json=()=>Promise.resolve(t));let a=await u({key:i.routeParams?.key,req:i,user:i.user});return Response.json({...a||{message:i.t("general:notFound"),value:null}},{status:r.i.OK})};async function m(e){let{key:t,req:{payload:i},req:r,user:a,value:o}=e;if(!a)throw new d(r.t);let l={and:[{key:{equals:t}},{"user.value":{equals:a.id}},{"user.relationTo":{equals:a.collection}}]},p={key:t,user:{relationTo:a.collection,value:a.id},value:o};return await i.db.upsert({collection:v,data:p,req:r,where:l})}let g=async e=>{let t;try{t=await e.json?.()}catch(e){t={}}let i=e;t&&(i.data=t,i.json=()=>Promise.resolve(t));let a=await m({key:i.routeParams?.key,req:i,user:i?.user,value:i.data?.value||i.data});return Response.json({doc:a,message:i.t("general:updatedSuccessfully")},{status:r.i.OK})},y=({req:e})=>!!e.user&&{"user.value":{equals:e?.user?.id}},v="payload-preferences",b=e=>({slug:v,access:{delete:y,read:y},admin:{hidden:!0},endpoints:[{handler:h,method:"get",path:"/:key"},{handler:c,method:"delete",path:"/:key"},{handler:g,method:"post",path:"/:key"}],fields:[{name:"user",type:"relationship",hooks:{beforeValidate:[({req:e})=>e?.user?{relationTo:e?.user.collection,value:e?.user.id}:null]},index:!0,relationTo:e.collections.filter(e=>e.auth).map(e=>e.slug),required:!0},{name:"key",type:"text",index:!0},{name:"value",type:"json",validate:e=>{if(e)try{JSON.parse(JSON.stringify(e))}catch{return"Invalid JSON"}return!0}}],lockDocuments:!1})},68811:(e,t,i)=>{"use strict";i.d(t,{L:()=>a});var r=i(4746);let a=async({collectionConfig:e,ids:t,payload:i,req:a})=>{e.auth?await i.db.deleteMany({collection:r.O,req:a,where:{or:[{and:[{"user.value":{in:t}},{"user.relationTo":{equals:e.slug}}]},{key:{in:t.map(t=>`collection-${e.slug}-${t}`)}}]}}):await i.db.deleteMany({collection:r.O,req:a,where:{key:{in:t.map(t=>`collection-${e.slug}-${t}`)}}})}},23249:(e,t,i)=>{"use strict";i.d(t,{Rd:()=>p,zY:()=>c,WG:()=>d});var r=i(25171);let a=e=>!!(e.jobs?.tasks?.length||e.jobs?.workflows?.length),o={handler:async e=>{if(!a(e.payload.config))return Response.json({message:"No jobs to run."},{status:200});let t=e.payload.config.jobs?.access?.run??(()=>!0);if(!await t({req:e}))return Response.json({message:e.i18n.t("error:unauthorized")},{status:401});let{allQueues:i,limit:o,queue:l}=e.query,d={queue:l,req:e,overrideAccess:!0};void 0!==o&&(d.limit=Number(o)),i&&!("string"==typeof i&&"false"===i)&&(d.allQueues=!0);let p=!1,c=0;try{let e=await (0,r.l)(d);p=!!e.noJobsRemaining,c=e.remainingJobsFromQueried}catch(t){return e.payload.logger.error({err:t,msg:"There was an error running jobs:",queue:d.queue}),Response.json({message:e.i18n.t("error:unknown"),noJobsRemaining:!0,remainingJobsFromQueried:c},{status:500})}return Response.json({message:e.i18n.t("general:success"),noJobsRemaining:p,remainingJobsFromQueried:c},{status:200})},method:"get",path:"/run"},l=({jobLog:e})=>{let t={};if(!e||!Array.isArray(e))return t;for(let i of e)if(t[i.taskSlug]||(t[i.taskSlug]={}),t[i.taskSlug]?.[i.taskID]){let e=t[i.taskSlug][i.taskID];e.totalTried+=1,"succeeded"===i.state&&(e.complete=!0,e.output=i.output,e.input=i.input,e.taskSlug=i.taskSlug),t[i.taskSlug][i.taskID]=e}else t[i.taskSlug][i.taskID]={complete:"succeeded"===i.state,input:i.input,output:i.output,taskSlug:i.taskSlug,totalTried:1};return t},d="payload-jobs",p=e=>{let t=new Set,i=new Set(["inline"]);e.jobs?.workflows?.length&&e.jobs?.workflows.forEach(e=>{t.add(e.slug)}),e.jobs?.tasks?.length&&e.jobs.tasks.forEach(e=>{if(t.has(e.slug))throw Error(`Task slug "${e.slug}" is already used by a workflow. No tasks are allowed to have the same slug as a workflow.`);i.add(e.slug)});let r=[{name:"executedAt",type:"date",required:!0},{name:"completedAt",type:"date",required:!0},{name:"taskSlug",type:"select",options:[...i],required:!0},{name:"taskID",type:"text",required:!0},{name:"input",type:"json"},{name:"output",type:"json"},{name:"state",type:"radio",options:["failed","succeeded"],required:!0},{name:"error",type:"json",admin:{condition:(e,t)=>"failed"===t.state},required:!0}];return e?.jobs?.addParentToTaskLog&&r.push({name:"parent",type:"group",fields:[{name:"taskSlug",type:"select",options:[...i]},{name:"taskID",type:"text"}]}),{slug:d,admin:{group:"System",hidden:!0},endpoints:[o],fields:[{name:"input",type:"json",admin:{description:"Input data provided to the job"}},{name:"taskStatus",type:"json",virtual:!0},{type:"tabs",tabs:[{fields:[{name:"completedAt",type:"date",index:!0},{name:"totalTried",type:"number",defaultValue:0,index:!0},{name:"hasError",type:"checkbox",admin:{description:"If hasError is true this job will not be retried"},defaultValue:!1,index:!0},{name:"error",type:"json",admin:{condition:e=>e.hasError,description:"If hasError is true, this is the error that caused it"}},{name:"log",type:"array",admin:{description:"Task execution log"},fields:r}],label:"Status"}]},...t.size>0?[{name:"workflowSlug",type:"select",admin:{position:"sidebar"},index:!0,options:[...t]}]:[],{name:"taskSlug",type:"select",admin:{position:"sidebar"},index:!0,options:[...i],required:!1},{name:"queue",type:"text",admin:{position:"sidebar"},defaultValue:"default",index:!0},{name:"waitUntil",type:"date",index:!0},{name:"processing",type:"checkbox",admin:{position:"sidebar"},defaultValue:!1,index:!0}],hooks:{afterRead:[({doc:e,req:t})=>c({config:t.payload.config,doc:e})],beforeChange:[({data:e,originalDoc:t})=>(t?.error?.cancelled&&(e.processing=!1,e.hasError=!0,delete e.completedAt,delete e.waitUntil),e)]},lockDocuments:!1}};function c({config:e,doc:t}){return t.taskStatus=l({jobLog:t.log||[]}),t.input=t.input||{},t.taskStatus=t.taskStatus||{},t}},25171:(e,t,i)=>{"use strict";i.d(t,{l:()=>k});var r=i(28294),a=i(49584),o=i(23249);class l extends Error{args;constructor(e){super(e.message),this.args=e}}class d extends Error{args;constructor(e){super(e.message),this.args=e}}class p extends Error{args;constructor(e){super(`Job ${e.job.id} was cancelled`),this.args=e}}var c=i(84267);function u(e,t){return async i=>{let r=await (0,c.g)({id:e.id,data:i,depth:t.payload.config.jobs.depth,disableTransaction:!0,req:t});if(!r)return e;for(let t in r)if("log"===t)for(let t of r?.log??[])e.log&&e.log.some(e=>e.id===t.id)||(e.log??=[]).push(t);else e[t]=r[t];if(r?.error?.cancelled)throw new p({job:e});return r}}var h=i(4633),m=i(40954);function g({retriesConfig:e,totalTried:t}){let i=new Date;if("object"==typeof e&&e.backoff){if("fixed"===e.backoff.type)i=e.backoff.delay?new Date(new Date().getTime()+e.backoff.delay):new Date;else if("exponential"===e.backoff.type){let r=e.backoff.delay?e.backoff.delay:0;i=new Date(new Date().getTime()+Math.pow(2,t)*r)}}return i}function y({job:e,retriesConfig:t}){let i="object"==typeof t?t.attempts:t;return null!=i&&e.totalTried>=i?{hasFinalError:!0,maxWorkflowRetries:i}:t?{hasFinalError:!1,maxWorkflowRetries:i,waitUntil:g({retriesConfig:t,totalTried:e.totalTried??0})}:{hasFinalError:!1,maxWorkflowRetries:void 0,waitUntil:void 0}}let v=m.default||m;async function b({error:e,req:t,updateJob:i}){let{executedAt:r,input:a,job:o,output:l,parent:d,retriesConfig:p,taskConfig:c,taskID:u,taskSlug:h,taskStatus:m,workflowConfig:b}=e.args;c?.onFail&&await c.onFail();let w={name:e.name,cancelled:!!("cancelled"in e&&e.cancelled),message:e.message,stack:e.stack},_=new Date;(o.log??=[]).push({id:new v().toHexString(),completedAt:_.toISOString(),error:w,executedAt:r.toISOString(),input:a,output:l??{},parent:t.payload.config.jobs.addParentToTaskLog?d:void 0,state:"failed",taskID:u,taskSlug:h}),o.waitUntil&&new Date(o.waitUntil)<_&&delete o.waitUntil;let x=0;if(x=p?.attempts===void 0||p?.attempts===null?void 0!==b.retries&&null!==b.retries?"object"==typeof b.retries?"number"==typeof b.retries.attempts?b.retries.attempts:0:b.retries:0:p.attempts,!m?.complete&&(m?.totalTried??0)>=x)return await i({error:w,hasError:!0,log:o.log,processing:!1,totalTried:(o.totalTried??0)+1,waitUntil:o.waitUntil}),t.payload.logger.error({err:e,job:o,msg:`Error running task ${u}. Attempt ${o.totalTried} - max retries reached`,taskSlug:h}),{hasFinalError:!0};let S=g({retriesConfig:p,totalTried:m?.totalTried??0});(!o.waitUntil||S>new Date(o.waitUntil))&&(o.waitUntil=S.toISOString());let{hasFinalError:E,maxWorkflowRetries:k,waitUntil:T}=y({job:o,retriesConfig:b.retries});return t.payload.logger.error({err:e,job:o,msg:`Error running task ${u}. Attempt ${o.totalTried+1}${void 0!==k?"/"+(k+1):""}`,taskSlug:h}),T&&(!o.waitUntil||T>new Date(o.waitUntil))&&(o.waitUntil=T.toISOString()),await i({error:E?w:void 0,hasError:E,log:o.log,processing:!1,totalTried:(o.totalTried??0)+1,waitUntil:o.waitUntil}),{hasFinalError:E}}async function w({error:e,req:t,updateJob:i}){let{job:r,workflowConfig:a}=e.args,o={name:e.name,cancelled:!!("cancelled"in e&&e.cancelled),message:e.message,stack:e.stack},{hasFinalError:l,maxWorkflowRetries:d,waitUntil:p}=y({job:r,retriesConfig:a.retries});!l&&(r.waitUntil&&new Date(r.waitUntil)<new Date&&delete r.waitUntil,p&&(!r.waitUntil||p>new Date(r.waitUntil))&&(r.waitUntil=p.toISOString()));let c=r.workflowSlug||`Task: ${r.taskSlug}`;return t.payload.logger.error({err:e,msg:`Error running job ${c} id: ${r.id} attempt ${r.totalTried+1}${void 0!==d?"/"+(d+1):""}`}),await i({error:o,hasError:l,log:r.log,processing:!1,totalTried:(r.totalTried??0)+1,waitUntil:r.waitUntil}),{hasFinalError:l}}let _=m.default||m,x=(e,t,i,r,a,o)=>{let d=i.payload.config.jobs,p=p=>async(c,{input:u,retries:m,task:g})=>{let y,v;let b=new Date;if(!r&&!(y=d.tasks?.length&&d.tasks.find(e=>e.slug===p)))throw Error(`Task ${p} not found in workflow ${e.workflowSlug}`);let w=void 0==m||null==m?{}:"number"==typeof m?{attempts:m}:m,S={...y?"number"==typeof y.retries?{attempts:y.retries}:y.retries:{},...w},E=e?.taskStatus?.[p]?e.taskStatus[p][c]:null;if(E&&!0===E.complete){let t=!0;if(S?.shouldRestore===!1?t=!1:"function"==typeof S?.shouldRestore&&(t=await S.shouldRestore({input:u,job:e,req:i,taskStatus:E})),t)return E.output}let k=r?g:await (0,h.V)(y);if(!k||"function"!=typeof k)throw new l({executedAt:b,input:u,job:e,message:r?`Inline task with ID ${c} does not have a valid handler.`:`Task with slug ${p} in workflow ${e.workflowSlug} does not have a valid handler.`,parent:o,retriesConfig:S,taskConfig:y,taskID:c,taskSlug:p,taskStatus:E,workflowConfig:t});let T={};try{v=await k({inlineTask:x(e,t,i,!0,a,{taskID:c,taskSlug:p}),input:u,job:e,req:i,tasks:x(e,t,i,!1,a,{taskID:c,taskSlug:p})})}catch(i){throw new l({executedAt:b,input:u,job:e,message:i.message||"Task handler threw an error",output:T,parent:o,retriesConfig:S,taskConfig:y,taskID:c,taskSlug:p,taskStatus:E,workflowConfig:t})}if("failed"===v.state)throw new l({executedAt:b,input:u,job:e,message:v.errorMessage??"Task handler returned a failed state",output:T,parent:o,retriesConfig:S,taskConfig:y,taskID:c,taskSlug:p,taskStatus:E,workflowConfig:t});return T=v.output,y?.onSuccess&&await y.onSuccess(),(e.log??=[]).push({id:new _().toHexString(),completedAt:new Date().toISOString(),executedAt:b.toISOString(),input:u,output:T,parent:d.addParentToTaskLog?o:void 0,state:"succeeded",taskID:c,taskSlug:p}),await a({log:e.log}),T};if(r)return p("inline");{let e={};for(let t of d.tasks??[])e[t.slug]=p(t.slug);return e}},S=async({job:e,req:t,updateJob:i,workflowConfig:r,workflowHandler:a})=>{try{await a({inlineTask:x(e,r,t,!0,i),job:e,req:t,tasks:x(e,r,t,!1,i)})}catch(o){if(o instanceof p)throw o;if(o instanceof l){let{hasFinalError:e}=await b({error:o,req:t,updateJob:i});return{status:e?"error-reached-max-retries":"error"}}let{hasFinalError:a}=await w({error:o instanceof d?o:new d({job:e,message:"object"==typeof o&&o&&"message"in o?o.message:"An unhandled error occurred",workflowConfig:r}),req:t,updateJob:i});return{status:a?"error-reached-max-retries":"error"}}return await i({completedAt:new Date().toISOString(),log:e.log,processing:!1,totalTried:(e.totalTried??0)+1}),{status:"success"}},E=async({job:e,req:t,updateJob:i,workflowConfig:r,workflowHandler:a})=>{let o=[];for(let t of a){if("task"in t){if(e?.taskStatus?.[t.task]?.[t.id]?.complete)continue}else if(e?.taskStatus?.inline?.[t.id]?.complete)continue;(!t.condition||t.condition({job:e}))&&o.push(t)}let l=x(e,r,t,!1,i),p=x(e,r,t,!0,i);try{await Promise.all(o.map(async t=>{"task"in t?await l[t.task](t.id,{input:t.input?t.input({job:e}):{},retries:t.retries}):await p(t.id,{retries:t.retries,task:t.inlineTask})}))}catch(o){let{hasFinalError:a}=await w({error:o instanceof d?o:new d({job:e,message:"object"==typeof o&&o&&"message"in o?o.message:"An unhandled error occurred",workflowConfig:r}),req:t,updateJob:i});return{status:a?"error-reached-max-retries":"error"}}let c=!1;for(let[t,i]of Object.entries(e.taskStatus))for(let[e,r]of Object.entries(i))if(r.complete){let i=a.find(i=>"task"in i?i.task===t&&i.id===e:i.id===e&&"inline"===t);if(i?.completesJob){c=!0;break}}return c?(await i({completedAt:new Date().toISOString(),processing:!1,totalTried:(e.totalTried??0)+1}),{status:"success"}):await E({job:e,req:t,updateJob:i,workflowConfig:r,workflowHandler:a})},k=async e=>{let{id:t,allQueues:i=!1,limit:l=10,overrideAccess:d,processingOrder:m,queue:g="default",req:y,req:{payload:v,payload:{config:{jobs:b}}},sequential:w,where:_}=e;if(!d){let e=b?.access?.run??(()=>!0);if(!await e({req:y}))throw new r.r(y.t)}let x=[{completedAt:{exists:!1}},{hasError:{not_equals:!0}},{processing:{equals:!1}},{or:[{waitUntil:{exists:!1}},{waitUntil:{less_than:new Date().toISOString()}}]}];!0!==i&&x.push({queue:{equals:g??"default"}}),_&&x.push(_);let k=[];if(t){let e=await (0,c.g)({id:t,data:{processing:!0},depth:b.depth,disableTransaction:!0,req:y,returning:!0});e&&(k=[e])}else{let t=v.collections[o.WG]?.config.defaultSort??"createdAt",r=b.processingOrder;"function"==typeof r?t=await r(e):"object"!=typeof r||Array.isArray(r)?"string"==typeof r&&(t=r):!i&&g&&r.queues&&r.queues[g]?t=r.queues[g]:r.default&&(t=r.default);let a=await (0,c.n)({data:{processing:!0},depth:b.depth,disableTransaction:!0,limit:l,req:y,returning:!0,sort:m??t,where:{and:x}});a&&(k=a)}let{existingJobs:T,newJobs:C}=k.reduce((e,t)=>(t.totalTried>0?e.existingJobs.push(t):e.newJobs.push(t),e),{existingJobs:[],newJobs:[]});if(!k.length)return{noJobsRemaining:!0,remainingJobsFromQueried:0};v.logger.info({msg:`Running ${k.length} jobs.`,new:C?.length,retrying:T?.length});let N=[],O=async e=>{if(!e.workflowSlug&&!e.taskSlug)throw Error("Job must have either a workflowSlug or a taskSlug");let t=(0,a.O)(y,"transactionID"),i=e.workflowSlug&&b.workflows?.length?b.workflows.find(({slug:t})=>t===e.workflowSlug):{slug:"singleTask",handler:async({job:e,tasks:t})=>{await t[e.taskSlug]("1",{input:e.input})}};if(!i)return{id:e.id,result:{status:"error"}};try{let r;let a=u(e,t);if("function"==typeof i.handler||"object"==typeof i.handler&&Array.isArray(i.handler))r=i.handler;else if(!(r=await (0,h.a)(i.handler))){let t=e.workflowSlug||`Task: ${e.taskSlug}`,r=`Can't find runner while importing with the path ${i.handler} in job type ${t}.`;return v.logger.error(r),await a({error:{error:r},hasError:!0,processing:!1}),{id:e.id,result:{status:"error-reached-max-retries"}}}if("function"==typeof r){let o=await S({job:e,req:t,updateJob:a,workflowConfig:i,workflowHandler:r});return"success"===o.status&&N.push(e.id),{id:e.id,result:o}}{let o=await E({job:e,req:t,updateJob:a,workflowConfig:i,workflowHandler:r});return"success"===o.status&&N.push(e.id),{id:e.id,result:o}}}catch(t){if(t instanceof p)return{id:e.id,result:{status:"error-reached-max-retries"}};throw t}},P=[];if(w)for(let e of k){let t=await O(e);t&&P.push(t)}else{let e=k.map(O);P=await Promise.all(e)}if(b.deleteJobOnComplete&&N.length)try{b.runHooks?await v.delete({collection:o.WG,depth:0,disableTransaction:!0,where:{id:{in:N}}}):await v.db.deleteMany({collection:o.WG,where:{id:{in:N}}})}catch(e){v.logger.error({err:e,msg:`Failed to delete jobs ${N.join(", ")} on complete`})}let I=P.reduce((e,t)=>(null!==t&&(e[t.id]=t.result),e),{}),L=0;for(let e in I){let t=I[e];t?.status==="error"&&L++}return{jobStatus:I,remainingJobsFromQueried:L}}},4633:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>getTaskHandlerFromConfig,a:()=>importHandlerPath});var url__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(57310);async function importHandlerPath(path){let runner,runnerModule;let[runnerPath,runnerImportName]=path.split("#");try{runnerModule="function"==typeof require?await eval(`require('${runnerPath.replaceAll("\\","/")}')`):await eval(`import('${(0,url__WEBPACK_IMPORTED_MODULE_0__.pathToFileURL)(runnerPath).href}')`)}catch(e){throw Error(`Error importing job queue handler module for path ${path}. This is an advanced feature that may require a sophisticated build pipeline, especially when using it in production or within Next.js, e.g. by calling opening the /api/payload-jobs/run endpoint. You will have to transpile the handler files separately and ensure they are available in the same location when the job is run. If you're using an endpoint to execute your jobs, it's recommended to define your handlers as functions directly in your Payload Config, or use import paths handlers outside of Next.js. Import Error: 
${e instanceof Error?e.message:"Unknown error"}`)}return runnerImportName&&runnerModule[runnerImportName]&&(runner=runnerModule[runnerImportName]),!runner&&runnerModule.default&&(runner=runnerModule.default),runner||(runner=runnerModule),runner}async function getTaskHandlerFromConfig(e){if(!e)throw Error("Task config is required to get the task handler");return"function"==typeof e.handler?e.handler:await importHandlerPath(e.handler)}},84267:(e,t,i)=>{"use strict";i.d(t,{g:()=>a,n:()=>o});var r=i(23249);async function a(e){let t=await o(e);if(t)return t[0]}async function o({id:e,data:t,depth:i,disableTransaction:a,limit:o,req:l,returning:d,sort:p,where:c}){let u=e?1:o,h=e?{id:{equals:e}}:c;if(i||l.payload.config?.jobs?.runHooks){let o=await l.payload.update({id:e,collection:r.WG,data:t,depth:i,disableTransaction:a,limit:u,req:l,where:h});return!1!==d&&o?o.docs:null}let m={transactionID:"mongoose"!==l.payload.db.name?await l.payload.db.beginTransaction():void 0},g=e?{id:e,data:t,req:m,returning:d}:{data:t,limit:u,req:m,returning:d,sort:p,where:h},y=await l.payload.db.updateJobs(g);return("mongoose"!==l.payload.db.name&&m.transactionID&&await l.payload.db.commitTransaction(m.transactionID),!1!==d&&y?.length)?y.map(e=>(0,r.zY)({config:l.payload.config,doc:e})):null}},88105:(e,t,i)=>{"use strict";i.d(t,{B:()=>r});let r=new Set(["equals","contains","not_equals","in","all","not_in","exists","greater_than","greater_than_equal","less_than","less_than_equal","like","not_like","within","intersects","near"])},39241:(e,t,i)=>{"use strict";i.d(t,{H:()=>c});var r=i(73292),a=i(94894),o=i(53064),l=i(71207);class d extends l.H{constructor(e){super(e?e("error:deletingFile"):a.en.translations.error.deletingFile,o.i.INTERNAL_SERVER_ERROR)}}var p=i(90386);let c=async({collectionConfig:e,doc:t,files:i=[],overrideDelete:a,req:o})=>{if(e.upload&&(a||i.length>0)){let{staticDir:i}=e.upload,a=`${i}/${t.filename}`;try{await (0,p.k)(a)&&await r.unlink(a)}catch(e){throw new d(o.t)}if(t.sizes)for(let e of Object.values(t.sizes)){let t=`${i}/${e.filename}`;try{await (0,p.k)(t)&&await r.unlink(t)}catch(e){throw new d(o.t)}}}}},90386:(e,t,i)=>{"use strict";i.d(t,{k:()=>a});var r=i(73292);let a=async e=>{try{return await r.stat(e),!0}catch(e){return!1}}},97989:(e,t,i)=>{"use strict";i.d(t,{q:()=>rg});var r=i(30856),a=i(73292),o=i(21139),l=i(28294),d=i(53064),p=i(71207);class c extends p.H{constructor(e,t){let i=e?e("error:problemUploadingFile"):"There was a problem while retrieving the file.";t&&(i+=` ${t}`),super(i,d.i.INTERNAL_SERVER_ERROR)}}var u=i(94894);class h extends p.H{constructor(e){super(e?e("error:noFilesUploaded"):u.en.translations.error.noFilesUploaded,d.i.BAD_REQUEST)}}var m=i(19165);function g(e){return["image/jpeg","image/png","image/gif","image/webp","image/tiff","image/avif"].indexOf(e)>-1}var y=i(96497),v=i(34830);let b=[{extensions:["exe","dll"],mimeType:"application/x-msdownload"},{extensions:["exe","com","app","action"],mimeType:"application/x-executable"},{extensions:["bat","cmd"],mimeType:"application/x-msdos-program"},{extensions:["exe","com"],mimeType:"application/x-ms-dos-executable"},{extensions:["dmg"],mimeType:"application/x-apple-diskimage"},{extensions:["deb"],mimeType:"application/x-debian-package"},{extensions:["rpm"],mimeType:"application/x-redhat-package-manager"},{extensions:["exe","dll"],mimeType:"application/vnd.microsoft.portable-executable"},{extensions:["msi"],mimeType:"application/x-msi"},{extensions:["jar","ear","war"],mimeType:"application/java-archive"},{extensions:["desktop"],mimeType:"application/x-desktop"},{extensions:["cpl"],mimeType:"application/x-cpl"},{extensions:["lnk"],mimeType:"application/x-ms-shortcut"},{extensions:["pkg"],mimeType:"application/x-apple-installer"},{extensions:["htm","html","shtml","xhtml"],mimeType:"text/html"},{extensions:["php","phtml"],mimeType:"application/x-httpd-php"},{extensions:["js","jse"],mimeType:"text/javascript"},{extensions:["jsp"],mimeType:"application/x-jsp"},{extensions:["py"],mimeType:"text/x-python"},{extensions:["rb"],mimeType:"text/x-ruby"},{extensions:["pl"],mimeType:"text/x-perl"},{extensions:["ps1","psc1","psd1","psh","psm1"],mimeType:"application/x-powershell"},{extensions:["vbe","vbs"],mimeType:"application/x-vbscript"},{extensions:["ws","wsc","wsf","wsh"],mimeType:"application/x-ms-wsh"},{extensions:["scr"],mimeType:"application/x-msdownload"},{extensions:["asp","aspx"],mimeType:"application/x-asp"},{extensions:["hta"],mimeType:"application/x-hta"},{extensions:["reg"],mimeType:"application/x-registry"},{extensions:["url"],mimeType:"application/x-url"},{extensions:["workflow"],mimeType:"application/x-workflow"},{extensions:["command"],mimeType:"application/x-command"}],w=async({collection:e,file:t,req:i})=>{let a=[],{upload:o}=e,l=o&&"object"==typeof o&&"mimeTypes"in o&&Array.isArray(o.mimeTypes)?o.mimeTypes:[];if(!o||"object"!=typeof o||!("allowRestrictedFileTypes"in o)||!o.allowRestrictedFileTypes){if(l.length>0){let e=await (0,r.pM)(t.data),i=e?.mime&&(0,v.b)(e.mime,l);e&&!i&&a.push(`Invalid MIME type: ${e.mime}.`)}else b.some(e=>{let i=e.extensions.some(e=>t.name.toLowerCase().endsWith(e)),r=e.mimeType===t.mimetype;return i||r})&&a.push(`File type '${t.mimetype}' not allowed ${t.name}: Restricted file type detected -- set 'allowRestrictedFileTypes' to true to skip this check for this Collection.`);if(a.length>0)throw i.payload.logger.error(a.join(", ")),new y.p({errors:[{message:a.join(", "),path:"file"}]})}};async function _({req:e,sharpFile:t,withMetadata:i}){let r=await t.metadata();return!0===i?t.withMetadata():"function"==typeof i&&await i({metadata:r,req:e})?t.withMetadata():t}let x=(e,t)=>Math.floor(e/100*t);async function S({cropData:e,dimensions:t,file:i,heightInPixels:r,req:a,sharp:o,widthInPixels:l,withMetadata:d}){try{let{x:p,y:c}=e,u=i,h=["image/avif","image/gif","image/webp"].includes(u.mimetype),m={};h&&(m.animated=!0);let{height:g,width:y}=t,v=Number(l),b=Number(r);if(!(y!==v||g!==b)){let e=g;if(h){let t=await o(u.tempFilePath||u.data,m).metadata();e=t.pages?t.height:g}return{data:u.data,info:{height:e,size:u.size,width:y}}}let w={height:Number(r),left:x(p,t.width),top:x(c,t.height),width:Number(l)},S=o(u.tempFilePath||u.data,m).extract(w);return S=await _({req:a,sharpFile:S,withMetadata:d}),await S.toBuffer({resolveWithObject:!0})}catch(e){throw console.error("Error cropping image:",e),e}}var E=i(88863),k=i(9523),T=i(57803),C=i(71396);let N={lookup:k.lookup},O=e=>{try{if(!e||!T.isValid(e))return!1;let t=T.parse(e).range();if("unicast"!==t)return!1}catch(e){return!1}return!0},P=(e,t,i)=>{N.lookup(e,t,(t,r,a)=>{if(t)i(t,r,a);else{let t=[];if((t=Array.isArray(r)?r.map(e=>e.address):[r]).some(e=>!O(e))){i(Error(`Blocked unsafe attempt to ${e}`),r,a);return}i(null,r,a)}})},I=new C.Agent({connect:{lookup:P}}),L=async(...e)=>{let[t,i]=e;try{let e=new URL(t),r=e.hostname;if(r.startsWith("[")&&r.endsWith("]")&&(r=r.slice(1,-1)),T.isValid(r)&&!O(r))throw Error(`Blocked unsafe attempt to ${r}`);return await (0,C.fetch)(e,{...i,dispatcher:I})}catch(e){if(e instanceof Error){if(e.cause instanceof Error&&e.cause.message.includes("unsafe"))throw Error(e.cause.message);{let i;throw"string"==typeof t?i=t:t instanceof URL?i=t.toString():t instanceof Request&&(i=t.url),Error(`Failed to fetch from ${i}, ${e.message}`)}}throw e}},D=async({data:e,req:t,uploadConfig:i})=>{let{filename:r,url:a}=e;if("string"==typeof a){let e,o=a;if(!a.startsWith("http")){let e=t.headers.get("origin")||`${t.protocol}://${t.headers.get("host")}`;o=`${e}${a}`}let l=i.externalFileHeaderFilter?i.externalFileHeaderFilter(Object.fromEntries(new Headers(t.headers))):{cookie:t.headers.get("cookie")},d=!0===i.skipSafeFetch?i.skipSafeFetch:Array.isArray(i.skipSafeFetch)&&(0,E.E)(o,i.skipSafeFetch),c=i.pasteURL&&i.pasteURL.allowList&&(0,E.E)(o,i.pasteURL.allowList);if(!(e=d||c?await fetch(o,{credentials:"include",headers:l,method:"GET"}):await L(o,{credentials:"include",headers:l,method:"GET"})).ok)throw new p.H(`Failed to fetch file from ${o}`,e.status);let u=await e.arrayBuffer();return{name:r,data:Buffer.from(u),mimetype:e.headers.get("content-type")||void 0,size:Number(e.headers.get("content-length"))||0}}throw new p.H("Invalid file url",400)};var R=i(96379),$=new TextDecoder,j=(e,t=0,i=e.length)=>$.decode(e.slice(t,i)),M=(e,t=0,i=e.length)=>e.slice(t,i).reduce((e,t)=>e+`0${t.toString(16)}`.slice(-2),""),U=(e,t)=>new DataView(e.buffer,e.byteOffset+t),F=(e,t=0)=>U(e,t).getInt16(0,!0),B=(e,t=0)=>U(e,t).getUint16(0,!1),z=(e,t=0)=>U(e,t).getUint16(0,!0),q=(e,t=0)=>{let i=U(e,t);return i.getUint16(0,!0)+(i.getUint8(2)<<16)},V=(e,t=0)=>U(e,t).getInt32(0,!0),H=(e,t=0)=>U(e,t).getUint32(0,!1),W=(e,t=0)=>U(e,t).getUint32(0,!0),G=(e,t,i)=>U(e,t).getBigUint64(0,!i),K={readUInt16BE:B,readUInt16LE:z,readUInt32BE:H,readUInt32LE:W};function J(e,t,i=0,r=!1){let a=r?"BE":"LE";return K[`readUInt${t}${a}`](e,i)}function Q(e,t){if(e.length-t<4)return;let i=H(e,t);if(!(e.length-t<i))return{name:j(e,4+t,8+t),offset:t,size:i}}function Y(e,t,i){for(;i<e.length;){let r=Q(e,i);if(!r)break;if(r.name===t)return r;i+=r.size>0?r.size:8}}var Z={validate:e=>"BM"===j(e,0,2),calculate:e=>({height:Math.abs(V(e,22)),width:W(e,18)})},X=1,ee=6,et=16;function ei(e,t){let i=e[t];return 0===i?256:i}function er(e,t){let i=ee+t*et;return{height:ei(e,i+1),width:ei(e,i)}}var ea={validate(e){let t=z(e,0),i=z(e,4);return 0===t&&0!==i&&z(e,2)===X},calculate(e){let t=z(e,4),i=er(e,0);if(1===t)return i;let r=[];for(let i=0;i<t;i+=1)r.push(er(e,i));return{width:i.width,height:i.height,images:r}}},en=2,es={validate(e){let t=z(e,0),i=z(e,4);return 0===t&&0!==i&&z(e,2)===en},calculate:e=>ea.calculate(e)},eo={validate:e=>542327876===W(e,0),calculate:e=>({height:W(e,12),width:W(e,16)})},el=/^GIF8[79]a/,ed={validate:e=>el.test(j(e,0,6)),calculate:e=>({height:z(e,8),width:z(e,6)})},ep={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},ec={validate(e){if("ftyp"!==j(e,4,8))return!1;let t=Y(e,"ftyp",0);return!!t&&j(e,t.offset+8,t.offset+12) in ep},calculate(e){let t=Y(e,"meta",0),i=t&&Y(e,"iprp",t.offset+12),r=i&&Y(e,"ipco",i.offset+8);if(!r)throw TypeError("Invalid HEIF, no ipco box found");let a=j(e,8,12),o=[],l=r.offset+8;for(;l<r.offset+r.size;){let t=Y(e,"ispe",l);if(!t)break;let i=H(e,t.offset+12),a=H(e,t.offset+16),d=Y(e,"clap",l),p=i,c=a;d&&d.offset<r.offset+r.size&&(p=i-H(e,d.offset+12)),o.push({height:c,width:p}),l=t.offset+t.size}if(0===o.length)throw TypeError("Invalid HEIF, no sizes found");return{width:o[0].width,height:o[0].height,type:a,...o.length>1?{images:o}:{}}}},eu=8,eh=4,ef=4,em={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function eg(e,t){let i=t+ef;return[j(e,t,i),H(e,i)]}function ey(e){let t=em[e];return{width:t,height:t,type:e}}var ev={validate:e=>"icns"===j(e,0,4),calculate(e){let t=e.length,i=H(e,eh),r=eu,a=[];for(;r<i&&r<t;){let t=eg(e,r),i=ey(t[0]);a.push(i),r+=t[1]}if(0===a.length)throw TypeError("Invalid ICNS, no sizes found");return{width:a[0].width,height:a[0].height,...a.length>1?{images:a}:{}}}},eb={validate:e=>4283432785===H(e,0),calculate:e=>({height:H(e,12),width:H(e,8)})},ew={validate(e){if("jP  "!==j(e,4,8))return!1;let t=Y(e,"ftyp",0);return!!t&&"jp2 "===j(e,t.offset+8,t.offset+12)},calculate(e){let t=Y(e,"jp2h",0),i=t&&Y(e,"ihdr",t.offset+8);if(i)return{height:H(e,i.offset+8),width:H(e,i.offset+12)};throw TypeError("Unsupported JPEG 2000 format")}},e_="45786966",ex=2,eS=6,eE=2,ek="4d4d",eT="4949",eA=12,eC=2;function eN(e){return M(e,2,6)===e_}function eO(e,t){return{height:B(e,t),width:B(e,t+2)}}function eP(e,t){let i=eS+8,r=J(e,16,i,t);for(let a=0;a<r;a++){let r=i+eC+a*eA,o=r+eA;if(r>e.length)return;let l=e.slice(r,o);if(274===J(l,16,0,t)){if(3!==J(l,16,2,t)||1!==J(l,32,4,t))return;return J(l,16,8,t)}}}function eI(e,t){let i=e.slice(ex,t),r=M(i,eS,eS+eE),a=r===ek,o=r===eT;if(a||o)return eP(i,a)}function eL(e,t){if(t>e.length)throw TypeError("Corrupt JPG, exceeded buffer limits")}var eD={validate:e=>"ffd8"===M(e,0,2),calculate(e){let t,i,r=e.slice(4);for(;r.length;){let e=B(r,0);if(eL(r,e),255!==r[e]){r=r.slice(1);continue}if(eN(r)&&(t=eI(r,e)),192===(i=r[e+1])||193===i||194===i){let i=eO(r,e+5);if(!t)return i;return{height:i.height,orientation:t,width:i.width}}r=r.slice(e+2)}throw TypeError("Invalid JPG, no size found")}},eR=class{constructor(e,t){this.input=e,this.endianness=t,this.byteOffset=2,this.bitOffset=0}getBits(e=1){let t=0,i=0;for(;i<e;){if(this.byteOffset>=this.input.length)throw Error("Reached end of input");let r=this.input[this.byteOffset],a=Math.min(e-i,8-this.bitOffset);if("little-endian"===this.endianness){let e=(1<<a)-1;t|=(r>>this.bitOffset&e)<<i}else{let e=(r&(1<<a)-1<<8-this.bitOffset-a)>>8-this.bitOffset-a;t=t<<a|e}i+=a,this.bitOffset+=a,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return t}};function e$(e,t){if(t)return 8*(1+e.getBits(5));let i=[9,13,18,30][e.getBits(2)];return 1+e.getBits(i)}function ej(e,t,i,r){return t&&0===i?8*(1+e.getBits(5)):0===i?e$(e,!1):Math.floor(r*[1,1.2,4/3,1.5,16/9,5/4,2][i-1])}var eM={validate:e=>"ff0a"===M(e,0,2),calculate(e){let t=new eR(e,"little-endian"),i=1===t.getBits(1),r=e$(t,i),a=t.getBits(3);return{width:ej(t,i,a,r),height:r}}};function eU(e){let t=Y(e,"jxlc",0);if(t)return e.slice(t.offset+8,t.offset+t.size);let i=eF(e);if(i.length>0)return eB(i)}function eF(e){let t=[],i=0;for(;i<e.length;){let r=Y(e,"jxlp",i);if(!r)break;t.push(e.slice(r.offset+12,r.offset+r.size)),i=r.offset+r.size}return t}function eB(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),i=0;for(let r of e)t.set(r,i),i+=r.length;return t}var ez={validate:e=>{if("JXL "!==j(e,4,8))return!1;let t=Y(e,"ftyp",0);return!!t&&"jxl "===j(e,t.offset+8,t.offset+12)},calculate(e){let t=eU(e);if(t)return eM.calculate(t);throw Error("No codestream found in JXL container")}},eq={validate:e=>["KTX 11","KTX 20"].includes(j(e,1,7)),calculate:e=>{let t=49===e[5]?"ktx":"ktx2",i="ktx"===t?36:20;return{height:W(e,i+4),width:W(e,i),type:t}}},eV="PNG\r\n\x1a\n",eH="IHDR",eW="CgBI",eG={validate(e){if(eV===j(e,1,8)){let t=j(e,12,16);if(t===eW&&(t=j(e,28,32)),t!==eH)throw TypeError("Invalid PNG");return!0}return!1},calculate:e=>j(e,12,16)===eW?{height:H(e,36),width:H(e,32)}:{height:H(e,20),width:H(e,16)}},eK={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},eJ={default:e=>{let t=[];for(;e.length>0;){let i=e.shift();if("#"!==i[0]){t=i.split(" ");break}}if(2===t.length)return{height:Number.parseInt(t[1],10),width:Number.parseInt(t[0],10)};throw TypeError("Invalid PNM")},pam:e=>{let t={};for(;e.length>0;){let i=e.shift();if(i.length>16||i.charCodeAt(0)>128)continue;let[r,a]=i.split(" ");if(r&&a&&(t[r.toLowerCase()]=Number.parseInt(a,10)),t.height&&t.width)break}if(t.height&&t.width)return{height:t.height,width:t.width};throw TypeError("Invalid PAM")}},eQ={validate:e=>j(e,0,2) in eK,calculate(e){let t=eK[j(e,0,2)],i=j(e,3).split(/[\r\n]+/);return(eJ[t]||eJ.default)(i)}},eY={validate:e=>"8BPS"===j(e,0,4),calculate:e=>({height:H(e,14),width:H(e,18)})},eZ=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,eX={height:/\sheight=(['"])([^%]+?)\1/,root:eZ,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},e1={in:96,cm:37.79527559055118,em:16,ex:8,m:37.79527559055118*100,mm:37.79527559055118/10,pc:96/72/12,pt:96/72,px:1},e0=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(e1).join("|")})?$`);function e2(e){let t=e0.exec(e);if(t)return Math.round(Number(t[1])*(e1[t[2]]||1))}function e6(e){let t=e.split(" ");return{height:e2(t[3]),width:e2(t[2])}}function e4(e){let t=e.match(eX.width),i=e.match(eX.height),r=e.match(eX.viewbox);return{height:i&&e2(i[2]),viewbox:r&&e6(r[2]),width:t&&e2(t[2])}}function e3(e){return{height:e.height,width:e.width}}function e5(e,t){let i=t.width/t.height;return e.width?{height:Math.floor(e.width/i),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*i)}:{height:t.height,width:t.width}}var e8={validate:e=>eZ.test(j(e,0,1e3)),calculate(e){let t=j(e).match(eX.root);if(t){let e=e4(t[0]);if(e.width&&e.height)return e3(e);if(e.viewbox)return e5(e,e.viewbox)}throw TypeError("Invalid SVG")}},e9={validate:e=>0===z(e,0)&&0===z(e,4),calculate:e=>({height:z(e,14),width:z(e,12)})},e7={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function te(e,{isBigEndian:t,isBigTiff:i}){let r=i?Number(G(e,8,t)):J(e,32,4,t),a=i?e7.COUNT_SIZE.BIG:e7.COUNT_SIZE.STANDARD;return e.slice(r+a)}function tt(e,t,i,r){switch(t){case e7.TYPE.SHORT:return J(e,16,i,r);case e7.TYPE.LONG:return J(e,32,i,r);case e7.TYPE.LONG8:{let t=Number(G(e,i,r));if(t>Number.MAX_SAFE_INTEGER)throw TypeError("Value too large");return t}default:return 0}}function ti(e,t){let i=t?e7.ENTRY_SIZE.BIG:e7.ENTRY_SIZE.STANDARD;if(e.length>i)return e.slice(i)}function tr(e,{isBigEndian:t,isBigTiff:i}){let r={},a=e;for(;a?.length;){let e=J(a,16,0,t),o=J(a,16,2,t),l=i?Number(G(a,4,t)):J(a,32,4,t);if(0===e)break;if(1===l&&(o===e7.TYPE.SHORT||o===e7.TYPE.LONG||i&&o===e7.TYPE.LONG8)){let l=i?12:8;r[e]=tt(a,o,l,t)}a=ti(a,i)}return r}function ta(e){let t=j(e,0,2),i=J(e,16,2,"MM"===t);return{isBigEndian:"MM"===t,isBigTiff:43===i}}function tn(e,t){let i=J(e,16,4,t),r=J(e,16,6,t);if(8!==i||0!==r)throw TypeError("Invalid BigTIFF header")}var ts=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]);function to(e){return{height:1+q(e,7),width:1+q(e,4)}}function tl(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}function td(e){return{height:16383&F(e,8),width:16383&F(e,6)}}var tp=new Map([["bmp",Z],["cur",es],["dds",eo],["gif",ed],["heif",ec],["icns",ev],["ico",ea],["j2c",eb],["jp2",ew],["jpg",eD],["jxl",ez],["jxl-stream",eM],["ktx",eq],["png",eG],["pnm",eQ],["psd",eY],["svg",e8],["tga",e9],["tiff",{validate:e=>{let t=M(e,0,4);return ts.has(t)},calculate(e){let t=ta(e);t.isBigTiff&&tn(e,t.isBigEndian);let i=tr(te(e,t),t),r={height:i[e7.TAG.HEIGHT],width:i[e7.TAG.WIDTH],type:t.isBigTiff?"bigtiff":"tiff"};if(i[e7.TAG.COMPRESSION]&&(r.compression=i[e7.TAG.COMPRESSION]),!r.width||!r.height)throw TypeError("Invalid Tiff. Missing tags");return r}}],["webp",{validate(e){let t="RIFF"===j(e,0,4),i="WEBP"===j(e,8,12),r="VP8"===j(e,12,15);return t&&i&&r},calculate(e){let t=j(e,12,16),i=e.slice(20,30);if("VP8X"===t){let e=i[0],t=(192&e)==0,r=(1&e)==0;if(t&&r)return to(i);throw TypeError("Invalid WebP")}if("VP8 "===t&&47!==i[0])return td(i);let r=M(i,3,6);if("VP8L"===t&&"9d012a"!==r)return tl(i);throw TypeError("Invalid WebP")}}]]),tc=Array.from(tp.keys()),tu=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);function th(e){let t=e[0],i=tu.get(t);return i&&tp.get(i).validate(e)?i:tc.find(t=>tp.get(t).validate(e))}var tf={disabledTypes:[]};function tm(e){let t=th(e);if(void 0!==t){if(tf.disabledTypes.indexOf(t)>-1)throw TypeError(`disabled file type: ${t}`);let i=tp.get(t).calculate(e);if(void 0!==i){if(i.type=i.type??t,i.images&&i.images.length>1){let e=i.images.reduce((e,t)=>t.width*t.height>e.width*e.height?t:e,i.images[0]);i.width=e.width,i.height=e.height}return i}}throw TypeError(`unsupported file type: ${t}`)}var tg=i(87561),ty=i(49411),tv=new TextDecoder,tb=(e,t=0,i=e.length)=>tv.decode(e.slice(t,i)),tw=(e,t=0,i=e.length)=>e.slice(t,i).reduce((e,t)=>e+`0${t.toString(16)}`.slice(-2),""),t_=(e,t)=>new DataView(e.buffer,e.byteOffset+t),tx=(e,t=0)=>t_(e,t).getInt16(0,!0),tS=(e,t=0)=>t_(e,t).getUint16(0,!1),tE=(e,t=0)=>t_(e,t).getUint16(0,!0),tk=(e,t=0)=>{let i=t_(e,t);return i.getUint16(0,!0)+(i.getUint8(2)<<16)},tT=(e,t=0)=>t_(e,t).getInt32(0,!0),tA=(e,t=0)=>t_(e,t).getUint32(0,!1),tC=(e,t=0)=>t_(e,t).getUint32(0,!0),tN=(e,t,i)=>t_(e,t).getBigUint64(0,!i),tO={readUInt16BE:tS,readUInt16LE:tE,readUInt32BE:tA,readUInt32LE:tC};function tP(e,t,i=0,r=!1){let a=r?"BE":"LE";return tO[`readUInt${t}${a}`](e,i)}function tI(e,t){if(e.length-t<4)return;let i=tA(e,t);if(!(e.length-t<i))return{name:tb(e,4+t,8+t),offset:t,size:i}}function tL(e,t,i){for(;i<e.length;){let r=tI(e,i);if(!r)break;if(r.name===t)return r;i+=r.size>0?r.size:8}}var tD={validate:e=>"BM"===tb(e,0,2),calculate:e=>({height:Math.abs(tT(e,22)),width:tC(e,18)})},tR=1,t$=6,tj=16;function tM(e,t){let i=e[t];return 0===i?256:i}function tU(e,t){let i=t$+t*tj;return{height:tM(e,i+1),width:tM(e,i)}}var tF={validate(e){let t=tE(e,0),i=tE(e,4);return 0===t&&0!==i&&tE(e,2)===tR},calculate(e){let t=tE(e,4),i=tU(e,0);if(1===t)return i;let r=[];for(let i=0;i<t;i+=1)r.push(tU(e,i));return{width:i.width,height:i.height,images:r}}},tB=2,tz={validate(e){let t=tE(e,0),i=tE(e,4);return 0===t&&0!==i&&tE(e,2)===tB},calculate:e=>tF.calculate(e)},tq={validate:e=>542327876===tC(e,0),calculate:e=>({height:tC(e,12),width:tC(e,16)})},tV=/^GIF8[79]a/,tH={validate:e=>tV.test(tb(e,0,6)),calculate:e=>({height:tE(e,8),width:tE(e,6)})},tW={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"},tG={validate(e){if("ftyp"!==tb(e,4,8))return!1;let t=tL(e,"ftyp",0);return!!t&&tb(e,t.offset+8,t.offset+12) in tW},calculate(e){let t=tL(e,"meta",0),i=t&&tL(e,"iprp",t.offset+12),r=i&&tL(e,"ipco",i.offset+8);if(!r)throw TypeError("Invalid HEIF, no ipco box found");let a=tb(e,8,12),o=[],l=r.offset+8;for(;l<r.offset+r.size;){let t=tL(e,"ispe",l);if(!t)break;let i=tA(e,t.offset+12),a=tA(e,t.offset+16),d=tL(e,"clap",l),p=i,c=a;d&&d.offset<r.offset+r.size&&(p=i-tA(e,d.offset+12)),o.push({height:c,width:p}),l=t.offset+t.size}if(0===o.length)throw TypeError("Invalid HEIF, no sizes found");return{width:o[0].width,height:o[0].height,type:a,...o.length>1?{images:o}:{}}}},tK=8,tJ=4,tQ=4,tY={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function tZ(e,t){let i=t+tQ;return[tb(e,t,i),tA(e,i)]}function tX(e){let t=tY[e];return{width:t,height:t,type:e}}var t1={validate:e=>"icns"===tb(e,0,4),calculate(e){let t=e.length,i=tA(e,tJ),r=tK,a=[];for(;r<i&&r<t;){let t=tZ(e,r),i=tX(t[0]);a.push(i),r+=t[1]}if(0===a.length)throw TypeError("Invalid ICNS, no sizes found");return{width:a[0].width,height:a[0].height,...a.length>1?{images:a}:{}}}},t0={validate:e=>4283432785===tA(e,0),calculate:e=>({height:tA(e,12),width:tA(e,8)})},t2={validate(e){if("jP  "!==tb(e,4,8))return!1;let t=tL(e,"ftyp",0);return!!t&&"jp2 "===tb(e,t.offset+8,t.offset+12)},calculate(e){let t=tL(e,"jp2h",0),i=t&&tL(e,"ihdr",t.offset+8);if(i)return{height:tA(e,i.offset+8),width:tA(e,i.offset+12)};throw TypeError("Unsupported JPEG 2000 format")}},t6="45786966",t4=2,t3=6,t5=2,t8="4d4d",t9="4949",t7=12,ie=2;function it(e){return tw(e,2,6)===t6}function ii(e,t){return{height:tS(e,t),width:tS(e,t+2)}}function ir(e,t){let i=t3+8,r=tP(e,16,i,t);for(let a=0;a<r;a++){let r=i+ie+a*t7,o=r+t7;if(r>e.length)return;let l=e.slice(r,o);if(274===tP(l,16,0,t)){if(3!==tP(l,16,2,t)||1!==tP(l,32,4,t))return;return tP(l,16,8,t)}}}function ia(e,t){let i=e.slice(t4,t),r=tw(i,t3,t3+t5),a=r===t8,o=r===t9;if(a||o)return ir(i,a)}function is(e,t){if(t>e.length)throw TypeError("Corrupt JPG, exceeded buffer limits")}var io={validate:e=>"ffd8"===tw(e,0,2),calculate(e){let t,i,r=e.slice(4);for(;r.length;){let e=tS(r,0);if(is(r,e),255!==r[e]){r=r.slice(1);continue}if(it(r)&&(t=ia(r,e)),192===(i=r[e+1])||193===i||194===i){let i=ii(r,e+5);if(!t)return i;return{height:i.height,orientation:t,width:i.width}}r=r.slice(e+2)}throw TypeError("Invalid JPG, no size found")}},il=class{constructor(e,t){this.input=e,this.endianness=t,this.byteOffset=2,this.bitOffset=0}getBits(e=1){let t=0,i=0;for(;i<e;){if(this.byteOffset>=this.input.length)throw Error("Reached end of input");let r=this.input[this.byteOffset],a=Math.min(e-i,8-this.bitOffset);if("little-endian"===this.endianness){let e=(1<<a)-1;t|=(r>>this.bitOffset&e)<<i}else{let e=(r&(1<<a)-1<<8-this.bitOffset-a)>>8-this.bitOffset-a;t=t<<a|e}i+=a,this.bitOffset+=a,8===this.bitOffset&&(this.byteOffset++,this.bitOffset=0)}return t}};function id(e,t){if(t)return 8*(1+e.getBits(5));let i=[9,13,18,30][e.getBits(2)];return 1+e.getBits(i)}function ip(e,t,i,r){return t&&0===i?8*(1+e.getBits(5)):0===i?id(e,!1):Math.floor(r*[1,1.2,4/3,1.5,16/9,5/4,2][i-1])}var ic={validate:e=>"ff0a"===tw(e,0,2),calculate(e){let t=new il(e,"little-endian"),i=1===t.getBits(1),r=id(t,i),a=t.getBits(3);return{width:ip(t,i,a,r),height:r}}};function iu(e){let t=tL(e,"jxlc",0);if(t)return e.slice(t.offset+8,t.offset+t.size);let i=ih(e);if(i.length>0)return im(i)}function ih(e){let t=[],i=0;for(;i<e.length;){let r=tL(e,"jxlp",i);if(!r)break;t.push(e.slice(r.offset+12,r.offset+r.size)),i=r.offset+r.size}return t}function im(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),i=0;for(let r of e)t.set(r,i),i+=r.length;return t}var ig={validate:e=>{if("JXL "!==tb(e,4,8))return!1;let t=tL(e,"ftyp",0);return!!t&&"jxl "===tb(e,t.offset+8,t.offset+12)},calculate(e){let t=iu(e);if(t)return ic.calculate(t);throw Error("No codestream found in JXL container")}},iy={validate:e=>["KTX 11","KTX 20"].includes(tb(e,1,7)),calculate:e=>{let t=49===e[5]?"ktx":"ktx2",i="ktx"===t?36:20;return{height:tC(e,i+4),width:tC(e,i),type:t}}},iv="PNG\r\n\x1a\n",ib="IHDR",iw="CgBI",i_={validate(e){if(iv===tb(e,1,8)){let t=tb(e,12,16);if(t===iw&&(t=tb(e,28,32)),t!==ib)throw TypeError("Invalid PNG");return!0}return!1},calculate:e=>tb(e,12,16)===iw?{height:tA(e,36),width:tA(e,32)}:{height:tA(e,20),width:tA(e,16)}},ix={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},iS={default:e=>{let t=[];for(;e.length>0;){let i=e.shift();if("#"!==i[0]){t=i.split(" ");break}}if(2===t.length)return{height:Number.parseInt(t[1],10),width:Number.parseInt(t[0],10)};throw TypeError("Invalid PNM")},pam:e=>{let t={};for(;e.length>0;){let i=e.shift();if(i.length>16||i.charCodeAt(0)>128)continue;let[r,a]=i.split(" ");if(r&&a&&(t[r.toLowerCase()]=Number.parseInt(a,10)),t.height&&t.width)break}if(t.height&&t.width)return{height:t.height,width:t.width};throw TypeError("Invalid PAM")}},iE={validate:e=>tb(e,0,2) in ix,calculate(e){let t=ix[tb(e,0,2)],i=tb(e,3).split(/[\r\n]+/);return(iS[t]||iS.default)(i)}},ik={validate:e=>"8BPS"===tb(e,0,4),calculate:e=>({height:tA(e,14),width:tA(e,18)})},iT=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,iA={height:/\sheight=(['"])([^%]+?)\1/,root:iT,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},iC={in:96,cm:37.79527559055118,em:16,ex:8,m:3779.5275590551178,mm:3.7795275590551176,pc:96/72/12,pt:96/72,px:1},iN=RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(iC).join("|")})?$`);function iO(e){let t=iN.exec(e);if(t)return Math.round(Number(t[1])*(iC[t[2]]||1))}function iP(e){let t=e.split(" ");return{height:iO(t[3]),width:iO(t[2])}}function iI(e){let t=e.match(iA.width),i=e.match(iA.height),r=e.match(iA.viewbox);return{height:i&&iO(i[2]),viewbox:r&&iP(r[2]),width:t&&iO(t[2])}}function iL(e){return{height:e.height,width:e.width}}function iD(e,t){let i=t.width/t.height;return e.width?{height:Math.floor(e.width/i),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*i)}:{height:t.height,width:t.width}}var iR={validate:e=>iT.test(tb(e,0,1e3)),calculate(e){let t=tb(e).match(iA.root);if(t){let e=iI(t[0]);if(e.width&&e.height)return iL(e);if(e.viewbox)return iD(e,e.viewbox)}throw TypeError("Invalid SVG")}},i$={validate:e=>0===tE(e,0)&&0===tE(e,4),calculate:e=>({height:tE(e,14),width:tE(e,12)})},ij={TAG:{WIDTH:256,HEIGHT:257,COMPRESSION:259},TYPE:{SHORT:3,LONG:4,LONG8:16},ENTRY_SIZE:{STANDARD:12,BIG:20},COUNT_SIZE:{STANDARD:2,BIG:8}};function iM(e,{isBigEndian:t,isBigTiff:i}){let r=i?Number(tN(e,8,t)):tP(e,32,4,t),a=i?ij.COUNT_SIZE.BIG:ij.COUNT_SIZE.STANDARD;return e.slice(r+a)}function iU(e,t,i,r){switch(t){case ij.TYPE.SHORT:return tP(e,16,i,r);case ij.TYPE.LONG:return tP(e,32,i,r);case ij.TYPE.LONG8:{let t=Number(tN(e,i,r));if(t>Number.MAX_SAFE_INTEGER)throw TypeError("Value too large");return t}default:return 0}}function iF(e,t){let i=t?ij.ENTRY_SIZE.BIG:ij.ENTRY_SIZE.STANDARD;if(e.length>i)return e.slice(i)}function iB(e,{isBigEndian:t,isBigTiff:i}){let r={},a=e;for(;a?.length;){let e=tP(a,16,0,t),o=tP(a,16,2,t),l=i?Number(tN(a,4,t)):tP(a,32,4,t);if(0===e)break;if(1===l&&(o===ij.TYPE.SHORT||o===ij.TYPE.LONG||i&&o===ij.TYPE.LONG8)){let l=i?12:8;r[e]=iU(a,o,l,t)}a=iF(a,i)}return r}function iz(e){let t=tb(e,0,2),i=tP(e,16,2,"MM"===t);return{isBigEndian:"MM"===t,isBigTiff:43===i}}function iq(e,t){let i=tP(e,16,4,t),r=tP(e,16,6,t);if(8!==i||0!==r)throw TypeError("Invalid BigTIFF header")}var iV=new Set(["49492a00","4d4d002a","49492b00","4d4d002b"]);function iH(e){return{height:1+tk(e,7),width:1+tk(e,4)}}function iW(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}function iG(e){return{height:16383&tx(e,8),width:16383&tx(e,6)}}var iK=new Map([["bmp",tD],["cur",tz],["dds",tq],["gif",tH],["heif",tG],["icns",t1],["ico",tF],["j2c",t0],["jp2",t2],["jpg",io],["jxl",ig],["jxl-stream",ic],["ktx",iy],["png",i_],["pnm",iE],["psd",ik],["svg",iR],["tga",i$],["tiff",{validate:e=>{let t=tw(e,0,4);return iV.has(t)},calculate(e){let t=iz(e);t.isBigTiff&&iq(e,t.isBigEndian);let i=iB(iM(e,t),t),r={height:i[ij.TAG.HEIGHT],width:i[ij.TAG.WIDTH],type:t.isBigTiff?"bigtiff":"tiff"};if(i[ij.TAG.COMPRESSION]&&(r.compression=i[ij.TAG.COMPRESSION]),!r.width||!r.height)throw TypeError("Invalid Tiff. Missing tags");return r}}],["webp",{validate(e){let t="RIFF"===tb(e,0,4),i="WEBP"===tb(e,8,12),r="VP8"===tb(e,12,15);return t&&i&&r},calculate(e){let t=tb(e,12,16),i=e.slice(20,30);if("VP8X"===t){let e=i[0],t=(192&e)==0,r=(1&e)==0;if(t&&r)return iH(i);throw TypeError("Invalid WebP")}if("VP8 "===t&&47!==i[0])return iG(i);let r=tw(i,3,6);if("VP8L"===t&&"9d012a"!==r)return iW(i);throw TypeError("Invalid WebP")}}]]),iJ=Array.from(iK.keys()),iQ=new Map([[0,"heif"],[56,"psd"],[66,"bmp"],[68,"dds"],[71,"gif"],[73,"tiff"],[77,"tiff"],[82,"webp"],[105,"icns"],[137,"png"],[255,"jpg"]]);function iY(e){let t=e[0],i=iQ.get(t);return i&&iK.get(i).validate(e)?i:iJ.find(t=>iK.get(t).validate(e))}var iZ={disabledTypes:[]};function iX(e){let t=iY(e);if(void 0!==t){if(iZ.disabledTypes.indexOf(t)>-1)throw TypeError(`disabled file type: ${t}`);let i=iK.get(t).calculate(e);if(void 0!==i){if(i.type=i.type??t,i.images&&i.images.length>1){let e=i.images.reduce((e,t)=>t.width*t.height>e.width*e.height?t:e,i.images[0]);i.width=e.width,i.height=e.height}return i}}throw TypeError(`unsupported file type: ${t}`)}var i1=524288,i0=[],i2=100,i6=async()=>{let e=i0.splice(0,i2).map(async({filePath:e,resolve:t,reject:i})=>{let r;try{r=await tg.promises.open(ty.resolve(e),"r")}catch(e){return i(e)}try{let{size:e}=await r.stat();if(e<=0)throw Error("Empty file");let i=Math.min(e,i1),a=new Uint8Array(i);await r.read(a,0,i,0),t(iX(a))}catch(e){i(e)}finally{await r.close()}});await Promise.allSettled(e),i0.length&&setTimeout(i6,100)},i4=async e=>new Promise((t,i)=>{i0.push({filePath:e,resolve:t,reject:i}),i6()}),i3=i(70612),i5=i(9576);async function i8(e,t){try{return await t(e)}finally{await a.rm(e,{force:!0,maxRetries:2,recursive:!0})}}let i9=async(e,t={})=>i8(await i7(t),e);async function i7(e){if(e.name){if(void 0!==e.extension&&null!==e.extension)throw Error("The `name` and `extension` options are mutually exclusive");return ty.join(await re(),e.name)}return await rt()+(void 0===e.extension||null===e.extension?"":"."+e.extension.replace(/^\./,""))}async function re({prefix:e=""}={}){let t=await rt(e);return await a.mkdir(t),t}async function rt(e=""){let t=await a.realpath(i3.tmpdir());return ty.join(t,e+(0,i5.Z)())}async function ri(e){return e?.tempFilePath?i4(e.tempFilePath):e?.mimetype==="image/tiff"?await i9(async t=>(await a.writeFile(t,e.data),i4(t)),{extension:"tiff"}):tm(e.data)}let rr=async({collectionSlug:e,filename:t,req:i})=>!!await i.payload.db.findOne({collection:e,req:i,where:{filename:{equals:t}}});var ra=i(90386);let rn=e=>{let t=e.split(".").pop(),i=o(e.substring(0,e.lastIndexOf("."))||e),r=i,a=/(.*)-(\d+)$/,l=i.match(a);if(null===l)r+="-1";else{let e=l[1],t=Number(l[2])+1;r=`${e}-${t}`}return`${r}.${t}`};async function rs({collectionSlug:e,desiredFilename:t,req:i,staticPath:r}){let a=t;for(;await rr({collectionSlug:e,filename:a,path:r,req:i})||await (0,ra.k)(`${r}/${a}`);)a=rn(a);return a}var ro=i(60832);let rl=e=>{let t=e.split(".").pop();return{name:o(e.substring(0,e.lastIndexOf("."))||e),ext:t}},rd=({extension:e,height:t,outputImageName:i,width:r})=>`${i}-${r}x${t}.${e}`,rp=({name:e,filename:t=null,filesize:i=null,height:r=null,mimeType:a=null,sizesToSave:o=[],width:l=null})=>({sizeData:{[e]:{filename:t,filesize:i,height:r,mimeType:a,width:l}},sizesToSave:o}),rc=({dimensions:e,hasFocalPoint:t,imageResizeConfig:i})=>{let{fit:r,withoutEnlargement:a,withoutReduction:o}=i,l=i.width,d=i.height;if(d&&l){let t=e.width<l&&e.height<d;if(void 0===a&&t)return"omit"}if(void 0===a&&(!l||!d)&&(l&&e.width<l||d&&e.height<d))return"omit";let p=e.width<l||e.height<d;if("contain"===r||"inside"===r||!(0,ro.h)(d)&&!(0,ro.h)(l))return"resize";let c=l/d;return e.width/e.height===c||a&&p||o&&!p?"resize":t?"resizeWithFocalPoint":"resize"},ru=e=>e.withoutReduction?{...e,fit:e?.fit||"contain",position:e?.position||"left top"}:e;function rh(e){return e?.pages?e.height/e.pages:e.height}async function rf({config:e,dimensions:t,file:i,mimeType:o,req:l,savedFilename:d,sharp:p,staticPath:c,uploadEdits:u,withMetadata:h}){let{focalPoint:m=!0,imageSizes:g}=e.upload,y=u?.focalPoint?{x:(0,ro.h)(u.focalPoint.x)?Math.round(u.focalPoint.x):50,y:(0,ro.h)(u.focalPoint.y)?Math.round(u.focalPoint.y):50}:void 0,v={...m&&y&&{focalPoint:y},sizeData:{},sizesToSave:[]};if(!g||!p)return v;let b=["image/avif","image/gif","image/webp"].includes(i.mimetype),w={};b&&(w.animated=!0);let x=p(i.tempFilePath||i.data,w).rotate(),S=await x.metadata(),E={...t};[5,6,7,8].includes(S.orientation)&&(E={...t,height:t.width,width:t.height});let k={height:rh(S),width:S.width};return(await Promise.all(g.map(async e=>{let i=rc({dimensions:t,hasFocalPoint:!!y,imageResizeConfig:e=ru(e)});if("omit"===i)return rp({name:e.name});let p=x.clone(),u=p;if("resizeWithFocalPoint"===i){let{height:t,width:i}=e,r=E.width/E.height;t&&!i&&(i=Math.round(t*r)),i&&!t&&(t=Math.round(i/r)),t||(t=k.height),i||(i=k.width);let a=i/t<r;u=p.resize({fastShrinkOnLoad:!1,height:a?t:void 0,width:a?void 0:i});let o=await _({req:l,sharpFile:u,withMetadata:h}),{info:d}=await o.toBuffer({resolveWithObject:!0});k.height=rh({...S,height:d.height}),k.width=d.width;let c=i/2,m=k.width*(y.x/100),g=m+c,v=m-c;g>k.width&&(v=k.width-i),v<0&&(v=0);let b=t/2,w=k.height*(y.y/100),x=w+b,T=w-b;x>k.height&&(T=k.height-t),T<0&&(T=0),u=u.extract({height:t,left:Math.floor(v),top:Math.floor(T),width:i})}else u=p.resize(e);e.formatOptions&&(u=u.toFormat(e.formatOptions.format,e.formatOptions.options)),e.trimOptions&&(u=u.trim(e.trimOptions));let m=await _({req:l,sharpFile:u,withMetadata:h}),{data:g,info:v}=await m.toBuffer({resolveWithObject:!0}),w=rl(d);l.payloadUploadSizes&&(l.payloadUploadSizes[e.name]=g);let T=await (0,r.pM)(g),C=e.generateImageName?e.generateImageName({extension:T?.ext||w.ext,height:rh({...S,height:v.height}),originalName:w.name,sizeName:e.name,width:v.width}):rd({extension:T?.ext||w.ext,height:rh({...S,height:v.height}),outputImageName:w.name,width:v.width}),N=`${c}/${C}`;if(await (0,ra.k)(N))try{await a.unlink(N)}catch{}let{height:O,size:P,width:I}=v;return rp({name:e.name,filename:C,filesize:P,height:b&&S.pages?O/S.pages:O,mimeType:T?.mime||o,sizesToSave:[{buffer:g,path:N}],width:I})}))).reduce((e,t)=>(Object.assign(e.sizeData,t.sizeData),e.sizesToSave.push(...t.sizesToSave),e),{...v})}var rm=i(55029);let rg=async({collection:{config:e},data:t,isDuplicating:i,operation:d,originalDoc:p,overwriteExistingFiles:u,req:y,throwOnMissingFile:v})=>{if(!e.upload)return{data:t,files:[]};let{sharp:b}=y.payload.config,x=y.file,E=ry({data:t,isDuplicating:i,operation:d,originalDoc:p,req:y}),{constructorOptions:k={},disableLocalStorage:T,focalPoint:C=!0,formatOptions:N,imageSizes:O,resizeOptions:P,staticDir:I,trimOptions:L,withMetadata:$}=e.upload,j=I,M=i?p:t;if(!x&&E&&M){let{filename:t,url:i}=M;if(t&&(t.includes("../")||t.includes("..\\")))throw new l.r(y.t);try{if(i&&i.startsWith("/")&&!T){let e=`${j}/${t}`;x=await (0,R.z)(e),u=!0}else t&&i&&(x=await D({data:M,req:y,uploadConfig:e.upload}),u=!0)}catch(e){throw new c(y.t,e instanceof Error?e.message:void 0)}}if(i&&(u=!1),!x){if(v)throw new h(y.t);return{data:t,files:[]}}await w({collection:e,file:x,req:y}),T||await a.mkdir(j,{recursive:!0});let U=t,F=[],B={},z=["image/avif","image/gif","image/webp"].includes(x.mimetype),q="object"==typeof E&&"crop"in E?E.crop:void 0;try{let t,i,l,d,p,c;let h=g(x.mimetype),m=h&&!!(P||N||L||k||x.tempFilePath),v={...k};if(z&&(v.animated=!0),b&&(z||m)&&(i=x.tempFilePath?b(x.tempFilePath,v).rotate():b(x.data,v).rotate(),m&&(P&&(i=i.resize(P)),N&&(i=i.toFormat(N.format,N.options)),L&&(i=i.trim(L)))),(h||(0,rm.O)(x.mimetype))&&(l=await ri(x),B.width=l.width,B.height=l.height),i){let e=await i.metadata();i=await _({req:y,sharpFile:i,withMetadata:$}),d=await i.toBuffer({resolveWithObject:!0}),({ext:p,mime:c}=await (0,r.pM)(d.data)),B.width=d.info.width,B.height=d.info.height,B.filesize=d.info.size,e.pages&&(B.height=d.info.height/e.pages,B.filesize=d.data.length)}else c=x.mimetype,B.filesize=x.size,p=x.name.includes(".")?x.name.split(".").pop()?.split("?")[0]:"";"application/xml"===c&&"svg"===p&&(c="image/svg+xml"),B.mimeType=c;let w=o(x.name.substring(0,x.name.lastIndexOf("."))||x.name);t=`${w}${p?`.${p}`:""}`,u||(t=await rs({collectionSlug:e.slug,desiredFilename:t,req:y,staticPath:j})),B.filename=t;let T=x;if(q&&b){let{data:e,info:r}=await S({cropData:q,dimensions:l,file:x,heightInPixels:E.heightInPixels,req:y,sharp:b,widthInPixels:E.widthInPixels,withMetadata:$});if(P&&!P.withoutEnlargement){let r=await b(e).resize({fit:P?.fit||"cover",height:P?.height,position:P?.position||"center",width:P?.width}).toBuffer({resolveWithObject:!0});if(F.push({buffer:r.data,path:`${j}/${t}`}),T={...T,data:r.data,size:r.info.size},B.width=r.info.width,B.height=r.info.height,z){let e=await i.metadata();B.height=e.pages?r.info.height/e.pages:r.info.height}B.filesize=r.info.size}else{if(F.push({buffer:e,path:`${j}/${t}`}),T={...x,data:e,size:r.size},B.width=r.width,B.height=r.height,z){let e=await i.metadata();B.height=e.pages?r.height/e.pages:r.height}B.filesize=r.size}x.tempFilePath?await a.writeFile(x.tempFilePath,e):y.file=T}else F.push({buffer:d?.data||x.data,path:`${j}/${t}`}),(d?.data||x.data.length>0)&&(x.tempFilePath?await a.writeFile(x.tempFilePath,d?.data||x.data):y.file={...x,data:d?.data||x.data,size:d?.info.size});if(h&&(Array.isArray(O)||!1!==C)){y.payloadUploadSizes={};let{focalPoint:i,sizeData:r,sizesToSave:a}=await rf({config:e,dimensions:q?{...l,height:B.height,width:B.width}:l,file:T,mimeType:B.mimeType,req:y,savedFilename:t||x.name,sharp:b,staticPath:j,uploadEdits:E,withMetadata:$});B.sizes=r,B.focalX=i?.x,B.focalY=i?.y,F.push(...a)}}catch(e){throw y.payload.logger.error(e),new m.D(y.t)}return{data:U={...U,...B},files:F}};function ry(e){let{data:t,isDuplicating:i,operation:r,originalDoc:a,req:o}=e,l=o.query?.uploadEdits&&"object"==typeof o.query.uploadEdits?o.query.uploadEdits:{};if(l.focalPoint)return l;let d=t,p=a;if(p&&"focalX"in p&&"focalY"in p){if(d.focalX===p.focalX&&d.focalY===p.focalY)return;i&&(l.focalPoint={x:d?.focalX||p.focalX,y:d?.focalY||p.focalX})}return d?.focalX&&d?.focalY?l.focalPoint={x:d.focalX,y:d.focalY}:"create"===r&&(l.focalPoint={x:50,y:50}),l}},96379:(e,t,i)=>{"use strict";i.d(t,{z:()=>d});var r=i(13763),a=i(73292),o=i(71017);let l={svg:"image/svg+xml"},d=async e=>{if("string"!=typeof e)return;let t=o.basename(e),i=o.extname(e).slice(1),[d,p,c]=await Promise.all([a.readFile(e),a.stat(e),(0,r.lb)(e)]);return{name:t,data:d,mimetype:c?.mime||l[i],size:p.size}}},55029:(e,t,i)=>{"use strict";function r(e){return["image/jpeg","image/png","image/gif","image/svg+xml","image/webp","image/avif","image/jxl"].indexOf(e)>-1}i.d(t,{O:()=>r})},78092:(e,t,i)=>{"use strict";i.d(t,{C:()=>o});var r=i(73292);async function a(e,t){return Promise.all(e.map(t))}let o=async({collectionConfig:e,config:t,req:i})=>{if(t.upload?.useTempFiles&&e.upload){let{file:e}=i,t=[{file:e}];await a(t,async({file:e})=>{e?.tempFilePath&&await r.unlink(e.tempFilePath)})}}},32882:(e,t,i)=>{"use strict";i.d(t,{I:()=>d});var r=i(19165),a=i(73292),o=i(12781);let l=async(e,t)=>{let i=e,r=new o.Readable;return r._read=()=>{r.push(i),i=null},await a.writeFile(t,e)},d=async(e,t,i)=>{try{await Promise.all(t.map(async({buffer:e,path:t})=>{await l(e,t)}))}catch(t){throw e.logger.error(t),new r.D(i.t)}}},18612:(e,t,i)=>{"use strict";i.d(t,{O:()=>X});var r=i(71207),a=i(71017);let o=/multipart\/['"()+-_]+(?:; ?['"()+-_]*)+$/i,l=new Set(["CONNECT","DELETE","GET","HEAD","OPTIONS","TRACE"]),d=e=>!!(e.headers.get("transfer-encoding")||e.headers.get("content-length")&&"0"!==e.headers.get("content-length")),p=e=>!l.has(e.method),c=e=>{let t=e.headers.get("content-type");return t.includes("boundary=")&&o.test(t)},u=e=>{try{return d(e)&&p(e)&&c(e)}catch(e){return!1}};var h=i(53410),m=i(53064),g=i(57147),y=i(12781);let v=/[^\w-]/g,b=3,w=65536,_="tmp",x=0,S=(e,t)=>!!(e||{}).debug&&(console.log(`Next-file-upload: ${t}`),!0),E=(e=_)=>(x=x>=w?1:x+1,`${e}-${x}-${Date.now()}`),k=e=>"function"==typeof e,T=(e,t)=>k(t)?t:e,C=(e,t)=>{let i=!1;return r=>{if(!i)return i=!0,r?T(e,t)(r):e()}},N=Object.getOwnPropertyNames(Object.prototype),O=Object.getOwnPropertyNames(Array.prototype),P=(e,t)=>{let i=e instanceof Array&&O.includes(t),r=N.includes(t);return!i&&!r},I=(e,t,i)=>(null!=i&&P(e=e||Object.create(null),t)&&(e[t]?e[t]instanceof Array?e[t].push(i):e[t]=[e[t],i]:e[t]=i),e),L=(e,t)=>{if(!e.createParentPath)return!1;let i=a.dirname(t);return g.existsSync(i)||g.mkdirSync(i,{recursive:!0}),g.existsSync(i)},D=(e,t)=>g.unlink(e,t),R=(e,t,i)=>{let r=!1,a=e=>{r||(r=!0,i(e))},o=g.createReadStream(e);o.on("error",a);let l=g.createWriteStream(t);l.on("error",e=>{o.destroy(),a(e)}),l.on("close",()=>a()),o.pipe(l)},$=(e,t,i)=>g.rename(e,t,r=>{if(r){R(e,t,t=>t?i(t):D(e,i));return}i(null,!0)}),j=(e,t,i)=>{if(!Buffer.isBuffer(e))return i(Error("buffer variable should be type of Buffer!"));let r=e,a=new y.Readable;a._read=()=>{a.push(r),r=null};let o=g.createWriteStream(t);o.on("error",e=>{i(e)}),o.on("close",()=>{i()}),a.pipe(o)},M=(e,t)=>{if(!e||!e.uriDecodeFileNames)return t;try{return decodeURIComponent(t)}catch(i){let e=/(%[a-f\d]{2})/gi;return t.split(e).map(e=>{try{return decodeURIComponent(e)}catch(e){return""}}).join("")}},U=(e,t)=>{let i={name:t,extension:""};if(!e)return i;let r="boolean"==typeof e?b:e,a=t.split(".");if(a.length<2)return i;let o=a.pop();return o.length>r&&r>0&&(a[a.length-1]+="."+o.substr(0,o.length-r),o=o.substr(-r)),{name:a.join("."),extension:r?o:""}},F=(e,t)=>{if(!t||"string"!=typeof t)return E();let i=t.length<=255?t:t.substr(0,255);if(i=M(e,i),!e.safeFileNames)return i;let r="object"==typeof e.safeFileNames&&e.safeFileNames instanceof RegExp?e.safeFileNames:v,a=U(e.preserveExtension,i);return a.extension.length&&(a.extension="."+a.extension.replace(r,"")),a.name.replace(r,"").concat(a.extension)},B=(e,t,i)=>(r,a)=>{S(i,`Moving temporary file ${t.tempFilePath} to ${e}`),$(t.tempFilePath,e,C(r,a))},z=(e,t,i)=>(r,a)=>{S(i,`Moving uploaded buffer to ${e}`),j(t.buffer,e,C(r,a))},q=(e,t)=>({name:e.name,data:e.buffer,encoding:e.encoding,md5:e.hash,mimetype:e.mimetype,mv:(i,r)=>{let a=t.useTempFiles?B(i,e,t):z(i,e,t);L(t,i);let o=()=>void 0;return k(r)?a(r,o):new Promise(a)},size:e.size,tempFilePath:e.tempFilePath,truncated:e.truncated});var V=i(6113);let H=(e,t,i)=>{let r=a.normalize(e.tempFileDir),o=a.join(process.cwd(),r,E());L({createParentPath:!0},o),S(e,`Temporary file path is ${o}`);let l=V.createHash("md5"),d=0,p=!1;S(e,`Opening write stream for ${t}->${i}...`);let c=g.createWriteStream(o),u=new Promise((t,i)=>{c.on("finish",()=>t(!0)),c.on("error",t=>{S(e,`Error write temp file: ${t}`),i(t)})});return{cleanup:()=>{p=!0,S(e,`Cleaning up temporary file ${o}...`),c.end(),D(o,t=>t?S(e,`Cleaning up temporary file ${o} failed: ${t}`):S(e,`Cleaning up temporary file ${o} done.`))},complete:()=>(p=!0,S(e,`Upload ${t}->${i} completed, bytes:${d}.`),c instanceof g.WriteStream&&c.end(),Buffer.concat([])),dataHandler:r=>{if(!0===p){S(e,`Error: got ${t}->${i} data chunk for completed upload!`);return}c.write(r),l.update(r),d+=r.length,S(e,`Uploading ${t}->${i}, bytes:${d}...`)},getFilePath:()=>o,getFileSize:()=>d,getHash:()=>l.digest("hex"),getWritePromise:()=>u}},W=(e,t,i)=>{let r=[],a=V.createHash("md5"),o=0,l=!1,d=()=>Buffer.concat(r,o);return{cleanup:()=>{l=!0},complete:()=>(S(e,`Upload ${t}->${i} completed, bytes:${o}.`),l=!0,d()),dataHandler:d=>{if(!0===l){S(e,`Error: got ${t}->${i} data chunk for completed upload!`);return}r.push(d),a.update(d),o+=d.length,S(e,`Uploading ${t}->${i}, bytes:${o}...`)},getFilePath:()=>"",getFileSize:()=>o,getHash:()=>a.digest("hex"),getWritePromise:()=>Promise.resolve(!0)}},G=function(e){if(!e||e.length<1)return Object.create(null);let t=Object.create(null),i=Object.keys(e);for(let r=0;r<i.length;r++){let a=i[r],o=a?.replace(new RegExp(/\[/g),".").replace(new RegExp(/\]/g),"").split("."),l=e[a],d=t;for(let e=0;e<o.length;e++){let t=o[e];P(d,t)&&(e>=o.length-1?d[t]=l:(d[t]||(d[t]=o[e+1]?Object.create(null):[]),d=d[t]))}}return t},K=(e=0,t=()=>{})=>{let i=null,r=()=>{clearTimeout(i)},a=()=>!!e&&(r(),i=setTimeout(t,e),!0);return{clear:r,set:a}},J=Symbol("wait flush property symbol"),Q=async({options:e,request:t})=>{let i,a,o=!0,l=!1,d=0,p=0,c=new Promise((e,t)=>{i=e,a=t}),u={fields:void 0,files:void 0},g={};t.headers.forEach((e,t)=>{g[t]=e});let y=t.body?.getReader(),v=h({...e,headers:g});function b(e,t){e.destroy(),l=!0,a(t)}for(v.on("field",(e,t)=>{u.fields=I(u.fields,e,t)}),v.on("file",(o,l,c)=>{d+=1;let{encoding:h,filename:g,mimeType:y}=c,w=F(e,g),_=w&&w.endsWith(".glb")&&"model/gltf-binary"||w&&w.endsWith(".gltf")&&"model/gltf+json"||y,{cleanup:x,complete:E,dataHandler:T,getFilePath:C,getFileSize:N,getHash:O,getWritePromise:P}=e.useTempFiles?H(e,o,w):W(e,o,w),L=e.useTempFiles?P().catch(()=>{v.end(),x()}):P(),D=K(e.uploadTimeout,()=>b(l,new r.H(`Upload timeout for ${o}->${w}, bytes:${N()}`)));l.on("limit",()=>{S(e,`Size limit reached for ${o}->${w}, bytes:${N()}`),D.clear(),k(e.limitHandler)&&e.limitHandler({request:t,size:N()}),e.abortOnLimit&&(S(e,`Upload file size limit reached ${o}->${w}.`),x(),b(l,new r.H(e.responseOnLimit,m.i.REQUEST_ENTITY_TOO_LARGE,{size:N()})))}),l.on("data",e=>{D.set(),T(e)}),l.on("end",()=>{let r=N();if(S(e,`Upload finished ${o}->${w}, bytes:${r}`),D.clear(),!g&&0===r)return d-=1,e.useTempFiles&&(x(),S(e,`Removing the empty file ${o}->${w}`)),S(e,"Don't add file instance if original name and size are empty");p+=1,u.files=I(u.files,o,q({name:w,buffer:E(),encoding:h,hash:O(),mimetype:_,size:r,tempFilePath:C(),truncated:!!(("truncated"in l)&&l.truncated)},e)),t[J]||(t[J]=[]),t[J].push(L),p===d&&i()}),l.on("error",t=>{D.clear(),S(e,`File Error: ${t.message}`),x(),a(t)}),S(e,`New upload started ${o}->${w}, bytes:${N()}`),D.set()}),v.on("finish",async()=>{if(S(e,"Busboy finished parsing request."),e.parseNested&&(u.fields=G(u.fields),u.files=G(u.files)),t[J])try{await Promise.all(t[J]).then(()=>{delete t[J]})}catch(t){S(e,`Error waiting for file write promises: ${t}`)}return u}),v.on("error",(t=new r.H("Busboy error parsing multipart request",m.i.BAD_REQUEST))=>{throw S(e,"Busboy error"),t});o;){let{done:e,value:t}=await y.read();e&&(o=!1),t&&!l&&v.write(t)}return 0!==d&&await c.catch(e=>{throw e}),u},Y={abortOnLimit:!1,createParentPath:!1,debug:!1,defParamCharset:"utf8",limitHandler:!1,parseNested:!1,preserveExtension:!1,responseOnLimit:"File size limit has been reached",safeFileNames:!1,tempFileDir:a.join(process.cwd(),"tmp"),uploadTimeout:6e4,uriDecodeFileNames:!1,useTempFiles:!1},Z=async({options:e,request:t})=>{let i={...Y,...e};return u(t)?Q({options:i,request:t}):(S(i,"Request is not eligible for file upload!"),{error:new r.H("Request is not eligible for file upload",500),fields:void 0,files:void 0})},X=async e=>{let{body:t,headers:i,method:a,payload:o}=e;if(a&&["PATCH","POST","PUT"].includes(a.toUpperCase())&&t){let[t]=(i.get("Content-Type")||"").split(";"),a=parseInt(e.headers.get("Content-Length")||"0",10);if("application/json"===t){let t={};try{let i=await e.text?.();t=i?JSON.parse(i):{}}catch(t){e.payload.logger.error(t)}finally{e.data=t,e.json=()=>Promise.resolve(t)}}else if(a&&t?.includes("multipart/")){let{error:t,fields:i,files:a}=await Z({options:o.config.upload,request:e});if(t)throw new r.H(t.message);if(a?.file&&(e.file=a.file),i?._payload&&"string"==typeof i._payload&&(e.data=JSON.parse(i._payload)),!e.file&&i?.file&&"string"==typeof i?.file){let t;let{clientUploadContext:a,collectionSlug:l,filename:d,mimeType:p,size:c}=JSON.parse(i.file),u=e.payload.collections[l].config.upload;if(!u.handlers)throw new r.H("uploadConfig.handlers is not present for "+l);let h=null;for(let i of u.handlers)try{let t=await i(e,{doc:null,params:{clientUploadContext:a,collection:l,filename:d}});t&&(h=t)}catch(e){t=e}if(!h)throw t&&o.logger.error(t),new r.H("Expected response from the upload handler.");e.file={name:d,clientUploadContext:a,data:Buffer.from(await h.arrayBuffer()),mimetype:h.headers.get("Content-Type")||p,size:c}}}}}},8725:(e,t,i)=>{"use strict";i.d(t,{A:()=>a,s:()=>o});var r=i(1085);function a(e){let{data:t,payload:{config:i}}=e;if(t){let r,a;let l=e.locale,d=e.fallbackLocale;if(!l&&t?.locale&&"string"==typeof t.locale&&(r=t.locale),!d&&(t?.["fallback-locale"]&&"string"==typeof t?.["fallback-locale"]&&(a=t["fallback-locale"]),t?.fallbackLocale&&"string"==typeof t?.fallbackLocale&&(a=t.fallbackLocale)),!l||!d){let{fallbackLocale:t,locale:l}=o({fallbackLocale:a,locale:r,localization:i.localization});r&&(e.locale=l),a&&(e.fallbackLocale=t)}}}let o=({fallbackLocale:e,locale:t,localization:i})=>(i&&(e=(0,r.A)({fallbackLocale:e,locale:t,localization:i})),["*","all"].includes(t)?t="all":i&&!i.localeCodes.includes(t)&&i.fallback&&(t=i.defaultLocale),{fallbackLocale:e,locale:t})},94797:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var r=i(53064),a=i(71207);class o extends a.H{constructor(e){super(e,r.i.LOCKED)}}var l=i(34428);let d=async({id:e,collectionSlug:t,globalSlug:i,lockDurationDefault:r=300,lockErrorMessage:a,overrideLock:d=!0,req:p})=>{let{payload:c}=p,u=t?c.collections?.[t]?.config?.lockDocuments:c.config?.globals?.find(e=>e.slug===i)?.lockDocuments,h=!1!==u,m={};if(t)m={and:[{"document.relationTo":{equals:t}},{"document.value":{equals:e}}]};else if(i)m={globalSlug:{equals:i}};else throw Error("Either collectionSlug or globalSlug must be provided.");if(h){if(!d){let d=t?`Document with ID ${e} is currently locked by another user and cannot be modified.`:`Global document with slug "${i}" is currently locked by another user and cannot be modified.`,h=a||d,g=await c.db.find({collection:l.g,limit:1,pagination:!1,sort:"-updatedAt",where:m}),y=g?.docs[0];if(y){let e=new Date(y?.updatedAt).getTime(),t=new Date().getTime(),i=1e3*("object"==typeof u?u.duration:r),a=p.user?.id;if(y.user?.value!==a&&t-e<=i)throw new o(h)}}await c.db.deleteMany({collection:l.g,req:"mongoose"===c.db.name?void 0:p,where:m})}}},89402:(e,t,i)=>{"use strict";function r(e,t="and"){return 0===e.length?{}:{[t]:e.filter(e=>!!e&&"object"==typeof e&&Object.keys(e).length>0)}}i.d(t,{d:()=>r})},3603:(e,t,i)=>{"use strict";async function r(e){let{payload:t,transactionID:i}=e;await t.db.commitTransaction(i),delete e.transactionID}i.d(t,{_:()=>r})},17399:(e,t,i)=>{"use strict";i.d(t,{R_:()=>c,pi:()=>h});var r=i(87180),a=i(12687),o=i(32017);let{singular:l}=r,d=e=>{if(e?.admin&&e?.admin?.condition)return!1;let t="required"in e&&!0===e.required;return!!(0,o.j7)(e)&&!!t||"fields"in e&&"array"!==e.type&&e.flattenedFields.some(e=>d(e))};function p(e){return e.map(e=>"object"==typeof e&&"value"in e?e.value:e)}function c(e,t){let i=[e];return t?e:(i.push("null"),i)}function u({entity:e,i18n:t}){let i;return e?.admin?.description&&("string"==typeof e?.admin?.description?i=e?.admin?.description:"object"==typeof e?.admin?.description?e?.admin?.description?.en?i=e?.admin?.description?.en:e?.admin?.description?.[t.language]&&(i=e?.admin?.description?.[t.language]):e?.admin?.description),i}function h(e,t,i,r,l){let m=new Set;return{properties:Object.fromEntries(t.reduce((g,y,v)=>{let b;let w=(0,o.j7)(y)&&d(y),_=u({entity:y,i18n:l}),x={};switch(_&&(x.description=_),y.type){case"array":b={...x,type:c("array",w),items:{type:"object",additionalProperties:!1,...h(e,y.flattenedFields,i,r,l)}},y.interfaceName&&(i.set(y.interfaceName,b),b={$ref:`#/definitions/${y.interfaceName}`});break;case"blocks":{let t=!!(y.blockReferences?y.blockReferences.length:y.blocks.length);b={...x,type:c("array",w),items:t?{oneOf:(y.blockReferences??y.blocks).map(t=>{if("string"==typeof t){let e=r?.blocks?.find(e=>e.slug===t);return{$ref:`#/definitions/${e.interfaceName??e.slug}`}}let a=h(e,t.flattenedFields,i,r,l),o={type:"object",additionalProperties:!1,properties:{...a.properties,blockType:{const:t.slug}},required:["blockType",...a.required]};return t.interfaceName?(i.set(t.interfaceName,o),{$ref:`#/definitions/${t.interfaceName}`}):o})}:{}};break}case"checkbox":b={...x,type:c("boolean",w)};break;case"code":case"date":case"email":case"textarea":b={...x,type:c("string",w)};break;case"group":(0,o.j7)(y)&&(b={...x,type:"object",additionalProperties:!1,...h(e,y.flattenedFields,i,r,l)},y.interfaceName&&(i.set(y.interfaceName,b),b={$ref:`#/definitions/${y.interfaceName}`}));break;case"join":{let t;t=Array.isArray(y.collection)?{oneOf:y.collection.map(t=>({type:"object",additionalProperties:!1,properties:{relationTo:{const:t},value:{oneOf:[{type:e[t]},{$ref:`#/definitions/${t}`}]}},required:["collectionSlug","value"]}))}:{oneOf:[{type:e[y.collection]},{$ref:`#/definitions/${y.collection}`}]},b={...x,type:"object",additionalProperties:!1,properties:{docs:{type:"array",items:t},hasNextPage:{type:"boolean"},totalDocs:{type:"number"}}};break}case"json":b=y.jsonSchema?.schema||{...x,type:["object","array","string","number","boolean","null"]};break;case"number":b=!0===y.hasMany?{...x,type:c("array",w),items:{type:"number"}}:{...x,type:c("number",w)};break;case"point":b={...x,type:c("array",w),items:[{type:"number"},{type:"number"}],maxItems:2,minItems:2};break;case"radio":b={...x,type:c("string",w),enum:p(y.options)},y.interfaceName&&(i.set(y.interfaceName,b),b={$ref:`#/definitions/${y.interfaceName}`});break;case"relationship":case"upload":b=Array.isArray(y.relationTo)?y.hasMany?{...x,type:c("array",w),items:{oneOf:y.relationTo.map(t=>({type:"object",additionalProperties:!1,properties:{relationTo:{const:t},value:{oneOf:[{type:e[t]},{$ref:`#/definitions/${t}`}]}},required:["value","relationTo"]}))}}:{...x,oneOf:y.relationTo.map(t=>({type:c("object",w),additionalProperties:!1,properties:{relationTo:{const:t},value:{oneOf:[{type:e[t]},{$ref:`#/definitions/${t}`}]}},required:["value","relationTo"]}))}:y.hasMany?{...x,type:c("array",w),items:{oneOf:[{type:e[y.relationTo]},{$ref:`#/definitions/${y.relationTo}`}]}}:{...x,oneOf:[{type:c(e[y.relationTo],w)},{$ref:`#/definitions/${y.relationTo}`}]};break;case"richText":if(!y?.editor)throw new a.L(y);if("function"==typeof y.editor)throw Error("Attempted to access unsanitized rich text editor.");b=y.editor.outputSchema?{...x,...y.editor.outputSchema({collectionIDFieldTypes:e,config:r,field:y,i18n:l,interfaceNameDefinitions:i,isRequired:w})}:{...x,type:c("array",w),items:{type:"object"}};break;case"select":{let e=p(y.options),r=t?.[v-1];r?.type==="date"&&r.timezone&&y.name.includes("_tz")?b={$ref:"#/definitions/supportedTimezones"}:(y.hasMany?(b={...x,type:c("array",w),items:{type:"string"}},e?.length&&(b.items.enum=e)):(b={...x,type:c("string",w)},e?.length&&(b.enum=e)),y.interfaceName&&(i.set(y.interfaceName,b),b={$ref:`#/definitions/${y.interfaceName}`}));break}case"tab":b={...x,type:"object",additionalProperties:!1,...h(e,y.flattenedFields,i,r,l)},y.interfaceName&&(i.set(y.interfaceName,b),b={$ref:`#/definitions/${y.interfaceName}`});break;case"text":b=!0===y.hasMany?{...x,type:c("array",w),items:{type:"string"}}:{...x,type:c("string",w)}}if("typescriptSchema"in y&&y?.typescriptSchema?.length)for(let e of y.typescriptSchema)b=e({jsonSchema:b});return b&&(0,o.j7)(y)&&(w&&!1!==b.required&&m.add(y.name),g.set(y.name,b)),g},new Map)),required:Array.from(m)}}let m={type:"string",required:!1}},51224:(e,t,i)=>{"use strict";i.d(t,{z:()=>c});var r=i(62437),a=i(92510);let o=async({config:e,language:t})=>(0,a.L)({config:e.i18n,context:"api",language:t});var l=i(1085);function d(e={context:null},t={}){return e.context?0===Object.keys(e.context).length&&e.context.constructor===Object?t:{...e.context,...t}:t}let p=(e,t)=>{let i;function r(){if(i)return i;let r=`http://${e.host||"localhost"}${t||""}`,a=e?.url||e.payload?.config?.serverURL?`${e.payload?.config.serverURL}${t||""}`:r;try{i=new URL(a)}catch(t){e.payload?.logger.error(`Failed to create URL object from URL: ${a}, falling back to ${r}`),i=new URL(r)}return i}e.host||(e.host=r().host),e.protocol||(e.protocol=r().protocol),e.pathname||(e.pathname=r().pathname),e.searchParams||(e.searchParams=r().searchParams),e.origin||(e.origin=r().origin),e?.url||(e.url=r().href)},c=async({context:e,fallbackLocale:t,locale:i,req:a={},urlSuffix:c,user:u},h)=>{let m=h.config?.localization;if(m){let e="*"===i?"all":i,r=m.defaultLocale,o=e||a?.locale||a?.query?.locale;a.locale=o&&"string"==typeof o?o:r;let d=(0,l.A)({fallbackLocale:t,locale:a.locale,localization:m});a.fallbackLocale=d}let g=a?.i18n||await o({config:h.config,language:h.config.i18n.fallbackLanguage});return a.headers||(a.headers=new Headers),a.context=d(a,e),a.payloadAPI=a?.payloadAPI||"local",a.payload=h,a.i18n=g,a.t=g.t,a.user=u||a?.user||null,a.payloadDataLoader=a?.payloadDataLoader||(0,r.o)(a),a.routeParams=a?.routeParams||{},a.query=a?.query||{},p(a,c),a}},60814:(e,t,i)=>{"use strict";function r(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}i.d(t,{Ee:()=>p});let a=new Map;a.set(Date,e=>new Date(e)),a.set(Map,(e,t)=>new Map(l(Array.from(e),t))),a.set(Set,(e,t)=>new Set(l(Array.from(e),t))),a.set(RegExp,e=>new RegExp(e.source,e.flags));let o=null;function l(e,t){let i=Object.keys(e),l=Array(i.length);for(let d=0;d<i.length;d++){let p=i[d],c=e[p];"object"!=typeof c||null===c?l[p]=c:c instanceof RegExp?l[p]=new RegExp(c.source,c.flags):c.constructor!==Object&&(o=a.get(c.constructor))?l[p]=o(c,t):ArrayBuffer.isView(c)?l[p]=r(c):l[p]=t(c)}return l}let d=e=>{if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return l(e,d);if(e instanceof RegExp)return new RegExp(e.source,e.flags);if(e.constructor!==Object&&(o=a.get(e.constructor)))return o(e,d);let t={};for(let i in e){if(!1===Object.hasOwnProperty.call(e,i))continue;let l=e[i];"object"!=typeof l||null===l?t[i]=l:l instanceof RegExp?t[i]=new RegExp(l.source,l.flags):l.constructor!==Object&&(o=a.get(l.constructor))?t[i]=o(l,d):ArrayBuffer.isView(l)?t[i]=r(l):t[i]=d(l)}return t};function p(e,t=!1){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(e=>"object"!=typeof e||null===e?e:p(e,t));{if(e instanceof Date)return new Date(e);let i={};for(let r in e){let a=e[r];t&&void 0===a||(i[r]="object"!=typeof a||null===a?a:p(a,t))}return i}}},71090:(e,t,i)=>{"use strict";i.d(t,{HQ:()=>l,QW:()=>o});var r=i(74469),a=i(1761);function o(e,t){return r(e,t,{arrayMerge:(e,t)=>t})}function l(e,t){return r(e,t,{isMergeableObject:a.P})}},4641:(e,t,i)=>{"use strict";i.d(t,{p:()=>a,u:()=>l});var r=i(32017);let a=({block:e})=>({...e,flattenedFields:l({fields:e.fields})}),o=new Map,l=({cache:e,fields:t})=>{if(e){let e=o.get(t);if(e)return e}let i=[];for(let e of t)switch(e.type){case"array":case"group":if((0,r.j7)(e))i.push({...e,flattenedFields:l({fields:e.fields})});else for(let t of l({fields:e.fields}))i.push(t);break;case"blocks":{let t;let r=[];if(e.blockReferences)for(let i of(t=[],e.blockReferences)){if("string"==typeof i){t.push(i);continue}t.push(a({block:i}))}else for(let t of e.blocks){if("string"==typeof t){r.push(t);continue}r.push(a({block:t}))}let o={...e,blockReferences:t,blocks:r};i.push(o);break}case"collapsible":case"row":for(let t of l({fields:e.fields}))i.push(t);break;case"join":i.push(e);break;case"tabs":for(let t of e.tabs)if((0,r.JC)(t))i.push({...t,type:"tab",flattenedFields:l({fields:t.fields})});else for(let e of l({fields:t.fields}))i.push(e);break;default:"ui"!==e.type&&i.push(e)}return o.set(t,i),i}},91702:(e,t,i)=>{"use strict";i.d(t,{a:()=>o});var r=i(76972),a=i(32017);function o(e,t){let{i18n:i,keepPresentationalFields:l,labelPrefix:d,moveSubFieldsToTop:p=!1,pathPrefix:c}="boolean"==typeof t?{keepPresentationalFields:t}:t??{};return e.reduce((e,u)=>{if("group"===u.type&&"fields"in u){if(p){let t="name"in u&&"string"==typeof u.name&&!!u.name,a="name"in u?u.name:void 0,h="label"in u&&u.label&&i?(0,r.i)(u.label,i):void 0,m=d?`${d} > ${h??a}`:h??a,g="name"in u&&u.name?c?`${c}.${u.name}`:u.name:c;e.push(u,...o(u.fields,{i18n:i,keepPresentationalFields:l,labelPrefix:t?m:d,moveSubFieldsToTop:p,pathPrefix:t?g:c}))}else(0,a.j7)(u)?e.push(u):e.push(...o(u.fields,t))}else if("tabs"===u.type&&"tabs"in u)return[...e,...u.tabs.reduce((e,u)=>{if(!(0,a.JC)(u))return[...e,...o(u.fields,t)];if(!p)return[...e,{...u,type:"tab"}];{let t="label"in u&&u.label&&i?(0,r.i)(u.label,i):void 0,a=d?`${d} > ${t??u.name}`:t??u.name,h=u.name?c?`${c}.${u.name}`:u.name:c;return[...e,...o(u.fields,{i18n:i,keepPresentationalFields:l,labelPrefix:a,moveSubFieldsToTop:p,pathPrefix:h})]}},[])];else if((0,a.uV)(u)&&["collapsible","row"].includes(u.type))e.push(...o(u.fields,t));else if((0,a.j7)(u)||l&&(0,a.P2)(u)){if("id"===u.name&&void 0!==d)return e;let t="label"in u&&u.label&&i?(0,r.i)(u.label,i):void 0,a="name"in u?u.name:void 0,o=void 0!==c||void 0!==d;e.push({...u,...p&&o&&{accessor:c&&a?`${c}.${a}`:a??"",labelWithPrefix:d?`${d} > ${t??a}`:t??a}})}return e},[])}},7410:(e,t,i)=>{"use strict";i.d(t,{$:()=>r});let r=e=>{let{adminRoute:t,basePath:i="",path:r,serverURL:a}=e,o=r||"";if(t){if("/"!==t)return`${a||""}${i}${t}${o}`;if(!o)return`${a||""}${i}${t}`}return`${a||""}${i}${o}`}},90618:(e,t,i)=>{"use strict";i.d(t,{BH:()=>d,aA:()=>p,mt:()=>c});var r=i(87180);let{isPlural:a,singular:o}=r,l=e=>e.charAt(0).toUpperCase()+e.slice(1),d=(e,t=!1)=>{let i=(e||"").trim().split(/[\s-]/),r=[];return i.forEach(e=>{if(""!==e){let t=e.split(/(?=[A-Z])/).join(" ");r.push(l(t))}}),t?r.join("").replace(/\s/g,""):r.join(" ")},p=e=>{let t=d(e);return a(e)?{plural:t,singular:o(t)}:{plural:r(t),singular:t}},c=e=>{let t=d(e,!0);return a(e)?{plural:t,singular:o(t)}:{plural:r(t),singular:t}}},61400:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});let r=({block:e,select:t,selectMode:i})=>{if("object"==typeof t){let r=i,a={...t}[e.slug];return"exclude"===i&&!1===a?(r="include",a={id:!0,blockType:!0}):"include"===i&&(a||(a={}),"object"==typeof a&&((a={...a}).id=!0,a.blockType=!0)),{blockSelect:a,blockSelectMode:r}}return{blockSelect:t,blockSelectMode:i}}},62873:(e,t,i)=>{"use strict";i.d(t,{s:()=>o});var r=i(92242),a=i(32017);async function o(e){let t;let{id:i,type:a,blockPolicies:o,entity:d,operations:p,req:c}=e,{data:u,locale:h,payload:m,user:g}=c,y=!!g,v={fields:{}};async function b({operation:e,where:t}={}){if(d.slug){if("global"===a)return m.findGlobal({slug:d.slug,depth:0,fallbackLocale:null,locale:h,overrideAccess:!0,req:c});if("collection"===a&&i){if("object"==typeof t){let a={collection:d.slug,depth:0,fallbackLocale:null,limit:1,locale:h,overrideAccess:!0,req:c};if("readVersions"===e){let e=await m.findVersions({...a,where:(0,r.W)(t,{parent:{equals:i}})});return e?.docs?.[0]||void 0}let o=await m.find({...a,pagination:!1,where:(0,r.W)(t,{id:{equals:i}})});return o?.docs?.[0]||void 0}return m.findByID({id:i,collection:d.slug,depth:0,fallbackLocale:null,locale:h,overrideAccess:!0,req:c})}}}let w=async({access:e,accessLevel:r,disableWhere:o=!1,operation:l,policiesObj:d})=>{let p=d;"field"===r&&void 0===t&&(t=b().then(e=>{t=e})),await t;let h=await e({id:i,data:u,doc:t,req:c});"object"!=typeof h||o?p[l]?.permission!==!1&&(p[l]={permission:!!h}):p[l]={permission:!i&&"global"!==a||!!await b({operation:l,where:h}),where:h}};for(let e of p)"function"==typeof d.access[e]?await w({access:d.access[e],accessLevel:"entity",operation:e,policiesObj:v}):v[e]={permission:y},await l({blockPolicies:o,createAccessPromise:w,entityPermission:v[e].permission,fields:d.fields,operation:e,payload:m,policiesObj:v});return v}let l=async({blockPolicies:e,createAccessPromise:t,entityPermission:i,fields:r,operation:o,payload:d,policiesObj:p})=>{let c=p.fields;"delete"!==o&&"readVersions"!==o&&"unlock"!==o&&await Promise.all(r.map(async r=>{"name"in r&&r.name?(c[r.name]||(c[r.name]={}),"access"in r&&r.access&&"function"==typeof r.access[o]?await t({access:r.access[o],accessLevel:"field",disableWhere:!0,operation:o,policiesObj:c[r.name]}):c[r.name][o]={permission:p[o]?.permission},"fields"in r&&r.fields&&(c[r.name].fields||(c[r.name].fields={}),await l({blockPolicies:e,createAccessPromise:t,entityPermission:i,fields:r.fields,operation:o,payload:d,policiesObj:c[r.name]})),("blocks"in r&&r.blocks?.length||"blockReferences"in r&&r.blockReferences?.length)&&(c[r.name]?.blocks||(c[r.name].blocks={}),await Promise.all((r.blockReferences??r.blocks).map(async a=>{let p="string"==typeof a?d.blocks[a]:a;if("string"==typeof a){if(e[a]){"function"==typeof e[a].then?c[r.name].blocks[p.slug]=await e[a]:c[r.name].blocks[p.slug]=e[a];return}e[a]=(async()=>(c[r.name].blocks?.[p.slug]?c[r.name].blocks[p.slug][o]||(c[r.name].blocks[p.slug][o]={permission:i}):c[r.name].blocks[p.slug]={fields:{},[o]:{permission:i}},await l({blockPolicies:e,createAccessPromise:t,entityPermission:i,fields:p.fields,operation:o,payload:d,policiesObj:c[r.name].blocks[p.slug]}),c[r.name].blocks[p.slug]))(),c[r.name].blocks[p.slug]=await e[a],e[a]=c[r.name].blocks[p.slug];return}c[r.name].blocks?.[p.slug]?c[r.name].blocks[p.slug][o]||(c[r.name].blocks[p.slug][o]={permission:i}):c[r.name].blocks[p.slug]={fields:{},[o]:{permission:i}},await l({blockPolicies:e,createAccessPromise:t,entityPermission:i,fields:p.fields,operation:o,payload:d,policiesObj:c[r.name].blocks[p.slug]})})))):"fields"in r&&r.fields?await l({blockPolicies:e,createAccessPromise:t,entityPermission:i,fields:r.fields,operation:o,payload:d,policiesObj:p}):"tabs"===r.type&&await Promise.all(r.tabs.map(async r=>{(0,a.JC)(r)?(c[r.name]?c[r.name][o]||(c[r.name][o]={permission:i}):c[r.name]={fields:{},[o]:{permission:i}},await l({blockPolicies:e,createAccessPromise:t,entityPermission:i,fields:r.fields,operation:o,payload:d,policiesObj:c[r.name]})):await l({blockPolicies:e,createAccessPromise:t,entityPermission:i,fields:r.fields,operation:o,payload:d,policiesObj:p})}))}))}},62570:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});let r=({fields:e,localizedPath:t="",path:i})=>{let a=e,o=null,l=i.split("."),d=!1;for(;l.length>0;){let e=l.shift();t=`${t?`${t}.`:""}${e}`;let i=a.find(t=>t.name===e);if(!i)return null;if(i.localized&&(d=!0,t=`${t}.<locale>`),"flattenedFields"in i&&(a=i.flattenedFields),"blocks"in i)for(let e of i.blocks){let i=r({fields:e.flattenedFields,localizedPath:t,path:[...l].join(".")});if(i)return i}o=i}return o?{field:o,localizedPath:t,pathHasLocalized:d}:null}},60174:(e,t,i)=>{"use strict";i.d(t,{t:()=>r});let r=e=>{for(let t in e){let i=e[t];if(!1===i)return"exclude";if("object"==typeof i)return r(i)}return"include"}},57591:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});let r=({headers:e,req:t})=>{let i=t?.payload?.config.cors,r=t?.headers?.get("Origin");if(i){let t=["Origin","X-Requested-With","Content-Type","Accept","Authorization","Content-Encoding","x-apollo-tracing"];e.set("Access-Control-Allow-Methods","PUT, PATCH, POST, GET, DELETE, OPTIONS"),"object"==typeof i&&"headers"in i?e.set("Access-Control-Allow-Headers",[...t,...i.headers].filter(Boolean).join(", ")):e.set("Access-Control-Allow-Headers",t.join(", ")),"*"===i||"object"==typeof i&&"origins"in i&&"*"===i.origins?e.set("Access-Control-Allow-Origin","*"):(Array.isArray(i)&&i.indexOf(r)>-1||!Array.isArray(i)&&"object"==typeof i&&"origins"in i&&i.origins.indexOf(r)>-1)&&(e.set("Access-Control-Allow-Credentials","true"),e.set("Access-Control-Allow-Origin",r))}return e}},30651:(e,t,i)=>{"use strict";async function r(e){let{payload:t,transactionID:i}=e;return i instanceof Promise?(await i,!1):!i&&"function"==typeof t.db.beginTransaction&&(e.transactionID=t.db.beginTransaction().then(t=>(t&&(e.transactionID=t),t)),!!await e.transactionID)}i.d(t,{n:()=>r})},60832:(e,t,i)=>{"use strict";function r(e){return null!=e&&("string"!=typeof e||""!==e.trim())&&!Number.isNaN(Number(e))}i.d(t,{h:()=>r})},1761:(e,t,i)=>{"use strict";i.d(t,{P:()=>a});var r=i(65547);function a(e){return!(0,r.fL)(e)&&"object"==typeof e&&null!==e&&!(e instanceof RegExp)&&!(e instanceof Date)}},65547:(e,t,i)=>{"use strict";i.d(t,{fL:()=>l,pU:()=>a});let r=Symbol.for("react.client.reference");function a(e){if(null==e)return!1;let t=e.$$typeof==r,i="function"==typeof e,a="function"==typeof e&&""===e.name;return i&&!a&&!t}function o(e){return null!=e&&!a(e)&&e.$$typeof==r}function l(e){return a(e)||o(e)}},88863:(e,t,i)=>{"use strict";i.d(t,{E:()=>r});let r=(e,t)=>{try{let i=new URL(e);return t.some(e=>Object.entries(e).every(([e,t])=>{if(!t)return!0;if("protocol"===e)return"string"==typeof t&&i.protocol===`${t}:`;if("pathname"===e){let e=t.replace(/\*\*/g,".*").replace(/\*/g,"[^/]*").replace(/\/$/,"(/)?");return RegExp(`^${e}$`).test(i.pathname)}return i[e]===t}))}catch{return!1}}},18032:(e,t,i)=>{"use strict";i.d(t,{k:()=>o});var r=i(40954);let a=r.default||r,o=(e,t)=>{if("text"===t&&e){if(["object","string"].includes(typeof e)){let t=a.isValid(e);return"string"==typeof e||t}return!1}return!("number"!=typeof e||Number.isNaN(e))||("ObjectID"===t?a.isValid(String(e)):void 0)}},49584:(e,t,i)=>{"use strict";function r(e,t){let i=Array.isArray(t)?t:[t],r={};for(let t of i)t in e&&(r[t]=e[t]);return new Proxy(e,{deleteProperty:(e,t)=>Reflect.deleteProperty(i.includes(t)?r:e,t),get:(e,t,a)=>Reflect.get(i.includes(t)?r:e,t,a),has:(e,t)=>Reflect.has(i.includes(t)?r:e,t),set:(e,t,a,o)=>i.includes(t)?Reflect.set(r,t,a):Reflect.set(e,t,a,o)})}i.d(t,{O:()=>r})},31769:(e,t,i)=>{"use strict";async function r(e){let{payload:t,transactionID:i}=e;if(i&&!(i instanceof Promise)){try{await t.db.rollbackTransaction(e.transactionID)}catch(e){}delete e.transactionID}}i.d(t,{n:()=>r})},35024:(e,t,i)=>{"use strict";i.d(t,{H:()=>r});let r=({err:e,payload:t})=>{let i="error";if(e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name&&void 0!==t.config.loggingLevels[e.name]&&(i=t.config.loggingLevels[e.name]),i){let r={};"info"===i?r.msg="object"==typeof e&&"message"in e?e.message:"Error":r.err=e,t.logger[i](r)}}},43482:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});let r=(e,t)=>{let i=new Headers(t);return e.forEach((e,t)=>{i.append(t,e)}),i}},14596:(e,t,i)=>{"use strict";i.d(t,{c:()=>o});let r=e=>0===Object.keys(e).length,a=(e,t)=>r(t)?e:r(e)?t:("and"in e&&e.and?e.and.push(t):e={and:[e,t]},e),o=({collectionConfig:e,search:t,where:i={}})=>{if(t){let o={...i||{}},l=(e.admin.listSearchableFields||[e.admin?.useAsTitle||"id"]).map(e=>({[e]:{like:t}}));l.length>0&&(o=a(o,{or:l})),r(o)||(i=o)}return i}},79058:(e,t,i)=>{"use strict";i.d(t,{j:()=>r});let r=e=>{let t=new Map,i=e.get("Cookie");return i&&i.split(";").forEach(e=>{let i=e.split("="),r=i.shift()?.trim(),a=i.join("=");try{let e=decodeURI(a);t.set(r,e)}catch{}}),t}},92025:(e,t,i)=>{"use strict";i.d(t,{V:()=>a});var r=i(60832);function a({id:e,collectionSlug:t,payload:i}){let a=i.collections[t]?.customIDType??i.db.defaultIDType;return e?"number"===a&&(0,r.h)(e)?parseFloat(String(e)):e:void 0}},1085:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});let r=({fallbackLocale:e,locale:t,localization:i})=>{let r=!1;if(null==e&&(r=!!(i&&i.fallback)),e&&!["false","none","null"].includes(e)&&(r=!0),r){if(!e){let r=i&&i?.locales?.length?i.locales.find(e=>e.code===t)?.fallbackLocale:void 0;r?e=r:i&&"fallback"in i&&i.fallback&&(e=i.defaultLocale)}}else e=null;return e}},12893:(e,t,i)=>{"use strict";i.d(t,{K:()=>r});let r=e=>{let t={};for(let i in e){let r=e[i];"_id"===i?t.id=r:"__v"!==i&&(t[i]=r)}return t}},65350:(e,t,i)=>{"use strict";function r(e){let t=!0;for(let i in e)"object"==typeof e[i]?a(e[i])?e[i]=!0:t=!1:!0!==e[i]&&(t=!1);return t}function a(e){let t=e,i=!0;if("blocks"in t&&t.blocks){for(let e in t.blocks)if("object"==typeof t.blocks[e]){for(let a in t.blocks[e])if("fields"===a)t.blocks[e].fields&&(r(t.blocks[e].fields)?t.blocks[e].fields=!0:i=!1);else if("object"==typeof t.blocks[e][a]){if(o(t.blocks[e][a])){if(!0!==t.blocks[e][a].permission||"where"in t.blocks[e][a]){if(!0===t.blocks[e][a].permission&&"where"in t.blocks[e][a])i=!1;else{i=!1,t.blocks[e][a]=!1,delete t.blocks[e][a];continue}}else{t.blocks[e][a]=!0;continue}}else throw Error("Unexpected object in block permissions")}}else!0!==t.blocks[e]&&(i=!1,delete t.blocks[e]);i&&(t.blocks=!0)}let a=!0;t.fields&&(r(t.fields)?t.fields=!0:a=!1);let l=!0;for(let e in t)if("fields"!==e&&"blocks"!==e){if("object"==typeof t[e]){if(o(t[e])){if(!0!==t[e].permission||"where"in t[e]){if(!0===t[e].permission&&"where"in t[e])l=!1;else{l=!1,t[e]=!1,delete t[e];continue}}else{t[e]=!0;continue}}else throw Error("Unexpected object in fields permissions")}else!0!==t[e]&&(l=!1)}return a&&i&&l}function o(e){return"object"==typeof e&&"permission"in e&&"boolean"==typeof e.permission}function l(e){Object.keys(e).forEach(t=>{"object"==typeof e[t]&&null!==e[t]?(l(e[t]),0===Object.keys(e[t]).length&&delete e[t]):(null===e[t]||void 0===e[t])&&delete e[t]})}function d(e){if("object"==typeof e)for(let t of Object.values(e))a(t)}function p(e){if("object"==typeof e)for(let t of Object.values(e))a(t)}function c(e){return!1===e.canAccessAdmin&&delete e.canAccessAdmin,e.collections&&d(e.collections),e.globals&&p(e.globals),l(e),e}i.d(t,{AN:()=>c})},27591:(e,t,i)=>{"use strict";i.d(t,{y:()=>p});var r=i(5569),a=i(60174);let o=({fields:e,path:t,versions:i})=>{let r=[];if(i){r.push("version");let t=e.find(e=>"version"===e.name);t&&"group"===t.type&&(e=t.flattenedFields)}for(let i of t.split(".")){let t=e.find(e=>e.name===i);if(t&&(r.push(i),"relationship"===t.type||"upload"===t.type))break}return r.join(".")},l=({fields:e})=>{let t=[];for(let i of e)if("virtual"in i&&"string"==typeof i.virtual)t.push(i.virtual);else if("group"===i.type||"tab"===i.type)for(let e of l({fields:i.flattenedFields}))t.push(e);return t},d=({fields:e,selectValue:t,topLevelFields:i,versions:r})=>{let a=[];if(!0===t)for(let t of l({fields:e}))a.push(o({fields:i,path:t,versions:r}));else for(let l in t){let p=e.find(e=>e.name===l);if(p){if("virtual"in p&&"string"==typeof p.virtual)a.push(o({fields:i,path:p.virtual,versions:r}));else if("group"===p.type||"tab"===p.type)for(let e of d({fields:p.flattenedFields,selectValue:t[l],topLevelFields:i,versions:r}))a.push(o({fields:i,path:e,versions:r}))}}return a},p=({fields:e,forceSelect:t,select:i,versions:o})=>{if(!i||"exclude"===(0,a.t)(i))return i;if(t&&(i=(0,r.u)(i,t)),i)for(let t of d({fields:e,selectValue:i,topLevelFields:e,versions:o??!1})){let e=i,r=t.split(".");for(let t=0;t<r.length;t++){let i=r.length-1===t,a=r[t];i?e[a]=!0:a in e||(e[a]={},e=e[a])}}return i}},52129:(e,t,i)=>{"use strict";i.d(t,{L:()=>a});var r=i(32017);let a=({field:e,select:t,selectMode:i,siblingDoc:a})=>{let o=!0;return(0,r.j7)(e)&&t&&i&&e.name&&("include"!==i||t[e.name]||(delete a[e.name],o=!1),"exclude"===i&&!1===t[e.name]&&(delete a[e.name],o=!1)),o}},1872:(e,t,i)=>{"use strict";i.d(t,{qP:()=>I});var r=i(32081),a=i(93119),o=i(6113),l=i(57147),d=i(71017),p=i(57310);async function c({condition:e,dir:t,fileNames:i}){let{root:r}=d.parse(t);for(;;){if(i?.length){let a=!1;for(let r of i){let i=d.resolve(t,r);if(await u(i)){if(!e)return i;a=!0;break}}if(!a&&t!==r){t=d.dirname(t);continue}}let a=await e?.(t);if(!0===a)return t;if("string"==typeof a&&a?.length)return a;if(t===r)return null;t=d.dirname(t)}}async function u(e){try{return await l.promises.access(e),!0}catch{return!1}}var h=i(98061),m=i(87561),g=i(49411),y=i(70612),v=i(97742);let b=y.homedir(),w=y.tmpdir(),{env:_}=v,x=e=>{let t=g.join(b,"Library");return{cache:g.join(t,"Caches",e),config:g.join(t,"Preferences",e),data:g.join(t,"Application Support",e),log:g.join(t,"Logs",e),temp:g.join(w,e)}},S=e=>{let t=_.APPDATA||g.join(b,"AppData","Roaming"),i=_.LOCALAPPDATA||g.join(b,"AppData","Local");return{cache:g.join(i,e,"Cache"),config:g.join(t,e,"Config"),data:g.join(i,e,"Data"),log:g.join(i,e,"Log"),temp:g.join(w,e)}},E=e=>{let t=g.basename(b);return{cache:g.join(_.XDG_CACHE_HOME||g.join(b,".cache"),e),config:g.join(_.XDG_CONFIG_HOME||g.join(b,".config"),e),data:g.join(_.XDG_DATA_HOME||g.join(b,".local","share"),e),log:g.join(_.XDG_STATE_HOME||g.join(b,".local","state"),e),temp:g.join(w,t,e)}};function k(e,{suffix:t="nodejs"}={}){if("string"!=typeof e)throw TypeError(`Expected a string, got ${typeof e}`);return(t&&(e+=`-${t}`),"darwin"===v.platform)?x(e):"win32"===v.platform?S(e):E(e)}let T=()=>Object.create(null),C=(e,t)=>{let i=new Set(["function","symbol","undefined"]),r=typeof t;if(i.has(r))throw TypeError(`Setting a value of type \`${r}\` for key \`${e}\` is not allowed as it's not supported by JSON`)};class N{#e;_deserialize=e=>JSON.parse(e);_serialize=e=>JSON.stringify(e,void 0,"	");events;path;constructor(){let e={configFileMode:438,configName:"config",fileExtension:"json",projectSuffix:"nodejs"},t=k("payload",{suffix:e.projectSuffix}).config;this.#e=e,this.events=new EventTarget;let i=e.fileExtension?`.${e.fileExtension}`:"";this.path=g.resolve(t,`${e.configName??"config"}${i}`);let r=this.store,a=Object.assign(T(),r);try{h.deepEqual(r,a)}catch{this.store=a}}_ensureDirectory(){m.mkdirSync(g.dirname(this.path),{recursive:!0})}_write(e){let t=this._serialize(e);m.writeFileSync(this.path,t,{mode:this.#e.configFileMode})}delete(e){let{store:t}=this;delete t[e],this.store=t}get(e){let{store:t}=this;return t[e]}set(e,t){if("string"!=typeof e&&"object"!=typeof e)throw TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof e}`);if("object"!=typeof e&&void 0===t)throw TypeError("Use `delete()` to clear values");let{store:i}=this,r=(e,t)=>{C(e,t),i[e]=t};if("object"==typeof e)for(let[t,i]of Object.entries(e))r(t,i);else r(e,t);this.store=i}*[Symbol.iterator](){for(let[e,t]of Object.entries(this.store))yield[e,t]}get size(){return Object.keys(this.store).length}get store(){try{let e=m.readFileSync(this.path,"utf8"),t=this._deserialize(e);return Object.assign(T(),t)}catch(e){if(e?.code==="ENOENT")return this._ensureDirectory(),T();throw e}}set store(e){this._ensureDirectory(),this._write(e),this.events.dispatchEvent(new Event("change"))}}var O=i(36279);let P=null,I=async({event:e,payload:t})=>{try{if(!1!==t.config.telemetry){let{packageJSON:i,packageJSONPath:r}=await $();if(!P){let{projectID:e,source:r}=D(t,i);P={ciName:a.isCI?a.name:null,envID:L(),isCI:a.isCI,nodeEnv:"production",nodeVersion:process.version,payloadVersion:M(i),projectID:e,projectIDSource:r,...U(t),dbAdapter:t.db.name,emailAdapter:t.email?.name||null,uploadAdapters:t.config.upload.adapters}}if(process.env.PAYLOAD_TELEMETRY_DEBUG){t.logger.info({event:{...P,...e,packageJSONPath:r},msg:"Telemetry Event"});return}await fetch("https://telemetry.payloadcms.com/events",{body:JSON.stringify({...P,...e}),headers:{"Content-Type":"application/json"},method:"post"})}}catch(e){}},L=()=>{let e=new N,t="envID",i=e.get(t);if(i)return i;let r=(0,o.randomBytes)(32).toString("hex");return e.set(t,r),r},D=(e,t)=>{let i=R(e);if(i)return{projectID:(0,O.X)(i,e.secret),source:"git"};let r=j(e,t);if(r)return{projectID:(0,O.X)(r,e.secret),source:"packageJSON"};let a=e.config.serverURL;if(a)return{projectID:(0,O.X)(a,e.secret),source:"serverURL"};let o=process.cwd();return{projectID:(0,O.X)(o,e.secret),source:"cwd"}},R=e=>{try{let t=(0,r.execSync)("git config --local --get remote.origin.url",{stdio:"pipe",timeout:1e3});return(0,O.X)(String(t).trim(),e.secret)}catch(e){return null}},$=async()=>{let e=d.resolve(process.cwd(),"package.json");if(!l.existsSync(e)){let t=(0,p.fileURLToPath)("file:///Users/clinton/Desktop/WORK_STATION/DEVLAB/clintjeez_xyz/node_modules/payload/dist/utilities/telemetry/index.js"),i=d.dirname(t);e=await c({dir:i,fileNames:["package.json"]})}return{packageJSON:JSON.parse(await l.promises.readFile(e,"utf-8")),packageJSONPath:e}},j=(e,t)=>(0,O.X)(t.name,e.secret),M=e=>e?.dependencies?.payload??"",U=e=>e.config.localization?{locales:e.config.localization.localeCodes,localizationDefaultLocale:e.config.localization.defaultLocale,localizationEnabled:!0}:{locales:[],localizationDefaultLocale:null,localizationEnabled:!1}},36279:(e,t,i)=>{"use strict";i.d(t,{X:()=>a});var r=i(6113);let a=(e,t)=>{let i=(0,r.createHash)("sha256");return i.update(t),i.update(e),i.digest("hex")}},39375:(e,t,i)=>{"use strict";i.d(t,{J:()=>o});var r=i(32017);let a=({callback:e,callbackStack:t,config:i,data:r,field:a,fillEmpty:l,leavesFirst:d,parentIsLocalized:p,parentRef:c})=>{if(l){if("array"===a.type&&o({callback:e,callbackStack:t,config:i,fields:a.fields,isTopLevel:!1,leavesFirst:d,parentIsLocalized:p||a.localized,parentRef:c}),"blocks"===a.type)for(let r of a.blockReferences??a.blocks){let l="string"==typeof r?i?.blocks?.find(e=>e.slug===r):r;l&&o({callback:e,callbackStack:t,config:i,fields:l.fields,isTopLevel:!1,leavesFirst:d,parentIsLocalized:p||a.localized,parentRef:c})}return}for(let u of r){let r;if("blocks"===a.type&&"string"==typeof u?.blockType){let e=a.blockReferences?i?.blocks?.find(e=>e.slug===u.blockType)??a.blockReferences.find(e=>"string"!=typeof e&&e.slug===u.blockType):a.blocks.find(e=>e.slug===u.blockType);r=e?.fields}else"array"===a.type&&(r=a.fields);r&&o({callback:e,callbackStack:t,config:i,fields:r,fillEmpty:l,isTopLevel:!1,leavesFirst:d,parentIsLocalized:p||a.localized,parentRef:c,ref:u})}},o=({callback:e,callbackStack:t=[],config:i,fields:l,fillEmpty:d=!0,isTopLevel:p=!0,leavesFirst:c=!1,parentIsLocalized:u,parentRef:h={},ref:m={}})=>{l.some(l=>{let g=[];p||(g=t);let y=!1,v=()=>{y=!0};if(!m||"object"!=typeof m)return;if(!c&&e&&e({field:l,next:v,parentIsLocalized:u,parentRef:h,ref:m}))return!0;if(c&&g.push(()=>e({field:l,next:v,parentIsLocalized:u,parentRef:h,ref:m})),y)return!1;let b=m,w=h;if("tabs"===l.type&&"tabs"in l){for(let t of l.tabs){let r=m;if(y)return!1;if("name"in t&&t.name){if(!m[t.name]||"object"!=typeof m[t.name]){if(!d)continue;t.localized?m[t.name]={en:{}}:m[t.name]={}}if(e&&!c&&e({field:{...t,type:"tab"},next:v,parentIsLocalized:u,parentRef:w,ref:r}))return!0;if(c&&g.push(()=>e({field:{...t,type:"tab"},next:v,parentIsLocalized:u,parentRef:w,ref:r})),r=r[t.name],t.localized)for(let a in r)r[a]&&"object"==typeof r[a]&&o({callback:e,callbackStack:g,config:i,fields:t.fields,fillEmpty:d,isTopLevel:!1,leavesFirst:c,parentIsLocalized:!0,parentRef:w,ref:r[a]})}else{if(e&&!c&&e({field:{...t,type:"tab"},next:v,parentIsLocalized:u,parentRef:w,ref:r}))return!0;c&&g.push(()=>e({field:{...t,type:"tab"},next:v,parentIsLocalized:u,parentRef:w,ref:r}))}if(t.localized||o({callback:e,callbackStack:g,config:i,fields:t.fields,fillEmpty:d,isTopLevel:!1,leavesFirst:c,parentIsLocalized:!1,parentRef:w,ref:r}),y)return!1}return}if("tab"===l.type||(0,r.uV)(l)||"blocks"===l.type){if("name"in l&&l.name){if(w=b,!m[l.name]){if(!d)return;"group"===l.type||"tab"===l.type?(0,r.iD)({field:l,parentIsLocalized:u})?m[l.name]={en:{}}:m[l.name]={}:("array"===l.type||"blocks"===l.type)&&((0,r.iD)({field:l,parentIsLocalized:u})?m[l.name]={en:[]}:m[l.name]=[])}b=m[l.name]}if(("tab"===l.type||"group"===l.type)&&(0,r.iD)({field:l,parentIsLocalized:u})&&b&&"object"==typeof b){if((0,r.j7)(l))for(let t in b)b[t]&&o({callback:e,callbackStack:g,config:i,fields:l.fields,fillEmpty:d,isTopLevel:!1,leavesFirst:c,parentIsLocalized:!0,parentRef:w,ref:b[t]});else o({callback:e,callbackStack:g,config:i,fields:l.fields,fillEmpty:d,isTopLevel:!1,leavesFirst:c,parentIsLocalized:u,parentRef:w,ref:b});return}if(("blocks"===l.type||"array"===l.type)&&b&&"object"==typeof b){if((0,r.iD)({field:l,parentIsLocalized:u})){if(Array.isArray(b))return;for(let t in b){let r=b[t];Array.isArray(r)&&a({callback:e,callbackStack:g,config:i,data:r,field:l,fillEmpty:d,leavesFirst:c,parentIsLocalized:!0,parentRef:w})}}else Array.isArray(b)&&a({callback:e,callbackStack:g,config:i,data:b,field:l,fillEmpty:d,leavesFirst:c,parentIsLocalized:u,parentRef:w})}else b&&"object"==typeof b&&"fields"in l&&o({callback:e,callbackStack:g,config:i,fields:l.fields,fillEmpty:d,isTopLevel:!1,leavesFirst:c,parentIsLocalized:u,parentRef:w,ref:b})}p&&g.reverse().forEach(e=>{e()})})}},34830:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});let r=(e,t)=>t.map(e=>e.replace("*","")).some(t=>e.startsWith(t))},55238:(e,t,i)=>{"use strict";i.d(t,{Gg:()=>a,dU:()=>r});let r=[{name:"_status",type:"select",admin:{components:{Field:!1},disableBulkEdit:!0},defaultValue:"draft",index:!0,label:({t:e})=>e("version:status"),options:[{label:({t:e})=>e("version:draft"),value:"draft"},{label:({t:e})=>e("version:published"),value:"published"}]}],a={name:"snapshot",type:"checkbox",admin:{disableBulkEdit:!0,disabled:!0},index:!0}},5329:(e,t,i)=>{"use strict";i.d(t,{w:()=>a});var r=i(55238);let a=(e,t,i)=>{let a=[{name:"parent",type:"relationship",index:!0,relationTo:t.slug},{name:"version",type:"group",fields:t.fields.filter(e=>!("name"in e)||"id"!==e.name),...i&&{flattenedFields:t.flattenedFields.filter(e=>"id"!==e.name)}},{name:"createdAt",type:"date",admin:{disabled:!0},index:!0},{name:"updatedAt",type:"date",admin:{disabled:!0},index:!0}];return t?.versions?.drafts&&(e.localization&&(a.push(r.Gg),a.push({name:"publishedLocale",type:"select",admin:{disableBulkEdit:!0,disabled:!0},index:!0,options:e.localization.locales.map(e=>"string"==typeof e?e:e.code)})),a.push({name:"latest",type:"checkbox",admin:{disabled:!0},index:!0}),t?.versions?.drafts?.autosave&&a.push({name:"autosave",type:"checkbox",index:!0})),a}},71495:(e,t,i)=>{"use strict";i.d(t,{n:()=>a});var r=i(55238);let a=(e,t,i)=>{let a=[{name:"version",type:"group",fields:t.fields,...i&&{flattenedFields:t.flattenedFields}},{name:"createdAt",type:"date",admin:{disabled:!0},index:!0},{name:"updatedAt",type:"date",admin:{disabled:!0},index:!0}];return t?.versions?.drafts&&(e.localization&&(a.push(r.Gg),a.push({name:"publishedLocale",type:"select",admin:{disableBulkEdit:!0,disabled:!0},index:!0,options:e.localization.locales.map(e=>"string"==typeof e?e:e.code)})),a.push({name:"latest",type:"checkbox",admin:{disabled:!0},index:!0}),t?.versions?.drafts?.autosave&&a.push({name:"autosave",type:"checkbox",index:!0})),a}},78242:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});let r=async({id:e,slug:t,payload:i,req:r})=>{try{await i.db.deleteVersions({collection:t,req:r,where:{parent:{equals:e}}})}catch(r){i.logger.error({err:r,msg:`There was an error removing versions for the deleted ${t} document with ID ${e}.`})}}},22406:(e,t,i)=>{"use strict";i.d(t,{O:()=>a});var r=i(23249);let a=async({id:e,slug:t,payload:i,req:a})=>{try{await i.db.deleteMany({collection:r.WG,req:a,where:{and:[{completedAt:{exists:!1}},{processing:{equals:!1}},{"input.doc.value":{equals:e}},{"input.doc.relationTo":{equals:t}},{taskSlug:{equals:"schedulePublish"}}]}})}catch(r){i.logger.error({err:r,msg:`There was an error deleting scheduled publish jobs from the queue for ${t} document with ID ${e}.`})}}},51386:(e,t,i)=>{"use strict";i.d(t,{g:()=>r});let r=(e={})=>Object.entries(e).reduce((e,[t,i])=>["AND","and","OR","or"].includes(t)&&Array.isArray(i)?{...e,[t.toLowerCase()]:i.map(e=>r(e))}:"id"!==t?{...e,[`version.${t}`]:i}:{...e,parent:i},{})},68719:(e,t,i)=>{"use strict";i.d(t,{g:()=>a});var r=i(60174);let a=({select:e})=>e?"include"===(0,r.t)(e)?{parent:!0,version:e}:{version:e}:void 0},64725:(e,t,i)=>{"use strict";i.d(t,{u:()=>r});let r=({collectionConfig:e,sort:t})=>(t||(t=e.defaultSort?e.defaultSort:"-createdAt"),"string"==typeof t&&(t=[t]),t.map(e=>{let t;let i="";return("-"===e[0]?(t=e.substring(1),i="-"):t=e,"id"===t)?`${i}parent`:`${i}version.${t}`}))},12519:(e,t,i)=>{"use strict";i.d(t,{O:()=>c});var r=i(96602),a=i(92242);function o(e){return e?.createdAt&&e?.updatedAt}var l=i(12893),d=i(51386),p=i(68719);let c=async({accessResult:e,doc:t,entity:i,entityType:c,req:u,select:h})=>{let m,g;let{locale:y}=u,v={and:[{"version._status":{equals:"draft"}}]};"collection"===c&&v.and.push({parent:{equals:t.id}}),o(t)&&v.and.push({or:[{updatedAt:{greater_than:t.updatedAt}},{latest:{equals:!0}}]}),(0,r.r)(e)&&(m=(0,d.g)(e));let b={collection:i.slug,global:i.slug,limit:1,locale:y,pagination:!1,req:u,select:(0,p.g)({select:h}),sort:"-updatedAt",where:(0,a.W)(v,m)},w=(g="global"===c?(await u.payload.db.findGlobalVersions(b)).docs:(await u.payload.db.findVersions(b)).docs)[0];return w?(w=(0,l.K)(w),"global"===c&&"globalType"in t&&(w.version.globalType=t.globalType),w.version||(w.version={}),w.version.id=t.id,w.version):t}},35919:(e,t,i)=>{"use strict";i.d(t,{K:()=>o});var r=i(92242),a=i(51386);let o=async({id:e,config:t,payload:i,published:o,query:l,req:d})=>{let p;let c=o?{and:[{parent:{equals:e}},{"version._status":{equals:"published"}}]}:{and:[{parent:{equals:e}},{latest:{equals:!0}}]};if(t.versions?.drafts){let{docs:e}=await i.db.findVersions({collection:t.slug,limit:1,pagination:!1,req:d,sort:"-updatedAt",where:(0,r.W)((0,a.g)(l.where),c)});p=e[0]}return p?(p.version.id=e,p.version):o?void 0:await i.db.findOne({...l,req:d})}},72585:(e,t,i)=>{"use strict";i.d(t,{U:()=>d});var r=i(60814),a=i(12893),o=i(68719);let l=async({id:e,collection:t,global:i,max:r,payload:a,req:o})=>{let l=t?"collection":"global",d=t?t.slug:i?.slug;try{let l;let p={};if(t){p.parent={equals:e};let i=await a.db.findVersions({collection:t.slug,limit:1,pagination:!1,req:o,skip:r,sort:"-updatedAt",where:p});[l]=i.docs}else if(i){let e=await a.db.findGlobalVersions({global:i.slug,limit:1,pagination:!1,req:o,skip:r,sort:"-updatedAt",where:p});[l]=e.docs}if(l?.updatedAt){let r={updatedAt:{less_than_equal:l.updatedAt}};t&&(r.parent={equals:e});let p={req:o,where:r};i?p.globalSlug=d:p.collection=d,await a.db.deleteVersions(p)}}catch(e){a.logger.error(e),a.logger.error(`There was an error cleaning up old versions for the ${l} ${d}`)}},d=async({id:e,autosave:t,collection:i,docWithLocales:d,draft:p,global:c,payload:u,publishSpecificLocale:h,req:m,select:g,snapshot:y})=>{let v;let b=!0,w=new Date().toISOString(),_=(0,r.Ee)(d);p&&(_._status="draft"),i?.timestamps&&p&&(_.updatedAt=w),_._id&&delete _._id;try{if(t){let t;let r={limit:1,pagination:!1,req:m,sort:"-updatedAt"};i?{docs:t}=await u.db.findVersions({...r,collection:i.slug,limit:1,pagination:!1,req:m,where:{parent:{equals:e}}}):{docs:t}=await u.db.findGlobalVersions({...r,global:c.slug,limit:1,pagination:!1,req:m});let[a]=t;if(a&&"autosave"in a&&!0===a.autosave){b=!1;let t={createdAt:new Date(a.createdAt).toISOString(),latest:!0,parent:e,updatedAt:w,version:{..._}},r={id:a.id,req:m,versionData:t};v=i?await u.db.updateVersion({...r,collection:i.slug,req:m}):await u.db.updateGlobalVersion({...r,global:c.slug,req:m})}}if(b){let a={autosave:!!t,collectionSlug:void 0,createdAt:w,globalSlug:void 0,parent:i?e:void 0,publishedLocale:h||void 0,req:m,select:(0,o.g)({select:g}),updatedAt:w,versionData:_};if(i&&(a.collectionSlug=i.slug,v=await u.db.createVersion(a)),c&&(a.globalSlug=c.slug,v=await u.db.createGlobalVersion(a)),h&&y){let e=(0,r.Ee)(y);e._id&&delete e._id,e._status="draft";let t=new Date().toISOString(),o={...a,createdAt:t,returning:!1,snapshot:!0,updatedAt:t,versionData:e};i&&await u.db.createVersion(o),c&&await u.db.createGlobalVersion(o)}}}catch(r){let t;i&&(t=`There was an error while saving a version for the ${"string"==typeof i.labels.singular?i.labels.singular:i.slug} with ID ${e}.`),c&&(t=`There was an error while saving a version for the global ${"string"==typeof c.label?c.label:c.slug}.`),u.logger.error({err:r,msg:t});return}let x=i?i.versions.maxPerDoc:c.versions.max;b&&x>0&&await l({id:e,collection:i,global:c,max:x,payload:u,req:m});let S=v.version;return(S=(0,a.K)(S)).id=v.parent,S}},85488:(e,t,i)=>{"use strict";i.d(t,{dL:()=>a,r5:()=>d,Yx:()=>p});let r="End-Of-Stream";class a extends Error{constructor(){super(r)}}class o{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((e,t)=>{this.reject=t,this.resolve=e})}}class l{constructor(){this.maxStreamReadSize=1048576,this.endOfStream=!1,this.peekQueue=[]}async peek(e,t,i){let r=await this.read(e,t,i);return this.peekQueue.push(e.subarray(t,t+r)),r}async read(e,t,i){if(0===i)return 0;let r=this.readFromPeekBuffer(e,t,i);if(0===(r+=await this.readRemainderFromStream(e,t+r,i-r)))throw new a;return r}readFromPeekBuffer(e,t,i){let r=i,a=0;for(;this.peekQueue.length>0&&r>0;){let i=this.peekQueue.pop();if(!i)throw Error("peekData should be defined");let o=Math.min(i.length,r);e.set(i.subarray(0,o),t+a),a+=o,r-=o,o<i.length&&this.peekQueue.push(i.subarray(o))}return a}async readRemainderFromStream(e,t,i){let r=i,a=0;for(;r>0&&!this.endOfStream;){let i=Math.min(r,this.maxStreamReadSize),o=await this.readFromStream(e,t+a,i);if(0===o)break;a+=o,r-=o}return a}}class d extends l{constructor(e){if(super(),this.s=e,this.deferred=null,!e.read||!e.once)throw Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new a)),this.s.once("error",e=>this.reject(e)),this.s.once("close",()=>this.reject(Error("Stream closed")))}async readFromStream(e,t,i){if(this.endOfStream)return 0;let r=this.s.read(i);if(r)return e.set(r,t),r.length;let a={buffer:e,offset:t,length:i,deferred:new o};return this.deferred=a.deferred,this.s.once("readable",()=>{this.readDeferred(a)}),a.deferred.promise}readDeferred(e){let t=this.s.read(e.length);t?(e.buffer.set(t,e.offset),e.deferred.resolve(t.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(e)})}reject(e){this.endOfStream=!0,this.deferred&&(this.deferred.reject(e),this.deferred=null)}async abort(){this.reject(Error("abort"))}async close(){return this.abort()}}class p extends l{constructor(e){super(),this.reader=e.getReader({mode:"byob"})}async readFromStream(e,t,i){if(this.endOfStream)throw new a;let r=await this.reader.read(new Uint8Array(i));return(r.done&&(this.endOfStream=r.done),r.value)?(e.set(r.value,t),r.value.byteLength):0}abort(){return this.reader.cancel()}async close(){await this.abort(),this.reader.releaseLock()}}},17484:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var r=i(85488);class a{constructor(e){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=e?.fileInfo??{},this.onClose=e?.onClose}async readToken(e,t=this.position){let i=new Uint8Array(e.len);if(await this.readBuffer(i,{position:t})<e.len)throw new r.dL;return e.get(i,0)}async peekToken(e,t=this.position){let i=new Uint8Array(e.len);if(await this.peekBuffer(i,{position:t})<e.len)throw new r.dL;return e.get(i,0)}async readNumber(e){if(await this.readBuffer(this.numBuffer,{length:e.len})<e.len)throw new r.dL;return e.get(this.numBuffer,0)}async peekNumber(e){if(await this.peekBuffer(this.numBuffer,{length:e.len})<e.len)throw new r.dL;return e.get(this.numBuffer,0)}async ignore(e){if(void 0!==this.fileInfo.size){let t=this.fileInfo.size-this.position;if(e>t)return this.position+=t,t}return this.position+=e,e}async close(){await this.onClose?.()}normalizeOptions(e,t){if(t&&void 0!==t.position&&t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");return t?{mayBeLess:!0===t.mayBeLess,offset:t.offset?t.offset:0,length:t.length?t.length:e.length-(t.offset?t.offset:0),position:t.position?t.position:this.position}:{mayBeLess:!1,offset:0,length:e.length,position:this.position}}}},87430:(e,t,i)=>{"use strict";i.d(t,{dL:()=>r.dL,FY:()=>u,sN:()=>p,GC:()=>c});var r=i(85488),a=i(17484);let o=256e3;class l extends a.Z{constructor(e,t){super(t),this.streamReader=e}async readBuffer(e,t){let i=this.normalizeOptions(e,t),a=i.position-this.position;if(a>0)return await this.ignore(a),this.readBuffer(e,t);if(a<0)throw Error("`options.position` must be equal or greater than `tokenizer.position`");if(0===i.length)return 0;let o=await this.streamReader.read(e,i.offset,i.length);if(this.position+=o,(!t||!t.mayBeLess)&&o<i.length)throw new r.dL;return o}async peekBuffer(e,t){let i=this.normalizeOptions(e,t),a=0;if(i.position){let t=i.position-this.position;if(t>0){let r=new Uint8Array(i.length+t);return a=await this.peekBuffer(r,{mayBeLess:i.mayBeLess}),e.set(r.subarray(t),i.offset),a-t}if(t<0)throw Error("Cannot peek from a negative offset in a stream")}if(i.length>0){try{a=await this.streamReader.peek(e,i.offset,i.length)}catch(e){if(t?.mayBeLess&&e instanceof r.dL)return 0;throw e}if(!i.mayBeLess&&a<i.length)throw new r.dL}return a}async ignore(e){let t=Math.min(o,e),i=new Uint8Array(t),r=0;for(;r<e;){let a=e-r,o=await this.readBuffer(i,{length:Math.min(t,a)});if(o<0)return o;r+=o}return r}}class d extends a.Z{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t?.position){if(t.position<this.position)throw Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}let i=await this.peekBuffer(e,t);return this.position+=i,i}async peekBuffer(e,t){let i=this.normalizeOptions(e,t),a=Math.min(this.uint8Array.length-i.position,i.length);if(!i.mayBeLess&&a<i.length)throw new r.dL;return e.set(this.uint8Array.subarray(i.position,i.position+a),i.offset),a}close(){return super.close()}}function p(e,t){return new l(new r.r5(e),t)}function c(e,t){return new l(new r.Yx(e),t)}function u(e,t){return new d(e,t)}},34893:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>a}),i(8826),i(90263),i(22404);var r=i(9936);i(20183);let a=r},19321:e=>{"use strict";e.exports=JSON.parse('[{"name":"Agola CI","constant":"AGOLA","env":"AGOLA_GIT_REF","pr":"AGOLA_PULL_REQUEST_ID"},{"name":"Appcircle","constant":"APPCIRCLE","env":"AC_APPCIRCLE","pr":{"env":"AC_GIT_PR","ne":"false"}},{"name":"AppVeyor","constant":"APPVEYOR","env":"APPVEYOR","pr":"APPVEYOR_PULL_REQUEST_NUMBER"},{"name":"AWS CodeBuild","constant":"CODEBUILD","env":"CODEBUILD_BUILD_ARN","pr":{"env":"CODEBUILD_WEBHOOK_EVENT","any":["PULL_REQUEST_CREATED","PULL_REQUEST_UPDATED","PULL_REQUEST_REOPENED"]}},{"name":"Azure Pipelines","constant":"AZURE_PIPELINES","env":"TF_BUILD","pr":{"BUILD_REASON":"PullRequest"}},{"name":"Bamboo","constant":"BAMBOO","env":"bamboo_planKey"},{"name":"Bitbucket Pipelines","constant":"BITBUCKET","env":"BITBUCKET_COMMIT","pr":"BITBUCKET_PR_ID"},{"name":"Bitrise","constant":"BITRISE","env":"BITRISE_IO","pr":"BITRISE_PULL_REQUEST"},{"name":"Buddy","constant":"BUDDY","env":"BUDDY_WORKSPACE_ID","pr":"BUDDY_EXECUTION_PULL_REQUEST_ID"},{"name":"Buildkite","constant":"BUILDKITE","env":"BUILDKITE","pr":{"env":"BUILDKITE_PULL_REQUEST","ne":"false"}},{"name":"CircleCI","constant":"CIRCLE","env":"CIRCLECI","pr":"CIRCLE_PULL_REQUEST"},{"name":"Cirrus CI","constant":"CIRRUS","env":"CIRRUS_CI","pr":"CIRRUS_PR"},{"name":"Cloudflare Pages","constant":"CLOUDFLARE_PAGES","env":"CF_PAGES"},{"name":"Codefresh","constant":"CODEFRESH","env":"CF_BUILD_ID","pr":{"any":["CF_PULL_REQUEST_NUMBER","CF_PULL_REQUEST_ID"]}},{"name":"Codemagic","constant":"CODEMAGIC","env":"CM_BUILD_ID","pr":"CM_PULL_REQUEST"},{"name":"Codeship","constant":"CODESHIP","env":{"CI_NAME":"codeship"}},{"name":"Drone","constant":"DRONE","env":"DRONE","pr":{"DRONE_BUILD_EVENT":"pull_request"}},{"name":"dsari","constant":"DSARI","env":"DSARI"},{"name":"Earthly","constant":"EARTHLY","env":"EARTHLY_CI"},{"name":"Expo Application Services","constant":"EAS","env":"EAS_BUILD"},{"name":"Gerrit","constant":"GERRIT","env":"GERRIT_PROJECT"},{"name":"Gitea Actions","constant":"GITEA_ACTIONS","env":"GITEA_ACTIONS"},{"name":"GitHub Actions","constant":"GITHUB_ACTIONS","env":"GITHUB_ACTIONS","pr":{"GITHUB_EVENT_NAME":"pull_request"}},{"name":"GitLab CI","constant":"GITLAB","env":"GITLAB_CI","pr":"CI_MERGE_REQUEST_ID"},{"name":"GoCD","constant":"GOCD","env":"GO_PIPELINE_LABEL"},{"name":"Google Cloud Build","constant":"GOOGLE_CLOUD_BUILD","env":"BUILDER_OUTPUT"},{"name":"Harness CI","constant":"HARNESS","env":"HARNESS_BUILD_ID"},{"name":"Heroku","constant":"HEROKU","env":{"env":"NODE","includes":"/app/.heroku/node/bin/node"}},{"name":"Hudson","constant":"HUDSON","env":"HUDSON_URL"},{"name":"Jenkins","constant":"JENKINS","env":["JENKINS_URL","BUILD_ID"],"pr":{"any":["ghprbPullId","CHANGE_ID"]}},{"name":"LayerCI","constant":"LAYERCI","env":"LAYERCI","pr":"LAYERCI_PULL_REQUEST"},{"name":"Magnum CI","constant":"MAGNUM","env":"MAGNUM"},{"name":"Netlify CI","constant":"NETLIFY","env":"NETLIFY","pr":{"env":"PULL_REQUEST","ne":"false"}},{"name":"Nevercode","constant":"NEVERCODE","env":"NEVERCODE","pr":{"env":"NEVERCODE_PULL_REQUEST","ne":"false"}},{"name":"Prow","constant":"PROW","env":"PROW_JOB_ID"},{"name":"ReleaseHub","constant":"RELEASEHUB","env":"RELEASE_BUILD_ID"},{"name":"Render","constant":"RENDER","env":"RENDER","pr":{"IS_PULL_REQUEST":"true"}},{"name":"Sail CI","constant":"SAIL","env":"SAILCI","pr":"SAIL_PULL_REQUEST_NUMBER"},{"name":"Screwdriver","constant":"SCREWDRIVER","env":"SCREWDRIVER","pr":{"env":"SD_PULL_REQUEST","ne":"false"}},{"name":"Semaphore","constant":"SEMAPHORE","env":"SEMAPHORE","pr":"PULL_REQUEST_NUMBER"},{"name":"Sourcehut","constant":"SOURCEHUT","env":{"CI_NAME":"sourcehut"}},{"name":"Strider CD","constant":"STRIDER","env":"STRIDER"},{"name":"TaskCluster","constant":"TASKCLUSTER","env":["TASK_ID","RUN_ID"]},{"name":"TeamCity","constant":"TEAMCITY","env":"TEAMCITY_VERSION"},{"name":"Travis CI","constant":"TRAVIS","env":"TRAVIS","pr":{"env":"TRAVIS_PULL_REQUEST","ne":"false"}},{"name":"Vela","constant":"VELA","env":"VELA","pr":{"VELA_PULL_REQUEST":"1"}},{"name":"Vercel","constant":"VERCEL","env":{"any":["NOW_BUILDER","VERCEL"]},"pr":"VERCEL_GIT_PULL_REQUEST_ID"},{"name":"Visual Studio App Center","constant":"APPCENTER","env":"APPCENTER_BUILD_ID"},{"name":"Woodpecker","constant":"WOODPECKER","env":{"CI":"woodpecker"},"pr":{"CI_BUILD_EVENT":"pull_request"}},{"name":"Xcode Cloud","constant":"XCODE_CLOUD","env":"CI_XCODE_PROJECT","pr":"CI_PULL_REQUEST_NUMBER"},{"name":"Xcode Server","constant":"XCODE_SERVER","env":"XCS"}]')},29493:e=>{"use strict";e.exports=JSON.parse('{"126":{"host":"smtp.126.com","port":465,"secure":true},"163":{"host":"smtp.163.com","port":465,"secure":true},"1und1":{"host":"smtp.1und1.de","port":465,"secure":true,"authMethod":"LOGIN"},"Aliyun":{"domains":["aliyun.com"],"host":"smtp.aliyun.com","port":465,"secure":true},"AOL":{"domains":["aol.com"],"host":"smtp.aol.com","port":587},"Bluewin":{"host":"smtpauths.bluewin.ch","domains":["bluewin.ch"],"port":465},"DebugMail":{"host":"debugmail.io","port":25},"DynectEmail":{"aliases":["Dynect"],"host":"smtp.dynect.net","port":25},"Ethereal":{"aliases":["ethereal.email"],"host":"smtp.ethereal.email","port":587},"FastMail":{"domains":["fastmail.fm"],"host":"smtp.fastmail.com","port":465,"secure":true},"Forward Email":{"aliases":["FE","ForwardEmail"],"domains":["forwardemail.net"],"host":"smtp.forwardemail.net","port":465,"secure":true},"Feishu Mail":{"aliases":["Feishu","FeishuMail"],"domains":["www.feishu.cn"],"host":"smtp.feishu.cn","port":465,"secure":true},"GandiMail":{"aliases":["Gandi","Gandi Mail"],"host":"mail.gandi.net","port":587},"Gmail":{"aliases":["Google Mail"],"domains":["gmail.com","googlemail.com"],"host":"smtp.gmail.com","port":465,"secure":true},"Godaddy":{"host":"smtpout.secureserver.net","port":25},"GodaddyAsia":{"host":"smtp.asia.secureserver.net","port":25},"GodaddyEurope":{"host":"smtp.europe.secureserver.net","port":25},"hot.ee":{"host":"mail.hot.ee"},"Hotmail":{"aliases":["Outlook","Outlook.com","Hotmail.com"],"domains":["hotmail.com","outlook.com"],"host":"smtp-mail.outlook.com","port":587},"iCloud":{"aliases":["Me","Mac"],"domains":["me.com","mac.com"],"host":"smtp.mail.me.com","port":587},"Infomaniak":{"host":"mail.infomaniak.com","domains":["ik.me","ikmail.com","etik.com"],"port":587},"Loopia":{"host":"mailcluster.loopia.se","port":465},"mail.ee":{"host":"smtp.mail.ee"},"Mail.ru":{"host":"smtp.mail.ru","port":465,"secure":true},"Mailcatch.app":{"host":"sandbox-smtp.mailcatch.app","port":2525},"Maildev":{"port":1025,"ignoreTLS":true},"Mailgun":{"host":"smtp.mailgun.org","port":465,"secure":true},"Mailjet":{"host":"in.mailjet.com","port":587},"Mailosaur":{"host":"mailosaur.io","port":25},"Mailtrap":{"host":"live.smtp.mailtrap.io","port":587},"Mandrill":{"host":"smtp.mandrillapp.com","port":587},"Naver":{"host":"smtp.naver.com","port":587},"One":{"host":"send.one.com","port":465,"secure":true},"OpenMailBox":{"aliases":["OMB","openmailbox.org"],"host":"smtp.openmailbox.org","port":465,"secure":true},"Outlook365":{"host":"smtp.office365.com","port":587,"secure":false},"OhMySMTP":{"host":"smtp.ohmysmtp.com","port":587,"secure":false},"Postmark":{"aliases":["PostmarkApp"],"host":"smtp.postmarkapp.com","port":2525},"qiye.aliyun":{"host":"smtp.mxhichina.com","port":"465","secure":true},"QQ":{"domains":["qq.com"],"host":"smtp.qq.com","port":465,"secure":true},"QQex":{"aliases":["QQ Enterprise"],"domains":["exmail.qq.com"],"host":"smtp.exmail.qq.com","port":465,"secure":true},"SendCloud":{"host":"smtp.sendcloud.net","port":2525},"SendGrid":{"host":"smtp.sendgrid.net","port":587},"SendinBlue":{"aliases":["Brevo"],"host":"smtp-relay.brevo.com","port":587},"SendPulse":{"host":"smtp-pulse.com","port":465,"secure":true},"SES":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-1":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-2":{"host":"email-smtp.us-west-2.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-1":{"host":"email-smtp.eu-west-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTH-1":{"host":"email-smtp.ap-south-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-1":{"host":"email-smtp.ap-northeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-2":{"host":"email-smtp.ap-northeast-2.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-3":{"host":"email-smtp.ap-northeast-3.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-1":{"host":"email-smtp.ap-southeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-2":{"host":"email-smtp.ap-southeast-2.amazonaws.com","port":465,"secure":true},"Sparkpost":{"aliases":["SparkPost","SparkPost Mail"],"domains":["sparkpost.com"],"host":"smtp.sparkpostmail.com","port":587,"secure":false},"Tipimail":{"host":"smtp.tipimail.com","port":587},"Yahoo":{"domains":["yahoo.com"],"host":"smtp.mail.yahoo.com","port":465,"secure":true},"Yandex":{"domains":["yandex.ru"],"host":"smtp.yandex.ru","port":465,"secure":true},"Zoho":{"host":"smtp.zoho.com","port":465,"secure":true,"authMethod":"LOGIN"}}')},93259:e=>{"use strict";e.exports=JSON.parse('{"name":"nodemailer","version":"6.9.16","description":"Easy as cake e-mail sending from your Node.js applications","main":"lib/nodemailer.js","scripts":{"test":"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","lint":"eslint .","update":"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},"repository":{"type":"git","url":"https://github.com/nodemailer/nodemailer.git"},"keywords":["Nodemailer"],"author":"Andris Reinman","license":"MIT-0","bugs":{"url":"https://github.com/nodemailer/nodemailer/issues"},"homepage":"https://nodemailer.com/","devDependencies":{"@aws-sdk/client-ses":"3.679.0","bunyan":"1.8.15","c8":"10.1.2","eslint":"8.57.0","eslint-config-nodemailer":"1.2.0","eslint-config-prettier":"9.1.0","libbase64":"1.3.0","libmime":"5.3.5","libqp":"2.1.0","nodemailer-ntlm-auth":"1.0.4","proxy":"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.13.6"},"engines":{"node":">=6.0.0"}}')},61832:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},94957:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},44752:e=>{"use strict";e.exports=JSON.parse('{"name":"thread-stream","version":"3.1.0","description":"A streaming way to send data to a Node.js Worker Thread","main":"index.js","types":"index.d.ts","dependencies":{"real-require":"^0.2.0"},"devDependencies":{"@types/node":"^20.1.0","@types/tap":"^15.0.0","@yao-pkg/pkg":"^5.11.5","desm":"^1.3.0","fastbench":"^1.0.1","husky":"^9.0.6","pino-elasticsearch":"^8.0.0","sonic-boom":"^4.0.1","standard":"^17.0.0","tap":"^16.2.0","ts-node":"^10.8.0","typescript":"^5.3.2","why-is-node-running":"^2.2.2"},"scripts":{"build":"tsc --noEmit","test":"standard && npm run build && npm run transpile && tap \\"test/**/*.test.*js\\" && tap --ts test/*.test.*ts","test:ci":"standard && npm run transpile && npm run test:ci:js && npm run test:ci:ts","test:ci:js":"tap --no-check-coverage --timeout=120 --coverage-report=lcovonly \\"test/**/*.test.*js\\"","test:ci:ts":"tap --ts --no-check-coverage --coverage-report=lcovonly \\"test/**/*.test.*ts\\"","test:yarn":"npm run transpile && tap \\"test/**/*.test.js\\" --no-check-coverage","transpile":"sh ./test/ts/transpile.sh","prepare":"husky install"},"standard":{"ignore":["test/ts/**/*","test/syntax-error.mjs"]},"repository":{"type":"git","url":"git+https://github.com/mcollina/thread-stream.git"},"keywords":["worker","thread","threads","stream"],"author":"Matteo Collina <hello@matteocollina.com>","license":"MIT","bugs":{"url":"https://github.com/mcollina/thread-stream/issues"},"homepage":"https://github.com/mcollina/thread-stream#readme"}')},50542:e=>{"use strict";e.exports=JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]')}};